/*! For license information please see main.7b62ad69.js.LICENSE.txt */
(()=>{var e={7359:function(e){e.exports=function(){"use strict";const{entries:e,setPrototypeOf:t,isFrozen:n,getPrototypeOf:r,getOwnPropertyDescriptor:i}=Object;let{freeze:o,seal:s,create:a}=Object,{apply:l,construct:c}="undefined"!==typeof Reflect&&Reflect;o||(o=function(e){return e}),s||(s=function(e){return e}),l||(l=function(e,t,n){return e.apply(t,n)}),c||(c=function(e,t){return new e(...t)});const u=_(Array.prototype.forEach),d=_(Array.prototype.pop),h=_(Array.prototype.push),f=_(String.prototype.toLowerCase),p=_(String.prototype.toString),m=_(String.prototype.match),g=_(String.prototype.replace),v=_(String.prototype.indexOf),y=_(String.prototype.trim),b=_(Object.prototype.hasOwnProperty),w=_(RegExp.prototype.test),A=x(TypeError);function _(e){return function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];return l(e,t,r)}}function x(e){return function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return c(e,n)}}function S(e,r){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:f;t&&t(e,null);let o=r.length;for(;o--;){let t=r[o];if("string"===typeof t){const e=i(t);e!==t&&(n(r)||(r[o]=e),t=e)}e[t]=!0}return e}function k(e){for(let t=0;t<e.length;t++)b(e,t)||(e[t]=null);return e}function E(t){const n=a(null);for(const[r,i]of e(t))b(t,r)&&(Array.isArray(i)?n[r]=k(i):i&&"object"===typeof i&&i.constructor===Object?n[r]=E(i):n[r]=i);return n}function C(e,t){for(;null!==e;){const n=i(e,t);if(n){if(n.get)return _(n.get);if("function"===typeof n.value)return _(n.value)}e=r(e)}function n(){return null}return n}const T=o(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","section","select","shadow","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),N=o(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","filter","font","g","glyph","glyphref","hkern","image","line","lineargradient","marker","mask","metadata","mpath","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),O=o(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),I=o(["animate","color-profile","cursor","discard","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),D=o(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover","mprescripts"]),j=o(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),P=o(["#text"]),R=o(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","face","for","headers","height","hidden","high","href","hreflang","id","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","nonce","noshade","novalidate","nowrap","open","optimum","pattern","placeholder","playsinline","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","wrap","xmlns","slot"]),L=o(["accent-height","accumulate","additive","alignment-baseline","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","targetx","targety","transform","transform-origin","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),M=o(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),B=o(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),U=s(/\{\{[\w\W]*|[\w\W]*\}\}/gm),F=s(/<%[\w\W]*|[\w\W]*%>/gm),V=s(/\${[\w\W]*}/gm),q=s(/^data-[\-\w.\u00B7-\uFFFF]/),H=s(/^aria-[\-\w]+$/),z=s(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|sms|cid|xmpp):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),G=s(/^(?:\w+script|data):/i),Y=s(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),W=s(/^html$/i),K=s(/^[a-z][.\w]*(-[.\w]+)+$/i);var Q=Object.freeze({__proto__:null,MUSTACHE_EXPR:U,ERB_EXPR:F,TMPLIT_EXPR:V,DATA_ATTR:q,ARIA_ATTR:H,IS_ALLOWED_URI:z,IS_SCRIPT_OR_DATA:G,ATTR_WHITESPACE:Y,DOCTYPE_NAME:W,CUSTOM_ELEMENT:K});const J=function(){return"undefined"===typeof window?null:window},X=function(e,t){if("object"!==typeof e||"function"!==typeof e.createPolicy)return null;let n=null;const r="data-tt-policy-suffix";t&&t.hasAttribute(r)&&(n=t.getAttribute(r));const i="dompurify"+(n?"#"+n:"");try{return e.createPolicy(i,{createHTML:e=>e,createScriptURL:e=>e})}catch(o){return console.warn("TrustedTypes policy "+i+" could not be created."),null}};function Z(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:J();const n=e=>Z(e);if(n.version="3.1.0",n.removed=[],!t||!t.document||9!==t.document.nodeType)return n.isSupported=!1,n;let{document:r}=t;const i=r,s=i.currentScript,{DocumentFragment:l,HTMLTemplateElement:c,Node:_,Element:x,NodeFilter:k,NamedNodeMap:U=t.NamedNodeMap||t.MozNamedAttrMap,HTMLFormElement:F,DOMParser:V,trustedTypes:q}=t,H=x.prototype,G=C(H,"cloneNode"),Y=C(H,"nextSibling"),K=C(H,"childNodes"),$=C(H,"parentNode");if("function"===typeof c){const e=r.createElement("template");e.content&&e.content.ownerDocument&&(r=e.content.ownerDocument)}let ee,te="";const{implementation:ne,createNodeIterator:re,createDocumentFragment:ie,getElementsByTagName:oe}=r,{importNode:se}=i;let ae={};n.isSupported="function"===typeof e&&"function"===typeof $&&ne&&void 0!==ne.createHTMLDocument;const{MUSTACHE_EXPR:le,ERB_EXPR:ce,TMPLIT_EXPR:ue,DATA_ATTR:de,ARIA_ATTR:he,IS_SCRIPT_OR_DATA:fe,ATTR_WHITESPACE:pe,CUSTOM_ELEMENT:me}=Q;let{IS_ALLOWED_URI:ge}=Q,ve=null;const ye=S({},[...T,...N,...O,...D,...P]);let be=null;const we=S({},[...R,...L,...M,...B]);let Ae=Object.seal(a(null,{tagNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},allowCustomizedBuiltInElements:{writable:!0,configurable:!1,enumerable:!0,value:!1}})),_e=null,xe=null,Se=!0,ke=!0,Ee=!1,Ce=!0,Te=!1,Ne=!0,Oe=!1,Ie=!1,De=!1,je=!1,Pe=!1,Re=!1,Le=!0,Me=!1;const Be="user-content-";let Ue=!0,Fe=!1,Ve={},qe=null;const He=S({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]);let ze=null;const Ge=S({},["audio","video","img","source","image","track"]);let Ye=null;const We=S({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),Ke="http://www.w3.org/1998/Math/MathML",Qe="http://www.w3.org/2000/svg",Je="http://www.w3.org/1999/xhtml";let Xe=Je,Ze=!1,$e=null;const et=S({},[Ke,Qe,Je],p);let tt=null;const nt=["application/xhtml+xml","text/html"],rt="text/html";let it=null,ot=null;const st=r.createElement("form"),at=function(e){return e instanceof RegExp||e instanceof Function},lt=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(!ot||ot!==e){if(e&&"object"===typeof e||(e={}),e=E(e),tt=-1===nt.indexOf(e.PARSER_MEDIA_TYPE)?rt:e.PARSER_MEDIA_TYPE,it="application/xhtml+xml"===tt?p:f,ve=b(e,"ALLOWED_TAGS")?S({},e.ALLOWED_TAGS,it):ye,be=b(e,"ALLOWED_ATTR")?S({},e.ALLOWED_ATTR,it):we,$e=b(e,"ALLOWED_NAMESPACES")?S({},e.ALLOWED_NAMESPACES,p):et,Ye=b(e,"ADD_URI_SAFE_ATTR")?S(E(We),e.ADD_URI_SAFE_ATTR,it):We,ze=b(e,"ADD_DATA_URI_TAGS")?S(E(Ge),e.ADD_DATA_URI_TAGS,it):Ge,qe=b(e,"FORBID_CONTENTS")?S({},e.FORBID_CONTENTS,it):He,_e=b(e,"FORBID_TAGS")?S({},e.FORBID_TAGS,it):{},xe=b(e,"FORBID_ATTR")?S({},e.FORBID_ATTR,it):{},Ve=!!b(e,"USE_PROFILES")&&e.USE_PROFILES,Se=!1!==e.ALLOW_ARIA_ATTR,ke=!1!==e.ALLOW_DATA_ATTR,Ee=e.ALLOW_UNKNOWN_PROTOCOLS||!1,Ce=!1!==e.ALLOW_SELF_CLOSE_IN_ATTR,Te=e.SAFE_FOR_TEMPLATES||!1,Ne=!1!==e.SAFE_FOR_XML,Oe=e.WHOLE_DOCUMENT||!1,je=e.RETURN_DOM||!1,Pe=e.RETURN_DOM_FRAGMENT||!1,Re=e.RETURN_TRUSTED_TYPE||!1,De=e.FORCE_BODY||!1,Le=!1!==e.SANITIZE_DOM,Me=e.SANITIZE_NAMED_PROPS||!1,Ue=!1!==e.KEEP_CONTENT,Fe=e.IN_PLACE||!1,ge=e.ALLOWED_URI_REGEXP||z,Xe=e.NAMESPACE||Je,Ae=e.CUSTOM_ELEMENT_HANDLING||{},e.CUSTOM_ELEMENT_HANDLING&&at(e.CUSTOM_ELEMENT_HANDLING.tagNameCheck)&&(Ae.tagNameCheck=e.CUSTOM_ELEMENT_HANDLING.tagNameCheck),e.CUSTOM_ELEMENT_HANDLING&&at(e.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)&&(Ae.attributeNameCheck=e.CUSTOM_ELEMENT_HANDLING.attributeNameCheck),e.CUSTOM_ELEMENT_HANDLING&&"boolean"===typeof e.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements&&(Ae.allowCustomizedBuiltInElements=e.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements),Te&&(ke=!1),Pe&&(je=!0),Ve&&(ve=S({},P),be=[],!0===Ve.html&&(S(ve,T),S(be,R)),!0===Ve.svg&&(S(ve,N),S(be,L),S(be,B)),!0===Ve.svgFilters&&(S(ve,O),S(be,L),S(be,B)),!0===Ve.mathMl&&(S(ve,D),S(be,M),S(be,B))),e.ADD_TAGS&&(ve===ye&&(ve=E(ve)),S(ve,e.ADD_TAGS,it)),e.ADD_ATTR&&(be===we&&(be=E(be)),S(be,e.ADD_ATTR,it)),e.ADD_URI_SAFE_ATTR&&S(Ye,e.ADD_URI_SAFE_ATTR,it),e.FORBID_CONTENTS&&(qe===He&&(qe=E(qe)),S(qe,e.FORBID_CONTENTS,it)),Ue&&(ve["#text"]=!0),Oe&&S(ve,["html","head","body"]),ve.table&&(S(ve,["tbody"]),delete _e.tbody),e.TRUSTED_TYPES_POLICY){if("function"!==typeof e.TRUSTED_TYPES_POLICY.createHTML)throw A('TRUSTED_TYPES_POLICY configuration option must provide a "createHTML" hook.');if("function"!==typeof e.TRUSTED_TYPES_POLICY.createScriptURL)throw A('TRUSTED_TYPES_POLICY configuration option must provide a "createScriptURL" hook.');ee=e.TRUSTED_TYPES_POLICY,te=ee.createHTML("")}else void 0===ee&&(ee=X(q,s)),null!==ee&&"string"===typeof te&&(te=ee.createHTML(""));o&&o(e),ot=e}},ct=S({},["mi","mo","mn","ms","mtext"]),ut=S({},["foreignobject","desc","title","annotation-xml"]),dt=S({},["title","style","font","a","script"]),ht=S({},[...N,...O,...I]),ft=S({},[...D,...j]),pt=function(e){let t=$(e);t&&t.tagName||(t={namespaceURI:Xe,tagName:"template"});const n=f(e.tagName),r=f(t.tagName);return!!$e[e.namespaceURI]&&(e.namespaceURI===Qe?t.namespaceURI===Je?"svg"===n:t.namespaceURI===Ke?"svg"===n&&("annotation-xml"===r||ct[r]):Boolean(ht[n]):e.namespaceURI===Ke?t.namespaceURI===Je?"math"===n:t.namespaceURI===Qe?"math"===n&&ut[r]:Boolean(ft[n]):e.namespaceURI===Je?!(t.namespaceURI===Qe&&!ut[r])&&!(t.namespaceURI===Ke&&!ct[r])&&!ft[n]&&(dt[n]||!ht[n]):!("application/xhtml+xml"!==tt||!$e[e.namespaceURI]))},mt=function(e){h(n.removed,{element:e});try{e.parentNode.removeChild(e)}catch(t){e.remove()}},gt=function(e,t){try{h(n.removed,{attribute:t.getAttributeNode(e),from:t})}catch(r){h(n.removed,{attribute:null,from:t})}if(t.removeAttribute(e),"is"===e&&!be[e])if(je||Pe)try{mt(t)}catch(r){}else try{t.setAttribute(e,"")}catch(r){}},vt=function(e){let t=null,n=null;if(De)e="<remove></remove>"+e;else{const t=m(e,/^[\r\n\t ]+/);n=t&&t[0]}"application/xhtml+xml"===tt&&Xe===Je&&(e='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+e+"</body></html>");const i=ee?ee.createHTML(e):e;if(Xe===Je)try{t=(new V).parseFromString(i,tt)}catch(s){}if(!t||!t.documentElement){t=ne.createDocument(Xe,"template",null);try{t.documentElement.innerHTML=Ze?te:i}catch(s){}}const o=t.body||t.documentElement;return e&&n&&o.insertBefore(r.createTextNode(n),o.childNodes[0]||null),Xe===Je?oe.call(t,Oe?"html":"body")[0]:Oe?t.documentElement:o},yt=function(e){return re.call(e.ownerDocument||e,e,k.SHOW_ELEMENT|k.SHOW_COMMENT|k.SHOW_TEXT|k.SHOW_PROCESSING_INSTRUCTION|k.SHOW_CDATA_SECTION,null)},bt=function(e){return e instanceof F&&("string"!==typeof e.nodeName||"string"!==typeof e.textContent||"function"!==typeof e.removeChild||!(e.attributes instanceof U)||"function"!==typeof e.removeAttribute||"function"!==typeof e.setAttribute||"string"!==typeof e.namespaceURI||"function"!==typeof e.insertBefore||"function"!==typeof e.hasChildNodes)},wt=function(e){return"function"===typeof _&&e instanceof _},At=function(e,t,r){ae[e]&&u(ae[e],(e=>{e.call(n,t,r,ot)}))},_t=function(e){let t=null;if(At("beforeSanitizeElements",e,null),bt(e))return mt(e),!0;const r=it(e.nodeName);if(At("uponSanitizeElement",e,{tagName:r,allowedTags:ve}),e.hasChildNodes()&&!wt(e.firstElementChild)&&w(/<[/\w]/g,e.innerHTML)&&w(/<[/\w]/g,e.textContent))return mt(e),!0;if(7===e.nodeType)return mt(e),!0;if(Ne&&8===e.nodeType&&w(/<[/\w]/g,e.data))return mt(e),!0;if(!ve[r]||_e[r]){if(!_e[r]&&St(r)){if(Ae.tagNameCheck instanceof RegExp&&w(Ae.tagNameCheck,r))return!1;if(Ae.tagNameCheck instanceof Function&&Ae.tagNameCheck(r))return!1}if(Ue&&!qe[r]){const t=$(e)||e.parentNode,n=K(e)||e.childNodes;if(n&&t)for(let r=n.length-1;r>=0;--r)t.insertBefore(G(n[r],!0),Y(e))}return mt(e),!0}return e instanceof x&&!pt(e)?(mt(e),!0):"noscript"!==r&&"noembed"!==r&&"noframes"!==r||!w(/<\/no(script|embed|frames)/i,e.innerHTML)?(Te&&3===e.nodeType&&(t=e.textContent,u([le,ce,ue],(e=>{t=g(t,e," ")})),e.textContent!==t&&(h(n.removed,{element:e.cloneNode()}),e.textContent=t)),At("afterSanitizeElements",e,null),!1):(mt(e),!0)},xt=function(e,t,n){if(Le&&("id"===t||"name"===t)&&(n in r||n in st))return!1;if(ke&&!xe[t]&&w(de,t));else if(Se&&w(he,t));else if(!be[t]||xe[t]){if(!(St(e)&&(Ae.tagNameCheck instanceof RegExp&&w(Ae.tagNameCheck,e)||Ae.tagNameCheck instanceof Function&&Ae.tagNameCheck(e))&&(Ae.attributeNameCheck instanceof RegExp&&w(Ae.attributeNameCheck,t)||Ae.attributeNameCheck instanceof Function&&Ae.attributeNameCheck(t))||"is"===t&&Ae.allowCustomizedBuiltInElements&&(Ae.tagNameCheck instanceof RegExp&&w(Ae.tagNameCheck,n)||Ae.tagNameCheck instanceof Function&&Ae.tagNameCheck(n))))return!1}else if(Ye[t]);else if(w(ge,g(n,pe,"")));else if("src"!==t&&"xlink:href"!==t&&"href"!==t||"script"===e||0!==v(n,"data:")||!ze[e])if(Ee&&!w(fe,g(n,pe,"")));else if(n)return!1;return!0},St=function(e){return"annotation-xml"!==e&&m(e,me)},kt=function(e){At("beforeSanitizeAttributes",e,null);const{attributes:t}=e;if(!t)return;const r={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:be};let i=t.length;for(;i--;){const s=t[i],{name:a,namespaceURI:l,value:c}=s,h=it(a);let f="value"===a?c:y(c);if(r.attrName=h,r.attrValue=f,r.keepAttr=!0,r.forceKeepAttr=void 0,At("uponSanitizeAttribute",e,r),f=r.attrValue,r.forceKeepAttr)continue;if(gt(a,e),!r.keepAttr)continue;if(!Ce&&w(/\/>/i,f)){gt(a,e);continue}Te&&u([le,ce,ue],(e=>{f=g(f,e," ")}));const p=it(e.nodeName);if(xt(p,h,f)){if(!Me||"id"!==h&&"name"!==h||(gt(a,e),f=Be+f),ee&&"object"===typeof q&&"function"===typeof q.getAttributeType)if(l);else switch(q.getAttributeType(p,h)){case"TrustedHTML":f=ee.createHTML(f);break;case"TrustedScriptURL":f=ee.createScriptURL(f)}try{l?e.setAttributeNS(l,a,f):e.setAttribute(a,f),d(n.removed)}catch(o){}}}At("afterSanitizeAttributes",e,null)},Et=function e(t){let n=null;const r=yt(t);for(At("beforeSanitizeShadowDOM",t,null);n=r.nextNode();)At("uponSanitizeShadowNode",n,null),_t(n)||(n.content instanceof l&&e(n.content),kt(n));At("afterSanitizeShadowDOM",t,null)};return n.sanitize=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=null,o=null,s=null,a=null;if(Ze=!e,Ze&&(e="\x3c!--\x3e"),"string"!==typeof e&&!wt(e)){if("function"!==typeof e.toString)throw A("toString is not a function");if("string"!==typeof(e=e.toString()))throw A("dirty is not a string, aborting")}if(!n.isSupported)return e;if(Ie||lt(t),n.removed=[],"string"===typeof e&&(Fe=!1),Fe){if(e.nodeName){const t=it(e.nodeName);if(!ve[t]||_e[t])throw A("root node is forbidden and cannot be sanitized in-place")}}else if(e instanceof _)r=vt("\x3c!----\x3e"),o=r.ownerDocument.importNode(e,!0),1===o.nodeType&&"BODY"===o.nodeName||"HTML"===o.nodeName?r=o:r.appendChild(o);else{if(!je&&!Te&&!Oe&&-1===e.indexOf("<"))return ee&&Re?ee.createHTML(e):e;if(r=vt(e),!r)return je?null:Re?te:""}r&&De&&mt(r.firstChild);const c=yt(Fe?e:r);for(;s=c.nextNode();)_t(s)||(s.content instanceof l&&Et(s.content),kt(s));if(Fe)return e;if(je){if(Pe)for(a=ie.call(r.ownerDocument);r.firstChild;)a.appendChild(r.firstChild);else a=r;return(be.shadowroot||be.shadowrootmode)&&(a=se.call(i,a,!0)),a}let d=Oe?r.outerHTML:r.innerHTML;return Oe&&ve["!doctype"]&&r.ownerDocument&&r.ownerDocument.doctype&&r.ownerDocument.doctype.name&&w(W,r.ownerDocument.doctype.name)&&(d="<!DOCTYPE "+r.ownerDocument.doctype.name+">\n"+d),Te&&u([le,ce,ue],(e=>{d=g(d,e," ")})),ee&&Re?ee.createHTML(d):d},n.setConfig=function(){lt(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}),Ie=!0},n.clearConfig=function(){ot=null,Ie=!1},n.isValidAttribute=function(e,t,n){ot||lt({});const r=it(e),i=it(t);return xt(r,i,n)},n.addHook=function(e,t){"function"===typeof t&&(ae[e]=ae[e]||[],h(ae[e],t))},n.removeHook=function(e){if(ae[e])return d(ae[e])},n.removeHooks=function(e){ae[e]&&(ae[e]=[])},n.removeAllHooks=function(){ae={}},n}return Z()}()},3778:e=>{"use strict";e.exports=function(e,t,n,r,i,o,s,a){if(!e){var l;if(void 0===t)l=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var c=[n,r,i,o,s,a],u=0;(l=new Error(t.replace(/%s/g,(function(){return c[u++]})))).name="Invariant Violation"}throw l.framesToPop=1,l}}},1419:(e,t,n)=>{var r=n(1615)(n(3674),"DataView");e.exports=r},3598:(e,t,n)=>{var r=n(7765),i=n(7445),o=n(7356),s=n(7576),a=n(536);function l(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}l.prototype.clear=r,l.prototype.delete=i,l.prototype.get=o,l.prototype.has=s,l.prototype.set=a,e.exports=l},6718:(e,t,n)=>{var r=n(8277),i=n(2261),o=n(7676),s=n(8936),a=n(5512);function l(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}l.prototype.clear=r,l.prototype.delete=i,l.prototype.get=o,l.prototype.has=s,l.prototype.set=a,e.exports=l},1358:(e,t,n)=>{var r=n(1615)(n(3674),"Map");e.exports=r},9230:(e,t,n)=>{var r=n(1285),i=n(8165),o=n(2332),s=n(7240),a=n(3352);function l(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}l.prototype.clear=r,l.prototype.delete=i,l.prototype.get=o,l.prototype.has=s,l.prototype.set=a,e.exports=l},9353:(e,t,n)=>{var r=n(1615)(n(3674),"Promise");e.exports=r},9404:(e,t,n)=>{var r=n(1615)(n(3674),"Set");e.exports=r},9256:(e,t,n)=>{var r=n(9230),i=n(1913),o=n(346);function s(e){var t=-1,n=null==e?0:e.length;for(this.__data__=new r;++t<n;)this.add(e[t])}s.prototype.add=s.prototype.push=i,s.prototype.has=o,e.exports=s},3136:(e,t,n)=>{var r=n(6718),i=n(6899),o=n(4471),s=n(9878),a=n(3298),l=n(186);function c(e){var t=this.__data__=new r(e);this.size=t.size}c.prototype.clear=i,c.prototype.delete=o,c.prototype.get=s,c.prototype.has=a,c.prototype.set=l,e.exports=c},4590:(e,t,n)=>{var r=n(3674).Symbol;e.exports=r},6067:(e,t,n)=>{var r=n(3674).Uint8Array;e.exports=r},7946:(e,t,n)=>{var r=n(1615)(n(3674),"WeakMap");e.exports=r},2995:e=>{e.exports=function(e,t){for(var n=-1,r=null==e?0:e.length,i=0,o=[];++n<r;){var s=e[n];t(s,n,e)&&(o[i++]=s)}return o}},6698:(e,t,n)=>{var r=n(4821),i=n(1199),o=n(3890),s=n(9697),a=n(2596),l=n(5990),c=Object.prototype.hasOwnProperty;e.exports=function(e,t){var n=o(e),u=!n&&i(e),d=!n&&!u&&s(e),h=!n&&!u&&!d&&l(e),f=n||u||d||h,p=f?r(e.length,String):[],m=p.length;for(var g in e)!t&&!c.call(e,g)||f&&("length"==g||d&&("offset"==g||"parent"==g)||h&&("buffer"==g||"byteLength"==g||"byteOffset"==g)||a(g,m))||p.push(g);return p}},8605:e=>{e.exports=function(e,t){for(var n=-1,r=t.length,i=e.length;++n<r;)e[i+n]=t[n];return e}},4677:e=>{e.exports=function(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(t(e[n],n,e))return!0;return!1}},5630:(e,t,n)=>{var r=n(4953);e.exports=function(e,t){for(var n=e.length;n--;)if(r(e[n][0],t))return n;return-1}},7616:(e,t,n)=>{var r=n(8605),i=n(3890);e.exports=function(e,t,n){var o=t(e);return i(e)?o:r(o,n(e))}},4039:(e,t,n)=>{var r=n(4590),i=n(1154),o=n(7313),s=r?r.toStringTag:void 0;e.exports=function(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":s&&s in Object(e)?i(e):o(e)}},7247:(e,t,n)=>{var r=n(4039),i=n(5567);e.exports=function(e){return i(e)&&"[object Arguments]"==r(e)}},7723:(e,t,n)=>{var r=n(8133),i=n(5567);e.exports=function e(t,n,o,s,a){return t===n||(null==t||null==n||!i(t)&&!i(n)?t!==t&&n!==n:r(t,n,o,s,e,a))}},8133:(e,t,n)=>{var r=n(3136),i=n(5394),o=n(2553),s=n(3154),a=n(9074),l=n(3890),c=n(9697),u=n(5990),d="[object Arguments]",h="[object Array]",f="[object Object]",p=Object.prototype.hasOwnProperty;e.exports=function(e,t,n,m,g,v){var y=l(e),b=l(t),w=y?h:a(e),A=b?h:a(t),_=(w=w==d?f:w)==f,x=(A=A==d?f:A)==f,S=w==A;if(S&&c(e)){if(!c(t))return!1;y=!0,_=!1}if(S&&!_)return v||(v=new r),y||u(e)?i(e,t,n,m,g,v):o(e,t,w,n,m,g,v);if(!(1&n)){var k=_&&p.call(e,"__wrapped__"),E=x&&p.call(t,"__wrapped__");if(k||E){var C=k?e.value():e,T=E?t.value():t;return v||(v=new r),g(C,T,n,m,v)}}return!!S&&(v||(v=new r),s(e,t,n,m,g,v))}},1252:(e,t,n)=>{var r=n(2827),i=n(1939),o=n(1688),s=n(7342),a=/^\[object .+?Constructor\]$/,l=Function.prototype,c=Object.prototype,u=l.toString,d=c.hasOwnProperty,h=RegExp("^"+u.call(d).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");e.exports=function(e){return!(!o(e)||i(e))&&(r(e)?h:a).test(s(e))}},6742:(e,t,n)=>{var r=n(4039),i=n(3831),o=n(5567),s={};s["[object Float32Array]"]=s["[object Float64Array]"]=s["[object Int8Array]"]=s["[object Int16Array]"]=s["[object Int32Array]"]=s["[object Uint8Array]"]=s["[object Uint8ClampedArray]"]=s["[object Uint16Array]"]=s["[object Uint32Array]"]=!0,s["[object Arguments]"]=s["[object Array]"]=s["[object ArrayBuffer]"]=s["[object Boolean]"]=s["[object DataView]"]=s["[object Date]"]=s["[object Error]"]=s["[object Function]"]=s["[object Map]"]=s["[object Number]"]=s["[object Object]"]=s["[object RegExp]"]=s["[object Set]"]=s["[object String]"]=s["[object WeakMap]"]=!1,e.exports=function(e){return o(e)&&i(e.length)&&!!s[r(e)]}},2215:(e,t,n)=>{var r=n(6806),i=n(4642),o=Object.prototype.hasOwnProperty;e.exports=function(e){if(!r(e))return i(e);var t=[];for(var n in Object(e))o.call(e,n)&&"constructor"!=n&&t.push(n);return t}},4821:e=>{e.exports=function(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}},9544:e=>{e.exports=function(e){return function(t){return e(t)}}},4204:e=>{e.exports=function(e,t){return e.has(t)}},8082:(e,t,n)=>{var r=n(3674)["__core-js_shared__"];e.exports=r},5394:(e,t,n)=>{var r=n(9256),i=n(4677),o=n(4204);e.exports=function(e,t,n,s,a,l){var c=1&n,u=e.length,d=t.length;if(u!=d&&!(c&&d>u))return!1;var h=l.get(e),f=l.get(t);if(h&&f)return h==t&&f==e;var p=-1,m=!0,g=2&n?new r:void 0;for(l.set(e,t),l.set(t,e);++p<u;){var v=e[p],y=t[p];if(s)var b=c?s(y,v,p,t,e,l):s(v,y,p,e,t,l);if(void 0!==b){if(b)continue;m=!1;break}if(g){if(!i(t,(function(e,t){if(!o(g,t)&&(v===e||a(v,e,n,s,l)))return g.push(t)}))){m=!1;break}}else if(v!==y&&!a(v,y,n,s,l)){m=!1;break}}return l.delete(e),l.delete(t),m}},2553:(e,t,n)=>{var r=n(4590),i=n(6067),o=n(4953),s=n(5394),a=n(5186),l=n(1e3),c=r?r.prototype:void 0,u=c?c.valueOf:void 0;e.exports=function(e,t,n,r,c,d,h){switch(n){case"[object DataView]":if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case"[object ArrayBuffer]":return!(e.byteLength!=t.byteLength||!d(new i(e),new i(t)));case"[object Boolean]":case"[object Date]":case"[object Number]":return o(+e,+t);case"[object Error]":return e.name==t.name&&e.message==t.message;case"[object RegExp]":case"[object String]":return e==t+"";case"[object Map]":var f=a;case"[object Set]":var p=1&r;if(f||(f=l),e.size!=t.size&&!p)return!1;var m=h.get(e);if(m)return m==t;r|=2,h.set(e,t);var g=s(f(e),f(t),r,c,d,h);return h.delete(e),g;case"[object Symbol]":if(u)return u.call(e)==u.call(t)}return!1}},3154:(e,t,n)=>{var r=n(1997),i=Object.prototype.hasOwnProperty;e.exports=function(e,t,n,o,s,a){var l=1&n,c=r(e),u=c.length;if(u!=r(t).length&&!l)return!1;for(var d=u;d--;){var h=c[d];if(!(l?h in t:i.call(t,h)))return!1}var f=a.get(e),p=a.get(t);if(f&&p)return f==t&&p==e;var m=!0;a.set(e,t),a.set(t,e);for(var g=l;++d<u;){var v=e[h=c[d]],y=t[h];if(o)var b=l?o(y,v,h,t,e,a):o(v,y,h,e,t,a);if(!(void 0===b?v===y||s(v,y,n,o,a):b)){m=!1;break}g||(g="constructor"==h)}if(m&&!g){var w=e.constructor,A=t.constructor;w==A||!("constructor"in e)||!("constructor"in t)||"function"==typeof w&&w instanceof w&&"function"==typeof A&&A instanceof A||(m=!1)}return a.delete(e),a.delete(t),m}},5139:(e,t,n)=>{var r="object"==typeof n.g&&n.g&&n.g.Object===Object&&n.g;e.exports=r},1997:(e,t,n)=>{var r=n(7616),i=n(943),o=n(6343);e.exports=function(e){return r(e,o,i)}},9968:(e,t,n)=>{var r=n(1679);e.exports=function(e,t){var n=e.__data__;return r(t)?n["string"==typeof t?"string":"hash"]:n.map}},1615:(e,t,n)=>{var r=n(1252),i=n(9911);e.exports=function(e,t){var n=i(e,t);return r(n)?n:void 0}},1154:(e,t,n)=>{var r=n(4590),i=Object.prototype,o=i.hasOwnProperty,s=i.toString,a=r?r.toStringTag:void 0;e.exports=function(e){var t=o.call(e,a),n=e[a];try{e[a]=void 0;var r=!0}catch(l){}var i=s.call(e);return r&&(t?e[a]=n:delete e[a]),i}},943:(e,t,n)=>{var r=n(2995),i=n(6038),o=Object.prototype.propertyIsEnumerable,s=Object.getOwnPropertySymbols,a=s?function(e){return null==e?[]:(e=Object(e),r(s(e),(function(t){return o.call(e,t)})))}:i;e.exports=a},9074:(e,t,n)=>{var r=n(1419),i=n(1358),o=n(9353),s=n(9404),a=n(7946),l=n(4039),c=n(7342),u="[object Map]",d="[object Promise]",h="[object Set]",f="[object WeakMap]",p="[object DataView]",m=c(r),g=c(i),v=c(o),y=c(s),b=c(a),w=l;(r&&w(new r(new ArrayBuffer(1)))!=p||i&&w(new i)!=u||o&&w(o.resolve())!=d||s&&w(new s)!=h||a&&w(new a)!=f)&&(w=function(e){var t=l(e),n="[object Object]"==t?e.constructor:void 0,r=n?c(n):"";if(r)switch(r){case m:return p;case g:return u;case v:return d;case y:return h;case b:return f}return t}),e.exports=w},9911:e=>{e.exports=function(e,t){return null==e?void 0:e[t]}},7765:(e,t,n)=>{var r=n(3229);e.exports=function(){this.__data__=r?r(null):{},this.size=0}},7445:e=>{e.exports=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}},7356:(e,t,n)=>{var r=n(3229),i=Object.prototype.hasOwnProperty;e.exports=function(e){var t=this.__data__;if(r){var n=t[e];return"__lodash_hash_undefined__"===n?void 0:n}return i.call(t,e)?t[e]:void 0}},7576:(e,t,n)=>{var r=n(3229),i=Object.prototype.hasOwnProperty;e.exports=function(e){var t=this.__data__;return r?void 0!==t[e]:i.call(t,e)}},536:(e,t,n)=>{var r=n(3229);e.exports=function(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=r&&void 0===t?"__lodash_hash_undefined__":t,this}},2596:e=>{var t=/^(?:0|[1-9]\d*)$/;e.exports=function(e,n){var r=typeof e;return!!(n=null==n?9007199254740991:n)&&("number"==r||"symbol"!=r&&t.test(e))&&e>-1&&e%1==0&&e<n}},1679:e=>{e.exports=function(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e}},1939:(e,t,n)=>{var r=n(8082),i=function(){var e=/[^.]+$/.exec(r&&r.keys&&r.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();e.exports=function(e){return!!i&&i in e}},6806:e=>{var t=Object.prototype;e.exports=function(e){var n=e&&e.constructor;return e===("function"==typeof n&&n.prototype||t)}},8277:e=>{e.exports=function(){this.__data__=[],this.size=0}},2261:(e,t,n)=>{var r=n(5630),i=Array.prototype.splice;e.exports=function(e){var t=this.__data__,n=r(t,e);return!(n<0)&&(n==t.length-1?t.pop():i.call(t,n,1),--this.size,!0)}},7676:(e,t,n)=>{var r=n(5630);e.exports=function(e){var t=this.__data__,n=r(t,e);return n<0?void 0:t[n][1]}},8936:(e,t,n)=>{var r=n(5630);e.exports=function(e){return r(this.__data__,e)>-1}},5512:(e,t,n)=>{var r=n(5630);e.exports=function(e,t){var n=this.__data__,i=r(n,e);return i<0?(++this.size,n.push([e,t])):n[i][1]=t,this}},1285:(e,t,n)=>{var r=n(3598),i=n(6718),o=n(1358);e.exports=function(){this.size=0,this.__data__={hash:new r,map:new(o||i),string:new r}}},8165:(e,t,n)=>{var r=n(9968);e.exports=function(e){var t=r(this,e).delete(e);return this.size-=t?1:0,t}},2332:(e,t,n)=>{var r=n(9968);e.exports=function(e){return r(this,e).get(e)}},7240:(e,t,n)=>{var r=n(9968);e.exports=function(e){return r(this,e).has(e)}},3352:(e,t,n)=>{var r=n(9968);e.exports=function(e,t){var n=r(this,e),i=n.size;return n.set(e,t),this.size+=n.size==i?0:1,this}},5186:e=>{e.exports=function(e){var t=-1,n=Array(e.size);return e.forEach((function(e,r){n[++t]=[r,e]})),n}},3229:(e,t,n)=>{var r=n(1615)(Object,"create");e.exports=r},4642:(e,t,n)=>{var r=n(3250)(Object.keys,Object);e.exports=r},1102:(e,t,n)=>{e=n.nmd(e);var r=n(5139),i=t&&!t.nodeType&&t,o=i&&e&&!e.nodeType&&e,s=o&&o.exports===i&&r.process,a=function(){try{var e=o&&o.require&&o.require("util").types;return e||s&&s.binding&&s.binding("util")}catch(t){}}();e.exports=a},7313:e=>{var t=Object.prototype.toString;e.exports=function(e){return t.call(e)}},3250:e=>{e.exports=function(e,t){return function(n){return e(t(n))}}},3674:(e,t,n)=>{var r=n(5139),i="object"==typeof self&&self&&self.Object===Object&&self,o=r||i||Function("return this")();e.exports=o},1913:e=>{e.exports=function(e){return this.__data__.set(e,"__lodash_hash_undefined__"),this}},346:e=>{e.exports=function(e){return this.__data__.has(e)}},1e3:e=>{e.exports=function(e){var t=-1,n=Array(e.size);return e.forEach((function(e){n[++t]=e})),n}},6899:(e,t,n)=>{var r=n(6718);e.exports=function(){this.__data__=new r,this.size=0}},4471:e=>{e.exports=function(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n}},9878:e=>{e.exports=function(e){return this.__data__.get(e)}},3298:e=>{e.exports=function(e){return this.__data__.has(e)}},186:(e,t,n)=>{var r=n(6718),i=n(1358),o=n(9230);e.exports=function(e,t){var n=this.__data__;if(n instanceof r){var s=n.__data__;if(!i||s.length<199)return s.push([e,t]),this.size=++n.size,this;n=this.__data__=new o(s)}return n.set(e,t),this.size=n.size,this}},7342:e=>{var t=Function.prototype.toString;e.exports=function(e){if(null!=e){try{return t.call(e)}catch(n){}try{return e+""}catch(n){}}return""}},4953:e=>{e.exports=function(e,t){return e===t||e!==e&&t!==t}},1199:(e,t,n)=>{var r=n(7247),i=n(5567),o=Object.prototype,s=o.hasOwnProperty,a=o.propertyIsEnumerable,l=r(function(){return arguments}())?r:function(e){return i(e)&&s.call(e,"callee")&&!a.call(e,"callee")};e.exports=l},3890:e=>{var t=Array.isArray;e.exports=t},7725:(e,t,n)=>{var r=n(2827),i=n(3831);e.exports=function(e){return null!=e&&i(e.length)&&!r(e)}},9697:(e,t,n)=>{e=n.nmd(e);var r=n(3674),i=n(2328),o=t&&!t.nodeType&&t,s=o&&e&&!e.nodeType&&e,a=s&&s.exports===o?r.Buffer:void 0,l=(a?a.isBuffer:void 0)||i;e.exports=l},9963:(e,t,n)=>{var r=n(7723);e.exports=function(e,t){return r(e,t)}},2827:(e,t,n)=>{var r=n(4039),i=n(1688);e.exports=function(e){if(!i(e))return!1;var t=r(e);return"[object Function]"==t||"[object GeneratorFunction]"==t||"[object AsyncFunction]"==t||"[object Proxy]"==t}},3831:e=>{e.exports=function(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=9007199254740991}},1688:e=>{e.exports=function(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}},5567:e=>{e.exports=function(e){return null!=e&&"object"==typeof e}},5990:(e,t,n)=>{var r=n(6742),i=n(9544),o=n(1102),s=o&&o.isTypedArray,a=s?i(s):r;e.exports=a},6343:(e,t,n)=>{var r=n(6698),i=n(2215),o=n(7725);e.exports=function(e){return o(e)?r(e):i(e)}},6038:e=>{e.exports=function(){return[]}},2328:e=>{e.exports=function(){return!1}},9664:function(e,t,n){!function(e){"use strict";e.defineLocale("sv",{months:"januari_februari_mars_april_maj_juni_juli_augusti_september_oktober_november_december".split("_"),monthsShort:"jan_feb_mar_apr_maj_jun_jul_aug_sep_okt_nov_dec".split("_"),weekdays:"s\xf6ndag_m\xe5ndag_tisdag_onsdag_torsdag_fredag_l\xf6rdag".split("_"),weekdaysShort:"s\xf6n_m\xe5n_tis_ons_tor_fre_l\xf6r".split("_"),weekdaysMin:"s\xf6_m\xe5_ti_on_to_fr_l\xf6".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY-MM-DD",LL:"D MMMM YYYY",LLL:"D MMMM YYYY [kl.] HH:mm",LLLL:"dddd D MMMM YYYY [kl.] HH:mm",lll:"D MMM YYYY HH:mm",llll:"ddd D MMM YYYY HH:mm"},calendar:{sameDay:"[Idag] LT",nextDay:"[Imorgon] LT",lastDay:"[Ig\xe5r] LT",nextWeek:"[P\xe5] dddd LT",lastWeek:"[I] dddd[s] LT",sameElse:"L"},relativeTime:{future:"om %s",past:"f\xf6r %s sedan",s:"n\xe5gra sekunder",ss:"%d sekunder",m:"en minut",mm:"%d minuter",h:"en timme",hh:"%d timmar",d:"en dag",dd:"%d dagar",M:"en m\xe5nad",MM:"%d m\xe5nader",y:"ett \xe5r",yy:"%d \xe5r"},dayOfMonthOrdinalParse:/\d{1,2}(\:e|\:a)/,ordinal:function(e){var t=e%10;return e+(1===~~(e%100/10)?":e":1===t||2===t?":a":":e")},week:{dow:1,doy:4}})}(n(5944))},5944:function(e,t,n){(e=n.nmd(e)).exports=function(){"use strict";var t,n;function r(){return t.apply(null,arguments)}function i(e){t=e}function o(e){return e instanceof Array||"[object Array]"===Object.prototype.toString.call(e)}function s(e){return null!=e&&"[object Object]"===Object.prototype.toString.call(e)}function a(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function l(e){if(Object.getOwnPropertyNames)return 0===Object.getOwnPropertyNames(e).length;var t;for(t in e)if(a(e,t))return!1;return!0}function c(e){return void 0===e}function u(e){return"number"===typeof e||"[object Number]"===Object.prototype.toString.call(e)}function d(e){return e instanceof Date||"[object Date]"===Object.prototype.toString.call(e)}function h(e,t){var n,r=[],i=e.length;for(n=0;n<i;++n)r.push(t(e[n],n));return r}function f(e,t){for(var n in t)a(t,n)&&(e[n]=t[n]);return a(t,"toString")&&(e.toString=t.toString),a(t,"valueOf")&&(e.valueOf=t.valueOf),e}function p(e,t,n,r){return Kn(e,t,n,r,!0).utc()}function m(){return{empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidEra:null,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1,parsedDateParts:[],era:null,meridiem:null,rfc2822:!1,weekdayMismatch:!1}}function g(e){return null==e._pf&&(e._pf=m()),e._pf}function v(e){var t=null,r=!1,i=e._d&&!isNaN(e._d.getTime());return i&&(t=g(e),r=n.call(t.parsedDateParts,(function(e){return null!=e})),i=t.overflow<0&&!t.empty&&!t.invalidEra&&!t.invalidMonth&&!t.invalidWeekday&&!t.weekdayMismatch&&!t.nullInput&&!t.invalidFormat&&!t.userInvalidated&&(!t.meridiem||t.meridiem&&r),e._strict&&(i=i&&0===t.charsLeftOver&&0===t.unusedTokens.length&&void 0===t.bigHour)),null!=Object.isFrozen&&Object.isFrozen(e)?i:(e._isValid=i,e._isValid)}function y(e){var t=p(NaN);return null!=e?f(g(t),e):g(t).userInvalidated=!0,t}n=Array.prototype.some?Array.prototype.some:function(e){var t,n=Object(this),r=n.length>>>0;for(t=0;t<r;t++)if(t in n&&e.call(this,n[t],t,n))return!0;return!1};var b=r.momentProperties=[],w=!1;function A(e,t){var n,r,i,o=b.length;if(c(t._isAMomentObject)||(e._isAMomentObject=t._isAMomentObject),c(t._i)||(e._i=t._i),c(t._f)||(e._f=t._f),c(t._l)||(e._l=t._l),c(t._strict)||(e._strict=t._strict),c(t._tzm)||(e._tzm=t._tzm),c(t._isUTC)||(e._isUTC=t._isUTC),c(t._offset)||(e._offset=t._offset),c(t._pf)||(e._pf=g(t)),c(t._locale)||(e._locale=t._locale),o>0)for(n=0;n<o;n++)c(i=t[r=b[n]])||(e[r]=i);return e}function _(e){A(this,e),this._d=new Date(null!=e._d?e._d.getTime():NaN),this.isValid()||(this._d=new Date(NaN)),!1===w&&(w=!0,r.updateOffset(this),w=!1)}function x(e){return e instanceof _||null!=e&&null!=e._isAMomentObject}function S(e){!1===r.suppressDeprecationWarnings&&"undefined"!==typeof console&&console.warn&&console.warn("Deprecation warning: "+e)}function k(e,t){var n=!0;return f((function(){if(null!=r.deprecationHandler&&r.deprecationHandler(null,e),n){var i,o,s,l=[],c=arguments.length;for(o=0;o<c;o++){if(i="","object"===typeof arguments[o]){for(s in i+="\n["+o+"] ",arguments[0])a(arguments[0],s)&&(i+=s+": "+arguments[0][s]+", ");i=i.slice(0,-2)}else i=arguments[o];l.push(i)}S(e+"\nArguments: "+Array.prototype.slice.call(l).join("")+"\n"+(new Error).stack),n=!1}return t.apply(this,arguments)}),t)}var E,C={};function T(e,t){null!=r.deprecationHandler&&r.deprecationHandler(e,t),C[e]||(S(t),C[e]=!0)}function N(e){return"undefined"!==typeof Function&&e instanceof Function||"[object Function]"===Object.prototype.toString.call(e)}function O(e){var t,n;for(n in e)a(e,n)&&(N(t=e[n])?this[n]=t:this["_"+n]=t);this._config=e,this._dayOfMonthOrdinalParseLenient=new RegExp((this._dayOfMonthOrdinalParse.source||this._ordinalParse.source)+"|"+/\d{1,2}/.source)}function I(e,t){var n,r=f({},e);for(n in t)a(t,n)&&(s(e[n])&&s(t[n])?(r[n]={},f(r[n],e[n]),f(r[n],t[n])):null!=t[n]?r[n]=t[n]:delete r[n]);for(n in e)a(e,n)&&!a(t,n)&&s(e[n])&&(r[n]=f({},r[n]));return r}function D(e){null!=e&&this.set(e)}r.suppressDeprecationWarnings=!1,r.deprecationHandler=null,E=Object.keys?Object.keys:function(e){var t,n=[];for(t in e)a(e,t)&&n.push(t);return n};var j={sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"};function P(e,t,n){var r=this._calendar[e]||this._calendar.sameElse;return N(r)?r.call(t,n):r}function R(e,t,n){var r=""+Math.abs(e),i=t-r.length;return(e>=0?n?"+":"":"-")+Math.pow(10,Math.max(0,i)).toString().substr(1)+r}var L=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|N{1,5}|YYYYYY|YYYYY|YYYY|YY|y{2,4}|yo?|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,M=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,B={},U={};function F(e,t,n,r){var i=r;"string"===typeof r&&(i=function(){return this[r]()}),e&&(U[e]=i),t&&(U[t[0]]=function(){return R(i.apply(this,arguments),t[1],t[2])}),n&&(U[n]=function(){return this.localeData().ordinal(i.apply(this,arguments),e)})}function V(e){return e.match(/\[[\s\S]/)?e.replace(/^\[|\]$/g,""):e.replace(/\\/g,"")}function q(e){var t,n,r=e.match(L);for(t=0,n=r.length;t<n;t++)U[r[t]]?r[t]=U[r[t]]:r[t]=V(r[t]);return function(t){var i,o="";for(i=0;i<n;i++)o+=N(r[i])?r[i].call(t,e):r[i];return o}}function H(e,t){return e.isValid()?(t=z(t,e.localeData()),B[t]=B[t]||q(t),B[t](e)):e.localeData().invalidDate()}function z(e,t){var n=5;function r(e){return t.longDateFormat(e)||e}for(M.lastIndex=0;n>=0&&M.test(e);)e=e.replace(M,r),M.lastIndex=0,n-=1;return e}var G={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"};function Y(e){var t=this._longDateFormat[e],n=this._longDateFormat[e.toUpperCase()];return t||!n?t:(this._longDateFormat[e]=n.match(L).map((function(e){return"MMMM"===e||"MM"===e||"DD"===e||"dddd"===e?e.slice(1):e})).join(""),this._longDateFormat[e])}var W="Invalid date";function K(){return this._invalidDate}var Q="%d",J=/\d{1,2}/;function X(e){return this._ordinal.replace("%d",e)}var Z={future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",w:"a week",ww:"%d weeks",M:"a month",MM:"%d months",y:"a year",yy:"%d years"};function $(e,t,n,r){var i=this._relativeTime[n];return N(i)?i(e,t,n,r):i.replace(/%d/i,e)}function ee(e,t){var n=this._relativeTime[e>0?"future":"past"];return N(n)?n(t):n.replace(/%s/i,t)}var te={D:"date",dates:"date",date:"date",d:"day",days:"day",day:"day",e:"weekday",weekdays:"weekday",weekday:"weekday",E:"isoWeekday",isoweekdays:"isoWeekday",isoweekday:"isoWeekday",DDD:"dayOfYear",dayofyears:"dayOfYear",dayofyear:"dayOfYear",h:"hour",hours:"hour",hour:"hour",ms:"millisecond",milliseconds:"millisecond",millisecond:"millisecond",m:"minute",minutes:"minute",minute:"minute",M:"month",months:"month",month:"month",Q:"quarter",quarters:"quarter",quarter:"quarter",s:"second",seconds:"second",second:"second",gg:"weekYear",weekyears:"weekYear",weekyear:"weekYear",GG:"isoWeekYear",isoweekyears:"isoWeekYear",isoweekyear:"isoWeekYear",w:"week",weeks:"week",week:"week",W:"isoWeek",isoweeks:"isoWeek",isoweek:"isoWeek",y:"year",years:"year",year:"year"};function ne(e){return"string"===typeof e?te[e]||te[e.toLowerCase()]:void 0}function re(e){var t,n,r={};for(n in e)a(e,n)&&(t=ne(n))&&(r[t]=e[n]);return r}var ie={date:9,day:11,weekday:11,isoWeekday:11,dayOfYear:4,hour:13,millisecond:16,minute:14,month:8,quarter:7,second:15,weekYear:1,isoWeekYear:1,week:5,isoWeek:5,year:1};function oe(e){var t,n=[];for(t in e)a(e,t)&&n.push({unit:t,priority:ie[t]});return n.sort((function(e,t){return e.priority-t.priority})),n}var se,ae=/\d/,le=/\d\d/,ce=/\d{3}/,ue=/\d{4}/,de=/[+-]?\d{6}/,he=/\d\d?/,fe=/\d\d\d\d?/,pe=/\d\d\d\d\d\d?/,me=/\d{1,3}/,ge=/\d{1,4}/,ve=/[+-]?\d{1,6}/,ye=/\d+/,be=/[+-]?\d+/,we=/Z|[+-]\d\d:?\d\d/gi,Ae=/Z|[+-]\d\d(?::?\d\d)?/gi,_e=/[+-]?\d+(\.\d{1,3})?/,xe=/[0-9]{0,256}['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFF07\uFF10-\uFFEF]{1,256}|[\u0600-\u06FF\/]{1,256}(\s*?[\u0600-\u06FF]{1,256}){1,2}/i,Se=/^[1-9]\d?/,ke=/^([1-9]\d|\d)/;function Ee(e,t,n){se[e]=N(t)?t:function(e,r){return e&&n?n:t}}function Ce(e,t){return a(se,e)?se[e](t._strict,t._locale):new RegExp(Te(e))}function Te(e){return Ne(e.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,(function(e,t,n,r,i){return t||n||r||i})))}function Ne(e){return e.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}function Oe(e){return e<0?Math.ceil(e)||0:Math.floor(e)}function Ie(e){var t=+e,n=0;return 0!==t&&isFinite(t)&&(n=Oe(t)),n}se={};var De={};function je(e,t){var n,r,i=t;for("string"===typeof e&&(e=[e]),u(t)&&(i=function(e,n){n[t]=Ie(e)}),r=e.length,n=0;n<r;n++)De[e[n]]=i}function Pe(e,t){je(e,(function(e,n,r,i){r._w=r._w||{},t(e,r._w,r,i)}))}function Re(e,t,n){null!=t&&a(De,e)&&De[e](t,n._a,n,e)}function Le(e){return e%4===0&&e%100!==0||e%400===0}var Me=0,Be=1,Ue=2,Fe=3,Ve=4,qe=5,He=6,ze=7,Ge=8;function Ye(e){return Le(e)?366:365}F("Y",0,0,(function(){var e=this.year();return e<=9999?R(e,4):"+"+e})),F(0,["YY",2],0,(function(){return this.year()%100})),F(0,["YYYY",4],0,"year"),F(0,["YYYYY",5],0,"year"),F(0,["YYYYYY",6,!0],0,"year"),Ee("Y",be),Ee("YY",he,le),Ee("YYYY",ge,ue),Ee("YYYYY",ve,de),Ee("YYYYYY",ve,de),je(["YYYYY","YYYYYY"],Me),je("YYYY",(function(e,t){t[Me]=2===e.length?r.parseTwoDigitYear(e):Ie(e)})),je("YY",(function(e,t){t[Me]=r.parseTwoDigitYear(e)})),je("Y",(function(e,t){t[Me]=parseInt(e,10)})),r.parseTwoDigitYear=function(e){return Ie(e)+(Ie(e)>68?1900:2e3)};var We,Ke=Je("FullYear",!0);function Qe(){return Le(this.year())}function Je(e,t){return function(n){return null!=n?(Ze(this,e,n),r.updateOffset(this,t),this):Xe(this,e)}}function Xe(e,t){if(!e.isValid())return NaN;var n=e._d,r=e._isUTC;switch(t){case"Milliseconds":return r?n.getUTCMilliseconds():n.getMilliseconds();case"Seconds":return r?n.getUTCSeconds():n.getSeconds();case"Minutes":return r?n.getUTCMinutes():n.getMinutes();case"Hours":return r?n.getUTCHours():n.getHours();case"Date":return r?n.getUTCDate():n.getDate();case"Day":return r?n.getUTCDay():n.getDay();case"Month":return r?n.getUTCMonth():n.getMonth();case"FullYear":return r?n.getUTCFullYear():n.getFullYear();default:return NaN}}function Ze(e,t,n){var r,i,o,s,a;if(e.isValid()&&!isNaN(n)){switch(r=e._d,i=e._isUTC,t){case"Milliseconds":return void(i?r.setUTCMilliseconds(n):r.setMilliseconds(n));case"Seconds":return void(i?r.setUTCSeconds(n):r.setSeconds(n));case"Minutes":return void(i?r.setUTCMinutes(n):r.setMinutes(n));case"Hours":return void(i?r.setUTCHours(n):r.setHours(n));case"Date":return void(i?r.setUTCDate(n):r.setDate(n));case"FullYear":break;default:return}o=n,s=e.month(),a=29!==(a=e.date())||1!==s||Le(o)?a:28,i?r.setUTCFullYear(o,s,a):r.setFullYear(o,s,a)}}function $e(e){return N(this[e=ne(e)])?this[e]():this}function et(e,t){if("object"===typeof e){var n,r=oe(e=re(e)),i=r.length;for(n=0;n<i;n++)this[r[n].unit](e[r[n].unit])}else if(N(this[e=ne(e)]))return this[e](t);return this}function tt(e,t){return(e%t+t)%t}function nt(e,t){if(isNaN(e)||isNaN(t))return NaN;var n=tt(t,12);return e+=(t-n)/12,1===n?Le(e)?29:28:31-n%7%2}We=Array.prototype.indexOf?Array.prototype.indexOf:function(e){var t;for(t=0;t<this.length;++t)if(this[t]===e)return t;return-1},F("M",["MM",2],"Mo",(function(){return this.month()+1})),F("MMM",0,0,(function(e){return this.localeData().monthsShort(this,e)})),F("MMMM",0,0,(function(e){return this.localeData().months(this,e)})),Ee("M",he,Se),Ee("MM",he,le),Ee("MMM",(function(e,t){return t.monthsShortRegex(e)})),Ee("MMMM",(function(e,t){return t.monthsRegex(e)})),je(["M","MM"],(function(e,t){t[Be]=Ie(e)-1})),je(["MMM","MMMM"],(function(e,t,n,r){var i=n._locale.monthsParse(e,r,n._strict);null!=i?t[Be]=i:g(n).invalidMonth=e}));var rt="January_February_March_April_May_June_July_August_September_October_November_December".split("_"),it="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),ot=/D[oD]?(\[[^\[\]]*\]|\s)+MMMM?/,st=xe,at=xe;function lt(e,t){return e?o(this._months)?this._months[e.month()]:this._months[(this._months.isFormat||ot).test(t)?"format":"standalone"][e.month()]:o(this._months)?this._months:this._months.standalone}function ct(e,t){return e?o(this._monthsShort)?this._monthsShort[e.month()]:this._monthsShort[ot.test(t)?"format":"standalone"][e.month()]:o(this._monthsShort)?this._monthsShort:this._monthsShort.standalone}function ut(e,t,n){var r,i,o,s=e.toLocaleLowerCase();if(!this._monthsParse)for(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[],r=0;r<12;++r)o=p([2e3,r]),this._shortMonthsParse[r]=this.monthsShort(o,"").toLocaleLowerCase(),this._longMonthsParse[r]=this.months(o,"").toLocaleLowerCase();return n?"MMM"===t?-1!==(i=We.call(this._shortMonthsParse,s))?i:null:-1!==(i=We.call(this._longMonthsParse,s))?i:null:"MMM"===t?-1!==(i=We.call(this._shortMonthsParse,s))||-1!==(i=We.call(this._longMonthsParse,s))?i:null:-1!==(i=We.call(this._longMonthsParse,s))||-1!==(i=We.call(this._shortMonthsParse,s))?i:null}function dt(e,t,n){var r,i,o;if(this._monthsParseExact)return ut.call(this,e,t,n);for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),r=0;r<12;r++){if(i=p([2e3,r]),n&&!this._longMonthsParse[r]&&(this._longMonthsParse[r]=new RegExp("^"+this.months(i,"").replace(".","")+"$","i"),this._shortMonthsParse[r]=new RegExp("^"+this.monthsShort(i,"").replace(".","")+"$","i")),n||this._monthsParse[r]||(o="^"+this.months(i,"")+"|^"+this.monthsShort(i,""),this._monthsParse[r]=new RegExp(o.replace(".",""),"i")),n&&"MMMM"===t&&this._longMonthsParse[r].test(e))return r;if(n&&"MMM"===t&&this._shortMonthsParse[r].test(e))return r;if(!n&&this._monthsParse[r].test(e))return r}}function ht(e,t){if(!e.isValid())return e;if("string"===typeof t)if(/^\d+$/.test(t))t=Ie(t);else if(!u(t=e.localeData().monthsParse(t)))return e;var n=t,r=e.date();return r=r<29?r:Math.min(r,nt(e.year(),n)),e._isUTC?e._d.setUTCMonth(n,r):e._d.setMonth(n,r),e}function ft(e){return null!=e?(ht(this,e),r.updateOffset(this,!0),this):Xe(this,"Month")}function pt(){return nt(this.year(),this.month())}function mt(e){return this._monthsParseExact?(a(this,"_monthsRegex")||vt.call(this),e?this._monthsShortStrictRegex:this._monthsShortRegex):(a(this,"_monthsShortRegex")||(this._monthsShortRegex=st),this._monthsShortStrictRegex&&e?this._monthsShortStrictRegex:this._monthsShortRegex)}function gt(e){return this._monthsParseExact?(a(this,"_monthsRegex")||vt.call(this),e?this._monthsStrictRegex:this._monthsRegex):(a(this,"_monthsRegex")||(this._monthsRegex=at),this._monthsStrictRegex&&e?this._monthsStrictRegex:this._monthsRegex)}function vt(){function e(e,t){return t.length-e.length}var t,n,r,i,o=[],s=[],a=[];for(t=0;t<12;t++)n=p([2e3,t]),r=Ne(this.monthsShort(n,"")),i=Ne(this.months(n,"")),o.push(r),s.push(i),a.push(i),a.push(r);o.sort(e),s.sort(e),a.sort(e),this._monthsRegex=new RegExp("^("+a.join("|")+")","i"),this._monthsShortRegex=this._monthsRegex,this._monthsStrictRegex=new RegExp("^("+s.join("|")+")","i"),this._monthsShortStrictRegex=new RegExp("^("+o.join("|")+")","i")}function yt(e,t,n,r,i,o,s){var a;return e<100&&e>=0?(a=new Date(e+400,t,n,r,i,o,s),isFinite(a.getFullYear())&&a.setFullYear(e)):a=new Date(e,t,n,r,i,o,s),a}function bt(e){var t,n;return e<100&&e>=0?((n=Array.prototype.slice.call(arguments))[0]=e+400,t=new Date(Date.UTC.apply(null,n)),isFinite(t.getUTCFullYear())&&t.setUTCFullYear(e)):t=new Date(Date.UTC.apply(null,arguments)),t}function wt(e,t,n){var r=7+t-n;return-(7+bt(e,0,r).getUTCDay()-t)%7+r-1}function At(e,t,n,r,i){var o,s,a=1+7*(t-1)+(7+n-r)%7+wt(e,r,i);return a<=0?s=Ye(o=e-1)+a:a>Ye(e)?(o=e+1,s=a-Ye(e)):(o=e,s=a),{year:o,dayOfYear:s}}function _t(e,t,n){var r,i,o=wt(e.year(),t,n),s=Math.floor((e.dayOfYear()-o-1)/7)+1;return s<1?r=s+xt(i=e.year()-1,t,n):s>xt(e.year(),t,n)?(r=s-xt(e.year(),t,n),i=e.year()+1):(i=e.year(),r=s),{week:r,year:i}}function xt(e,t,n){var r=wt(e,t,n),i=wt(e+1,t,n);return(Ye(e)-r+i)/7}function St(e){return _t(e,this._week.dow,this._week.doy).week}F("w",["ww",2],"wo","week"),F("W",["WW",2],"Wo","isoWeek"),Ee("w",he,Se),Ee("ww",he,le),Ee("W",he,Se),Ee("WW",he,le),Pe(["w","ww","W","WW"],(function(e,t,n,r){t[r.substr(0,1)]=Ie(e)}));var kt={dow:0,doy:6};function Et(){return this._week.dow}function Ct(){return this._week.doy}function Tt(e){var t=this.localeData().week(this);return null==e?t:this.add(7*(e-t),"d")}function Nt(e){var t=_t(this,1,4).week;return null==e?t:this.add(7*(e-t),"d")}function Ot(e,t){return"string"!==typeof e?e:isNaN(e)?"number"===typeof(e=t.weekdaysParse(e))?e:null:parseInt(e,10)}function It(e,t){return"string"===typeof e?t.weekdaysParse(e)%7||7:isNaN(e)?null:e}function Dt(e,t){return e.slice(t,7).concat(e.slice(0,t))}F("d",0,"do","day"),F("dd",0,0,(function(e){return this.localeData().weekdaysMin(this,e)})),F("ddd",0,0,(function(e){return this.localeData().weekdaysShort(this,e)})),F("dddd",0,0,(function(e){return this.localeData().weekdays(this,e)})),F("e",0,0,"weekday"),F("E",0,0,"isoWeekday"),Ee("d",he),Ee("e",he),Ee("E",he),Ee("dd",(function(e,t){return t.weekdaysMinRegex(e)})),Ee("ddd",(function(e,t){return t.weekdaysShortRegex(e)})),Ee("dddd",(function(e,t){return t.weekdaysRegex(e)})),Pe(["dd","ddd","dddd"],(function(e,t,n,r){var i=n._locale.weekdaysParse(e,r,n._strict);null!=i?t.d=i:g(n).invalidWeekday=e})),Pe(["d","e","E"],(function(e,t,n,r){t[r]=Ie(e)}));var jt="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),Pt="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),Rt="Su_Mo_Tu_We_Th_Fr_Sa".split("_"),Lt=xe,Mt=xe,Bt=xe;function Ut(e,t){var n=o(this._weekdays)?this._weekdays:this._weekdays[e&&!0!==e&&this._weekdays.isFormat.test(t)?"format":"standalone"];return!0===e?Dt(n,this._week.dow):e?n[e.day()]:n}function Ft(e){return!0===e?Dt(this._weekdaysShort,this._week.dow):e?this._weekdaysShort[e.day()]:this._weekdaysShort}function Vt(e){return!0===e?Dt(this._weekdaysMin,this._week.dow):e?this._weekdaysMin[e.day()]:this._weekdaysMin}function qt(e,t,n){var r,i,o,s=e.toLocaleLowerCase();if(!this._weekdaysParse)for(this._weekdaysParse=[],this._shortWeekdaysParse=[],this._minWeekdaysParse=[],r=0;r<7;++r)o=p([2e3,1]).day(r),this._minWeekdaysParse[r]=this.weekdaysMin(o,"").toLocaleLowerCase(),this._shortWeekdaysParse[r]=this.weekdaysShort(o,"").toLocaleLowerCase(),this._weekdaysParse[r]=this.weekdays(o,"").toLocaleLowerCase();return n?"dddd"===t?-1!==(i=We.call(this._weekdaysParse,s))?i:null:"ddd"===t?-1!==(i=We.call(this._shortWeekdaysParse,s))?i:null:-1!==(i=We.call(this._minWeekdaysParse,s))?i:null:"dddd"===t?-1!==(i=We.call(this._weekdaysParse,s))||-1!==(i=We.call(this._shortWeekdaysParse,s))||-1!==(i=We.call(this._minWeekdaysParse,s))?i:null:"ddd"===t?-1!==(i=We.call(this._shortWeekdaysParse,s))||-1!==(i=We.call(this._weekdaysParse,s))||-1!==(i=We.call(this._minWeekdaysParse,s))?i:null:-1!==(i=We.call(this._minWeekdaysParse,s))||-1!==(i=We.call(this._weekdaysParse,s))||-1!==(i=We.call(this._shortWeekdaysParse,s))?i:null}function Ht(e,t,n){var r,i,o;if(this._weekdaysParseExact)return qt.call(this,e,t,n);for(this._weekdaysParse||(this._weekdaysParse=[],this._minWeekdaysParse=[],this._shortWeekdaysParse=[],this._fullWeekdaysParse=[]),r=0;r<7;r++){if(i=p([2e3,1]).day(r),n&&!this._fullWeekdaysParse[r]&&(this._fullWeekdaysParse[r]=new RegExp("^"+this.weekdays(i,"").replace(".","\\.?")+"$","i"),this._shortWeekdaysParse[r]=new RegExp("^"+this.weekdaysShort(i,"").replace(".","\\.?")+"$","i"),this._minWeekdaysParse[r]=new RegExp("^"+this.weekdaysMin(i,"").replace(".","\\.?")+"$","i")),this._weekdaysParse[r]||(o="^"+this.weekdays(i,"")+"|^"+this.weekdaysShort(i,"")+"|^"+this.weekdaysMin(i,""),this._weekdaysParse[r]=new RegExp(o.replace(".",""),"i")),n&&"dddd"===t&&this._fullWeekdaysParse[r].test(e))return r;if(n&&"ddd"===t&&this._shortWeekdaysParse[r].test(e))return r;if(n&&"dd"===t&&this._minWeekdaysParse[r].test(e))return r;if(!n&&this._weekdaysParse[r].test(e))return r}}function zt(e){if(!this.isValid())return null!=e?this:NaN;var t=Xe(this,"Day");return null!=e?(e=Ot(e,this.localeData()),this.add(e-t,"d")):t}function Gt(e){if(!this.isValid())return null!=e?this:NaN;var t=(this.day()+7-this.localeData()._week.dow)%7;return null==e?t:this.add(e-t,"d")}function Yt(e){if(!this.isValid())return null!=e?this:NaN;if(null!=e){var t=It(e,this.localeData());return this.day(this.day()%7?t:t-7)}return this.day()||7}function Wt(e){return this._weekdaysParseExact?(a(this,"_weekdaysRegex")||Jt.call(this),e?this._weekdaysStrictRegex:this._weekdaysRegex):(a(this,"_weekdaysRegex")||(this._weekdaysRegex=Lt),this._weekdaysStrictRegex&&e?this._weekdaysStrictRegex:this._weekdaysRegex)}function Kt(e){return this._weekdaysParseExact?(a(this,"_weekdaysRegex")||Jt.call(this),e?this._weekdaysShortStrictRegex:this._weekdaysShortRegex):(a(this,"_weekdaysShortRegex")||(this._weekdaysShortRegex=Mt),this._weekdaysShortStrictRegex&&e?this._weekdaysShortStrictRegex:this._weekdaysShortRegex)}function Qt(e){return this._weekdaysParseExact?(a(this,"_weekdaysRegex")||Jt.call(this),e?this._weekdaysMinStrictRegex:this._weekdaysMinRegex):(a(this,"_weekdaysMinRegex")||(this._weekdaysMinRegex=Bt),this._weekdaysMinStrictRegex&&e?this._weekdaysMinStrictRegex:this._weekdaysMinRegex)}function Jt(){function e(e,t){return t.length-e.length}var t,n,r,i,o,s=[],a=[],l=[],c=[];for(t=0;t<7;t++)n=p([2e3,1]).day(t),r=Ne(this.weekdaysMin(n,"")),i=Ne(this.weekdaysShort(n,"")),o=Ne(this.weekdays(n,"")),s.push(r),a.push(i),l.push(o),c.push(r),c.push(i),c.push(o);s.sort(e),a.sort(e),l.sort(e),c.sort(e),this._weekdaysRegex=new RegExp("^("+c.join("|")+")","i"),this._weekdaysShortRegex=this._weekdaysRegex,this._weekdaysMinRegex=this._weekdaysRegex,this._weekdaysStrictRegex=new RegExp("^("+l.join("|")+")","i"),this._weekdaysShortStrictRegex=new RegExp("^("+a.join("|")+")","i"),this._weekdaysMinStrictRegex=new RegExp("^("+s.join("|")+")","i")}function Xt(){return this.hours()%12||12}function Zt(){return this.hours()||24}function $t(e,t){F(e,0,0,(function(){return this.localeData().meridiem(this.hours(),this.minutes(),t)}))}function en(e,t){return t._meridiemParse}function tn(e){return"p"===(e+"").toLowerCase().charAt(0)}F("H",["HH",2],0,"hour"),F("h",["hh",2],0,Xt),F("k",["kk",2],0,Zt),F("hmm",0,0,(function(){return""+Xt.apply(this)+R(this.minutes(),2)})),F("hmmss",0,0,(function(){return""+Xt.apply(this)+R(this.minutes(),2)+R(this.seconds(),2)})),F("Hmm",0,0,(function(){return""+this.hours()+R(this.minutes(),2)})),F("Hmmss",0,0,(function(){return""+this.hours()+R(this.minutes(),2)+R(this.seconds(),2)})),$t("a",!0),$t("A",!1),Ee("a",en),Ee("A",en),Ee("H",he,ke),Ee("h",he,Se),Ee("k",he,Se),Ee("HH",he,le),Ee("hh",he,le),Ee("kk",he,le),Ee("hmm",fe),Ee("hmmss",pe),Ee("Hmm",fe),Ee("Hmmss",pe),je(["H","HH"],Fe),je(["k","kk"],(function(e,t,n){var r=Ie(e);t[Fe]=24===r?0:r})),je(["a","A"],(function(e,t,n){n._isPm=n._locale.isPM(e),n._meridiem=e})),je(["h","hh"],(function(e,t,n){t[Fe]=Ie(e),g(n).bigHour=!0})),je("hmm",(function(e,t,n){var r=e.length-2;t[Fe]=Ie(e.substr(0,r)),t[Ve]=Ie(e.substr(r)),g(n).bigHour=!0})),je("hmmss",(function(e,t,n){var r=e.length-4,i=e.length-2;t[Fe]=Ie(e.substr(0,r)),t[Ve]=Ie(e.substr(r,2)),t[qe]=Ie(e.substr(i)),g(n).bigHour=!0})),je("Hmm",(function(e,t,n){var r=e.length-2;t[Fe]=Ie(e.substr(0,r)),t[Ve]=Ie(e.substr(r))})),je("Hmmss",(function(e,t,n){var r=e.length-4,i=e.length-2;t[Fe]=Ie(e.substr(0,r)),t[Ve]=Ie(e.substr(r,2)),t[qe]=Ie(e.substr(i))}));var nn=/[ap]\.?m?\.?/i,rn=Je("Hours",!0);function on(e,t,n){return e>11?n?"pm":"PM":n?"am":"AM"}var sn,an={calendar:j,longDateFormat:G,invalidDate:W,ordinal:Q,dayOfMonthOrdinalParse:J,relativeTime:Z,months:rt,monthsShort:it,week:kt,weekdays:jt,weekdaysMin:Rt,weekdaysShort:Pt,meridiemParse:nn},ln={},cn={};function un(e,t){var n,r=Math.min(e.length,t.length);for(n=0;n<r;n+=1)if(e[n]!==t[n])return n;return r}function dn(e){return e?e.toLowerCase().replace("_","-"):e}function hn(e){for(var t,n,r,i,o=0;o<e.length;){for(t=(i=dn(e[o]).split("-")).length,n=(n=dn(e[o+1]))?n.split("-"):null;t>0;){if(r=pn(i.slice(0,t).join("-")))return r;if(n&&n.length>=t&&un(i,n)>=t-1)break;t--}o++}return sn}function fn(e){return!(!e||!e.match("^[^/\\\\]*$"))}function pn(t){var n=null;if(void 0===ln[t]&&e&&e.exports&&fn(t))try{n=sn._abbr,Object(function(){var e=new Error("Cannot find module 'undefined'");throw e.code="MODULE_NOT_FOUND",e}()),mn(n)}catch(r){ln[t]=null}return ln[t]}function mn(e,t){var n;return e&&((n=c(t)?yn(e):gn(e,t))?sn=n:"undefined"!==typeof console&&console.warn&&console.warn("Locale "+e+" not found. Did you forget to load it?")),sn._abbr}function gn(e,t){if(null!==t){var n,r=an;if(t.abbr=e,null!=ln[e])T("defineLocaleOverride","use moment.updateLocale(localeName, config) to change an existing locale. moment.defineLocale(localeName, config) should only be used for creating a new locale See http://momentjs.com/guides/#/warnings/define-locale/ for more info."),r=ln[e]._config;else if(null!=t.parentLocale)if(null!=ln[t.parentLocale])r=ln[t.parentLocale]._config;else{if(null==(n=pn(t.parentLocale)))return cn[t.parentLocale]||(cn[t.parentLocale]=[]),cn[t.parentLocale].push({name:e,config:t}),null;r=n._config}return ln[e]=new D(I(r,t)),cn[e]&&cn[e].forEach((function(e){gn(e.name,e.config)})),mn(e),ln[e]}return delete ln[e],null}function vn(e,t){if(null!=t){var n,r,i=an;null!=ln[e]&&null!=ln[e].parentLocale?ln[e].set(I(ln[e]._config,t)):(null!=(r=pn(e))&&(i=r._config),t=I(i,t),null==r&&(t.abbr=e),(n=new D(t)).parentLocale=ln[e],ln[e]=n),mn(e)}else null!=ln[e]&&(null!=ln[e].parentLocale?(ln[e]=ln[e].parentLocale,e===mn()&&mn(e)):null!=ln[e]&&delete ln[e]);return ln[e]}function yn(e){var t;if(e&&e._locale&&e._locale._abbr&&(e=e._locale._abbr),!e)return sn;if(!o(e)){if(t=pn(e))return t;e=[e]}return hn(e)}function bn(){return E(ln)}function wn(e){var t,n=e._a;return n&&-2===g(e).overflow&&(t=n[Be]<0||n[Be]>11?Be:n[Ue]<1||n[Ue]>nt(n[Me],n[Be])?Ue:n[Fe]<0||n[Fe]>24||24===n[Fe]&&(0!==n[Ve]||0!==n[qe]||0!==n[He])?Fe:n[Ve]<0||n[Ve]>59?Ve:n[qe]<0||n[qe]>59?qe:n[He]<0||n[He]>999?He:-1,g(e)._overflowDayOfYear&&(t<Me||t>Ue)&&(t=Ue),g(e)._overflowWeeks&&-1===t&&(t=ze),g(e)._overflowWeekday&&-1===t&&(t=Ge),g(e).overflow=t),e}var An=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,_n=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d|))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,xn=/Z|[+-]\d\d(?::?\d\d)?/,Sn=[["YYYYYY-MM-DD",/[+-]\d{6}-\d\d-\d\d/],["YYYY-MM-DD",/\d{4}-\d\d-\d\d/],["GGGG-[W]WW-E",/\d{4}-W\d\d-\d/],["GGGG-[W]WW",/\d{4}-W\d\d/,!1],["YYYY-DDD",/\d{4}-\d{3}/],["YYYY-MM",/\d{4}-\d\d/,!1],["YYYYYYMMDD",/[+-]\d{10}/],["YYYYMMDD",/\d{8}/],["GGGG[W]WWE",/\d{4}W\d{3}/],["GGGG[W]WW",/\d{4}W\d{2}/,!1],["YYYYDDD",/\d{7}/],["YYYYMM",/\d{6}/,!1],["YYYY",/\d{4}/,!1]],kn=[["HH:mm:ss.SSSS",/\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss,SSSS",/\d\d:\d\d:\d\d,\d+/],["HH:mm:ss",/\d\d:\d\d:\d\d/],["HH:mm",/\d\d:\d\d/],["HHmmss.SSSS",/\d\d\d\d\d\d\.\d+/],["HHmmss,SSSS",/\d\d\d\d\d\d,\d+/],["HHmmss",/\d\d\d\d\d\d/],["HHmm",/\d\d\d\d/],["HH",/\d\d/]],En=/^\/?Date\((-?\d+)/i,Cn=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),?\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|([+-]\d{4}))$/,Tn={UT:0,GMT:0,EDT:-240,EST:-300,CDT:-300,CST:-360,MDT:-360,MST:-420,PDT:-420,PST:-480};function Nn(e){var t,n,r,i,o,s,a=e._i,l=An.exec(a)||_n.exec(a),c=Sn.length,u=kn.length;if(l){for(g(e).iso=!0,t=0,n=c;t<n;t++)if(Sn[t][1].exec(l[1])){i=Sn[t][0],r=!1!==Sn[t][2];break}if(null==i)return void(e._isValid=!1);if(l[3]){for(t=0,n=u;t<n;t++)if(kn[t][1].exec(l[3])){o=(l[2]||" ")+kn[t][0];break}if(null==o)return void(e._isValid=!1)}if(!r&&null!=o)return void(e._isValid=!1);if(l[4]){if(!xn.exec(l[4]))return void(e._isValid=!1);s="Z"}e._f=i+(o||"")+(s||""),Vn(e)}else e._isValid=!1}function On(e,t,n,r,i,o){var s=[In(e),it.indexOf(t),parseInt(n,10),parseInt(r,10),parseInt(i,10)];return o&&s.push(parseInt(o,10)),s}function In(e){var t=parseInt(e,10);return t<=49?2e3+t:t<=999?1900+t:t}function Dn(e){return e.replace(/\([^()]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").replace(/^\s\s*/,"").replace(/\s\s*$/,"")}function jn(e,t,n){return!e||Pt.indexOf(e)===new Date(t[0],t[1],t[2]).getDay()||(g(n).weekdayMismatch=!0,n._isValid=!1,!1)}function Pn(e,t,n){if(e)return Tn[e];if(t)return 0;var r=parseInt(n,10),i=r%100;return(r-i)/100*60+i}function Rn(e){var t,n=Cn.exec(Dn(e._i));if(n){if(t=On(n[4],n[3],n[2],n[5],n[6],n[7]),!jn(n[1],t,e))return;e._a=t,e._tzm=Pn(n[8],n[9],n[10]),e._d=bt.apply(null,e._a),e._d.setUTCMinutes(e._d.getUTCMinutes()-e._tzm),g(e).rfc2822=!0}else e._isValid=!1}function Ln(e){var t=En.exec(e._i);null===t?(Nn(e),!1===e._isValid&&(delete e._isValid,Rn(e),!1===e._isValid&&(delete e._isValid,e._strict?e._isValid=!1:r.createFromInputFallback(e)))):e._d=new Date(+t[1])}function Mn(e,t,n){return null!=e?e:null!=t?t:n}function Bn(e){var t=new Date(r.now());return e._useUTC?[t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate()]:[t.getFullYear(),t.getMonth(),t.getDate()]}function Un(e){var t,n,r,i,o,s=[];if(!e._d){for(r=Bn(e),e._w&&null==e._a[Ue]&&null==e._a[Be]&&Fn(e),null!=e._dayOfYear&&(o=Mn(e._a[Me],r[Me]),(e._dayOfYear>Ye(o)||0===e._dayOfYear)&&(g(e)._overflowDayOfYear=!0),n=bt(o,0,e._dayOfYear),e._a[Be]=n.getUTCMonth(),e._a[Ue]=n.getUTCDate()),t=0;t<3&&null==e._a[t];++t)e._a[t]=s[t]=r[t];for(;t<7;t++)e._a[t]=s[t]=null==e._a[t]?2===t?1:0:e._a[t];24===e._a[Fe]&&0===e._a[Ve]&&0===e._a[qe]&&0===e._a[He]&&(e._nextDay=!0,e._a[Fe]=0),e._d=(e._useUTC?bt:yt).apply(null,s),i=e._useUTC?e._d.getUTCDay():e._d.getDay(),null!=e._tzm&&e._d.setUTCMinutes(e._d.getUTCMinutes()-e._tzm),e._nextDay&&(e._a[Fe]=24),e._w&&"undefined"!==typeof e._w.d&&e._w.d!==i&&(g(e).weekdayMismatch=!0)}}function Fn(e){var t,n,r,i,o,s,a,l,c;null!=(t=e._w).GG||null!=t.W||null!=t.E?(o=1,s=4,n=Mn(t.GG,e._a[Me],_t(Qn(),1,4).year),r=Mn(t.W,1),((i=Mn(t.E,1))<1||i>7)&&(l=!0)):(o=e._locale._week.dow,s=e._locale._week.doy,c=_t(Qn(),o,s),n=Mn(t.gg,e._a[Me],c.year),r=Mn(t.w,c.week),null!=t.d?((i=t.d)<0||i>6)&&(l=!0):null!=t.e?(i=t.e+o,(t.e<0||t.e>6)&&(l=!0)):i=o),r<1||r>xt(n,o,s)?g(e)._overflowWeeks=!0:null!=l?g(e)._overflowWeekday=!0:(a=At(n,r,i,o,s),e._a[Me]=a.year,e._dayOfYear=a.dayOfYear)}function Vn(e){if(e._f!==r.ISO_8601)if(e._f!==r.RFC_2822){e._a=[],g(e).empty=!0;var t,n,i,o,s,a,l,c=""+e._i,u=c.length,d=0;for(l=(i=z(e._f,e._locale).match(L)||[]).length,t=0;t<l;t++)o=i[t],(n=(c.match(Ce(o,e))||[])[0])&&((s=c.substr(0,c.indexOf(n))).length>0&&g(e).unusedInput.push(s),c=c.slice(c.indexOf(n)+n.length),d+=n.length),U[o]?(n?g(e).empty=!1:g(e).unusedTokens.push(o),Re(o,n,e)):e._strict&&!n&&g(e).unusedTokens.push(o);g(e).charsLeftOver=u-d,c.length>0&&g(e).unusedInput.push(c),e._a[Fe]<=12&&!0===g(e).bigHour&&e._a[Fe]>0&&(g(e).bigHour=void 0),g(e).parsedDateParts=e._a.slice(0),g(e).meridiem=e._meridiem,e._a[Fe]=qn(e._locale,e._a[Fe],e._meridiem),null!==(a=g(e).era)&&(e._a[Me]=e._locale.erasConvertYear(a,e._a[Me])),Un(e),wn(e)}else Rn(e);else Nn(e)}function qn(e,t,n){var r;return null==n?t:null!=e.meridiemHour?e.meridiemHour(t,n):null!=e.isPM?((r=e.isPM(n))&&t<12&&(t+=12),r||12!==t||(t=0),t):t}function Hn(e){var t,n,r,i,o,s,a=!1,l=e._f.length;if(0===l)return g(e).invalidFormat=!0,void(e._d=new Date(NaN));for(i=0;i<l;i++)o=0,s=!1,t=A({},e),null!=e._useUTC&&(t._useUTC=e._useUTC),t._f=e._f[i],Vn(t),v(t)&&(s=!0),o+=g(t).charsLeftOver,o+=10*g(t).unusedTokens.length,g(t).score=o,a?o<r&&(r=o,n=t):(null==r||o<r||s)&&(r=o,n=t,s&&(a=!0));f(e,n||t)}function zn(e){if(!e._d){var t=re(e._i),n=void 0===t.day?t.date:t.day;e._a=h([t.year,t.month,n,t.hour,t.minute,t.second,t.millisecond],(function(e){return e&&parseInt(e,10)})),Un(e)}}function Gn(e){var t=new _(wn(Yn(e)));return t._nextDay&&(t.add(1,"d"),t._nextDay=void 0),t}function Yn(e){var t=e._i,n=e._f;return e._locale=e._locale||yn(e._l),null===t||void 0===n&&""===t?y({nullInput:!0}):("string"===typeof t&&(e._i=t=e._locale.preparse(t)),x(t)?new _(wn(t)):(d(t)?e._d=t:o(n)?Hn(e):n?Vn(e):Wn(e),v(e)||(e._d=null),e))}function Wn(e){var t=e._i;c(t)?e._d=new Date(r.now()):d(t)?e._d=new Date(t.valueOf()):"string"===typeof t?Ln(e):o(t)?(e._a=h(t.slice(0),(function(e){return parseInt(e,10)})),Un(e)):s(t)?zn(e):u(t)?e._d=new Date(t):r.createFromInputFallback(e)}function Kn(e,t,n,r,i){var a={};return!0!==t&&!1!==t||(r=t,t=void 0),!0!==n&&!1!==n||(r=n,n=void 0),(s(e)&&l(e)||o(e)&&0===e.length)&&(e=void 0),a._isAMomentObject=!0,a._useUTC=a._isUTC=i,a._l=n,a._i=e,a._f=t,a._strict=r,Gn(a)}function Qn(e,t,n,r){return Kn(e,t,n,r,!1)}r.createFromInputFallback=k("value provided is not in a recognized RFC2822 or ISO format. moment construction falls back to js Date(), which is not reliable across all browsers and versions. Non RFC2822/ISO date formats are discouraged. Please refer to http://momentjs.com/guides/#/warnings/js-date/ for more info.",(function(e){e._d=new Date(e._i+(e._useUTC?" UTC":""))})),r.ISO_8601=function(){},r.RFC_2822=function(){};var Jn=k("moment().min is deprecated, use moment.max instead. http://momentjs.com/guides/#/warnings/min-max/",(function(){var e=Qn.apply(null,arguments);return this.isValid()&&e.isValid()?e<this?this:e:y()})),Xn=k("moment().max is deprecated, use moment.min instead. http://momentjs.com/guides/#/warnings/min-max/",(function(){var e=Qn.apply(null,arguments);return this.isValid()&&e.isValid()?e>this?this:e:y()}));function Zn(e,t){var n,r;if(1===t.length&&o(t[0])&&(t=t[0]),!t.length)return Qn();for(n=t[0],r=1;r<t.length;++r)t[r].isValid()&&!t[r][e](n)||(n=t[r]);return n}function $n(){return Zn("isBefore",[].slice.call(arguments,0))}function er(){return Zn("isAfter",[].slice.call(arguments,0))}var tr=function(){return Date.now?Date.now():+new Date},nr=["year","quarter","month","week","day","hour","minute","second","millisecond"];function rr(e){var t,n,r=!1,i=nr.length;for(t in e)if(a(e,t)&&(-1===We.call(nr,t)||null!=e[t]&&isNaN(e[t])))return!1;for(n=0;n<i;++n)if(e[nr[n]]){if(r)return!1;parseFloat(e[nr[n]])!==Ie(e[nr[n]])&&(r=!0)}return!0}function ir(){return this._isValid}function or(){return Tr(NaN)}function sr(e){var t=re(e),n=t.year||0,r=t.quarter||0,i=t.month||0,o=t.week||t.isoWeek||0,s=t.day||0,a=t.hour||0,l=t.minute||0,c=t.second||0,u=t.millisecond||0;this._isValid=rr(t),this._milliseconds=+u+1e3*c+6e4*l+1e3*a*60*60,this._days=+s+7*o,this._months=+i+3*r+12*n,this._data={},this._locale=yn(),this._bubble()}function ar(e){return e instanceof sr}function lr(e){return e<0?-1*Math.round(-1*e):Math.round(e)}function cr(e,t,n){var r,i=Math.min(e.length,t.length),o=Math.abs(e.length-t.length),s=0;for(r=0;r<i;r++)(n&&e[r]!==t[r]||!n&&Ie(e[r])!==Ie(t[r]))&&s++;return s+o}function ur(e,t){F(e,0,0,(function(){var e=this.utcOffset(),n="+";return e<0&&(e=-e,n="-"),n+R(~~(e/60),2)+t+R(~~e%60,2)}))}ur("Z",":"),ur("ZZ",""),Ee("Z",Ae),Ee("ZZ",Ae),je(["Z","ZZ"],(function(e,t,n){n._useUTC=!0,n._tzm=hr(Ae,e)}));var dr=/([\+\-]|\d\d)/gi;function hr(e,t){var n,r,i=(t||"").match(e);return null===i?null:0===(r=60*(n=((i[i.length-1]||[])+"").match(dr)||["-",0,0])[1]+Ie(n[2]))?0:"+"===n[0]?r:-r}function fr(e,t){var n,i;return t._isUTC?(n=t.clone(),i=(x(e)||d(e)?e.valueOf():Qn(e).valueOf())-n.valueOf(),n._d.setTime(n._d.valueOf()+i),r.updateOffset(n,!1),n):Qn(e).local()}function pr(e){return-Math.round(e._d.getTimezoneOffset())}function mr(e,t,n){var i,o=this._offset||0;if(!this.isValid())return null!=e?this:NaN;if(null!=e){if("string"===typeof e){if(null===(e=hr(Ae,e)))return this}else Math.abs(e)<16&&!n&&(e*=60);return!this._isUTC&&t&&(i=pr(this)),this._offset=e,this._isUTC=!0,null!=i&&this.add(i,"m"),o!==e&&(!t||this._changeInProgress?jr(this,Tr(e-o,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,r.updateOffset(this,!0),this._changeInProgress=null)),this}return this._isUTC?o:pr(this)}function gr(e,t){return null!=e?("string"!==typeof e&&(e=-e),this.utcOffset(e,t),this):-this.utcOffset()}function vr(e){return this.utcOffset(0,e)}function yr(e){return this._isUTC&&(this.utcOffset(0,e),this._isUTC=!1,e&&this.subtract(pr(this),"m")),this}function br(){if(null!=this._tzm)this.utcOffset(this._tzm,!1,!0);else if("string"===typeof this._i){var e=hr(we,this._i);null!=e?this.utcOffset(e):this.utcOffset(0,!0)}return this}function wr(e){return!!this.isValid()&&(e=e?Qn(e).utcOffset():0,(this.utcOffset()-e)%60===0)}function Ar(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()}function _r(){if(!c(this._isDSTShifted))return this._isDSTShifted;var e,t={};return A(t,this),(t=Yn(t))._a?(e=t._isUTC?p(t._a):Qn(t._a),this._isDSTShifted=this.isValid()&&cr(t._a,e.toArray())>0):this._isDSTShifted=!1,this._isDSTShifted}function xr(){return!!this.isValid()&&!this._isUTC}function Sr(){return!!this.isValid()&&this._isUTC}function kr(){return!!this.isValid()&&this._isUTC&&0===this._offset}r.updateOffset=function(){};var Er=/^(-|\+)?(?:(\d*)[. ])?(\d+):(\d+)(?::(\d+)(\.\d*)?)?$/,Cr=/^(-|\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/;function Tr(e,t){var n,r,i,o=e,s=null;return ar(e)?o={ms:e._milliseconds,d:e._days,M:e._months}:u(e)||!isNaN(+e)?(o={},t?o[t]=+e:o.milliseconds=+e):(s=Er.exec(e))?(n="-"===s[1]?-1:1,o={y:0,d:Ie(s[Ue])*n,h:Ie(s[Fe])*n,m:Ie(s[Ve])*n,s:Ie(s[qe])*n,ms:Ie(lr(1e3*s[He]))*n}):(s=Cr.exec(e))?(n="-"===s[1]?-1:1,o={y:Nr(s[2],n),M:Nr(s[3],n),w:Nr(s[4],n),d:Nr(s[5],n),h:Nr(s[6],n),m:Nr(s[7],n),s:Nr(s[8],n)}):null==o?o={}:"object"===typeof o&&("from"in o||"to"in o)&&(i=Ir(Qn(o.from),Qn(o.to)),(o={}).ms=i.milliseconds,o.M=i.months),r=new sr(o),ar(e)&&a(e,"_locale")&&(r._locale=e._locale),ar(e)&&a(e,"_isValid")&&(r._isValid=e._isValid),r}function Nr(e,t){var n=e&&parseFloat(e.replace(",","."));return(isNaN(n)?0:n)*t}function Or(e,t){var n={};return n.months=t.month()-e.month()+12*(t.year()-e.year()),e.clone().add(n.months,"M").isAfter(t)&&--n.months,n.milliseconds=+t-+e.clone().add(n.months,"M"),n}function Ir(e,t){var n;return e.isValid()&&t.isValid()?(t=fr(t,e),e.isBefore(t)?n=Or(e,t):((n=Or(t,e)).milliseconds=-n.milliseconds,n.months=-n.months),n):{milliseconds:0,months:0}}function Dr(e,t){return function(n,r){var i;return null===r||isNaN(+r)||(T(t,"moment()."+t+"(period, number) is deprecated. Please use moment()."+t+"(number, period). See http://momentjs.com/guides/#/warnings/add-inverted-param/ for more info."),i=n,n=r,r=i),jr(this,Tr(n,r),e),this}}function jr(e,t,n,i){var o=t._milliseconds,s=lr(t._days),a=lr(t._months);e.isValid()&&(i=null==i||i,a&&ht(e,Xe(e,"Month")+a*n),s&&Ze(e,"Date",Xe(e,"Date")+s*n),o&&e._d.setTime(e._d.valueOf()+o*n),i&&r.updateOffset(e,s||a))}Tr.fn=sr.prototype,Tr.invalid=or;var Pr=Dr(1,"add"),Rr=Dr(-1,"subtract");function Lr(e){return"string"===typeof e||e instanceof String}function Mr(e){return x(e)||d(e)||Lr(e)||u(e)||Ur(e)||Br(e)||null===e||void 0===e}function Br(e){var t,n,r=s(e)&&!l(e),i=!1,o=["years","year","y","months","month","M","days","day","d","dates","date","D","hours","hour","h","minutes","minute","m","seconds","second","s","milliseconds","millisecond","ms"],c=o.length;for(t=0;t<c;t+=1)n=o[t],i=i||a(e,n);return r&&i}function Ur(e){var t=o(e),n=!1;return t&&(n=0===e.filter((function(t){return!u(t)&&Lr(e)})).length),t&&n}function Fr(e){var t,n,r=s(e)&&!l(e),i=!1,o=["sameDay","nextDay","lastDay","nextWeek","lastWeek","sameElse"];for(t=0;t<o.length;t+=1)n=o[t],i=i||a(e,n);return r&&i}function Vr(e,t){var n=e.diff(t,"days",!0);return n<-6?"sameElse":n<-1?"lastWeek":n<0?"lastDay":n<1?"sameDay":n<2?"nextDay":n<7?"nextWeek":"sameElse"}function qr(e,t){1===arguments.length&&(arguments[0]?Mr(arguments[0])?(e=arguments[0],t=void 0):Fr(arguments[0])&&(t=arguments[0],e=void 0):(e=void 0,t=void 0));var n=e||Qn(),i=fr(n,this).startOf("day"),o=r.calendarFormat(this,i)||"sameElse",s=t&&(N(t[o])?t[o].call(this,n):t[o]);return this.format(s||this.localeData().calendar(o,this,Qn(n)))}function Hr(){return new _(this)}function zr(e,t){var n=x(e)?e:Qn(e);return!(!this.isValid()||!n.isValid())&&("millisecond"===(t=ne(t)||"millisecond")?this.valueOf()>n.valueOf():n.valueOf()<this.clone().startOf(t).valueOf())}function Gr(e,t){var n=x(e)?e:Qn(e);return!(!this.isValid()||!n.isValid())&&("millisecond"===(t=ne(t)||"millisecond")?this.valueOf()<n.valueOf():this.clone().endOf(t).valueOf()<n.valueOf())}function Yr(e,t,n,r){var i=x(e)?e:Qn(e),o=x(t)?t:Qn(t);return!!(this.isValid()&&i.isValid()&&o.isValid())&&("("===(r=r||"()")[0]?this.isAfter(i,n):!this.isBefore(i,n))&&(")"===r[1]?this.isBefore(o,n):!this.isAfter(o,n))}function Wr(e,t){var n,r=x(e)?e:Qn(e);return!(!this.isValid()||!r.isValid())&&("millisecond"===(t=ne(t)||"millisecond")?this.valueOf()===r.valueOf():(n=r.valueOf(),this.clone().startOf(t).valueOf()<=n&&n<=this.clone().endOf(t).valueOf()))}function Kr(e,t){return this.isSame(e,t)||this.isAfter(e,t)}function Qr(e,t){return this.isSame(e,t)||this.isBefore(e,t)}function Jr(e,t,n){var r,i,o;if(!this.isValid())return NaN;if(!(r=fr(e,this)).isValid())return NaN;switch(i=6e4*(r.utcOffset()-this.utcOffset()),t=ne(t)){case"year":o=Xr(this,r)/12;break;case"month":o=Xr(this,r);break;case"quarter":o=Xr(this,r)/3;break;case"second":o=(this-r)/1e3;break;case"minute":o=(this-r)/6e4;break;case"hour":o=(this-r)/36e5;break;case"day":o=(this-r-i)/864e5;break;case"week":o=(this-r-i)/6048e5;break;default:o=this-r}return n?o:Oe(o)}function Xr(e,t){if(e.date()<t.date())return-Xr(t,e);var n=12*(t.year()-e.year())+(t.month()-e.month()),r=e.clone().add(n,"months");return-(n+(t-r<0?(t-r)/(r-e.clone().add(n-1,"months")):(t-r)/(e.clone().add(n+1,"months")-r)))||0}function Zr(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")}function $r(e){if(!this.isValid())return null;var t=!0!==e,n=t?this.clone().utc():this;return n.year()<0||n.year()>9999?H(n,t?"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYYYY-MM-DD[T]HH:mm:ss.SSSZ"):N(Date.prototype.toISOString)?t?this.toDate().toISOString():new Date(this.valueOf()+60*this.utcOffset()*1e3).toISOString().replace("Z",H(n,"Z")):H(n,t?"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYY-MM-DD[T]HH:mm:ss.SSSZ")}function ei(){if(!this.isValid())return"moment.invalid(/* "+this._i+" */)";var e,t,n,r,i="moment",o="";return this.isLocal()||(i=0===this.utcOffset()?"moment.utc":"moment.parseZone",o="Z"),e="["+i+'("]',t=0<=this.year()&&this.year()<=9999?"YYYY":"YYYYYY",n="-MM-DD[T]HH:mm:ss.SSS",r=o+'[")]',this.format(e+t+n+r)}function ti(e){e||(e=this.isUtc()?r.defaultFormatUtc:r.defaultFormat);var t=H(this,e);return this.localeData().postformat(t)}function ni(e,t){return this.isValid()&&(x(e)&&e.isValid()||Qn(e).isValid())?Tr({to:this,from:e}).locale(this.locale()).humanize(!t):this.localeData().invalidDate()}function ri(e){return this.from(Qn(),e)}function ii(e,t){return this.isValid()&&(x(e)&&e.isValid()||Qn(e).isValid())?Tr({from:this,to:e}).locale(this.locale()).humanize(!t):this.localeData().invalidDate()}function oi(e){return this.to(Qn(),e)}function si(e){var t;return void 0===e?this._locale._abbr:(null!=(t=yn(e))&&(this._locale=t),this)}r.defaultFormat="YYYY-MM-DDTHH:mm:ssZ",r.defaultFormatUtc="YYYY-MM-DDTHH:mm:ss[Z]";var ai=k("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",(function(e){return void 0===e?this.localeData():this.locale(e)}));function li(){return this._locale}var ci=1e3,ui=60*ci,di=60*ui,hi=3506328*di;function fi(e,t){return(e%t+t)%t}function pi(e,t,n){return e<100&&e>=0?new Date(e+400,t,n)-hi:new Date(e,t,n).valueOf()}function mi(e,t,n){return e<100&&e>=0?Date.UTC(e+400,t,n)-hi:Date.UTC(e,t,n)}function gi(e){var t,n;if(void 0===(e=ne(e))||"millisecond"===e||!this.isValid())return this;switch(n=this._isUTC?mi:pi,e){case"year":t=n(this.year(),0,1);break;case"quarter":t=n(this.year(),this.month()-this.month()%3,1);break;case"month":t=n(this.year(),this.month(),1);break;case"week":t=n(this.year(),this.month(),this.date()-this.weekday());break;case"isoWeek":t=n(this.year(),this.month(),this.date()-(this.isoWeekday()-1));break;case"day":case"date":t=n(this.year(),this.month(),this.date());break;case"hour":t=this._d.valueOf(),t-=fi(t+(this._isUTC?0:this.utcOffset()*ui),di);break;case"minute":t=this._d.valueOf(),t-=fi(t,ui);break;case"second":t=this._d.valueOf(),t-=fi(t,ci)}return this._d.setTime(t),r.updateOffset(this,!0),this}function vi(e){var t,n;if(void 0===(e=ne(e))||"millisecond"===e||!this.isValid())return this;switch(n=this._isUTC?mi:pi,e){case"year":t=n(this.year()+1,0,1)-1;break;case"quarter":t=n(this.year(),this.month()-this.month()%3+3,1)-1;break;case"month":t=n(this.year(),this.month()+1,1)-1;break;case"week":t=n(this.year(),this.month(),this.date()-this.weekday()+7)-1;break;case"isoWeek":t=n(this.year(),this.month(),this.date()-(this.isoWeekday()-1)+7)-1;break;case"day":case"date":t=n(this.year(),this.month(),this.date()+1)-1;break;case"hour":t=this._d.valueOf(),t+=di-fi(t+(this._isUTC?0:this.utcOffset()*ui),di)-1;break;case"minute":t=this._d.valueOf(),t+=ui-fi(t,ui)-1;break;case"second":t=this._d.valueOf(),t+=ci-fi(t,ci)-1}return this._d.setTime(t),r.updateOffset(this,!0),this}function yi(){return this._d.valueOf()-6e4*(this._offset||0)}function bi(){return Math.floor(this.valueOf()/1e3)}function wi(){return new Date(this.valueOf())}function Ai(){var e=this;return[e.year(),e.month(),e.date(),e.hour(),e.minute(),e.second(),e.millisecond()]}function _i(){var e=this;return{years:e.year(),months:e.month(),date:e.date(),hours:e.hours(),minutes:e.minutes(),seconds:e.seconds(),milliseconds:e.milliseconds()}}function xi(){return this.isValid()?this.toISOString():null}function Si(){return v(this)}function ki(){return f({},g(this))}function Ei(){return g(this).overflow}function Ci(){return{input:this._i,format:this._f,locale:this._locale,isUTC:this._isUTC,strict:this._strict}}function Ti(e,t){var n,i,o,s=this._eras||yn("en")._eras;for(n=0,i=s.length;n<i;++n)switch("string"===typeof s[n].since&&(o=r(s[n].since).startOf("day"),s[n].since=o.valueOf()),typeof s[n].until){case"undefined":s[n].until=1/0;break;case"string":o=r(s[n].until).startOf("day").valueOf(),s[n].until=o.valueOf()}return s}function Ni(e,t,n){var r,i,o,s,a,l=this.eras();for(e=e.toUpperCase(),r=0,i=l.length;r<i;++r)if(o=l[r].name.toUpperCase(),s=l[r].abbr.toUpperCase(),a=l[r].narrow.toUpperCase(),n)switch(t){case"N":case"NN":case"NNN":if(s===e)return l[r];break;case"NNNN":if(o===e)return l[r];break;case"NNNNN":if(a===e)return l[r]}else if([o,s,a].indexOf(e)>=0)return l[r]}function Oi(e,t){var n=e.since<=e.until?1:-1;return void 0===t?r(e.since).year():r(e.since).year()+(t-e.offset)*n}function Ii(){var e,t,n,r=this.localeData().eras();for(e=0,t=r.length;e<t;++e){if(n=this.clone().startOf("day").valueOf(),r[e].since<=n&&n<=r[e].until)return r[e].name;if(r[e].until<=n&&n<=r[e].since)return r[e].name}return""}function Di(){var e,t,n,r=this.localeData().eras();for(e=0,t=r.length;e<t;++e){if(n=this.clone().startOf("day").valueOf(),r[e].since<=n&&n<=r[e].until)return r[e].narrow;if(r[e].until<=n&&n<=r[e].since)return r[e].narrow}return""}function ji(){var e,t,n,r=this.localeData().eras();for(e=0,t=r.length;e<t;++e){if(n=this.clone().startOf("day").valueOf(),r[e].since<=n&&n<=r[e].until)return r[e].abbr;if(r[e].until<=n&&n<=r[e].since)return r[e].abbr}return""}function Pi(){var e,t,n,i,o=this.localeData().eras();for(e=0,t=o.length;e<t;++e)if(n=o[e].since<=o[e].until?1:-1,i=this.clone().startOf("day").valueOf(),o[e].since<=i&&i<=o[e].until||o[e].until<=i&&i<=o[e].since)return(this.year()-r(o[e].since).year())*n+o[e].offset;return this.year()}function Ri(e){return a(this,"_erasNameRegex")||qi.call(this),e?this._erasNameRegex:this._erasRegex}function Li(e){return a(this,"_erasAbbrRegex")||qi.call(this),e?this._erasAbbrRegex:this._erasRegex}function Mi(e){return a(this,"_erasNarrowRegex")||qi.call(this),e?this._erasNarrowRegex:this._erasRegex}function Bi(e,t){return t.erasAbbrRegex(e)}function Ui(e,t){return t.erasNameRegex(e)}function Fi(e,t){return t.erasNarrowRegex(e)}function Vi(e,t){return t._eraYearOrdinalRegex||ye}function qi(){var e,t,n,r,i,o=[],s=[],a=[],l=[],c=this.eras();for(e=0,t=c.length;e<t;++e)n=Ne(c[e].name),r=Ne(c[e].abbr),i=Ne(c[e].narrow),s.push(n),o.push(r),a.push(i),l.push(n),l.push(r),l.push(i);this._erasRegex=new RegExp("^("+l.join("|")+")","i"),this._erasNameRegex=new RegExp("^("+s.join("|")+")","i"),this._erasAbbrRegex=new RegExp("^("+o.join("|")+")","i"),this._erasNarrowRegex=new RegExp("^("+a.join("|")+")","i")}function Hi(e,t){F(0,[e,e.length],0,t)}function zi(e){return Ji.call(this,e,this.week(),this.weekday()+this.localeData()._week.dow,this.localeData()._week.dow,this.localeData()._week.doy)}function Gi(e){return Ji.call(this,e,this.isoWeek(),this.isoWeekday(),1,4)}function Yi(){return xt(this.year(),1,4)}function Wi(){return xt(this.isoWeekYear(),1,4)}function Ki(){var e=this.localeData()._week;return xt(this.year(),e.dow,e.doy)}function Qi(){var e=this.localeData()._week;return xt(this.weekYear(),e.dow,e.doy)}function Ji(e,t,n,r,i){var o;return null==e?_t(this,r,i).year:(t>(o=xt(e,r,i))&&(t=o),Xi.call(this,e,t,n,r,i))}function Xi(e,t,n,r,i){var o=At(e,t,n,r,i),s=bt(o.year,0,o.dayOfYear);return this.year(s.getUTCFullYear()),this.month(s.getUTCMonth()),this.date(s.getUTCDate()),this}function Zi(e){return null==e?Math.ceil((this.month()+1)/3):this.month(3*(e-1)+this.month()%3)}F("N",0,0,"eraAbbr"),F("NN",0,0,"eraAbbr"),F("NNN",0,0,"eraAbbr"),F("NNNN",0,0,"eraName"),F("NNNNN",0,0,"eraNarrow"),F("y",["y",1],"yo","eraYear"),F("y",["yy",2],0,"eraYear"),F("y",["yyy",3],0,"eraYear"),F("y",["yyyy",4],0,"eraYear"),Ee("N",Bi),Ee("NN",Bi),Ee("NNN",Bi),Ee("NNNN",Ui),Ee("NNNNN",Fi),je(["N","NN","NNN","NNNN","NNNNN"],(function(e,t,n,r){var i=n._locale.erasParse(e,r,n._strict);i?g(n).era=i:g(n).invalidEra=e})),Ee("y",ye),Ee("yy",ye),Ee("yyy",ye),Ee("yyyy",ye),Ee("yo",Vi),je(["y","yy","yyy","yyyy"],Me),je(["yo"],(function(e,t,n,r){var i;n._locale._eraYearOrdinalRegex&&(i=e.match(n._locale._eraYearOrdinalRegex)),n._locale.eraYearOrdinalParse?t[Me]=n._locale.eraYearOrdinalParse(e,i):t[Me]=parseInt(e,10)})),F(0,["gg",2],0,(function(){return this.weekYear()%100})),F(0,["GG",2],0,(function(){return this.isoWeekYear()%100})),Hi("gggg","weekYear"),Hi("ggggg","weekYear"),Hi("GGGG","isoWeekYear"),Hi("GGGGG","isoWeekYear"),Ee("G",be),Ee("g",be),Ee("GG",he,le),Ee("gg",he,le),Ee("GGGG",ge,ue),Ee("gggg",ge,ue),Ee("GGGGG",ve,de),Ee("ggggg",ve,de),Pe(["gggg","ggggg","GGGG","GGGGG"],(function(e,t,n,r){t[r.substr(0,2)]=Ie(e)})),Pe(["gg","GG"],(function(e,t,n,i){t[i]=r.parseTwoDigitYear(e)})),F("Q",0,"Qo","quarter"),Ee("Q",ae),je("Q",(function(e,t){t[Be]=3*(Ie(e)-1)})),F("D",["DD",2],"Do","date"),Ee("D",he,Se),Ee("DD",he,le),Ee("Do",(function(e,t){return e?t._dayOfMonthOrdinalParse||t._ordinalParse:t._dayOfMonthOrdinalParseLenient})),je(["D","DD"],Ue),je("Do",(function(e,t){t[Ue]=Ie(e.match(he)[0])}));var $i=Je("Date",!0);function eo(e){var t=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return null==e?t:this.add(e-t,"d")}F("DDD",["DDDD",3],"DDDo","dayOfYear"),Ee("DDD",me),Ee("DDDD",ce),je(["DDD","DDDD"],(function(e,t,n){n._dayOfYear=Ie(e)})),F("m",["mm",2],0,"minute"),Ee("m",he,ke),Ee("mm",he,le),je(["m","mm"],Ve);var to=Je("Minutes",!1);F("s",["ss",2],0,"second"),Ee("s",he,ke),Ee("ss",he,le),je(["s","ss"],qe);var no,ro,io=Je("Seconds",!1);for(F("S",0,0,(function(){return~~(this.millisecond()/100)})),F(0,["SS",2],0,(function(){return~~(this.millisecond()/10)})),F(0,["SSS",3],0,"millisecond"),F(0,["SSSS",4],0,(function(){return 10*this.millisecond()})),F(0,["SSSSS",5],0,(function(){return 100*this.millisecond()})),F(0,["SSSSSS",6],0,(function(){return 1e3*this.millisecond()})),F(0,["SSSSSSS",7],0,(function(){return 1e4*this.millisecond()})),F(0,["SSSSSSSS",8],0,(function(){return 1e5*this.millisecond()})),F(0,["SSSSSSSSS",9],0,(function(){return 1e6*this.millisecond()})),Ee("S",me,ae),Ee("SS",me,le),Ee("SSS",me,ce),no="SSSS";no.length<=9;no+="S")Ee(no,ye);function oo(e,t){t[He]=Ie(1e3*("0."+e))}for(no="S";no.length<=9;no+="S")je(no,oo);function so(){return this._isUTC?"UTC":""}function ao(){return this._isUTC?"Coordinated Universal Time":""}ro=Je("Milliseconds",!1),F("z",0,0,"zoneAbbr"),F("zz",0,0,"zoneName");var lo=_.prototype;function co(e){return Qn(1e3*e)}function uo(){return Qn.apply(null,arguments).parseZone()}function ho(e){return e}lo.add=Pr,lo.calendar=qr,lo.clone=Hr,lo.diff=Jr,lo.endOf=vi,lo.format=ti,lo.from=ni,lo.fromNow=ri,lo.to=ii,lo.toNow=oi,lo.get=$e,lo.invalidAt=Ei,lo.isAfter=zr,lo.isBefore=Gr,lo.isBetween=Yr,lo.isSame=Wr,lo.isSameOrAfter=Kr,lo.isSameOrBefore=Qr,lo.isValid=Si,lo.lang=ai,lo.locale=si,lo.localeData=li,lo.max=Xn,lo.min=Jn,lo.parsingFlags=ki,lo.set=et,lo.startOf=gi,lo.subtract=Rr,lo.toArray=Ai,lo.toObject=_i,lo.toDate=wi,lo.toISOString=$r,lo.inspect=ei,"undefined"!==typeof Symbol&&null!=Symbol.for&&(lo[Symbol.for("nodejs.util.inspect.custom")]=function(){return"Moment<"+this.format()+">"}),lo.toJSON=xi,lo.toString=Zr,lo.unix=bi,lo.valueOf=yi,lo.creationData=Ci,lo.eraName=Ii,lo.eraNarrow=Di,lo.eraAbbr=ji,lo.eraYear=Pi,lo.year=Ke,lo.isLeapYear=Qe,lo.weekYear=zi,lo.isoWeekYear=Gi,lo.quarter=lo.quarters=Zi,lo.month=ft,lo.daysInMonth=pt,lo.week=lo.weeks=Tt,lo.isoWeek=lo.isoWeeks=Nt,lo.weeksInYear=Ki,lo.weeksInWeekYear=Qi,lo.isoWeeksInYear=Yi,lo.isoWeeksInISOWeekYear=Wi,lo.date=$i,lo.day=lo.days=zt,lo.weekday=Gt,lo.isoWeekday=Yt,lo.dayOfYear=eo,lo.hour=lo.hours=rn,lo.minute=lo.minutes=to,lo.second=lo.seconds=io,lo.millisecond=lo.milliseconds=ro,lo.utcOffset=mr,lo.utc=vr,lo.local=yr,lo.parseZone=br,lo.hasAlignedHourOffset=wr,lo.isDST=Ar,lo.isLocal=xr,lo.isUtcOffset=Sr,lo.isUtc=kr,lo.isUTC=kr,lo.zoneAbbr=so,lo.zoneName=ao,lo.dates=k("dates accessor is deprecated. Use date instead.",$i),lo.months=k("months accessor is deprecated. Use month instead",ft),lo.years=k("years accessor is deprecated. Use year instead",Ke),lo.zone=k("moment().zone is deprecated, use moment().utcOffset instead. http://momentjs.com/guides/#/warnings/zone/",gr),lo.isDSTShifted=k("isDSTShifted is deprecated. See http://momentjs.com/guides/#/warnings/dst-shifted/ for more information",_r);var fo=D.prototype;function po(e,t,n,r){var i=yn(),o=p().set(r,t);return i[n](o,e)}function mo(e,t,n){if(u(e)&&(t=e,e=void 0),e=e||"",null!=t)return po(e,t,n,"month");var r,i=[];for(r=0;r<12;r++)i[r]=po(e,r,n,"month");return i}function go(e,t,n,r){"boolean"===typeof e?(u(t)&&(n=t,t=void 0),t=t||""):(n=t=e,e=!1,u(t)&&(n=t,t=void 0),t=t||"");var i,o=yn(),s=e?o._week.dow:0,a=[];if(null!=n)return po(t,(n+s)%7,r,"day");for(i=0;i<7;i++)a[i]=po(t,(i+s)%7,r,"day");return a}function vo(e,t){return mo(e,t,"months")}function yo(e,t){return mo(e,t,"monthsShort")}function bo(e,t,n){return go(e,t,n,"weekdays")}function wo(e,t,n){return go(e,t,n,"weekdaysShort")}function Ao(e,t,n){return go(e,t,n,"weekdaysMin")}fo.calendar=P,fo.longDateFormat=Y,fo.invalidDate=K,fo.ordinal=X,fo.preparse=ho,fo.postformat=ho,fo.relativeTime=$,fo.pastFuture=ee,fo.set=O,fo.eras=Ti,fo.erasParse=Ni,fo.erasConvertYear=Oi,fo.erasAbbrRegex=Li,fo.erasNameRegex=Ri,fo.erasNarrowRegex=Mi,fo.months=lt,fo.monthsShort=ct,fo.monthsParse=dt,fo.monthsRegex=gt,fo.monthsShortRegex=mt,fo.week=St,fo.firstDayOfYear=Ct,fo.firstDayOfWeek=Et,fo.weekdays=Ut,fo.weekdaysMin=Vt,fo.weekdaysShort=Ft,fo.weekdaysParse=Ht,fo.weekdaysRegex=Wt,fo.weekdaysShortRegex=Kt,fo.weekdaysMinRegex=Qt,fo.isPM=tn,fo.meridiem=on,mn("en",{eras:[{since:"0001-01-01",until:1/0,offset:1,name:"Anno Domini",narrow:"AD",abbr:"AD"},{since:"0000-12-31",until:-1/0,offset:1,name:"Before Christ",narrow:"BC",abbr:"BC"}],dayOfMonthOrdinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(e){var t=e%10;return e+(1===Ie(e%100/10)?"th":1===t?"st":2===t?"nd":3===t?"rd":"th")}}),r.lang=k("moment.lang is deprecated. Use moment.locale instead.",mn),r.langData=k("moment.langData is deprecated. Use moment.localeData instead.",yn);var _o=Math.abs;function xo(){var e=this._data;return this._milliseconds=_o(this._milliseconds),this._days=_o(this._days),this._months=_o(this._months),e.milliseconds=_o(e.milliseconds),e.seconds=_o(e.seconds),e.minutes=_o(e.minutes),e.hours=_o(e.hours),e.months=_o(e.months),e.years=_o(e.years),this}function So(e,t,n,r){var i=Tr(t,n);return e._milliseconds+=r*i._milliseconds,e._days+=r*i._days,e._months+=r*i._months,e._bubble()}function ko(e,t){return So(this,e,t,1)}function Eo(e,t){return So(this,e,t,-1)}function Co(e){return e<0?Math.floor(e):Math.ceil(e)}function To(){var e,t,n,r,i,o=this._milliseconds,s=this._days,a=this._months,l=this._data;return o>=0&&s>=0&&a>=0||o<=0&&s<=0&&a<=0||(o+=864e5*Co(Oo(a)+s),s=0,a=0),l.milliseconds=o%1e3,e=Oe(o/1e3),l.seconds=e%60,t=Oe(e/60),l.minutes=t%60,n=Oe(t/60),l.hours=n%24,s+=Oe(n/24),a+=i=Oe(No(s)),s-=Co(Oo(i)),r=Oe(a/12),a%=12,l.days=s,l.months=a,l.years=r,this}function No(e){return 4800*e/146097}function Oo(e){return 146097*e/4800}function Io(e){if(!this.isValid())return NaN;var t,n,r=this._milliseconds;if("month"===(e=ne(e))||"quarter"===e||"year"===e)switch(t=this._days+r/864e5,n=this._months+No(t),e){case"month":return n;case"quarter":return n/3;case"year":return n/12}else switch(t=this._days+Math.round(Oo(this._months)),e){case"week":return t/7+r/6048e5;case"day":return t+r/864e5;case"hour":return 24*t+r/36e5;case"minute":return 1440*t+r/6e4;case"second":return 86400*t+r/1e3;case"millisecond":return Math.floor(864e5*t)+r;default:throw new Error("Unknown unit "+e)}}function Do(e){return function(){return this.as(e)}}var jo=Do("ms"),Po=Do("s"),Ro=Do("m"),Lo=Do("h"),Mo=Do("d"),Bo=Do("w"),Uo=Do("M"),Fo=Do("Q"),Vo=Do("y"),qo=jo;function Ho(){return Tr(this)}function zo(e){return e=ne(e),this.isValid()?this[e+"s"]():NaN}function Go(e){return function(){return this.isValid()?this._data[e]:NaN}}var Yo=Go("milliseconds"),Wo=Go("seconds"),Ko=Go("minutes"),Qo=Go("hours"),Jo=Go("days"),Xo=Go("months"),Zo=Go("years");function $o(){return Oe(this.days()/7)}var es=Math.round,ts={ss:44,s:45,m:45,h:22,d:26,w:null,M:11};function ns(e,t,n,r,i){return i.relativeTime(t||1,!!n,e,r)}function rs(e,t,n,r){var i=Tr(e).abs(),o=es(i.as("s")),s=es(i.as("m")),a=es(i.as("h")),l=es(i.as("d")),c=es(i.as("M")),u=es(i.as("w")),d=es(i.as("y")),h=o<=n.ss&&["s",o]||o<n.s&&["ss",o]||s<=1&&["m"]||s<n.m&&["mm",s]||a<=1&&["h"]||a<n.h&&["hh",a]||l<=1&&["d"]||l<n.d&&["dd",l];return null!=n.w&&(h=h||u<=1&&["w"]||u<n.w&&["ww",u]),(h=h||c<=1&&["M"]||c<n.M&&["MM",c]||d<=1&&["y"]||["yy",d])[2]=t,h[3]=+e>0,h[4]=r,ns.apply(null,h)}function is(e){return void 0===e?es:"function"===typeof e&&(es=e,!0)}function os(e,t){return void 0!==ts[e]&&(void 0===t?ts[e]:(ts[e]=t,"s"===e&&(ts.ss=t-1),!0))}function ss(e,t){if(!this.isValid())return this.localeData().invalidDate();var n,r,i=!1,o=ts;return"object"===typeof e&&(t=e,e=!1),"boolean"===typeof e&&(i=e),"object"===typeof t&&(o=Object.assign({},ts,t),null!=t.s&&null==t.ss&&(o.ss=t.s-1)),r=rs(this,!i,o,n=this.localeData()),i&&(r=n.pastFuture(+this,r)),n.postformat(r)}var as=Math.abs;function ls(e){return(e>0)-(e<0)||+e}function cs(){if(!this.isValid())return this.localeData().invalidDate();var e,t,n,r,i,o,s,a,l=as(this._milliseconds)/1e3,c=as(this._days),u=as(this._months),d=this.asSeconds();return d?(e=Oe(l/60),t=Oe(e/60),l%=60,e%=60,n=Oe(u/12),u%=12,r=l?l.toFixed(3).replace(/\.?0+$/,""):"",i=d<0?"-":"",o=ls(this._months)!==ls(d)?"-":"",s=ls(this._days)!==ls(d)?"-":"",a=ls(this._milliseconds)!==ls(d)?"-":"",i+"P"+(n?o+n+"Y":"")+(u?o+u+"M":"")+(c?s+c+"D":"")+(t||e||l?"T":"")+(t?a+t+"H":"")+(e?a+e+"M":"")+(l?a+r+"S":"")):"P0D"}var us=sr.prototype;return us.isValid=ir,us.abs=xo,us.add=ko,us.subtract=Eo,us.as=Io,us.asMilliseconds=jo,us.asSeconds=Po,us.asMinutes=Ro,us.asHours=Lo,us.asDays=Mo,us.asWeeks=Bo,us.asMonths=Uo,us.asQuarters=Fo,us.asYears=Vo,us.valueOf=qo,us._bubble=To,us.clone=Ho,us.get=zo,us.milliseconds=Yo,us.seconds=Wo,us.minutes=Ko,us.hours=Qo,us.days=Jo,us.weeks=$o,us.months=Xo,us.years=Zo,us.humanize=ss,us.toISOString=cs,us.toString=cs,us.toJSON=cs,us.locale=si,us.localeData=li,us.toIsoString=k("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",cs),us.lang=ai,F("X",0,0,"unix"),F("x",0,0,"valueOf"),Ee("x",be),Ee("X",_e),je("X",(function(e,t,n){n._d=new Date(1e3*parseFloat(e))})),je("x",(function(e,t,n){n._d=new Date(Ie(e))})),r.version="2.30.1",i(Qn),r.fn=lo,r.min=$n,r.max=er,r.now=tr,r.utc=p,r.unix=co,r.months=vo,r.isDate=d,r.locale=mn,r.invalid=y,r.duration=Tr,r.isMoment=x,r.weekdays=bo,r.parseZone=uo,r.localeData=yn,r.isDuration=ar,r.monthsShort=yo,r.weekdaysMin=Ao,r.defineLocale=gn,r.updateLocale=vn,r.locales=bn,r.weekdaysShort=wo,r.normalizeUnits=ne,r.relativeTimeRounding=is,r.relativeTimeThreshold=os,r.calendarFormat=Vr,r.prototype=lo,r.HTML5_FMT={DATETIME_LOCAL:"YYYY-MM-DDTHH:mm",DATETIME_LOCAL_SECONDS:"YYYY-MM-DDTHH:mm:ss",DATETIME_LOCAL_MS:"YYYY-MM-DDTHH:mm:ss.SSS",DATE:"YYYY-MM-DD",TIME:"HH:mm",TIME_SECONDS:"HH:mm:ss",TIME_MS:"HH:mm:ss.SSS",WEEK:"GGGG-[W]WW",MONTH:"YYYY-MM"},r}()},3319:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return(0,o.default)((function(){for(var e=arguments.length,n=Array(e),r=0;r<e;r++)n[r]=arguments[r];var i=null;return t.forEach((function(e){if(null==i){var t=e.apply(void 0,n);null!=t&&(i=t)}})),i}))};var r,i=n(5696),o=(r=i)&&r.__esModule?r:{default:r};e.exports=t.default},5696:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){function t(t,n,r,i,o,s){var a=i||"<<anonymous>>",l=s||r;if(null==n[r])return t?new Error("Required "+o+" `"+l+"` was not specified in `"+a+"`."):null;for(var c=arguments.length,u=Array(c>6?c-6:0),d=6;d<c;d++)u[d-6]=arguments[d];return e.apply(void 0,[n,r,a,o,l].concat(u))}var n=t.bind(null,!1);return n.isRequired=t.bind(null,!0),n},e.exports=t.default},9147:(e,t,n)=>{"use strict";var r=n(876);function i(){}function o(){}o.resetWarningCache=i,e.exports=function(){function e(e,t,n,i,o,s){if(s!==r){var a=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw a.name="Invariant Violation",a}}function t(){return e}e.isRequired=e;var n={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:o,resetWarningCache:i};return n.PropTypes=n,n}},8967:(e,t,n)=>{e.exports=n(9147)()},876:e=>{"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},3361:(e,t,r)=>{var i;self,e.exports=(i=r(7565),(()=>{var e={303:(e,t,n)=>{e.exports=n(302),n(200),n(630),n(16),n(677),n(635),n(166),n(140),n(922)},635:(e,t,n)=>{var r,i,o;!function(s){"use strict";i=[n(302),n(677)],void 0===(o="function"==typeof(r=function(e){var t=e.ExifMap.prototype;t.tags={256:"ImageWidth",257:"ImageHeight",258:"BitsPerSample",259:"Compression",262:"PhotometricInterpretation",274:"Orientation",277:"SamplesPerPixel",284:"PlanarConfiguration",530:"YCbCrSubSampling",531:"YCbCrPositioning",282:"XResolution",283:"YResolution",296:"ResolutionUnit",273:"StripOffsets",278:"RowsPerStrip",279:"StripByteCounts",513:"JPEGInterchangeFormat",514:"JPEGInterchangeFormatLength",301:"TransferFunction",318:"WhitePoint",319:"PrimaryChromaticities",529:"YCbCrCoefficients",532:"ReferenceBlackWhite",306:"DateTime",270:"ImageDescription",271:"Make",272:"Model",305:"Software",315:"Artist",33432:"Copyright",34665:{36864:"ExifVersion",40960:"FlashpixVersion",40961:"ColorSpace",40962:"PixelXDimension",40963:"PixelYDimension",42240:"Gamma",37121:"ComponentsConfiguration",37122:"CompressedBitsPerPixel",37500:"MakerNote",37510:"UserComment",40964:"RelatedSoundFile",36867:"DateTimeOriginal",36868:"DateTimeDigitized",36880:"OffsetTime",36881:"OffsetTimeOriginal",36882:"OffsetTimeDigitized",37520:"SubSecTime",37521:"SubSecTimeOriginal",37522:"SubSecTimeDigitized",33434:"ExposureTime",33437:"FNumber",34850:"ExposureProgram",34852:"SpectralSensitivity",34855:"PhotographicSensitivity",34856:"OECF",34864:"SensitivityType",34865:"StandardOutputSensitivity",34866:"RecommendedExposureIndex",34867:"ISOSpeed",34868:"ISOSpeedLatitudeyyy",34869:"ISOSpeedLatitudezzz",37377:"ShutterSpeedValue",37378:"ApertureValue",37379:"BrightnessValue",37380:"ExposureBias",37381:"MaxApertureValue",37382:"SubjectDistance",37383:"MeteringMode",37384:"LightSource",37385:"Flash",37396:"SubjectArea",37386:"FocalLength",41483:"FlashEnergy",41484:"SpatialFrequencyResponse",41486:"FocalPlaneXResolution",41487:"FocalPlaneYResolution",41488:"FocalPlaneResolutionUnit",41492:"SubjectLocation",41493:"ExposureIndex",41495:"SensingMethod",41728:"FileSource",41729:"SceneType",41730:"CFAPattern",41985:"CustomRendered",41986:"ExposureMode",41987:"WhiteBalance",41988:"DigitalZoomRatio",41989:"FocalLengthIn35mmFilm",41990:"SceneCaptureType",41991:"GainControl",41992:"Contrast",41993:"Saturation",41994:"Sharpness",41995:"DeviceSettingDescription",41996:"SubjectDistanceRange",42016:"ImageUniqueID",42032:"CameraOwnerName",42033:"BodySerialNumber",42034:"LensSpecification",42035:"LensMake",42036:"LensModel",42037:"LensSerialNumber"},34853:{0:"GPSVersionID",1:"GPSLatitudeRef",2:"GPSLatitude",3:"GPSLongitudeRef",4:"GPSLongitude",5:"GPSAltitudeRef",6:"GPSAltitude",7:"GPSTimeStamp",8:"GPSSatellites",9:"GPSStatus",10:"GPSMeasureMode",11:"GPSDOP",12:"GPSSpeedRef",13:"GPSSpeed",14:"GPSTrackRef",15:"GPSTrack",16:"GPSImgDirectionRef",17:"GPSImgDirection",18:"GPSMapDatum",19:"GPSDestLatitudeRef",20:"GPSDestLatitude",21:"GPSDestLongitudeRef",22:"GPSDestLongitude",23:"GPSDestBearingRef",24:"GPSDestBearing",25:"GPSDestDistanceRef",26:"GPSDestDistance",27:"GPSProcessingMethod",28:"GPSAreaInformation",29:"GPSDateStamp",30:"GPSDifferential",31:"GPSHPositioningError"},40965:{1:"InteroperabilityIndex"}},t.tags.ifd1=t.tags,t.stringValues={ExposureProgram:{0:"Undefined",1:"Manual",2:"Normal program",3:"Aperture priority",4:"Shutter priority",5:"Creative program",6:"Action program",7:"Portrait mode",8:"Landscape mode"},MeteringMode:{0:"Unknown",1:"Average",2:"CenterWeightedAverage",3:"Spot",4:"MultiSpot",5:"Pattern",6:"Partial",255:"Other"},LightSource:{0:"Unknown",1:"Daylight",2:"Fluorescent",3:"Tungsten (incandescent light)",4:"Flash",9:"Fine weather",10:"Cloudy weather",11:"Shade",12:"Daylight fluorescent (D 5700 - 7100K)",13:"Day white fluorescent (N 4600 - 5400K)",14:"Cool white fluorescent (W 3900 - 4500K)",15:"White fluorescent (WW 3200 - 3700K)",17:"Standard light A",18:"Standard light B",19:"Standard light C",20:"D55",21:"D65",22:"D75",23:"D50",24:"ISO studio tungsten",255:"Other"},Flash:{0:"Flash did not fire",1:"Flash fired",5:"Strobe return light not detected",7:"Strobe return light detected",9:"Flash fired, compulsory flash mode",13:"Flash fired, compulsory flash mode, return light not detected",15:"Flash fired, compulsory flash mode, return light detected",16:"Flash did not fire, compulsory flash mode",24:"Flash did not fire, auto mode",25:"Flash fired, auto mode",29:"Flash fired, auto mode, return light not detected",31:"Flash fired, auto mode, return light detected",32:"No flash function",65:"Flash fired, red-eye reduction mode",69:"Flash fired, red-eye reduction mode, return light not detected",71:"Flash fired, red-eye reduction mode, return light detected",73:"Flash fired, compulsory flash mode, red-eye reduction mode",77:"Flash fired, compulsory flash mode, red-eye reduction mode, return light not detected",79:"Flash fired, compulsory flash mode, red-eye reduction mode, return light detected",89:"Flash fired, auto mode, red-eye reduction mode",93:"Flash fired, auto mode, return light not detected, red-eye reduction mode",95:"Flash fired, auto mode, return light detected, red-eye reduction mode"},SensingMethod:{1:"Undefined",2:"One-chip color area sensor",3:"Two-chip color area sensor",4:"Three-chip color area sensor",5:"Color sequential area sensor",7:"Trilinear sensor",8:"Color sequential linear sensor"},SceneCaptureType:{0:"Standard",1:"Landscape",2:"Portrait",3:"Night scene"},SceneType:{1:"Directly photographed"},CustomRendered:{0:"Normal process",1:"Custom process"},WhiteBalance:{0:"Auto white balance",1:"Manual white balance"},GainControl:{0:"None",1:"Low gain up",2:"High gain up",3:"Low gain down",4:"High gain down"},Contrast:{0:"Normal",1:"Soft",2:"Hard"},Saturation:{0:"Normal",1:"Low saturation",2:"High saturation"},Sharpness:{0:"Normal",1:"Soft",2:"Hard"},SubjectDistanceRange:{0:"Unknown",1:"Macro",2:"Close view",3:"Distant view"},FileSource:{3:"DSC"},ComponentsConfiguration:{0:"",1:"Y",2:"Cb",3:"Cr",4:"R",5:"G",6:"B"},Orientation:{1:"Original",2:"Horizontal flip",3:"Rotate 180\xb0 CCW",4:"Vertical flip",5:"Vertical flip + Rotate 90\xb0 CW",6:"Rotate 90\xb0 CW",7:"Horizontal flip + Rotate 90\xb0 CW",8:"Rotate 90\xb0 CCW"}},t.getText=function(e){var t=this.get(e);switch(e){case"LightSource":case"Flash":case"MeteringMode":case"ExposureProgram":case"SensingMethod":case"SceneCaptureType":case"SceneType":case"CustomRendered":case"WhiteBalance":case"GainControl":case"Contrast":case"Saturation":case"Sharpness":case"SubjectDistanceRange":case"FileSource":case"Orientation":return this.stringValues[e][t];case"ExifVersion":case"FlashpixVersion":if(!t)return;return String.fromCharCode(t[0],t[1],t[2],t[3]);case"ComponentsConfiguration":if(!t)return;return this.stringValues[e][t[0]]+this.stringValues[e][t[1]]+this.stringValues[e][t[2]]+this.stringValues[e][t[3]];case"GPSVersionID":if(!t)return;return t[0]+"."+t[1]+"."+t[2]+"."+t[3]}return String(t)},t.getAll=function(){var e,t,n,r={};for(e in this)Object.prototype.hasOwnProperty.call(this,e)&&((t=this[e])&&t.getAll?r[this.ifds[e].name]=t.getAll():(n=this.tags[e])&&(r[n]=this.getText(n)));return r},t.getName=function(e){var t=this.tags[e];return"object"==typeof t?this.ifds[e].name:t},function(){var e,n,r,i=t.tags;for(e in i)if(Object.prototype.hasOwnProperty.call(i,e))if(n=t.ifds[e])for(e in r=i[e])Object.prototype.hasOwnProperty.call(r,e)&&(n.map[r[e]]=Number(e));else t.map[i[e]]=Number(e)}()})?r.apply(t,i):r)||(e.exports=o)}()},677:(e,t,n)=>{var r,i,o;!function(s){"use strict";i=[n(302),n(630)],void 0===(o="function"==typeof(r=function(e){function t(e){e&&(Object.defineProperty(this,"map",{value:this.ifds[e].map}),Object.defineProperty(this,"tags",{value:this.tags&&this.tags[e]||{}}))}t.prototype.map={Orientation:274,Thumbnail:"ifd1",Blob:513,Exif:34665,GPSInfo:34853,Interoperability:40965},t.prototype.ifds={ifd1:{name:"Thumbnail",map:t.prototype.map},34665:{name:"Exif",map:{}},34853:{name:"GPSInfo",map:{}},40965:{name:"Interoperability",map:{}}},t.prototype.get=function(e){return this[e]||this[this.map[e]]};var n={1:{getValue:function(e,t){return e.getUint8(t)},size:1},2:{getValue:function(e,t){return String.fromCharCode(e.getUint8(t))},size:1,ascii:!0},3:{getValue:function(e,t,n){return e.getUint16(t,n)},size:2},4:{getValue:function(e,t,n){return e.getUint32(t,n)},size:4},5:{getValue:function(e,t,n){return e.getUint32(t,n)/e.getUint32(t+4,n)},size:8},9:{getValue:function(e,t,n){return e.getInt32(t,n)},size:4},10:{getValue:function(e,t,n){return e.getInt32(t,n)/e.getInt32(t+4,n)},size:8}};function r(e,t,r,i,o,s){var a,l,c,u,d,h,f=n[i];if(f){if(!((l=(a=f.size*o)>4?t+e.getUint32(r+8,s):r+8)+a>e.byteLength)){if(1===o)return f.getValue(e,l,s);for(c=[],u=0;u<o;u+=1)c[u]=f.getValue(e,l+u*f.size,s);if(f.ascii){for(d="",u=0;u<c.length&&"\0"!==(h=c[u]);u+=1)d+=h;return d}return c}console.log("Invalid Exif data: Invalid data offset.")}else console.log("Invalid Exif data: Invalid tag type.")}function i(e,t,n){return(!e||e[n])&&(!t||!0!==t[n])}function o(e,t,n,o,s,a,l,c){var u,d,h,f,p,m;if(n+6>e.byteLength)console.log("Invalid Exif data: Invalid directory offset.");else{if(!((d=n+2+12*(u=e.getUint16(n,o)))+4>e.byteLength)){for(h=0;h<u;h+=1)f=n+2+12*h,i(l,c,p=e.getUint16(f,o))&&(m=r(e,t,f,e.getUint16(f+2,o),e.getUint32(f+4,o),o),s[p]=m,a&&(a[p]=f));return e.getUint32(d,o)}console.log("Invalid Exif data: Invalid directory size.")}}n[7]=n[1],e.parseExifData=function(n,r,s,a,l){if(!l.disableExif){var c,u,d,h=l.includeExifTags,f=l.excludeExifTags||{34665:{37500:!0}},p=r+10;if(1165519206===n.getUint32(r+4))if(p+8>n.byteLength)console.log("Invalid Exif data: Invalid segment size.");else if(0===n.getUint16(r+8)){switch(n.getUint16(p)){case 18761:c=!0;break;case 19789:c=!1;break;default:return void console.log("Invalid Exif data: Invalid byte alignment marker.")}42===n.getUint16(p+2,c)?(u=n.getUint32(p+4,c),a.exif=new t,l.disableExifOffsets||(a.exifOffsets=new t,a.exifTiffOffset=p,a.exifLittleEndian=c),(u=o(n,p,p+u,c,a.exif,a.exifOffsets,h,f))&&i(h,f,"ifd1")&&(a.exif.ifd1=u,a.exifOffsets&&(a.exifOffsets.ifd1=p+u)),Object.keys(a.exif.ifds).forEach((function(e){!function(e,n,r,i,s,a,l){var c=e.exif[n];c&&(e.exif[n]=new t(n),e.exifOffsets&&(e.exifOffsets[n]=new t(n)),o(r,i,i+c,s,e.exif[n],e.exifOffsets&&e.exifOffsets[n],a&&a[n],l&&l[n]))}(a,e,n,p,c,h,f)})),(d=a.exif.ifd1)&&d[513]&&(d[513]=function(t,n,r){if(r){if(!(n+r>t.byteLength))return new Blob([e.bufferSlice.call(t.buffer,n,n+r)],{type:"image/jpeg"});console.log("Invalid Exif data: Invalid thumbnail data.")}}(n,p+d[513],d[514]))):console.log("Invalid Exif data: Missing TIFF marker.")}else console.log("Invalid Exif data: Missing byte alignment offset.")}},e.metaDataParsers.jpeg[65505].push(e.parseExifData),e.exifWriters={274:function(e,t,n){var r=t.exifOffsets[274];return r?(new DataView(e,r+8,2).setUint16(0,n,t.exifLittleEndian),e):e}},e.writeExifData=function(t,n,r,i){return e.exifWriters[n.exif.map[r]](t,n,i)},e.ExifMap=t})?r.apply(t,i):r)||(e.exports=o)}()},16:(e,t,n)=>{var r,i,o;!function(s){"use strict";i=[n(302)],void 0===(o="function"==typeof(r=function(e){var t=e.global;t.fetch&&t.Request&&t.Response&&t.Response.prototype.blob?e.fetchBlob=function(e,n,r){function i(e){return e.blob()}if(t.Promise&&"function"!=typeof n)return fetch(new Request(e,n)).then(i);fetch(new Request(e,r)).then(i).then(n).catch((function(e){n(null,e)}))}:t.XMLHttpRequest&&""===(new XMLHttpRequest).responseType&&(e.fetchBlob=function(e,n,r){function i(t,n){r=r||{};var i=new XMLHttpRequest;i.open(r.method||"GET",e),r.headers&&Object.keys(r.headers).forEach((function(e){i.setRequestHeader(e,r.headers[e])})),i.withCredentials="include"===r.credentials,i.responseType="blob",i.onload=function(){t(i.response)},i.onerror=i.onabort=i.ontimeout=function(e){t===n?n(null,e):n(e)},i.send(r.body)}return t.Promise&&"function"!=typeof n?(r=n,new Promise(i)):i(n,n)})})?r.apply(t,i):r)||(e.exports=o)}()},140:(e,t,n)=>{var r,i,o;!function(s){"use strict";i=[n(302),n(166)],void 0===(o="function"==typeof(r=function(e){var t=e.IptcMap.prototype;t.tags={0:"ApplicationRecordVersion",3:"ObjectTypeReference",4:"ObjectAttributeReference",5:"ObjectName",7:"EditStatus",8:"EditorialUpdate",10:"Urgency",12:"SubjectReference",15:"Category",20:"SupplementalCategories",22:"FixtureIdentifier",25:"Keywords",26:"ContentLocationCode",27:"ContentLocationName",30:"ReleaseDate",35:"ReleaseTime",37:"ExpirationDate",38:"ExpirationTime",40:"SpecialInstructions",42:"ActionAdvised",45:"ReferenceService",47:"ReferenceDate",50:"ReferenceNumber",55:"DateCreated",60:"TimeCreated",62:"DigitalCreationDate",63:"DigitalCreationTime",65:"OriginatingProgram",70:"ProgramVersion",75:"ObjectCycle",80:"Byline",85:"BylineTitle",90:"City",92:"Sublocation",95:"State",100:"CountryCode",101:"Country",103:"OriginalTransmissionReference",105:"Headline",110:"Credit",115:"Source",116:"CopyrightNotice",118:"Contact",120:"Caption",121:"LocalCaption",122:"Writer",125:"RasterizedCaption",130:"ImageType",131:"ImageOrientation",135:"LanguageIdentifier",150:"AudioType",151:"AudioSamplingRate",152:"AudioSamplingResolution",153:"AudioDuration",154:"AudioOutcue",184:"JobID",185:"MasterDocumentID",186:"ShortDocumentID",187:"UniqueDocumentID",188:"OwnerID",200:"ObjectPreviewFileFormat",201:"ObjectPreviewFileVersion",202:"ObjectPreviewData",221:"Prefs",225:"ClassifyState",228:"SimilarityIndex",230:"DocumentNotes",231:"DocumentHistory",232:"ExifCameraInfo",255:"CatalogSets"},t.stringValues={10:{0:"0 (reserved)",1:"1 (most urgent)",2:"2",3:"3",4:"4",5:"5 (normal urgency)",6:"6",7:"7",8:"8 (least urgent)",9:"9 (user-defined priority)"},75:{a:"Morning",b:"Both Morning and Evening",p:"Evening"},131:{L:"Landscape",P:"Portrait",S:"Square"}},t.getText=function(e){var t=this.get(e),n=this.map[e],r=this.stringValues[n];return r?r[t]:String(t)},t.getAll=function(){var e,t,n={};for(e in this)Object.prototype.hasOwnProperty.call(this,e)&&(t=this.tags[e])&&(n[t]=this.getText(t));return n},t.getName=function(e){return this.tags[e]},function(){var e,n=t.tags,r=t.map||{};for(e in n)Object.prototype.hasOwnProperty.call(n,e)&&(r[n[e]]=Number(e))}()})?r.apply(t,i):r)||(e.exports=o)}()},166:(e,t,n)=>{var r,i,o;!function(s){"use strict";i=[n(302),n(630)],void 0===(o="function"==typeof(r=function(e){function t(){}function n(e,t,n,r,i){return"binary"===t.types[e]?new Blob([n.buffer.slice(r,r+i)]):"Uint16"===t.types[e]?n.getUint16(r):function(e,t,n){for(var r="",i=t+n,o=t;o<i;o+=1)r+=String.fromCharCode(e.getUint8(o));return r}(n,r,i)}function r(e,t){return void 0===e?t:e instanceof Array?(e.push(t),e):[e,t]}function i(e,t,i,o,s,a){for(var l,c,u,d=t+i,h=t;h<d;)28===e.getUint8(h)&&2===e.getUint8(h+1)&&(u=e.getUint8(h+2),s&&!s[u]||a&&a[u]||(c=e.getInt16(h+3),l=n(u,o.iptc,e,h+5,c),o.iptc[u]=r(o.iptc[u],l),o.iptcOffsets&&(o.iptcOffsets[u]=h))),h+=1}function o(e,t){return 943868237===e.getUint32(t)&&1028===e.getUint16(t+4)}function s(e,t){var n=e.getUint8(t+7);return n%2!=0&&(n+=1),0===n&&(n=4),n}t.prototype.map={ObjectName:5},t.prototype.types={0:"Uint16",200:"Uint16",201:"Uint16",202:"binary"},t.prototype.get=function(e){return this[e]||this[this.map[e]]},e.parseIptcData=function(e,n,r,a,l){if(!l.disableIptc)for(var c=n+r;n+8<c;){if(o(e,n)){var u=s(e,n),d=n+8+u;if(d>c){console.log("Invalid IPTC data: Invalid segment offset.");break}var h=e.getUint16(n+6+u);if(n+h>c){console.log("Invalid IPTC data: Invalid segment size.");break}return a.iptc=new t,l.disableIptcOffsets||(a.iptcOffsets=new t),void i(e,d,h,a,l.includeIptcTags,l.excludeIptcTags||{202:!0})}n+=1}},e.metaDataParsers.jpeg[65517].push(e.parseIptcData),e.IptcMap=t})?r.apply(t,i):r)||(e.exports=o)}()},630:(e,t,n)=>{var r,i,o;!function(s){"use strict";i=[n(302)],void 0===(o="function"==typeof(r=function(e){var t=e.global,n=e.transform,r=t.Blob&&(Blob.prototype.slice||Blob.prototype.webkitSlice||Blob.prototype.mozSlice),i=t.ArrayBuffer&&ArrayBuffer.prototype.slice||function(e,t){t=t||this.byteLength-e;var n=new Uint8Array(this,e,t),r=new Uint8Array(t);return r.set(n),r.buffer},o={jpeg:{65505:[],65517:[]}};function s(n,s,a,l){var c=this;function u(s,u){if(!(t.DataView&&r&&n&&n.size>=12&&"image/jpeg"===n.type))return s(l);var d=a.maxMetaDataSize||262144;e.readFile(r.call(n,0,d),(function(e){var t=new DataView(e);if(65496!==t.getUint16(0))return u(new Error("Invalid JPEG file: Missing JPEG marker."));for(var n,r,d,h,f=2,p=t.byteLength-4,m=f;f<p&&((n=t.getUint16(f))>=65504&&n<=65519||65534===n);){if(f+(r=t.getUint16(f+2)+2)>t.byteLength){console.log("Invalid JPEG metadata: Invalid segment size.");break}if((d=o.jpeg[n])&&!a.disableMetaDataParsers)for(h=0;h<d.length;h+=1)d[h].call(c,t,f,r,l,a);m=f+=r}!a.disableImageHead&&m>6&&(l.imageHead=i.call(e,0,m)),s(l)}),u,"readAsArrayBuffer")||s(l)}return a=a||{},t.Promise&&"function"!=typeof s?(l=a=s||{},new Promise(u)):(l=l||{},u(s,s))}function a(e,t,n){return e&&t&&n?new Blob([n,r.call(e,t.byteLength)],{type:"image/jpeg"}):null}e.transform=function(r,i,o,a,l){e.requiresMetaData(i)?s(a,(function(s){s!==l&&(t.console&&console.log(s),s=l),n.call(e,r,i,o,a,s)}),i,l=l||{}):n.apply(e,arguments)},e.blobSlice=r,e.bufferSlice=i,e.replaceHead=function(e,n,r){var i={maxMetaDataSize:256,disableMetaDataParsers:!0};if(!r&&t.Promise)return s(e,i).then((function(t){return a(e,t.imageHead,n)}));s(e,(function(t){r(a(e,t.imageHead,n))}),i)},e.parseMetaData=s,e.metaDataParsers=o})?r.apply(t,i):r)||(e.exports=o)}()},922:(e,t,n)=>{var r,i,o;!function(s){"use strict";i=[n(302),n(200),n(630)],void 0===(o="function"==typeof(r=function(e){var t=e.transform,n=e.requiresCanvas,r=e.requiresMetaData,i=e.transformCoordinates,o=e.getTransformedOptions;function s(t,n){var r=t&&t.orientation;return!0===r&&!e.orientation||1===r&&e.orientation||(!n||e.orientation)&&r>1&&r<9}function a(e,t){return e!==t&&(1===e&&t>1&&t<9||e>1&&e<9)}function l(e,t){if(t>1&&t<9)switch(e){case 2:case 4:return t>4;case 5:case 7:return t%2==0;case 6:case 8:return 2===t||4===t||5===t||7===t}return!1}(function(e){if(e.global.document){var t=document.createElement("img");t.onload=function(){if(e.orientation=2===t.width&&3===t.height,e.orientation){var n=e.createCanvas(1,1,!0).getContext("2d");n.drawImage(t,1,1,1,1,0,0,1,1),e.orientationCropBug="255,255,255,255"!==n.getImageData(0,0,1,1).data.toString()}},t.src="data:image/jpeg;base64,/9j/4QAiRXhpZgAATU0AKgAAAAgAAQESAAMAAAABAAYAAAAAAAD/2wCEAAEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAf/AABEIAAIAAwMBEQACEQEDEQH/xABRAAEAAAAAAAAAAAAAAAAAAAAKEAEBAQADAQEAAAAAAAAAAAAGBQQDCAkCBwEBAAAAAAAAAAAAAAAAAAAAABEBAAAAAAAAAAAAAAAAAAAAAP/aAAwDAQACEQMRAD8AG8T9NfSMEVMhQvoP3fFiRZ+MTHDifa/95OFSZU5OzRzxkyejv8ciEfhSceSXGjS8eSdLnZc2HDm4M3BxcXwH/9k="}})(e),e.requiresCanvas=function(t){return s(t)||n.call(e,t)},e.requiresMetaData=function(t){return s(t,!0)||r.call(e,t)},e.transform=function(n,r,i,o,s){t.call(e,n,r,(function(t,n){if(n){var r=e.orientation&&n.exif&&n.exif.get("Orientation");if(r>4&&r<9){var o=n.originalWidth,s=n.originalHeight;n.originalWidth=s,n.originalHeight=o}}i(t,n)}),o,s)},e.getTransformedOptions=function(t,n,r){var i=o.call(e,t,n),s=r.exif&&r.exif.get("Orientation"),c=i.orientation,u=e.orientation&&s;if(!0===c&&(c=s),!a(c,u))return i;var d=i.top,h=i.right,f=i.bottom,p=i.left,m={};for(var g in i)Object.prototype.hasOwnProperty.call(i,g)&&(m[g]=i[g]);if(m.orientation=c,(c>4&&!(u>4)||c<5&&u>4)&&(m.maxWidth=i.maxHeight,m.maxHeight=i.maxWidth,m.minWidth=i.minHeight,m.minHeight=i.minWidth,m.sourceWidth=i.sourceHeight,m.sourceHeight=i.sourceWidth),u>1){switch(u){case 2:h=i.left,p=i.right;break;case 3:d=i.bottom,h=i.left,f=i.top,p=i.right;break;case 4:d=i.bottom,f=i.top;break;case 5:d=i.left,h=i.bottom,f=i.right,p=i.top;break;case 6:d=i.left,h=i.top,f=i.right,p=i.bottom;break;case 7:d=i.right,h=i.top,f=i.left,p=i.bottom;break;case 8:d=i.right,h=i.bottom,f=i.left,p=i.top}if(l(c,u)){var v=d,y=h;d=f,h=p,f=v,p=y}}switch(m.top=d,m.right=h,m.bottom=f,m.left=p,c){case 2:m.right=p,m.left=h;break;case 3:m.top=f,m.right=p,m.bottom=d,m.left=h;break;case 4:m.top=f,m.bottom=d;break;case 5:m.top=p,m.right=f,m.bottom=h,m.left=d;break;case 6:m.top=h,m.right=f,m.bottom=p,m.left=d;break;case 7:m.top=h,m.right=d,m.bottom=p,m.left=f;break;case 8:m.top=p,m.right=d,m.bottom=h,m.left=f}return m},e.transformCoordinates=function(t,n,r){i.call(e,t,n,r);var o=n.orientation,s=e.orientation&&r.exif&&r.exif.get("Orientation");if(a(o,s)){var c=t.getContext("2d"),u=t.width,d=t.height,h=u,f=d;switch((o>4&&!(s>4)||o<5&&s>4)&&(t.width=d,t.height=u),o>4&&(h=d,f=u),s){case 2:c.translate(h,0),c.scale(-1,1);break;case 3:c.translate(h,f),c.rotate(Math.PI);break;case 4:c.translate(0,f),c.scale(1,-1);break;case 5:c.rotate(-.5*Math.PI),c.scale(-1,1);break;case 6:c.rotate(-.5*Math.PI),c.translate(-h,0);break;case 7:c.rotate(-.5*Math.PI),c.translate(-h,f),c.scale(1,-1);break;case 8:c.rotate(.5*Math.PI),c.translate(0,-f)}switch(l(o,s)&&(c.translate(h,f),c.rotate(Math.PI)),o){case 2:c.translate(u,0),c.scale(-1,1);break;case 3:c.translate(u,d),c.rotate(Math.PI);break;case 4:c.translate(0,d),c.scale(1,-1);break;case 5:c.rotate(.5*Math.PI),c.scale(1,-1);break;case 6:c.rotate(.5*Math.PI),c.translate(0,-d);break;case 7:c.rotate(.5*Math.PI),c.translate(u,-d),c.scale(-1,1);break;case 8:c.rotate(-.5*Math.PI),c.translate(-u,0)}}}})?r.apply(t,i):r)||(e.exports=o)}()},200:(e,t,n)=>{var r,i,o;!function(s){"use strict";i=[n(302)],void 0===(o="function"==typeof(r=function(e){var t=e.transform;e.createCanvas=function(t,n,r){if(r&&e.global.OffscreenCanvas)return new OffscreenCanvas(t,n);var i=document.createElement("canvas");return i.width=t,i.height=n,i},e.transform=function(n,r,i,o,s){t.call(e,e.scale(n,r,s),r,i,o,s)},e.transformCoordinates=function(){},e.getTransformedOptions=function(e,t){var n,r,i,o,s=t.aspectRatio;if(!s)return t;for(r in n={},t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r]);return n.crop=!0,(i=e.naturalWidth||e.width)/(o=e.naturalHeight||e.height)>s?(n.maxWidth=o*s,n.maxHeight=o):(n.maxWidth=i,n.maxHeight=i/s),n},e.drawImage=function(e,t,n,r,i,o,s,a,l){var c=t.getContext("2d");return!1===l.imageSmoothingEnabled?(c.msImageSmoothingEnabled=!1,c.imageSmoothingEnabled=!1):l.imageSmoothingQuality&&(c.imageSmoothingQuality=l.imageSmoothingQuality),c.drawImage(e,n,r,i,o,0,0,s,a),c},e.requiresCanvas=function(e){return e.canvas||e.crop||!!e.aspectRatio},e.scale=function(t,n,r){n=n||{},r=r||{};var i,o,s,a,l,c,u,d,h,f,p,m,g=t.getContext||e.requiresCanvas(n)&&!!e.global.HTMLCanvasElement,v=t.naturalWidth||t.width,y=t.naturalHeight||t.height,b=v,w=y;function A(){var e=Math.max((s||b)/b,(a||w)/w);e>1&&(b*=e,w*=e)}function _(){var e=Math.min((i||b)/b,(o||w)/w);e<1&&(b*=e,w*=e)}if(g&&(u=(n=e.getTransformedOptions(t,n,r)).left||0,d=n.top||0,n.sourceWidth?(l=n.sourceWidth,void 0!==n.right&&void 0===n.left&&(u=v-l-n.right)):l=v-u-(n.right||0),n.sourceHeight?(c=n.sourceHeight,void 0!==n.bottom&&void 0===n.top&&(d=y-c-n.bottom)):c=y-d-(n.bottom||0),b=l,w=c),i=n.maxWidth,o=n.maxHeight,s=n.minWidth,a=n.minHeight,g&&i&&o&&n.crop?(b=i,w=o,(p=l/c-i/o)<0?(c=o*l/i,void 0===n.top&&void 0===n.bottom&&(d=(y-c)/2)):p>0&&(l=i*c/o,void 0===n.left&&void 0===n.right&&(u=(v-l)/2))):((n.contain||n.cover)&&(s=i=i||s,a=o=o||a),n.cover?(_(),A()):(A(),_())),g){if((h=n.pixelRatio)>1&&(!t.style.width||Math.floor(parseFloat(t.style.width,10))!==Math.floor(v/h))&&(b*=h,w*=h),e.orientationCropBug&&!t.getContext&&(u||d||l!==v||c!==y)&&(p=t,t=e.createCanvas(v,y,!0),e.drawImage(p,t,0,0,v,y,v,y,n)),(f=n.downsamplingRatio)>0&&f<1&&b<l&&w<c)for(;l*f>b;)m=e.createCanvas(l*f,c*f,!0),e.drawImage(t,m,u,d,l,c,m.width,m.height,n),u=0,d=0,l=m.width,c=m.height,t=m;return m=e.createCanvas(b,w),e.transformCoordinates(m,n,r),h>1&&(m.style.width=m.width/h+"px"),e.drawImage(t,m,u,d,l,c,b,w,n).setTransform(1,0,0,1,0,0),m}return t.width=b,t.height=w,t}})?r.apply(t,i):r)||(e.exports=o)}()},302:function(e,t,n){var r;!function(i){"use strict";var o=i.URL||i.webkitURL;function s(e){return!!o&&o.createObjectURL(e)}function a(e){return!!o&&o.revokeObjectURL(e)}function l(e,t){!e||"blob:"!==e.slice(0,5)||t&&t.noRevoke||a(e)}function c(e,t,n,r){if(!i.FileReader)return!1;var o=new FileReader;o.onload=function(){t.call(o,this.result)},n&&(o.onabort=o.onerror=function(){n.call(o,this.error)});var s=o[r||"readAsDataURL"];return s?(s.call(o,e),o):void 0}function u(e,t){return Object.prototype.toString.call(t)==="[object "+e+"]"}function d(e,t,n){function r(t,r){var o,a=document.createElement("img");function h(e,n){t!==r?e instanceof Error?r(e):((n=n||{}).image=e,t(n)):t&&t(e,n)}function f(t,r){r&&i.console&&console.log(r),t&&u("Blob",t)?o=s(e=t):(o=e,n&&n.crossOrigin&&(a.crossOrigin=n.crossOrigin)),a.src=o}return a.onerror=function(e){l(o,n),r&&r.call(a,e)},a.onload=function(){l(o,n);var t={originalWidth:a.naturalWidth||a.width,originalHeight:a.naturalHeight||a.height};try{d.transform(a,n,h,e,t)}catch(e){r&&r(e)}},"string"==typeof e?(d.requiresMetaData(n)?d.fetchBlob(e,f,n):f(),a):u("Blob",e)||u("File",e)?(o=s(e))?(a.src=o,a):c(e,(function(e){a.src=e}),r):void 0}return i.Promise&&"function"!=typeof t?(n=t,new Promise(r)):r(t,t)}d.requiresMetaData=function(e){return e&&e.meta},d.fetchBlob=function(e,t){t()},d.transform=function(e,t,n,r,i){n(e,i)},d.global=i,d.readFile=c,d.isInstanceOf=u,d.createObjectURL=s,d.revokeObjectURL=a,void 0===(r=function(){return d}.call(t,n,t,e))||(e.exports=r)}("undefined"!=typeof window&&window||this)},918:function(e,t){var r;(function(){var i=function(e){return e instanceof i?e:this instanceof i?void(this.EXIFwrapped=e):new i(e)};e.exports&&(t=e.exports=i),t.EXIF=i;var o=i.Tags={36864:"ExifVersion",40960:"FlashpixVersion",40961:"ColorSpace",40962:"PixelXDimension",40963:"PixelYDimension",37121:"ComponentsConfiguration",37122:"CompressedBitsPerPixel",37500:"MakerNote",37510:"UserComment",40964:"RelatedSoundFile",36867:"DateTimeOriginal",36868:"DateTimeDigitized",37520:"SubsecTime",37521:"SubsecTimeOriginal",37522:"SubsecTimeDigitized",33434:"ExposureTime",33437:"FNumber",34850:"ExposureProgram",34852:"SpectralSensitivity",34855:"ISOSpeedRatings",34856:"OECF",37377:"ShutterSpeedValue",37378:"ApertureValue",37379:"BrightnessValue",37380:"ExposureBias",37381:"MaxApertureValue",37382:"SubjectDistance",37383:"MeteringMode",37384:"LightSource",37385:"Flash",37396:"SubjectArea",37386:"FocalLength",41483:"FlashEnergy",41484:"SpatialFrequencyResponse",41486:"FocalPlaneXResolution",41487:"FocalPlaneYResolution",41488:"FocalPlaneResolutionUnit",41492:"SubjectLocation",41493:"ExposureIndex",41495:"SensingMethod",41728:"FileSource",41729:"SceneType",41730:"CFAPattern",41985:"CustomRendered",41986:"ExposureMode",41987:"WhiteBalance",41988:"DigitalZoomRation",41989:"FocalLengthIn35mmFilm",41990:"SceneCaptureType",41991:"GainControl",41992:"Contrast",41993:"Saturation",41994:"Sharpness",41995:"DeviceSettingDescription",41996:"SubjectDistanceRange",40965:"InteroperabilityIFDPointer",42016:"ImageUniqueID"},s=i.TiffTags={256:"ImageWidth",257:"ImageHeight",34665:"ExifIFDPointer",34853:"GPSInfoIFDPointer",40965:"InteroperabilityIFDPointer",258:"BitsPerSample",259:"Compression",262:"PhotometricInterpretation",274:"Orientation",277:"SamplesPerPixel",284:"PlanarConfiguration",530:"YCbCrSubSampling",531:"YCbCrPositioning",282:"XResolution",283:"YResolution",296:"ResolutionUnit",273:"StripOffsets",278:"RowsPerStrip",279:"StripByteCounts",513:"JPEGInterchangeFormat",514:"JPEGInterchangeFormatLength",301:"TransferFunction",318:"WhitePoint",319:"PrimaryChromaticities",529:"YCbCrCoefficients",532:"ReferenceBlackWhite",306:"DateTime",270:"ImageDescription",271:"Make",272:"Model",305:"Software",315:"Artist",33432:"Copyright"},a=i.GPSTags={0:"GPSVersionID",1:"GPSLatitudeRef",2:"GPSLatitude",3:"GPSLongitudeRef",4:"GPSLongitude",5:"GPSAltitudeRef",6:"GPSAltitude",7:"GPSTimeStamp",8:"GPSSatellites",9:"GPSStatus",10:"GPSMeasureMode",11:"GPSDOP",12:"GPSSpeedRef",13:"GPSSpeed",14:"GPSTrackRef",15:"GPSTrack",16:"GPSImgDirectionRef",17:"GPSImgDirection",18:"GPSMapDatum",19:"GPSDestLatitudeRef",20:"GPSDestLatitude",21:"GPSDestLongitudeRef",22:"GPSDestLongitude",23:"GPSDestBearingRef",24:"GPSDestBearing",25:"GPSDestDistanceRef",26:"GPSDestDistance",27:"GPSProcessingMethod",28:"GPSAreaInformation",29:"GPSDateStamp",30:"GPSDifferential"},l=i.IFD1Tags={256:"ImageWidth",257:"ImageHeight",258:"BitsPerSample",259:"Compression",262:"PhotometricInterpretation",273:"StripOffsets",274:"Orientation",277:"SamplesPerPixel",278:"RowsPerStrip",279:"StripByteCounts",282:"XResolution",283:"YResolution",284:"PlanarConfiguration",296:"ResolutionUnit",513:"JpegIFOffset",514:"JpegIFByteCount",529:"YCbCrCoefficients",530:"YCbCrSubSampling",531:"YCbCrPositioning",532:"ReferenceBlackWhite"},c=i.StringValues={ExposureProgram:{0:"Not defined",1:"Manual",2:"Normal program",3:"Aperture priority",4:"Shutter priority",5:"Creative program",6:"Action program",7:"Portrait mode",8:"Landscape mode"},MeteringMode:{0:"Unknown",1:"Average",2:"CenterWeightedAverage",3:"Spot",4:"MultiSpot",5:"Pattern",6:"Partial",255:"Other"},LightSource:{0:"Unknown",1:"Daylight",2:"Fluorescent",3:"Tungsten (incandescent light)",4:"Flash",9:"Fine weather",10:"Cloudy weather",11:"Shade",12:"Daylight fluorescent (D 5700 - 7100K)",13:"Day white fluorescent (N 4600 - 5400K)",14:"Cool white fluorescent (W 3900 - 4500K)",15:"White fluorescent (WW 3200 - 3700K)",17:"Standard light A",18:"Standard light B",19:"Standard light C",20:"D55",21:"D65",22:"D75",23:"D50",24:"ISO studio tungsten",255:"Other"},Flash:{0:"Flash did not fire",1:"Flash fired",5:"Strobe return light not detected",7:"Strobe return light detected",9:"Flash fired, compulsory flash mode",13:"Flash fired, compulsory flash mode, return light not detected",15:"Flash fired, compulsory flash mode, return light detected",16:"Flash did not fire, compulsory flash mode",24:"Flash did not fire, auto mode",25:"Flash fired, auto mode",29:"Flash fired, auto mode, return light not detected",31:"Flash fired, auto mode, return light detected",32:"No flash function",65:"Flash fired, red-eye reduction mode",69:"Flash fired, red-eye reduction mode, return light not detected",71:"Flash fired, red-eye reduction mode, return light detected",73:"Flash fired, compulsory flash mode, red-eye reduction mode",77:"Flash fired, compulsory flash mode, red-eye reduction mode, return light not detected",79:"Flash fired, compulsory flash mode, red-eye reduction mode, return light detected",89:"Flash fired, auto mode, red-eye reduction mode",93:"Flash fired, auto mode, return light not detected, red-eye reduction mode",95:"Flash fired, auto mode, return light detected, red-eye reduction mode"},SensingMethod:{1:"Not defined",2:"One-chip color area sensor",3:"Two-chip color area sensor",4:"Three-chip color area sensor",5:"Color sequential area sensor",7:"Trilinear sensor",8:"Color sequential linear sensor"},SceneCaptureType:{0:"Standard",1:"Landscape",2:"Portrait",3:"Night scene"},SceneType:{1:"Directly photographed"},CustomRendered:{0:"Normal process",1:"Custom process"},WhiteBalance:{0:"Auto white balance",1:"Manual white balance"},GainControl:{0:"None",1:"Low gain up",2:"High gain up",3:"Low gain down",4:"High gain down"},Contrast:{0:"Normal",1:"Soft",2:"Hard"},Saturation:{0:"Normal",1:"Low saturation",2:"High saturation"},Sharpness:{0:"Normal",1:"Soft",2:"Hard"},SubjectDistanceRange:{0:"Unknown",1:"Macro",2:"Close view",3:"Distant view"},FileSource:{3:"DSC"},Components:{0:"",1:"Y",2:"Cb",3:"Cr",4:"R",5:"G",6:"B"}};function u(e){return!!e.exifdata}function d(e,t){function n(n){var r=h(n);e.exifdata=r||{};var o=function(e){var t=new DataView(e);if(255!=t.getUint8(0)||216!=t.getUint8(1))return!1;for(var n=2,r=e.byteLength,i=function(e,t){return 56===e.getUint8(t)&&66===e.getUint8(t+1)&&73===e.getUint8(t+2)&&77===e.getUint8(t+3)&&4===e.getUint8(t+4)&&4===e.getUint8(t+5)};n<r;){if(i(t,n)){var o=t.getUint8(n+7);return o%2!=0&&(o+=1),0===o&&(o=4),p(e,n+8+o,t.getUint16(n+6+o))}n++}}(n);if(e.iptcdata=o||{},i.isXmpEnabled){var s=function(e){if("DOMParser"in self){var t=new DataView(e);if(255!=t.getUint8(0)||216!=t.getUint8(1))return!1;for(var n=2,r=e.byteLength,i=new DOMParser;n<r-4;){if("http"==v(t,n,4)){var o=n-1,s=t.getUint16(n-2)-1,a=v(t,o,s),l=a.indexOf("xmpmeta>")+8,c=(a=a.substring(a.indexOf("<x:xmpmeta"),l)).indexOf("x:xmpmeta")+10;return a=a.slice(0,c)+'xmlns:Iptc4xmpCore="http://iptc.org/std/Iptc4xmpCore/1.0/xmlns/" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:tiff="http://ns.adobe.com/tiff/1.0/" xmlns:plus="http://schemas.android.com/apk/lib/com.google.android.gms.plus" xmlns:ext="http://www.gettyimages.com/xsltExtension/1.0" xmlns:exif="http://ns.adobe.com/exif/1.0/" xmlns:stEvt="http://ns.adobe.com/xap/1.0/sType/ResourceEvent#" xmlns:stRef="http://ns.adobe.com/xap/1.0/sType/ResourceRef#" xmlns:crs="http://ns.adobe.com/camera-raw-settings/1.0/" xmlns:xapGImg="http://ns.adobe.com/xap/1.0/g/img/" xmlns:Iptc4xmpExt="http://iptc.org/std/Iptc4xmpExt/2008-02-29/" '+a.slice(c),w(i.parseFromString(a,"text/xml"))}n++}}}(n);e.xmpdata=s||{}}t&&t.call(e)}if(e.src)if(/^data\:/i.test(e.src))n(function(e,t){t=t||e.match(/^data\:([^\;]+)\;base64,/im)[1]||"",e=e.replace(/^data\:([^\;]+)\;base64,/gim,"");for(var n=atob(e),r=n.length,i=new ArrayBuffer(r),o=new Uint8Array(i),s=0;s<r;s++)o[s]=n.charCodeAt(s);return i}(e.src));else if(/^blob\:/i.test(e.src))(o=new FileReader).onload=function(e){n(e.target.result)},function(e,t){var n=new XMLHttpRequest;n.open("GET",e,!0),n.responseType="blob",n.onload=function(e){var t;200!=this.status&&0!==this.status||(t=this.response,o.readAsArrayBuffer(t))},n.send()}(e.src);else{var r=new XMLHttpRequest;r.onload=function(){if(200!=this.status&&0!==this.status)throw"Could not load image";n(r.response),r=null},r.open("GET",e.src,!0),r.responseType="arraybuffer",r.send(null)}else if(self.FileReader&&(e instanceof self.Blob||e instanceof self.File)){var o;(o=new FileReader).onload=function(e){n(e.target.result)},o.readAsArrayBuffer(e)}}function h(e){var t=new DataView(e);if(255!=t.getUint8(0)||216!=t.getUint8(1))return!1;for(var n=2,r=e.byteLength;n<r;){if(255!=t.getUint8(n))return!1;if(225==t.getUint8(n+1))return y(t,n+4,t.getUint16(n+2));n+=2+t.getUint16(n+2)}}var f={120:"caption",110:"credit",25:"keywords",55:"dateCreated",80:"byline",85:"bylineTitle",122:"captionWriter",105:"headline",116:"copyright",15:"category"};function p(e,t,n){for(var r,i,o,s,a=new DataView(e),l={},c=t;c<t+n;)28===a.getUint8(c)&&2===a.getUint8(c+1)&&(s=a.getUint8(c+2))in f&&(o=a.getInt16(c+3),i=f[s],r=v(a,c+5,o),l.hasOwnProperty(i)?l[i]instanceof Array?l[i].push(r):l[i]=[l[i],r]:l[i]=r),c++;return l}function m(e,t,n,r,i){var o,s,a=e.getUint16(n,!i),l={};for(s=0;s<a;s++)o=n+12*s+2,l[r[e.getUint16(o,!i)]]=g(e,o,t,0,i);return l}function g(e,t,n,r,i){var o,s,a,l,c,u,d=e.getUint16(t+2,!i),h=e.getUint32(t+4,!i),f=e.getUint32(t+8,!i)+n;switch(d){case 1:case 7:if(1==h)return e.getUint8(t+8,!i);for(o=h>4?f:t+8,s=[],l=0;l<h;l++)s[l]=e.getUint8(o+l);return s;case 2:return v(e,o=h>4?f:t+8,h-1);case 3:if(1==h)return e.getUint16(t+8,!i);for(o=h>2?f:t+8,s=[],l=0;l<h;l++)s[l]=e.getUint16(o+2*l,!i);return s;case 4:if(1==h)return e.getUint32(t+8,!i);for(s=[],l=0;l<h;l++)s[l]=e.getUint32(f+4*l,!i);return s;case 5:if(1==h)return c=e.getUint32(f,!i),u=e.getUint32(f+4,!i),(a=new Number(c/u)).numerator=c,a.denominator=u,a;for(s=[],l=0;l<h;l++)c=e.getUint32(f+8*l,!i),u=e.getUint32(f+4+8*l,!i),s[l]=new Number(c/u),s[l].numerator=c,s[l].denominator=u;return s;case 9:if(1==h)return e.getInt32(t+8,!i);for(s=[],l=0;l<h;l++)s[l]=e.getInt32(f+4*l,!i);return s;case 10:if(1==h)return e.getInt32(f,!i)/e.getInt32(f+4,!i);for(s=[],l=0;l<h;l++)s[l]=e.getInt32(f+8*l,!i)/e.getInt32(f+4+8*l,!i);return s}}function v(e,t,r){var i="";for(n=t;n<t+r;n++)i+=String.fromCharCode(e.getUint8(n));return i}function y(e,t){if("Exif"!=v(e,t,4))return!1;var n,r,i,u,d,h=t+6;if(18761==e.getUint16(h))n=!1;else{if(19789!=e.getUint16(h))return!1;n=!0}if(42!=e.getUint16(h+2,!n))return!1;var f=e.getUint32(h+4,!n);if(f<8)return!1;if((r=m(e,h,h+f,s,n)).ExifIFDPointer)for(i in u=m(e,h,h+r.ExifIFDPointer,o,n)){switch(i){case"LightSource":case"Flash":case"MeteringMode":case"ExposureProgram":case"SensingMethod":case"SceneCaptureType":case"SceneType":case"CustomRendered":case"WhiteBalance":case"GainControl":case"Contrast":case"Saturation":case"Sharpness":case"SubjectDistanceRange":case"FileSource":u[i]=c[i][u[i]];break;case"ExifVersion":case"FlashpixVersion":u[i]=String.fromCharCode(u[i][0],u[i][1],u[i][2],u[i][3]);break;case"ComponentsConfiguration":u[i]=c.Components[u[i][0]]+c.Components[u[i][1]]+c.Components[u[i][2]]+c.Components[u[i][3]]}r[i]=u[i]}if(r.GPSInfoIFDPointer)for(i in d=m(e,h,h+r.GPSInfoIFDPointer,a,n))"GPSVersionID"===i&&(d[i]=d[i][0]+"."+d[i][1]+"."+d[i][2]+"."+d[i][3]),r[i]=d[i];return r.thumbnail=function(e,t,n,r){var i=function(e,t,n){var r=e.getUint16(t,!n);return e.getUint32(t+2+12*r,!n)}(e,t+n,r);if(!i)return{};if(i>e.byteLength)return{};var o=m(e,t,t+i,l,r);if(o.Compression)switch(o.Compression){case 6:if(o.JpegIFOffset&&o.JpegIFByteCount){var s=t+o.JpegIFOffset,a=o.JpegIFByteCount;o.blob=new Blob([new Uint8Array(e.buffer,s,a)],{type:"image/jpeg"})}break;case 1:console.log("Thumbnail image format is TIFF, which is not implemented.");break;default:console.log("Unknown thumbnail image format '%s'",o.Compression)}else 2==o.PhotometricInterpretation&&console.log("Thumbnail image format is RGB, which is not implemented.");return o}(e,h,f,n),r}function b(e){var t={};if(1==e.nodeType){if(e.attributes.length>0){t["@attributes"]={};for(var n=0;n<e.attributes.length;n++){var r=e.attributes.item(n);t["@attributes"][r.nodeName]=r.nodeValue}}}else if(3==e.nodeType)return e.nodeValue;if(e.hasChildNodes())for(var i=0;i<e.childNodes.length;i++){var o=e.childNodes.item(i),s=o.nodeName;if(null==t[s])t[s]=b(o);else{if(null==t[s].push){var a=t[s];t[s]=[],t[s].push(a)}t[s].push(b(o))}}return t}function w(e){try{var t={};if(e.children.length>0)for(var n=0;n<e.children.length;n++){var r=e.children.item(n),i=r.attributes;for(var o in i){var s=i[o],a=s.nodeName,l=s.nodeValue;void 0!==a&&(t[a]=l)}var c=r.nodeName;if(void 0===t[c])t[c]=b(r);else{if(void 0===t[c].push){var u=t[c];t[c]=[],t[c].push(u)}t[c].push(b(r))}}else t=e.textContent;return t}catch(e){console.log(e.message)}}i.enableXmp=function(){i.isXmpEnabled=!0},i.disableXmp=function(){i.isXmpEnabled=!1},i.getData=function(e,t){return!((self.Image&&e instanceof self.Image||self.HTMLImageElement&&e instanceof self.HTMLImageElement)&&!e.complete||(u(e)?t&&t.call(e):d(e,t),0))},i.getTag=function(e,t){if(u(e))return e.exifdata[t]},i.getIptcTag=function(e,t){if(u(e))return e.iptcdata[t]},i.getAllTags=function(e){if(!u(e))return{};var t,n=e.exifdata,r={};for(t in n)n.hasOwnProperty(t)&&(r[t]=n[t]);return r},i.getAllIptcTags=function(e){if(!u(e))return{};var t,n=e.iptcdata,r={};for(t in n)n.hasOwnProperty(t)&&(r[t]=n[t]);return r},i.pretty=function(e){if(!u(e))return"";var t,n=e.exifdata,r="";for(t in n)n.hasOwnProperty(t)&&("object"==typeof n[t]?n[t]instanceof Number?r+=t+" : "+n[t]+" ["+n[t].numerator+"/"+n[t].denominator+"]\r\n":r+=t+" : ["+n[t].length+" values]\r\n":r+=t+" : "+n[t]+"\r\n");return r},i.readFromBinaryFile=function(e){return h(e)},void 0===(r=function(){return i}.apply(t,[]))||(e.exports=r)}).call(this)},297:e=>{"use strict";e.exports=i}},t={};function o(n){if(t[n])return t[n].exports;var r=t[n]={exports:{}};return e[n].call(r.exports,r,r.exports,o),r.exports}o.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return o.d(t,{a:t}),t},o.d=(e,t)=>{for(var n in t)o.o(t,n)&&!o.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},o.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),o.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var s={};return(()=>{"use strict";o.r(s),o.d(s,{default:()=>At});var e=o(297),t=o.n(e),n=Math.PI/180;const i="undefined"!=typeof r.g?r.g:"undefined"!=typeof window?window:"undefined"!=typeof WorkerGlobalScope?self:{},a={_global:i,version:"8.3.5",isBrowser:"undefined"!=typeof window&&("[object Window]"==={}.toString.call(window)||"[object global]"==={}.toString.call(window)),isUnminified:/param/.test(function(e){}.toString()),dblClickWindow:400,getAngle:e=>a.angleDeg?e*n:e,enableTrace:!1,pointerEventsEnabled:!0,autoDrawEnabled:!0,hitOnDragEnabled:!1,capturePointerEventsEnabled:!1,_mouseListenClick:!1,_touchListenClick:!1,_pointerListenClick:!1,_mouseInDblClickWindow:!1,_touchInDblClickWindow:!1,_pointerInDblClickWindow:!1,_mouseDblClickPointerId:null,_touchDblClickPointerId:null,_pointerDblClickPointerId:null,pixelRatio:"undefined"!=typeof window&&window.devicePixelRatio||1,dragDistance:3,angleDeg:!0,showWarnings:!0,dragButtons:[0,1],isDragging:()=>a.DD.isDragging,isDragReady:()=>!!a.DD.node,document:i.document,_injectGlobal(e){i.Konva=e}},l=e=>{a[e.prototype.getClassName()]=e};a._injectGlobal(a);class c{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[1,0,0,1,0,0];this.dirty=!1,this.m=e&&e.slice()||[1,0,0,1,0,0]}reset(){this.m[0]=1,this.m[1]=0,this.m[2]=0,this.m[3]=1,this.m[4]=0,this.m[5]=0}copy(){return new c(this.m)}copyInto(e){e.m[0]=this.m[0],e.m[1]=this.m[1],e.m[2]=this.m[2],e.m[3]=this.m[3],e.m[4]=this.m[4],e.m[5]=this.m[5]}point(e){var t=this.m;return{x:t[0]*e.x+t[2]*e.y+t[4],y:t[1]*e.x+t[3]*e.y+t[5]}}translate(e,t){return this.m[4]+=this.m[0]*e+this.m[2]*t,this.m[5]+=this.m[1]*e+this.m[3]*t,this}scale(e,t){return this.m[0]*=e,this.m[1]*=e,this.m[2]*=t,this.m[3]*=t,this}rotate(e){var t=Math.cos(e),n=Math.sin(e),r=this.m[0]*t+this.m[2]*n,i=this.m[1]*t+this.m[3]*n,o=this.m[0]*-n+this.m[2]*t,s=this.m[1]*-n+this.m[3]*t;return this.m[0]=r,this.m[1]=i,this.m[2]=o,this.m[3]=s,this}getTranslation(){return{x:this.m[4],y:this.m[5]}}skew(e,t){var n=this.m[0]+this.m[2]*t,r=this.m[1]+this.m[3]*t,i=this.m[2]+this.m[0]*e,o=this.m[3]+this.m[1]*e;return this.m[0]=n,this.m[1]=r,this.m[2]=i,this.m[3]=o,this}multiply(e){var t=this.m[0]*e.m[0]+this.m[2]*e.m[1],n=this.m[1]*e.m[0]+this.m[3]*e.m[1],r=this.m[0]*e.m[2]+this.m[2]*e.m[3],i=this.m[1]*e.m[2]+this.m[3]*e.m[3],o=this.m[0]*e.m[4]+this.m[2]*e.m[5]+this.m[4],s=this.m[1]*e.m[4]+this.m[3]*e.m[5]+this.m[5];return this.m[0]=t,this.m[1]=n,this.m[2]=r,this.m[3]=i,this.m[4]=o,this.m[5]=s,this}invert(){var e=1/(this.m[0]*this.m[3]-this.m[1]*this.m[2]),t=this.m[3]*e,n=-this.m[1]*e,r=-this.m[2]*e,i=this.m[0]*e,o=e*(this.m[2]*this.m[5]-this.m[3]*this.m[4]),s=e*(this.m[1]*this.m[4]-this.m[0]*this.m[5]);return this.m[0]=t,this.m[1]=n,this.m[2]=r,this.m[3]=i,this.m[4]=o,this.m[5]=s,this}getMatrix(){return this.m}setAbsolutePosition(e,t){var n=this.m[0],r=this.m[1],i=this.m[2],o=this.m[3],s=this.m[4],a=(n*(t-this.m[5])-r*(e-s))/(n*o-r*i),l=(e-s-i*a)/n;return this.translate(l,a)}decompose(){var e=this.m[0],t=this.m[1],n=this.m[2],r=this.m[3],i=e*r-t*n;let o={x:this.m[4],y:this.m[5],rotation:0,scaleX:0,scaleY:0,skewX:0,skewY:0};if(0!=e||0!=t){var s=Math.sqrt(e*e+t*t);o.rotation=t>0?Math.acos(e/s):-Math.acos(e/s),o.scaleX=s,o.scaleY=i/s,o.skewX=(e*n+t*r)/i,o.skewY=0}else if(0!=n||0!=r){var a=Math.sqrt(n*n+r*r);o.rotation=Math.PI/2-(r>0?Math.acos(-n/a):-Math.acos(n/a)),o.scaleX=i/a,o.scaleY=a,o.skewX=0,o.skewY=(e*n+t*r)/i}return o.rotation=v._getRotation(o.rotation),o}}var u=Math.PI/180,d=180/Math.PI,h="Konva error: ",f={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,132,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,255,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,203],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[119,128,144],slategrey:[119,128,144],snow:[255,255,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],transparent:[255,255,255,0],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,5]},p=/rgb\((\d{1,3}),(\d{1,3}),(\d{1,3})\)/,m=[];const g="undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||function(e){setTimeout(e,60)},v={_isElement:e=>!(!e||1!=e.nodeType),_isFunction:e=>!!(e&&e.constructor&&e.call&&e.apply),_isPlainObject:e=>!!e&&e.constructor===Object,_isArray:e=>"[object Array]"===Object.prototype.toString.call(e),_isNumber:e=>"[object Number]"===Object.prototype.toString.call(e)&&!isNaN(e)&&isFinite(e),_isString:e=>"[object String]"===Object.prototype.toString.call(e),_isBoolean:e=>"[object Boolean]"===Object.prototype.toString.call(e),isObject:e=>e instanceof Object,isValidSelector(e){if("string"!=typeof e)return!1;var t=e[0];return"#"===t||"."===t||t===t.toUpperCase()},_sign:e=>0===e||e>0?1:-1,requestAnimFrame(e){m.push(e),1===m.length&&g((function(){const e=m;m=[],e.forEach((function(e){e()}))}))},createCanvasElement(){var e=document.createElement("canvas");try{e.style=e.style||{}}catch(e){}return e},createImageElement:()=>document.createElement("img"),_isInDocument(e){for(;e=e.parentNode;)if(e==document)return!0;return!1},_urlToImage(e,t){var n=v.createImageElement();n.onload=function(){t(n)},n.src=e},_rgbToHex:(e,t,n)=>((1<<24)+(e<<16)+(t<<8)+n).toString(16).slice(1),_hexToRgb(e){e=e.replace("#","");var t=parseInt(e,16);return{r:t>>16&255,g:t>>8&255,b:255&t}},getRandomColor(){for(var e=(16777215*Math.random()|0).toString(16);e.length<6;)e="0"+e;return"#"+e},getRGB(e){var t;return e in f?{r:(t=f[e])[0],g:t[1],b:t[2]}:"#"===e[0]?this._hexToRgb(e.substring(1)):"rgb("===e.substr(0,4)?(t=p.exec(e.replace(/ /g,"")),{r:parseInt(t[1],10),g:parseInt(t[2],10),b:parseInt(t[3],10)}):{r:0,g:0,b:0}},colorToRGBA:e=>(e=e||"black",v._namedColorToRBA(e)||v._hex3ColorToRGBA(e)||v._hex6ColorToRGBA(e)||v._rgbColorToRGBA(e)||v._rgbaColorToRGBA(e)||v._hslColorToRGBA(e)),_namedColorToRBA(e){var t=f[e.toLowerCase()];return t?{r:t[0],g:t[1],b:t[2],a:1}:null},_rgbColorToRGBA(e){if(0===e.indexOf("rgb(")){var t=(e=e.match(/rgb\(([^)]+)\)/)[1]).split(/ *, */).map(Number);return{r:t[0],g:t[1],b:t[2],a:1}}},_rgbaColorToRGBA(e){if(0===e.indexOf("rgba(")){var t=(e=e.match(/rgba\(([^)]+)\)/)[1]).split(/ *, */).map(((e,t)=>"%"===e.slice(-1)?3===t?parseInt(e)/100:parseInt(e)/100*255:Number(e)));return{r:t[0],g:t[1],b:t[2],a:t[3]}}},_hex6ColorToRGBA(e){if("#"===e[0]&&7===e.length)return{r:parseInt(e.slice(1,3),16),g:parseInt(e.slice(3,5),16),b:parseInt(e.slice(5,7),16),a:1}},_hex3ColorToRGBA(e){if("#"===e[0]&&4===e.length)return{r:parseInt(e[1]+e[1],16),g:parseInt(e[2]+e[2],16),b:parseInt(e[3]+e[3],16),a:1}},_hslColorToRGBA(e){if(/hsl\((\d+),\s*([\d.]+)%,\s*([\d.]+)%\)/g.test(e)){const[t,...n]=/hsl\((\d+),\s*([\d.]+)%,\s*([\d.]+)%\)/g.exec(e),r=Number(n[0])/360,i=Number(n[1])/100,o=Number(n[2])/100;let s,a,l;if(0===i)return l=255*o,{r:Math.round(l),g:Math.round(l),b:Math.round(l),a:1};s=o<.5?o*(1+i):o+i-o*i;const c=2*o-s,u=[0,0,0];for(let e=0;e<3;e++)a=r+1/3*-(e-1),a<0&&a++,a>1&&a--,l=6*a<1?c+6*(s-c)*a:2*a<1?s:3*a<2?c+(s-c)*(2/3-a)*6:c,u[e]=255*l;return{r:Math.round(u[0]),g:Math.round(u[1]),b:Math.round(u[2]),a:1}}},haveIntersection:(e,t)=>!(t.x>e.x+e.width||t.x+t.width<e.x||t.y>e.y+e.height||t.y+t.height<e.y),cloneObject(e){var t={};for(var n in e)this._isPlainObject(e[n])?t[n]=this.cloneObject(e[n]):this._isArray(e[n])?t[n]=this.cloneArray(e[n]):t[n]=e[n];return t},cloneArray:e=>e.slice(0),degToRad:e=>e*u,radToDeg:e=>e*d,_degToRad:e=>(v.warn("Util._degToRad is removed. Please use public Util.degToRad instead."),v.degToRad(e)),_radToDeg:e=>(v.warn("Util._radToDeg is removed. Please use public Util.radToDeg instead."),v.radToDeg(e)),_getRotation:e=>a.angleDeg?v.radToDeg(e):e,_capitalize:e=>e.charAt(0).toUpperCase()+e.slice(1),throw(e){throw new Error(h+e)},error(e){console.error(h+e)},warn(e){a.showWarnings&&console.warn("Konva warning: "+e)},each(e,t){for(var n in e)t(n,e[n])},_inRange:(e,t,n)=>t<=e&&e<n,_getProjectionToSegment(e,t,n,r,i,o){var s,a,l,c=(e-n)*(e-n)+(t-r)*(t-r);if(0==c)s=e,a=t,l=(i-n)*(i-n)+(o-r)*(o-r);else{var u=((i-e)*(n-e)+(o-t)*(r-t))/c;u<0?(s=e,a=t,l=(e-i)*(e-i)+(t-o)*(t-o)):u>1?(s=n,a=r,l=(n-i)*(n-i)+(r-o)*(r-o)):l=((s=e+u*(n-e))-i)*(s-i)+((a=t+u*(r-t))-o)*(a-o)}return[s,a,l]},_getProjectionToLine(e,t,n){var r=v.cloneObject(e),i=Number.MAX_VALUE;return t.forEach((function(o,s){if(n||s!==t.length-1){var a=t[(s+1)%t.length],l=v._getProjectionToSegment(o.x,o.y,a.x,a.y,e.x,e.y),c=l[0],u=l[1],d=l[2];d<i&&(r.x=c,r.y=u,i=d)}})),r},_prepareArrayForTween(e,t,n){var r,i=[],o=[];if(e.length>t.length){var s=t;t=e,e=s}for(r=0;r<e.length;r+=2)i.push({x:e[r],y:e[r+1]});for(r=0;r<t.length;r+=2)o.push({x:t[r],y:t[r+1]});var a=[];return o.forEach((function(e){var t=v._getProjectionToLine(e,i,n);a.push(t.x),a.push(t.y)})),a},_prepareToStringify(e){var t;for(var n in e.visitedByCircularReferenceRemoval=!0,e)if(e.hasOwnProperty(n)&&e[n]&&"object"==typeof e[n])if(t=Object.getOwnPropertyDescriptor(e,n),e[n].visitedByCircularReferenceRemoval||v._isElement(e[n])){if(!t.configurable)return null;delete e[n]}else if(null===v._prepareToStringify(e[n])){if(!t.configurable)return null;delete e[n]}return delete e.visitedByCircularReferenceRemoval,e},_assign(e,t){for(var n in t)e[n]=t[n];return e},_getFirstPointerId:e=>e.touches?e.changedTouches[0].identifier:e.pointerId||999};function y(e){return v._isString(e)?'"'+e+'"':"[object Number]"===Object.prototype.toString.call(e)||v._isBoolean(e)?e:Object.prototype.toString.call(e)}function b(){if(a.isUnminified)return function(e,t){return v._isNumber(e)||v.warn(y(e)+' is a not valid value for "'+t+'" attribute. The value should be a number.'),e}}function w(){if(a.isUnminified)return function(e,t){return v._isString(e)||v.warn(y(e)+' is a not valid value for "'+t+'" attribute. The value should be a string.'),e}}function A(){if(a.isUnminified)return function(e,t){const n=v._isString(e),r="[object CanvasGradient]"===Object.prototype.toString.call(e)||e&&e.addColorStop;return n||r||v.warn(y(e)+' is a not valid value for "'+t+'" attribute. The value should be a string or a native gradient.'),e}}function _(){if(a.isUnminified)return function(e,t){return!0===e||!1===e||v.warn(y(e)+' is a not valid value for "'+t+'" attribute. The value should be a boolean.'),e}}var x="get",S="set";const k={addGetterSetter(e,t,n,r,i){k.addGetter(e,t,n),k.addSetter(e,t,r,i),k.addOverloadedGetterSetter(e,t)},addGetter(e,t,n){var r=x+v._capitalize(t);e.prototype[r]=e.prototype[r]||function(){var e=this.attrs[t];return void 0===e?n:e}},addSetter(e,t,n,r){var i=S+v._capitalize(t);e.prototype[i]||k.overWriteSetter(e,t,n,r)},overWriteSetter(e,t,n,r){var i=S+v._capitalize(t);e.prototype[i]=function(e){return n&&null!=e&&(e=n.call(this,e,t)),this._setAttr(t,e),r&&r.call(this),this}},addComponentsGetterSetter(e,t,n,r,i){var o,s,l=n.length,c=v._capitalize,u=x+c(t),d=S+c(t);e.prototype[u]=function(){var e={};for(o=0;o<l;o++)e[s=n[o]]=this.getAttr(t+c(s));return e};var h=function(e){if(a.isUnminified)return function(t,n){return v.isObject(t)||v.warn(y(t)+' is a not valid value for "'+n+'" attribute. The value should be an object with properties '+e),t}}(n);e.prototype[d]=function(e){var n,o=this.attrs[t];for(n in r&&(e=r.call(this,e)),h&&h.call(this,e,t),e)e.hasOwnProperty(n)&&this._setAttr(t+c(n),e[n]);return this._fireChangeEvent(t,o,e),i&&i.call(this),this},k.addOverloadedGetterSetter(e,t)},addOverloadedGetterSetter(e,t){var n=v._capitalize(t),r=S+n,i=x+n;e.prototype[t]=function(){return arguments.length?(this[r](arguments[0]),this):this[i]()}},addDeprecatedGetterSetter(e,t,n,r){v.error("Adding deprecated "+t);var i=x+v._capitalize(t),o=t+" property is deprecated and will be removed soon. Look at Konva change log for more information.";e.prototype[i]=function(){v.error(o);var e=this.attrs[t];return void 0===e?n:e},k.addSetter(e,t,r,(function(){v.error(o)})),k.addOverloadedGetterSetter(e,t)},backCompat(e,t){v.each(t,(function(t,n){var r=e.prototype[n],i=x+v._capitalize(t),o=S+v._capitalize(t);function s(){r.apply(this,arguments),v.error('"'+t+'" method is deprecated and will be removed soon. Use ""'+n+'" instead.')}e.prototype[t]=s,e.prototype[i]=s,e.prototype[o]=s}))},afterSetFilter(){this._filterUpToDate=!1}};function E(e){var t,n,r=[],i=e.length,o=v;for(t=0;t<i;t++)n=e[t],o._isNumber(n)?n=Math.round(1e3*n)/1e3:o._isString(n)||(n+=""),r.push(n);return r}var C,T=["arc","arcTo","beginPath","bezierCurveTo","clearRect","clip","closePath","createLinearGradient","createPattern","createRadialGradient","drawImage","ellipse","fill","fillText","getImageData","createImageData","lineTo","moveTo","putImageData","quadraticCurveTo","rect","restore","rotate","save","scale","setLineDash","setTransform","stroke","strokeText","transform","translate"];class N{constructor(e){this.canvas=e,this._context=e._canvas.getContext("2d"),a.enableTrace&&(this.traceArr=[],this._enableTrace())}fillShape(e){e.fillEnabled()&&this._fill(e)}_fill(e){}strokeShape(e){e.hasStroke()&&this._stroke(e)}_stroke(e){}fillStrokeShape(e){e.attrs.fillAfterStrokeEnabled?(this.strokeShape(e),this.fillShape(e)):(this.fillShape(e),this.strokeShape(e))}getTrace(e,t){var n,r,i,o,s=this.traceArr,a=s.length,l="";for(n=0;n<a;n++)(i=(r=s[n]).method)?(o=r.args,l+=i,e?l+="()":v._isArray(o[0])?l+="(["+o.join(",")+"])":(t&&(o=o.map((e=>"number"==typeof e?Math.floor(e):e))),l+="("+o.join(",")+")")):(l+=r.property,e||(l+="="+r.val)),l+=";";return l}clearTrace(){this.traceArr=[]}_trace(e){var t=this.traceArr;t.push(e),t.length>=100&&t.shift()}reset(){var e=this.getCanvas().getPixelRatio();this.setTransform(1*e,0,0,1*e,0,0)}getCanvas(){return this.canvas}clear(e){var t=this.getCanvas();e?this.clearRect(e.x||0,e.y||0,e.width||0,e.height||0):this.clearRect(0,0,t.getWidth()/t.pixelRatio,t.getHeight()/t.pixelRatio)}_applyLineCap(e){var t=e.getLineCap();t&&this.setAttr("lineCap",t)}_applyOpacity(e){var t=e.getAbsoluteOpacity();1!==t&&this.setAttr("globalAlpha",t)}_applyLineJoin(e){var t=e.attrs.lineJoin;t&&this.setAttr("lineJoin",t)}setAttr(e,t){this._context[e]=t}arc(e,t,n,r,i,o){this._context.arc(e,t,n,r,i,o)}arcTo(e,t,n,r,i){this._context.arcTo(e,t,n,r,i)}beginPath(){this._context.beginPath()}bezierCurveTo(e,t,n,r,i,o){this._context.bezierCurveTo(e,t,n,r,i,o)}clearRect(e,t,n,r){this._context.clearRect(e,t,n,r)}clip(){this._context.clip()}closePath(){this._context.closePath()}createImageData(e,t){var n=arguments;return 2===n.length?this._context.createImageData(e,t):1===n.length?this._context.createImageData(e):void 0}createLinearGradient(e,t,n,r){return this._context.createLinearGradient(e,t,n,r)}createPattern(e,t){return this._context.createPattern(e,t)}createRadialGradient(e,t,n,r,i,o){return this._context.createRadialGradient(e,t,n,r,i,o)}drawImage(e,t,n,r,i,o,s,a,l){var c=arguments,u=this._context;3===c.length?u.drawImage(e,t,n):5===c.length?u.drawImage(e,t,n,r,i):9===c.length&&u.drawImage(e,t,n,r,i,o,s,a,l)}ellipse(e,t,n,r,i,o,s,a){this._context.ellipse(e,t,n,r,i,o,s,a)}isPointInPath(e,t){return this._context.isPointInPath(e,t)}fill(e){e?this._context.fill(e):this._context.fill()}fillRect(e,t,n,r){this._context.fillRect(e,t,n,r)}strokeRect(e,t,n,r){this._context.strokeRect(e,t,n,r)}fillText(e,t,n,r){r?this._context.fillText(e,t,n,r):this._context.fillText(e,t,n)}measureText(e){return this._context.measureText(e)}getImageData(e,t,n,r){return this._context.getImageData(e,t,n,r)}lineTo(e,t){this._context.lineTo(e,t)}moveTo(e,t){this._context.moveTo(e,t)}rect(e,t,n,r){this._context.rect(e,t,n,r)}putImageData(e,t,n){this._context.putImageData(e,t,n)}quadraticCurveTo(e,t,n,r){this._context.quadraticCurveTo(e,t,n,r)}restore(){this._context.restore()}rotate(e){this._context.rotate(e)}save(){this._context.save()}scale(e,t){this._context.scale(e,t)}setLineDash(e){this._context.setLineDash?this._context.setLineDash(e):"mozDash"in this._context?this._context.mozDash=e:"webkitLineDash"in this._context&&(this._context.webkitLineDash=e)}getLineDash(){return this._context.getLineDash()}setTransform(e,t,n,r,i,o){this._context.setTransform(e,t,n,r,i,o)}stroke(e){e?this._context.stroke(e):this._context.stroke()}strokeText(e,t,n,r){this._context.strokeText(e,t,n,r)}transform(e,t,n,r,i,o){this._context.transform(e,t,n,r,i,o)}translate(e,t){this._context.translate(e,t)}_enableTrace(){var e,t,n=this,r=T.length,i=this.setAttr,o=function(e){var r,i=n[e];n[e]=function(){return t=E(Array.prototype.slice.call(arguments,0)),r=i.apply(n,arguments),n._trace({method:e,args:t}),r}};for(e=0;e<r;e++)o(T[e]);n.setAttr=function(){i.apply(n,arguments);var e=arguments[0],t=arguments[1];"shadowOffsetX"!==e&&"shadowOffsetY"!==e&&"shadowBlur"!==e||(t/=this.canvas.getPixelRatio()),n._trace({property:e,val:t})}}_applyGlobalCompositeOperation(e){const t=e.attrs.globalCompositeOperation;!t||"source-over"===t||this.setAttr("globalCompositeOperation",t)}}["fillStyle","strokeStyle","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY","lineCap","lineDashOffset","lineJoin","lineWidth","miterLimit","font","textAlign","textBaseline","globalAlpha","globalCompositeOperation","imageSmoothingEnabled"].forEach((function(e){Object.defineProperty(N.prototype,e,{get(){return this._context[e]},set(t){this._context[e]=t}})}));class O extends N{_fillColor(e){var t=e.fill();this.setAttr("fillStyle",t),e._fillFunc(this)}_fillPattern(e){this.setAttr("fillStyle",e._getFillPattern()),e._fillFunc(this)}_fillLinearGradient(e){var t=e._getLinearGradient();t&&(this.setAttr("fillStyle",t),e._fillFunc(this))}_fillRadialGradient(e){var t=e._getRadialGradient();t&&(this.setAttr("fillStyle",t),e._fillFunc(this))}_fill(e){var t=e.fill(),n=e.getFillPriority();if(t&&"color"===n)this._fillColor(e);else{var r=e.getFillPatternImage();if(r&&"pattern"===n)this._fillPattern(e);else{var i=e.getFillLinearGradientColorStops();if(i&&"linear-gradient"===n)this._fillLinearGradient(e);else{var o=e.getFillRadialGradientColorStops();o&&"radial-gradient"===n?this._fillRadialGradient(e):t?this._fillColor(e):r?this._fillPattern(e):i?this._fillLinearGradient(e):o&&this._fillRadialGradient(e)}}}}_strokeLinearGradient(e){var t=e.getStrokeLinearGradientStartPoint(),n=e.getStrokeLinearGradientEndPoint(),r=e.getStrokeLinearGradientColorStops(),i=this.createLinearGradient(t.x,t.y,n.x,n.y);if(r){for(var o=0;o<r.length;o+=2)i.addColorStop(r[o],r[o+1]);this.setAttr("strokeStyle",i)}}_stroke(e){var t=e.dash(),n=e.getStrokeScaleEnabled();if(e.hasStroke()){if(!n){this.save();var r=this.getCanvas().getPixelRatio();this.setTransform(r,0,0,r,0,0)}this._applyLineCap(e),t&&e.dashEnabled()&&(this.setLineDash(t),this.setAttr("lineDashOffset",e.dashOffset())),this.setAttr("lineWidth",e.strokeWidth()),e.getShadowForStrokeEnabled()||this.setAttr("shadowColor","rgba(0,0,0,0)"),e.getStrokeLinearGradientColorStops()?this._strokeLinearGradient(e):this.setAttr("strokeStyle",e.stroke()),e._strokeFunc(this),n||this.restore()}}_applyShadow(e){var t,n,r,i=null!==(t=e.getShadowRGBA())&&void 0!==t?t:"black",o=null!==(n=e.getShadowBlur())&&void 0!==n?n:5,s=null!==(r=e.getShadowOffset())&&void 0!==r?r:{x:0,y:0},a=e.getAbsoluteScale(),l=this.canvas.getPixelRatio(),c=a.x*l,u=a.y*l;this.setAttr("shadowColor",i),this.setAttr("shadowBlur",o*Math.min(Math.abs(c),Math.abs(u))),this.setAttr("shadowOffsetX",s.x*c),this.setAttr("shadowOffsetY",s.y*u)}}class I extends N{_fill(e){this.save(),this.setAttr("fillStyle",e.colorKey),e._fillFuncHit(this),this.restore()}strokeShape(e){e.hasHitStroke()&&this._stroke(e)}_stroke(e){if(e.hasHitStroke()){var t=e.getStrokeScaleEnabled();if(!t){this.save();var n=this.getCanvas().getPixelRatio();this.setTransform(n,0,0,n,0,0)}this._applyLineCap(e);var r=e.hitStrokeWidth(),i="auto"===r?e.strokeWidth():r;this.setAttr("lineWidth",i),this.setAttr("strokeStyle",e.colorKey),e._strokeFuncHit(this),t||this.restore()}}}class D{constructor(e){this.pixelRatio=1,this.width=0,this.height=0,this.isCache=!1;var t=(e||{}).pixelRatio||a.pixelRatio||function(){if(C)return C;var e=v.createCanvasElement().getContext("2d");return C=(a._global.devicePixelRatio||1)/(e.webkitBackingStorePixelRatio||e.mozBackingStorePixelRatio||e.msBackingStorePixelRatio||e.oBackingStorePixelRatio||e.backingStorePixelRatio||1)}();this.pixelRatio=t,this._canvas=v.createCanvasElement(),this._canvas.style.padding="0",this._canvas.style.margin="0",this._canvas.style.border="0",this._canvas.style.background="transparent",this._canvas.style.position="absolute",this._canvas.style.top="0",this._canvas.style.left="0"}getContext(){return this.context}getPixelRatio(){return this.pixelRatio}setPixelRatio(e){var t=this.pixelRatio;this.pixelRatio=e,this.setSize(this.getWidth()/t,this.getHeight()/t)}setWidth(e){this.width=this._canvas.width=e*this.pixelRatio,this._canvas.style.width=e+"px";var t=this.pixelRatio;this.getContext()._context.scale(t,t)}setHeight(e){this.height=this._canvas.height=e*this.pixelRatio,this._canvas.style.height=e+"px";var t=this.pixelRatio;this.getContext()._context.scale(t,t)}getWidth(){return this.width}getHeight(){return this.height}setSize(e,t){this.setWidth(e||0),this.setHeight(t||0)}toDataURL(e,t){try{return this._canvas.toDataURL(e,t)}catch(e){try{return this._canvas.toDataURL()}catch(e){return v.error("Unable to get data URL. "+e.message+" For more info read https://konvajs.org/docs/posts/Tainted_Canvas.html."),""}}}}k.addGetterSetter(D,"pixelRatio",void 0,b());class j extends D{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{width:0,height:0};super(e),this.context=new O(this),this.setSize(e.width,e.height)}}class P extends D{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{width:0,height:0};super(e),this.hitCanvas=!0,this.context=new I(this),this.setSize(e.width,e.height)}}const R={get isDragging(){var e=!1;return R._dragElements.forEach((t=>{"dragging"===t.dragStatus&&(e=!0)})),e},justDragged:!1,get node(){var e;return R._dragElements.forEach((t=>{e=t.node})),e},_dragElements:new Map,_drag(e){const t=[];R._dragElements.forEach(((n,r)=>{const{node:i}=n,o=i.getStage();o.setPointersPositions(e),void 0===n.pointerId&&(n.pointerId=v._getFirstPointerId(e));const s=o._changedPointerPositions.find((e=>e.id===n.pointerId));if(s){if("dragging"!==n.dragStatus){var a=i.dragDistance();if(Math.max(Math.abs(s.x-n.startPointerPos.x),Math.abs(s.y-n.startPointerPos.y))<a)return;if(i.startDrag({evt:e}),!i.isDragging())return}i._setDragPosition(e,n),t.push(i)}})),t.forEach((t=>{t.fire("dragmove",{type:"dragmove",target:t,evt:e},!0)}))},_endDragBefore(e){R._dragElements.forEach((t=>{const{node:n}=t,r=n.getStage();if(e&&r.setPointersPositions(e),!r._changedPointerPositions.find((e=>e.id===t.pointerId)))return;"dragging"!==t.dragStatus&&"stopped"!==t.dragStatus||(R.justDragged=!0,a._mouseListenClick=!1,a._touchListenClick=!1,a._pointerListenClick=!1,t.dragStatus="stopped");const i=t.node.getLayer()||t.node instanceof a.Stage&&t.node;i&&i.batchDraw()}))},_endDragAfter(e){R._dragElements.forEach(((t,n)=>{"stopped"===t.dragStatus&&t.node.fire("dragend",{type:"dragend",target:t.node,evt:e},!0),"dragging"!==t.dragStatus&&R._dragElements.delete(n)}))}};a.isBrowser&&(window.addEventListener("mouseup",R._endDragBefore,!0),window.addEventListener("touchend",R._endDragBefore,!0),window.addEventListener("mousemove",R._drag),window.addEventListener("touchmove",R._drag),window.addEventListener("mouseup",R._endDragAfter,!1),window.addEventListener("touchend",R._endDragAfter,!1));var L="absoluteOpacity",M="allEventListeners",B="absoluteTransform",U="absoluteScale",F="canvas",V="listening",q="mouseenter",H="mouseleave",z="Shape",G=" ",Y="stage",W="transform",K="visible",Q=["xChange.konva","yChange.konva","scaleXChange.konva","scaleYChange.konva","skewXChange.konva","skewYChange.konva","rotationChange.konva","offsetXChange.konva","offsetYChange.konva","transformsEnabledChange.konva"].join(G);let J=1;class X{constructor(e){this._id=J++,this.eventListeners={},this.attrs={},this.index=0,this._allEventListeners=null,this.parent=null,this._cache=new Map,this._attachedDepsListeners=new Map,this._lastPos=null,this._batchingTransformChange=!1,this._needClearTransformCache=!1,this._filterUpToDate=!1,this._isUnderCache=!1,this._dragEventId=null,this._shouldFireChangeEvents=!1,this.setAttrs(e),this._shouldFireChangeEvents=!0}hasChildren(){return!1}_clearCache(e){e!==W&&e!==B||!this._cache.get(e)?e?this._cache.delete(e):this._cache.clear():this._cache.get(e).dirty=!0}_getCache(e,t){var n=this._cache.get(e);return(void 0===n||(e===W||e===B)&&!0===n.dirty)&&(n=t.call(this),this._cache.set(e,n)),n}_calculate(e,t,n){if(!this._attachedDepsListeners.get(e)){const n=t.map((e=>e+"Change.konva")).join(G);this.on(n,(()=>{this._clearCache(e)})),this._attachedDepsListeners.set(e,!0)}return this._getCache(e,n)}_getCanvasCache(){return this._cache.get(F)}_clearSelfAndDescendantCache(e){this._clearCache(e),e===B&&this.fire("absoluteTransformChange")}clearCache(){return this._cache.delete(F),this._clearSelfAndDescendantCache(),this._requestDraw(),this}cache(e){var t=e||{},n={};void 0!==t.x&&void 0!==t.y&&void 0!==t.width&&void 0!==t.height||(n=this.getClientRect({skipTransform:!0,relativeTo:this.getParent()}));var r=Math.ceil(t.width||n.width),i=Math.ceil(t.height||n.height),o=t.pixelRatio,s=void 0===t.x?Math.floor(n.x):t.x,a=void 0===t.y?Math.floor(n.y):t.y,l=t.offset||0,c=t.drawBorder||!1,u=t.hitCanvasPixelRatio||1;if(r&&i){s-=l,a-=l;var d=new j({pixelRatio:o,width:r+=2*l+1,height:i+=2*l+1}),h=new j({pixelRatio:o,width:0,height:0}),f=new P({pixelRatio:u,width:r,height:i}),p=d.getContext(),m=f.getContext();return f.isCache=!0,d.isCache=!0,this._cache.delete(F),this._filterUpToDate=!1,!1===t.imageSmoothingEnabled&&(d.getContext()._context.imageSmoothingEnabled=!1,h.getContext()._context.imageSmoothingEnabled=!1),p.save(),m.save(),p.translate(-s,-a),m.translate(-s,-a),this._isUnderCache=!0,this._clearSelfAndDescendantCache(L),this._clearSelfAndDescendantCache(U),this.drawScene(d,this),this.drawHit(f,this),this._isUnderCache=!1,p.restore(),m.restore(),c&&(p.save(),p.beginPath(),p.rect(0,0,r,i),p.closePath(),p.setAttr("strokeStyle","red"),p.setAttr("lineWidth",5),p.stroke(),p.restore()),this._cache.set(F,{scene:d,filter:h,hit:f,x:s,y:a}),this._requestDraw(),this}v.error("Can not cache the node. Width or height of the node equals 0. Caching is skipped.")}isCached(){return this._cache.has(F)}getClientRect(e){throw new Error('abstract "getClientRect" method call')}_transformedRect(e,t){var n,r,i,o,s=[{x:e.x,y:e.y},{x:e.x+e.width,y:e.y},{x:e.x+e.width,y:e.y+e.height},{x:e.x,y:e.y+e.height}],a=this.getAbsoluteTransform(t);return s.forEach((function(e){var t=a.point(e);void 0===n&&(n=i=t.x,r=o=t.y),n=Math.min(n,t.x),r=Math.min(r,t.y),i=Math.max(i,t.x),o=Math.max(o,t.y)})),{x:n,y:r,width:i-n,height:o-r}}_drawCachedSceneCanvas(e){e.save(),e._applyOpacity(this),e._applyGlobalCompositeOperation(this);const t=this._getCanvasCache();e.translate(t.x,t.y);var n=this._getCachedSceneCanvas(),r=n.pixelRatio;e.drawImage(n._canvas,0,0,n.width/r,n.height/r),e.restore()}_drawCachedHitCanvas(e){var t=this._getCanvasCache(),n=t.hit;e.save(),e.translate(t.x,t.y),e.drawImage(n._canvas,0,0,n.width/n.pixelRatio,n.height/n.pixelRatio),e.restore()}_getCachedSceneCanvas(){var e,t,n,r,i=this.filters(),o=this._getCanvasCache(),s=o.scene,a=o.filter,l=a.getContext();if(i){if(!this._filterUpToDate){var c=s.pixelRatio;a.setSize(s.width/s.pixelRatio,s.height/s.pixelRatio);try{for(e=i.length,l.clear(),l.drawImage(s._canvas,0,0,s.getWidth()/c,s.getHeight()/c),t=l.getImageData(0,0,a.getWidth(),a.getHeight()),n=0;n<e;n++)"function"==typeof(r=i[n])?(r.call(this,t),l.putImageData(t,0,0)):v.error("Filter should be type of function, but got "+typeof r+" instead. Please check correct filters")}catch(e){v.error("Unable to apply filter. "+e.message+" This post my help you https://konvajs.org/docs/posts/Tainted_Canvas.html.")}this._filterUpToDate=!0}return a}return s}on(e,t){if(this._cache&&this._cache.delete(M),3===arguments.length)return this._delegate.apply(this,arguments);var n,r,i,o,s=e.split(G),a=s.length;for(n=0;n<a;n++)i=(r=s[n].split("."))[0],o=r[1]||"",this.eventListeners[i]||(this.eventListeners[i]=[]),this.eventListeners[i].push({name:o,handler:t});return this}off(e,t){var n,r,i,o,s,a=(e||"").split(G),l=a.length;if(this._cache&&this._cache.delete(M),!e)for(r in this.eventListeners)this._off(r);for(n=0;n<l;n++)if(o=(i=a[n].split("."))[0],s=i[1],o)this.eventListeners[o]&&this._off(o,s,t);else for(r in this.eventListeners)this._off(r,s,t);return this}dispatchEvent(e){var t={target:this,type:e.type,evt:e};return this.fire(e.type,t),this}addEventListener(e,t){return this.on(e,(function(e){t.call(this,e.evt)})),this}removeEventListener(e){return this.off(e),this}_delegate(e,t,n){var r=this;this.on(e,(function(e){for(var i=e.target.findAncestors(t,!0,r),o=0;o<i.length;o++)(e=v.cloneObject(e)).currentTarget=i[o],n.call(i[o],e)}))}remove(){return this.isDragging()&&this.stopDrag(),R._dragElements.delete(this._id),this._remove(),this}_clearCaches(){this._clearSelfAndDescendantCache(B),this._clearSelfAndDescendantCache(L),this._clearSelfAndDescendantCache(U),this._clearSelfAndDescendantCache(Y),this._clearSelfAndDescendantCache(K),this._clearSelfAndDescendantCache(V)}_remove(){this._clearCaches();var e=this.getParent();e&&e.children&&(e.children.splice(this.index,1),e._setChildrenIndices(),this.parent=null)}destroy(){return this.remove(),this}getAttr(e){var t="get"+v._capitalize(e);return v._isFunction(this[t])?this[t]():this.attrs[e]}getAncestors(){for(var e=this.getParent(),t=[];e;)t.push(e),e=e.getParent();return t}getAttrs(){return this.attrs||{}}setAttrs(e){return this._batchTransformChanges((()=>{var t,n;if(!e)return this;for(t in e)"children"!==t&&(n="set"+v._capitalize(t),v._isFunction(this[n])?this[n](e[t]):this._setAttr(t,e[t]))})),this}isListening(){return this._getCache(V,this._isListening)}_isListening(e){if(!this.listening())return!1;const t=this.getParent();return!t||t===e||this===e||t._isListening(e)}isVisible(){return this._getCache(K,this._isVisible)}_isVisible(e){if(!this.visible())return!1;const t=this.getParent();return!t||t===e||this===e||t._isVisible(e)}shouldDrawHit(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(e)return this._isVisible(e)&&this._isListening(e);var n=this.getLayer(),r=!1;R._dragElements.forEach((e=>{"dragging"===e.dragStatus&&("Stage"===e.node.nodeType||e.node.getLayer()===n)&&(r=!0)}));var i=!t&&!a.hitOnDragEnabled&&r;return this.isListening()&&this.isVisible()&&!i}show(){return this.visible(!0),this}hide(){return this.visible(!1),this}getZIndex(){return this.index||0}getAbsoluteZIndex(){var e,t,n,r,i=this.getDepth(),o=this,s=0;return"Stage"!==o.nodeType&&function a(l){for(e=[],t=l.length,n=0;n<t;n++)r=l[n],s++,r.nodeType!==z&&(e=e.concat(r.getChildren().slice())),r._id===o._id&&(n=t);e.length>0&&e[0].getDepth()<=i&&a(e)}(o.getStage().getChildren()),s}getDepth(){for(var e=0,t=this.parent;t;)e++,t=t.parent;return e}_batchTransformChanges(e){this._batchingTransformChange=!0,e(),this._batchingTransformChange=!1,this._needClearTransformCache&&(this._clearCache(W),this._clearSelfAndDescendantCache(B)),this._needClearTransformCache=!1}setPosition(e){return this._batchTransformChanges((()=>{this.x(e.x),this.y(e.y)})),this}getPosition(){return{x:this.x(),y:this.y()}}getRelativePointerPosition(){if(!this.getStage())return null;var e=this.getStage().getPointerPosition();if(!e)return null;var t=this.getAbsoluteTransform().copy();return t.invert(),t.point(e)}getAbsolutePosition(e){let t=!1,n=this.parent;for(;n;){if(n.isCached()){t=!0;break}n=n.parent}t&&!e&&(e=!0);var r=this.getAbsoluteTransform(e).getMatrix(),i=new c,o=this.offset();return i.m=r.slice(),i.translate(o.x,o.y),i.getTranslation()}setAbsolutePosition(e){var t=this._clearTransform();this.attrs.x=t.x,this.attrs.y=t.y,delete t.x,delete t.y,this._clearCache(W);var n=this._getAbsoluteTransform().copy();return n.invert(),n.translate(e.x,e.y),e={x:this.attrs.x+n.getTranslation().x,y:this.attrs.y+n.getTranslation().y},this._setTransform(t),this.setPosition({x:e.x,y:e.y}),this._clearCache(W),this._clearSelfAndDescendantCache(B),this}_setTransform(e){var t;for(t in e)this.attrs[t]=e[t]}_clearTransform(){var e={x:this.x(),y:this.y(),rotation:this.rotation(),scaleX:this.scaleX(),scaleY:this.scaleY(),offsetX:this.offsetX(),offsetY:this.offsetY(),skewX:this.skewX(),skewY:this.skewY()};return this.attrs.x=0,this.attrs.y=0,this.attrs.rotation=0,this.attrs.scaleX=1,this.attrs.scaleY=1,this.attrs.offsetX=0,this.attrs.offsetY=0,this.attrs.skewX=0,this.attrs.skewY=0,e}move(e){var t=e.x,n=e.y,r=this.x(),i=this.y();return void 0!==t&&(r+=t),void 0!==n&&(i+=n),this.setPosition({x:r,y:i}),this}_eachAncestorReverse(e,t){var n,r,i=[],o=this.getParent();if(!t||t._id!==this._id){for(i.unshift(this);o&&(!t||o._id!==t._id);)i.unshift(o),o=o.parent;for(n=i.length,r=0;r<n;r++)e(i[r])}}rotate(e){return this.rotation(this.rotation()+e),this}moveToTop(){if(!this.parent)return v.warn("Node has no parent. moveToTop function is ignored."),!1;var e=this.index;return e<this.parent.getChildren().length-1&&(this.parent.children.splice(e,1),this.parent.children.push(this),this.parent._setChildrenIndices(),!0)}moveUp(){if(!this.parent)return v.warn("Node has no parent. moveUp function is ignored."),!1;var e=this.index;return e<this.parent.getChildren().length-1&&(this.parent.children.splice(e,1),this.parent.children.splice(e+1,0,this),this.parent._setChildrenIndices(),!0)}moveDown(){if(!this.parent)return v.warn("Node has no parent. moveDown function is ignored."),!1;var e=this.index;return e>0&&(this.parent.children.splice(e,1),this.parent.children.splice(e-1,0,this),this.parent._setChildrenIndices(),!0)}moveToBottom(){if(!this.parent)return v.warn("Node has no parent. moveToBottom function is ignored."),!1;var e=this.index;return e>0&&(this.parent.children.splice(e,1),this.parent.children.unshift(this),this.parent._setChildrenIndices(),!0)}setZIndex(e){if(!this.parent)return v.warn("Node has no parent. zIndex parameter is ignored."),this;(e<0||e>=this.parent.children.length)&&v.warn("Unexpected value "+e+" for zIndex property. zIndex is just index of a node in children of its parent. Expected value is from 0 to "+(this.parent.children.length-1)+".");var t=this.index;return this.parent.children.splice(t,1),this.parent.children.splice(e,0,this),this.parent._setChildrenIndices(),this}getAbsoluteOpacity(){return this._getCache(L,this._getAbsoluteOpacity)}_getAbsoluteOpacity(){var e=this.opacity(),t=this.getParent();return t&&!t._isUnderCache&&(e*=t.getAbsoluteOpacity()),e}moveTo(e){return this.getParent()!==e&&(this._remove(),e.add(this)),this}toObject(){var e,t,n,r,i={},o=this.getAttrs();for(e in i.attrs={},o)t=o[e],v.isObject(t)&&!v._isPlainObject(t)&&!v._isArray(t)||(n="function"==typeof this[e]&&this[e],delete o[e],r=n?n.call(this):null,o[e]=t,r!==t&&(i.attrs[e]=t));return i.className=this.getClassName(),v._prepareToStringify(i)}toJSON(){return JSON.stringify(this.toObject())}getParent(){return this.parent}findAncestors(e,t,n){var r=[];t&&this._isMatch(e)&&r.push(this);for(var i=this.parent;i;){if(i===n)return r;i._isMatch(e)&&r.push(i),i=i.parent}return r}isAncestorOf(e){return!1}findAncestor(e,t,n){return this.findAncestors(e,t,n)[0]}_isMatch(e){if(!e)return!1;if("function"==typeof e)return e(this);var t,n,r=e.replace(/ /g,"").split(","),i=r.length;for(t=0;t<i;t++)if(n=r[t],v.isValidSelector(n)||(v.warn('Selector "'+n+'" is invalid. Allowed selectors examples are "#foo", ".bar" or "Group".'),v.warn('If you have a custom shape with such className, please change it to start with upper letter like "Triangle".'),v.warn("Konva is awesome, right?")),"#"===n.charAt(0)){if(this.id()===n.slice(1))return!0}else if("."===n.charAt(0)){if(this.hasName(n.slice(1)))return!0}else if(this.className===n||this.nodeType===n)return!0;return!1}getLayer(){var e=this.getParent();return e?e.getLayer():null}getStage(){return this._getCache(Y,this._getStage)}_getStage(){var e=this.getParent();return e?e.getStage():void 0}fire(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2?arguments[2]:void 0;return t.target=t.target||this,n?this._fireAndBubble(e,t):this._fire(e,t),this}getAbsoluteTransform(e){return e?this._getAbsoluteTransform(e):this._getCache(B,this._getAbsoluteTransform)}_getAbsoluteTransform(e){var t;if(e)return t=new c,this._eachAncestorReverse((function(e){var n=e.transformsEnabled();"all"===n?t.multiply(e.getTransform()):"position"===n&&t.translate(e.x()-e.offsetX(),e.y()-e.offsetY())}),e),t;t=this._cache.get(B)||new c,this.parent?this.parent.getAbsoluteTransform().copyInto(t):t.reset();var n=this.transformsEnabled();if("all"===n)t.multiply(this.getTransform());else if("position"===n){const e=this.attrs.x||0,n=this.attrs.y||0,r=this.attrs.offsetX||0,i=this.attrs.offsetY||0;t.translate(e-r,n-i)}return t.dirty=!1,t}getAbsoluteScale(e){for(var t=this;t;)t._isUnderCache&&(e=t),t=t.getParent();const n=this.getAbsoluteTransform(e).decompose();return{x:n.scaleX,y:n.scaleY}}getAbsoluteRotation(){return this.getAbsoluteTransform().decompose().rotation}getTransform(){return this._getCache(W,this._getTransform)}_getTransform(){var e,t,n=this._cache.get(W)||new c;n.reset();var r=this.x(),i=this.y(),o=a.getAngle(this.rotation()),s=null!==(e=this.attrs.scaleX)&&void 0!==e?e:1,l=null!==(t=this.attrs.scaleY)&&void 0!==t?t:1,u=this.attrs.skewX||0,d=this.attrs.skewY||0,h=this.attrs.offsetX||0,f=this.attrs.offsetY||0;return 0===r&&0===i||n.translate(r,i),0!==o&&n.rotate(o),0===u&&0===d||n.skew(u,d),1===s&&1===l||n.scale(s,l),0===h&&0===f||n.translate(-1*h,-1*f),n.dirty=!1,n}clone(e){var t,n,r,i,o,s=v.cloneObject(this.attrs);for(t in e)s[t]=e[t];var a=new this.constructor(s);for(t in this.eventListeners)for(r=(n=this.eventListeners[t]).length,i=0;i<r;i++)(o=n[i]).name.indexOf("konva")<0&&(a.eventListeners[t]||(a.eventListeners[t]=[]),a.eventListeners[t].push(o));return a}_toKonvaCanvas(e){e=e||{};var t=this.getClientRect(),n=this.getStage(),r=void 0!==e.x?e.x:Math.floor(t.x),i=void 0!==e.y?e.y:Math.floor(t.y),o=e.pixelRatio||1,s=new j({width:e.width||Math.ceil(t.width)||(n?n.width():0),height:e.height||Math.ceil(t.height)||(n?n.height():0),pixelRatio:o}),a=s.getContext();return a.save(),(r||i)&&a.translate(-1*r,-1*i),this.drawScene(s),a.restore(),s}toCanvas(e){return this._toKonvaCanvas(e)._canvas}toDataURL(e){var t=(e=e||{}).mimeType||null,n=e.quality||null,r=this._toKonvaCanvas(e).toDataURL(t,n);return e.callback&&e.callback(r),r}toImage(e){if(!e||!e.callback)throw"callback required for toImage method config argument";var t=e.callback;delete e.callback,v._urlToImage(this.toDataURL(e),(function(e){t(e)}))}setSize(e){return this.width(e.width),this.height(e.height),this}getSize(){return{width:this.width(),height:this.height()}}getClassName(){return this.className||this.nodeType}getType(){return this.nodeType}getDragDistance(){return void 0!==this.attrs.dragDistance?this.attrs.dragDistance:this.parent?this.parent.getDragDistance():a.dragDistance}_off(e,t,n){var r,i,o,s=this.eventListeners[e];for(r=0;r<s.length;r++)if(i=s[r].name,o=s[r].handler,!("konva"===i&&"konva"!==t||t&&i!==t||n&&n!==o)){if(s.splice(r,1),0===s.length){delete this.eventListeners[e];break}r--}}_fireChangeEvent(e,t,n){this._fire(e+"Change",{oldVal:t,newVal:n})}addName(e){if(!this.hasName(e)){var t=this.name(),n=t?t+" "+e:e;this.name(n)}return this}hasName(e){if(!e)return!1;const t=this.name();return!!t&&-1!==(t||"").split(/\s/g).indexOf(e)}removeName(e){var t=(this.name()||"").split(/\s/g),n=t.indexOf(e);return-1!==n&&(t.splice(n,1),this.name(t.join(" "))),this}setAttr(e,t){var n=this["set"+v._capitalize(e)];return v._isFunction(n)?n.call(this,t):this._setAttr(e,t),this}_requestDraw(){if(a.autoDrawEnabled){const e=this.getLayer()||this.getStage();null==e||e.batchDraw()}}_setAttr(e,t){var n=this.attrs[e];(n!==t||v.isObject(t))&&(null==t?delete this.attrs[e]:this.attrs[e]=t,this._shouldFireChangeEvents&&this._fireChangeEvent(e,n,t),this._requestDraw())}_setComponentAttr(e,t,n){var r;void 0!==n&&((r=this.attrs[e])||(this.attrs[e]=this.getAttr(e)),this.attrs[e][t]=n,this._fireChangeEvent(e,r,n))}_fireAndBubble(e,t,n){if(t&&this.nodeType===z&&(t.target=this),e!==q&&e!==H||!(n&&(this===n||this.isAncestorOf&&this.isAncestorOf(n))||"Stage"===this.nodeType&&!n)){this._fire(e,t);var r=(e===q||e===H)&&n&&n.isAncestorOf&&n.isAncestorOf(this)&&!n.isAncestorOf(this.parent);(t&&!t.cancelBubble||!t)&&this.parent&&this.parent.isListening()&&!r&&(n&&n.parent?this._fireAndBubble.call(this.parent,e,t,n):this._fireAndBubble.call(this.parent,e,t))}}_getProtoListeners(e){let t=this._cache.get(M);if(!t){t={};let e=Object.getPrototypeOf(this);for(;e;)if(e.eventListeners){for(var n in e.eventListeners){const r=e.eventListeners[n],i=t[n]||[];t[n]=r.concat(i)}e=Object.getPrototypeOf(e)}else e=Object.getPrototypeOf(e);this._cache.set(M,t)}return t[e]}_fire(e,t){(t=t||{}).currentTarget=this,t.type=e;const n=this._getProtoListeners(e);if(n)for(var r=0;r<n.length;r++)n[r].handler.call(this,t);const i=this.eventListeners[e];if(i)for(r=0;r<i.length;r++)i[r].handler.call(this,t)}draw(){return this.drawScene(),this.drawHit(),this}_createDragElement(e){var t=e?e.pointerId:void 0,n=this.getStage(),r=this.getAbsolutePosition(),i=n._getPointerById(t)||n._changedPointerPositions[0]||r;R._dragElements.set(this._id,{node:this,startPointerPos:i,offset:{x:i.x-r.x,y:i.y-r.y},dragStatus:"ready",pointerId:t})}startDrag(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];R._dragElements.has(this._id)||this._createDragElement(e),R._dragElements.get(this._id).dragStatus="dragging",this.fire("dragstart",{type:"dragstart",target:this,evt:e&&e.evt},t)}_setDragPosition(e,t){const n=this.getStage()._getPointerById(t.pointerId);if(n){var r={x:n.x-t.offset.x,y:n.y-t.offset.y},i=this.dragBoundFunc();if(void 0!==i){const t=i.call(this,r,e);t?r=t:v.warn("dragBoundFunc did not return any value. That is unexpected behavior. You must return new absolute position from dragBoundFunc.")}this._lastPos&&this._lastPos.x===r.x&&this._lastPos.y===r.y||(this.setAbsolutePosition(r),this._requestDraw()),this._lastPos=r}}stopDrag(e){const t=R._dragElements.get(this._id);t&&(t.dragStatus="stopped"),R._endDragBefore(e),R._endDragAfter(e)}setDraggable(e){this._setAttr("draggable",e),this._dragChange()}isDragging(){const e=R._dragElements.get(this._id);return!!e&&"dragging"===e.dragStatus}_listenDrag(){this._dragCleanup(),this.on("mousedown.konva touchstart.konva",(function(e){if((void 0===e.evt.button||a.dragButtons.indexOf(e.evt.button)>=0)&&!this.isDragging()){var t=!1;R._dragElements.forEach((e=>{this.isAncestorOf(e.node)&&(t=!0)})),t||this._createDragElement(e)}}))}_dragChange(){if(this.attrs.draggable)this._listenDrag();else{if(this._dragCleanup(),!this.getStage())return;const e=R._dragElements.get(this._id),t=e&&"dragging"===e.dragStatus,n=e&&"ready"===e.dragStatus;t?this.stopDrag():n&&R._dragElements.delete(this._id)}}_dragCleanup(){this.off("mousedown.konva"),this.off("touchstart.konva")}isClientRectOnScreen(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{x:0,y:0};const t=this.getStage();if(!t)return!1;const n={x:-e.x,y:-e.y,width:t.width()+2*e.x,height:t.height()+2*e.y};return v.haveIntersection(n,this.getClientRect())}static create(e,t){return v._isString(e)&&(e=JSON.parse(e)),this._createNode(e,t)}static _createNode(e,t){var n,r,i,o=X.prototype.getClassName.call(e),s=e.children;if(t&&(e.attrs.container=t),a[o]||(v.warn('Can not find a node with class name "'+o+'". Fallback to "Shape".'),o="Shape"),n=new(0,a[o])(e.attrs),s)for(r=s.length,i=0;i<r;i++)n.add(X._createNode(s[i]));return n}}X.prototype.nodeType="Node",X.prototype._attrsAffectingSize=[],X.prototype.eventListeners={},X.prototype.on.call(X.prototype,Q,(function(){this._batchingTransformChange?this._needClearTransformCache=!0:(this._clearCache(W),this._clearSelfAndDescendantCache(B))})),X.prototype.on.call(X.prototype,"visibleChange.konva",(function(){this._clearSelfAndDescendantCache(K)})),X.prototype.on.call(X.prototype,"listeningChange.konva",(function(){this._clearSelfAndDescendantCache(V)})),X.prototype.on.call(X.prototype,"opacityChange.konva",(function(){this._clearSelfAndDescendantCache(L)}));const Z=k.addGetterSetter;Z(X,"zIndex"),Z(X,"absolutePosition"),Z(X,"position"),Z(X,"x",0,b()),Z(X,"y",0,b()),Z(X,"globalCompositeOperation","source-over",w()),Z(X,"opacity",1,b()),Z(X,"name","",w()),Z(X,"id","",w()),Z(X,"rotation",0,b()),k.addComponentsGetterSetter(X,"scale",["x","y"]),Z(X,"scaleX",1,b()),Z(X,"scaleY",1,b()),k.addComponentsGetterSetter(X,"skew",["x","y"]),Z(X,"skewX",0,b()),Z(X,"skewY",0,b()),k.addComponentsGetterSetter(X,"offset",["x","y"]),Z(X,"offsetX",0,b()),Z(X,"offsetY",0,b()),Z(X,"dragDistance",null,b()),Z(X,"width",0,b()),Z(X,"height",0,b()),Z(X,"listening",!0,_()),Z(X,"preventDefault",!0,_()),Z(X,"filters",null,(function(e){return this._filterUpToDate=!1,e})),Z(X,"visible",!0,_()),Z(X,"transformsEnabled","all",w()),Z(X,"size"),Z(X,"dragBoundFunc"),Z(X,"draggable",!1,_()),k.backCompat(X,{rotateDeg:"rotate",setRotationDeg:"setRotation",getRotationDeg:"getRotation"});class $ extends X{constructor(){super(...arguments),this.children=[]}getChildren(e){if(!e)return this.children||[];const t=this.children||[];var n=[];return t.forEach((function(t){e(t)&&n.push(t)})),n}hasChildren(){return this.getChildren().length>0}removeChildren(){return this.getChildren().forEach((e=>{e.parent=null,e.index=0,e.remove()})),this.children=[],this._requestDraw(),this}destroyChildren(){return this.getChildren().forEach((e=>{e.parent=null,e.index=0,e.destroy()})),this.children=[],this._requestDraw(),this}add(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];if(arguments.length>1){for(var r=0;r<arguments.length;r++)this.add(arguments[r]);return this}var i=t[0];return i.getParent()?(i.moveTo(this),this):(this._validateAdd(i),i.index=this.getChildren().length,i.parent=this,i._clearCaches(),this.getChildren().push(i),this._fire("add",{child:i}),this._requestDraw(),this)}destroy(){return this.hasChildren()&&this.destroyChildren(),super.destroy(),this}find(e){return this._generalFind(e,!1)}findOne(e){var t=this._generalFind(e,!0);return t.length>0?t[0]:void 0}_generalFind(e,t){var n=[];return this._descendants((r=>{const i=r._isMatch(e);return i&&n.push(r),!(!i||!t)})),n}_descendants(e){let t=!1;const n=this.getChildren();for(const r of n){if(t=e(r),t)return!0;if(r.hasChildren()&&(t=r._descendants(e),t))return!0}return!1}toObject(){var e=X.prototype.toObject.call(this);return e.children=[],this.getChildren().forEach((t=>{e.children.push(t.toObject())})),e}isAncestorOf(e){for(var t=e.getParent();t;){if(t._id===this._id)return!0;t=t.getParent()}return!1}clone(e){var t=X.prototype.clone.call(this,e);return this.getChildren().forEach((function(e){t.add(e.clone())})),t}getAllIntersections(e){var t=[];return this.find("Shape").forEach((function(n){n.isVisible()&&n.intersects(e)&&t.push(n)})),t}_clearSelfAndDescendantCache(e){var t;super._clearSelfAndDescendantCache(e),this.isCached()||null===(t=this.children)||void 0===t||t.forEach((function(t){t._clearSelfAndDescendantCache(e)}))}_setChildrenIndices(){var e;null===(e=this.children)||void 0===e||e.forEach((function(e,t){e.index=t})),this._requestDraw()}drawScene(e,t){var n=this.getLayer(),r=e||n&&n.getCanvas(),i=r&&r.getContext(),o=this._getCanvasCache(),s=o&&o.scene,a=r&&r.isCache;if(!this.isVisible()&&!a)return this;if(s){i.save();var l=this.getAbsoluteTransform(t).getMatrix();i.transform(l[0],l[1],l[2],l[3],l[4],l[5]),this._drawCachedSceneCanvas(i),i.restore()}else this._drawChildren("drawScene",r,t);return this}drawHit(e,t){if(!this.shouldDrawHit(t))return this;var n=this.getLayer(),r=e||n&&n.hitCanvas,i=r&&r.getContext(),o=this._getCanvasCache();if(o&&o.hit){i.save();var s=this.getAbsoluteTransform(t).getMatrix();i.transform(s[0],s[1],s[2],s[3],s[4],s[5]),this._drawCachedHitCanvas(i),i.restore()}else this._drawChildren("drawHit",r,t);return this}_drawChildren(e,t,n){var r,i=t&&t.getContext(),o=this.clipWidth(),s=this.clipHeight(),a=this.clipFunc(),l=o&&s||a;const c=n===this;if(l){i.save();var u=this.getAbsoluteTransform(n),d=u.getMatrix();if(i.transform(d[0],d[1],d[2],d[3],d[4],d[5]),i.beginPath(),a)a.call(this,i,this);else{var h=this.clipX(),f=this.clipY();i.rect(h,f,o,s)}i.clip(),d=u.copy().invert().getMatrix(),i.transform(d[0],d[1],d[2],d[3],d[4],d[5])}var p=!c&&"source-over"!==this.globalCompositeOperation()&&"drawScene"===e;p&&(i.save(),i._applyGlobalCompositeOperation(this)),null===(r=this.children)||void 0===r||r.forEach((function(r){r[e](t,n)})),p&&i.restore(),l&&i.restore()}getClientRect(e){var t,n,r,i,o,s,a=(e=e||{}).skipTransform,l=e.relativeTo,c=this;null===(t=this.children)||void 0===t||t.forEach((function(t){if(t.visible()){var s=t.getClientRect({relativeTo:c,skipShadow:e.skipShadow,skipStroke:e.skipStroke});0===s.width&&0===s.height||(void 0===n?(n=s.x,r=s.y,i=s.x+s.width,o=s.y+s.height):(n=Math.min(n,s.x),r=Math.min(r,s.y),i=Math.max(i,s.x+s.width),o=Math.max(o,s.y+s.height)))}}));for(var u=this.find("Shape"),d=!1,h=0;h<u.length;h++)if(u[h]._isVisible(this)){d=!0;break}return s=d&&void 0!==n?{x:n,y:r,width:i-n,height:o-r}:{x:0,y:0,width:0,height:0},a?s:this._transformedRect(s,l)}}k.addComponentsGetterSetter($,"clip",["x","y","width","height"]),k.addGetterSetter($,"clipX",void 0,b()),k.addGetterSetter($,"clipY",void 0,b()),k.addGetterSetter($,"clipWidth",void 0,b()),k.addGetterSetter($,"clipHeight",void 0,b()),k.addGetterSetter($,"clipFunc");const ee=new Map,te=void 0!==a._global.PointerEvent;function ne(e){return ee.get(e)}function re(e){return{evt:e,pointerId:e.pointerId}}function ie(e,t){return ee.get(e)===t}function oe(e,t){se(e),t.getStage()&&(ee.set(e,t),te&&t._fire("gotpointercapture",re(new PointerEvent("gotpointercapture"))))}function se(e,t){const n=ee.get(e);if(!n)return;const r=n.getStage();r&&r.content,ee.delete(e),te&&n._fire("lostpointercapture",re(new PointerEvent("lostpointercapture")))}var ae="mouseleave",le="mouseover",ce="mouseenter",ue="mousemove",de="mousedown",he="mouseup",fe="pointermove",pe="pointerdown",me="pointerup",ge="pointercancel",ve="pointerout",ye="pointerleave",be="pointerover",we="pointerenter",Ae="contextmenu",_e="touchstart",xe="touchend",Se="touchmove",ke="touchcancel",Ee="wheel",Ce=[[ce,"_pointerenter"],[de,"_pointerdown"],[ue,"_pointermove"],[he,"_pointerup"],[ae,"_pointerleave"],[_e,"_pointerdown"],[Se,"_pointermove"],[xe,"_pointerup"],[ke,"_pointercancel"],[le,"_pointerover"],[Ee,"_wheel"],[Ae,"_contextmenu"],[pe,"_pointerdown"],[fe,"_pointermove"],[me,"_pointerup"],[ge,"_pointercancel"],["lostpointercapture","_lostpointercapture"]];const Te={mouse:{[ve]:"mouseout",[ye]:ae,[be]:le,[we]:ce,[fe]:ue,[pe]:de,[me]:he,[ge]:"mousecancel",pointerclick:"click",pointerdblclick:"dblclick"},touch:{[ve]:"touchout",[ye]:"touchleave",[be]:"touchover",[we]:"touchenter",[fe]:Se,[pe]:_e,[me]:xe,[ge]:ke,pointerclick:"tap",pointerdblclick:"dbltap"},pointer:{[ve]:ve,[ye]:ye,[be]:be,[we]:we,[fe]:fe,[pe]:pe,[me]:me,[ge]:ge,pointerclick:"pointerclick",pointerdblclick:"pointerdblclick"}},Ne=e=>e.indexOf("pointer")>=0?"pointer":e.indexOf("touch")>=0?"touch":"mouse",Oe=e=>{const t=Ne(e);return"pointer"===t?a.pointerEventsEnabled&&Te.pointer:"touch"===t?Te.touch:"mouse"===t?Te.mouse:void 0};function Ie(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(e.clipFunc||e.clipWidth||e.clipHeight)&&v.warn("Stage does not support clipping. Please use clip for Layers or Groups."),e}const De=[];class je extends ${constructor(e){super(Ie(e)),this._pointerPositions=[],this._changedPointerPositions=[],this._buildDOM(),this._bindContentEvents(),De.push(this),this.on("widthChange.konva heightChange.konva",this._resizeDOM),this.on("visibleChange.konva",this._checkVisibility),this.on("clipWidthChange.konva clipHeightChange.konva clipFuncChange.konva",(()=>{Ie(this.attrs)})),this._checkVisibility()}_validateAdd(e){const t="Layer"===e.getType(),n="FastLayer"===e.getType();t||n||v.throw("You may only add layers to the stage.")}_checkVisibility(){if(!this.content)return;const e=this.visible()?"":"none";this.content.style.display=e}setContainer(e){if("string"==typeof e){if("."===e.charAt(0)){var t=e.slice(1);e=document.getElementsByClassName(t)[0]}else{var n;n="#"!==e.charAt(0)?e:e.slice(1),e=document.getElementById(n)}if(!e)throw"Can not find container in document with id "+n}return this._setAttr("container",e),this.content&&(this.content.parentElement&&this.content.parentElement.removeChild(this.content),e.appendChild(this.content)),this}shouldDrawHit(){return!0}clear(){var e,t=this.children,n=t.length;for(e=0;e<n;e++)t[e].clear();return this}clone(e){return e||(e={}),e.container="undefined"!=typeof document&&document.createElement("div"),$.prototype.clone.call(this,e)}destroy(){super.destroy();var e=this.content;e&&v._isInDocument(e)&&this.container().removeChild(e);var t=De.indexOf(this);return t>-1&&De.splice(t,1),this}getPointerPosition(){const e=this._pointerPositions[0]||this._changedPointerPositions[0];return e?{x:e.x,y:e.y}:(v.warn("Pointer position is missing and not registered by the stage. Looks like it is outside of the stage container. You can set it manually from event: stage.setPointersPositions(event);"),null)}_getPointerById(e){return this._pointerPositions.find((t=>t.id===e))}getPointersPositions(){return this._pointerPositions}getStage(){return this}getContent(){return this.content}_toKonvaCanvas(e){(e=e||{}).x=e.x||0,e.y=e.y||0,e.width=e.width||this.width(),e.height=e.height||this.height();var t=new j({width:e.width,height:e.height,pixelRatio:e.pixelRatio||1}),n=t.getContext()._context,r=this.children;return(e.x||e.y)&&n.translate(-1*e.x,-1*e.y),r.forEach((function(t){if(t.isVisible()){var r=t._toKonvaCanvas(e);n.drawImage(r._canvas,e.x,e.y,r.getWidth()/r.getPixelRatio(),r.getHeight()/r.getPixelRatio())}})),t}getIntersection(e){if(!e)return null;var t,n=this.children;for(t=n.length-1;t>=0;t--){const r=n[t].getIntersection(e);if(r)return r}return null}_resizeDOM(){var e=this.width(),t=this.height();this.content&&(this.content.style.width=e+"px",this.content.style.height=t+"px"),this.bufferCanvas.setSize(e,t),this.bufferHitCanvas.setSize(e,t),this.children.forEach((n=>{n.setSize({width:e,height:t}),n.draw()}))}add(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];if(arguments.length>1){for(var i=0;i<arguments.length;i++)this.add(arguments[i]);return this}super.add(e);var o=this.children.length;return o>5&&v.warn("The stage has "+o+" layers. Recommended maximum number of layers is 3-5. Adding more layers into the stage may drop the performance. Rethink your tree structure, you can use Konva.Group."),e.setSize({width:this.width(),height:this.height()}),e.draw(),a.isBrowser&&this.content.appendChild(e.canvas._canvas),this}getParent(){return null}getLayer(){return null}hasPointerCapture(e){return ie(e,this)}setPointerCapture(e){oe(e,this)}releaseCapture(e){se(e)}getLayers(){return this.children}_bindContentEvents(){a.isBrowser&&Ce.forEach((e=>{let[t,n]=e;this.content.addEventListener(t,(e=>{this[n](e)}))}))}_pointerenter(e){this.setPointersPositions(e);const t=Oe(e.type);this._fire(t.pointerenter,{evt:e,target:this,currentTarget:this})}_pointerover(e){this.setPointersPositions(e);const t=Oe(e.type);this._fire(t.pointerover,{evt:e,target:this,currentTarget:this})}_getTargetShape(e){let t=this[e+"targetShape"];return t&&!t.getStage()&&(t=null),t}_pointerleave(e){const t=Oe(e.type),n=Ne(e.type);if(t){this.setPointersPositions(e);var r=this._getTargetShape(n),i=!R.isDragging||a.hitOnDragEnabled;r&&i?(r._fireAndBubble(t.pointerout,{evt:e}),r._fireAndBubble(t.pointerleave,{evt:e}),this._fire(t.pointerleave,{evt:e,target:this,currentTarget:this}),this[n+"targetShape"]=null):i&&(this._fire(t.pointerleave,{evt:e,target:this,currentTarget:this}),this._fire(t.pointerout,{evt:e,target:this,currentTarget:this})),this.pointerPos=void 0,this._pointerPositions=[]}}_pointerdown(e){const t=Oe(e.type),n=Ne(e.type);if(t){this.setPointersPositions(e);var r=!1;this._changedPointerPositions.forEach((i=>{var o=this.getIntersection(i);if(R.justDragged=!1,a["_"+n+"ListenClick"]=!0,!o||!o.isListening())return;a.capturePointerEventsEnabled&&o.setPointerCapture(i.id),this[n+"ClickStartShape"]=o,o._fireAndBubble(t.pointerdown,{evt:e,pointerId:i.id}),r=!0;const s=e.type.indexOf("touch")>=0;o.preventDefault()&&e.cancelable&&s&&e.preventDefault()})),r||this._fire(t.pointerdown,{evt:e,target:this,currentTarget:this,pointerId:this._pointerPositions[0].id})}}_pointermove(e){const t=Oe(e.type),n=Ne(e.type);if(!t)return;if(R.isDragging&&R.node.preventDefault()&&e.cancelable&&e.preventDefault(),this.setPointersPositions(e),R.isDragging&&!a.hitOnDragEnabled)return;var r={};let i=!1;var o=this._getTargetShape(n);this._changedPointerPositions.forEach((s=>{const a=ne(s.id)||this.getIntersection(s),l=s.id,c={evt:e,pointerId:l};var u=o!==a;if(u&&o&&(o._fireAndBubble(t.pointerout,Object.assign({},c),a),o._fireAndBubble(t.pointerleave,Object.assign({},c),a)),a){if(r[a._id])return;r[a._id]=!0}a&&a.isListening()?(i=!0,u&&(a._fireAndBubble(t.pointerover,Object.assign({},c),o),a._fireAndBubble(t.pointerenter,Object.assign({},c),o),this[n+"targetShape"]=a),a._fireAndBubble(t.pointermove,Object.assign({},c))):o&&(this._fire(t.pointerover,{evt:e,target:this,currentTarget:this,pointerId:l}),this[n+"targetShape"]=null)})),i||this._fire(t.pointermove,{evt:e,target:this,currentTarget:this,pointerId:this._changedPointerPositions[0].id})}_pointerup(e){const t=Oe(e.type),n=Ne(e.type);if(!t)return;this.setPointersPositions(e);const r=this[n+"ClickStartShape"],i=this[n+"ClickEndShape"];var o={};let s=!1;this._changedPointerPositions.forEach((l=>{const c=ne(l.id)||this.getIntersection(l);if(c){if(c.releaseCapture(l.id),o[c._id])return;o[c._id]=!0}const u=l.id,d={evt:e,pointerId:u};let h=!1;a["_"+n+"InDblClickWindow"]?(h=!0,clearTimeout(this[n+"DblTimeout"])):R.justDragged||(a["_"+n+"InDblClickWindow"]=!0,clearTimeout(this[n+"DblTimeout"])),this[n+"DblTimeout"]=setTimeout((function(){a["_"+n+"InDblClickWindow"]=!1}),a.dblClickWindow),c&&c.isListening()?(s=!0,this[n+"ClickEndShape"]=c,c._fireAndBubble(t.pointerup,Object.assign({},d)),a["_"+n+"ListenClick"]&&r&&r===c&&(c._fireAndBubble(t.pointerclick,Object.assign({},d)),h&&i&&i===c&&c._fireAndBubble(t.pointerdblclick,Object.assign({},d)))):(this[n+"ClickEndShape"]=null,a["_"+n+"ListenClick"]&&this._fire(t.pointerclick,{evt:e,target:this,currentTarget:this,pointerId:u}),h&&this._fire(t.pointerdblclick,{evt:e,target:this,currentTarget:this,pointerId:u}))})),s||this._fire(t.pointerup,{evt:e,target:this,currentTarget:this,pointerId:this._changedPointerPositions[0].id}),a["_"+n+"ListenClick"]=!1,e.cancelable&&e.preventDefault()}_contextmenu(e){this.setPointersPositions(e);var t=this.getIntersection(this.getPointerPosition());t&&t.isListening()?t._fireAndBubble(Ae,{evt:e}):this._fire(Ae,{evt:e,target:this,currentTarget:this})}_wheel(e){this.setPointersPositions(e);var t=this.getIntersection(this.getPointerPosition());t&&t.isListening()?t._fireAndBubble(Ee,{evt:e}):this._fire(Ee,{evt:e,target:this,currentTarget:this})}_pointercancel(e){this.setPointersPositions(e);const t=ne(e.pointerId)||this.getIntersection(this.getPointerPosition());t&&t._fireAndBubble(me,re(e)),se(e.pointerId)}_lostpointercapture(e){se(e.pointerId)}setPointersPositions(e){var t=this._getContentPosition(),n=null,r=null;void 0!==(e=e||window.event).touches?(this._pointerPositions=[],this._changedPointerPositions=[],Array.prototype.forEach.call(e.touches,(e=>{this._pointerPositions.push({id:e.identifier,x:(e.clientX-t.left)/t.scaleX,y:(e.clientY-t.top)/t.scaleY})})),Array.prototype.forEach.call(e.changedTouches||e.touches,(e=>{this._changedPointerPositions.push({id:e.identifier,x:(e.clientX-t.left)/t.scaleX,y:(e.clientY-t.top)/t.scaleY})}))):(n=(e.clientX-t.left)/t.scaleX,r=(e.clientY-t.top)/t.scaleY,this.pointerPos={x:n,y:r},this._pointerPositions=[{x:n,y:r,id:v._getFirstPointerId(e)}],this._changedPointerPositions=[{x:n,y:r,id:v._getFirstPointerId(e)}])}_setPointerPosition(e){v.warn('Method _setPointerPosition is deprecated. Use "stage.setPointersPositions(event)" instead.'),this.setPointersPositions(e)}_getContentPosition(){if(!this.content||!this.content.getBoundingClientRect)return{top:0,left:0,scaleX:1,scaleY:1};var e=this.content.getBoundingClientRect();return{top:e.top,left:e.left,scaleX:e.width/this.content.clientWidth||1,scaleY:e.height/this.content.clientHeight||1}}_buildDOM(){if(this.bufferCanvas=new j({width:this.width(),height:this.height()}),this.bufferHitCanvas=new P({pixelRatio:1,width:this.width(),height:this.height()}),a.isBrowser){var e=this.container();if(!e)throw"Stage has no container. A container is required.";e.innerHTML="",this.content=document.createElement("div"),this.content.style.position="relative",this.content.style.userSelect="none",this.content.className="konvajs-content",this.content.setAttribute("role","presentation"),e.appendChild(this.content),this._resizeDOM()}}cache(){return v.warn("Cache function is not allowed for stage. You may use cache only for layers, groups and shapes."),this}clearCache(){return this}batchDraw(){return this.getChildren().forEach((function(e){e.batchDraw()})),this}}je.prototype.nodeType="Stage",l(je),k.addGetterSetter(je,"container");var Pe="hasShadow",Re="shadowRGBA",Le="patternImage",Me="linearGradient",Be="radialGradient";let Ue;function Fe(){return Ue||(Ue=v.createCanvasElement().getContext("2d"),Ue)}const Ve={};class qe extends X{constructor(e){let t;for(super(e);t=v.getRandomColor(),!t||t in Ve;);this.colorKey=t,Ve[t]=this}getContext(){return v.warn("shape.getContext() method is deprecated. Please do not use it."),this.getLayer().getContext()}getCanvas(){return v.warn("shape.getCanvas() method is deprecated. Please do not use it."),this.getLayer().getCanvas()}getSceneFunc(){return this.attrs.sceneFunc||this._sceneFunc}getHitFunc(){return this.attrs.hitFunc||this._hitFunc}hasShadow(){return this._getCache(Pe,this._hasShadow)}_hasShadow(){return this.shadowEnabled()&&0!==this.shadowOpacity()&&!!(this.shadowColor()||this.shadowBlur()||this.shadowOffsetX()||this.shadowOffsetY())}_getFillPattern(){return this._getCache(Le,this.__getFillPattern)}__getFillPattern(){if(this.fillPatternImage()){const e=Fe().createPattern(this.fillPatternImage(),this.fillPatternRepeat()||"repeat");if(e&&e.setTransform){const t=new c;t.translate(this.fillPatternX(),this.fillPatternY()),t.rotate(a.getAngle(this.fillPatternRotation())),t.scale(this.fillPatternScaleX(),this.fillPatternScaleY()),t.translate(-1*this.fillPatternOffsetX(),-1*this.fillPatternOffsetY());const n=t.getMatrix(),r="undefined"==typeof DOMMatrix?{a:n[0],b:n[1],c:n[2],d:n[3],e:n[4],f:n[5]}:new DOMMatrix(n);e.setTransform(r)}return e}}_getLinearGradient(){return this._getCache(Me,this.__getLinearGradient)}__getLinearGradient(){var e=this.fillLinearGradientColorStops();if(e){for(var t=Fe(),n=this.fillLinearGradientStartPoint(),r=this.fillLinearGradientEndPoint(),i=t.createLinearGradient(n.x,n.y,r.x,r.y),o=0;o<e.length;o+=2)i.addColorStop(e[o],e[o+1]);return i}}_getRadialGradient(){return this._getCache(Be,this.__getRadialGradient)}__getRadialGradient(){var e=this.fillRadialGradientColorStops();if(e){for(var t=Fe(),n=this.fillRadialGradientStartPoint(),r=this.fillRadialGradientEndPoint(),i=t.createRadialGradient(n.x,n.y,this.fillRadialGradientStartRadius(),r.x,r.y,this.fillRadialGradientEndRadius()),o=0;o<e.length;o+=2)i.addColorStop(e[o],e[o+1]);return i}}getShadowRGBA(){return this._getCache(Re,this._getShadowRGBA)}_getShadowRGBA(){if(this.hasShadow()){var e=v.colorToRGBA(this.shadowColor());return"rgba("+e.r+","+e.g+","+e.b+","+e.a*(this.shadowOpacity()||1)+")"}}hasFill(){return this._calculate("hasFill",["fillEnabled","fill","fillPatternImage","fillLinearGradientColorStops","fillRadialGradientColorStops"],(()=>this.fillEnabled()&&!!(this.fill()||this.fillPatternImage()||this.fillLinearGradientColorStops()||this.fillRadialGradientColorStops())))}hasStroke(){return this._calculate("hasStroke",["strokeEnabled","strokeWidth","stroke","strokeLinearGradientColorStops"],(()=>this.strokeEnabled()&&this.strokeWidth()&&!(!this.stroke()&&!this.strokeLinearGradientColorStops())))}hasHitStroke(){const e=this.hitStrokeWidth();return"auto"===e?this.hasStroke():this.strokeEnabled()&&!!e}intersects(e){var t=this.getStage().bufferHitCanvas;return t.getContext().clear(),this.drawHit(t,null,!0),t.context.getImageData(Math.round(e.x),Math.round(e.y),1,1).data[3]>0}destroy(){return X.prototype.destroy.call(this),delete Ve[this.colorKey],delete this.colorKey,this}_useBufferCanvas(e){var t;if(!this.getStage())return!1;if(null!==(t=this.attrs.perfectDrawEnabled)&&void 0!==t&&!t)return!1;const n=e||this.hasFill(),r=this.hasStroke(),i=1!==this.getAbsoluteOpacity();if(n&&r&&i)return!0;const o=this.hasShadow(),s=this.shadowForStrokeEnabled();return!!(n&&r&&o&&s)}setStrokeHitEnabled(e){v.warn("strokeHitEnabled property is deprecated. Please use hitStrokeWidth instead."),e?this.hitStrokeWidth("auto"):this.hitStrokeWidth(0)}getStrokeHitEnabled(){return 0!==this.hitStrokeWidth()}getSelfRect(){var e=this.size();return{x:this._centroid?-e.width/2:0,y:this._centroid?-e.height/2:0,width:e.width,height:e.height}}getClientRect(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const t=e.skipTransform,n=e.relativeTo,r=this.getSelfRect(),i=!e.skipStroke&&this.hasStroke()&&this.strokeWidth()||0,o=r.width+i,s=r.height+i,a=!e.skipShadow&&this.hasShadow(),l=a?this.shadowOffsetX():0,c=a?this.shadowOffsetY():0,u=o+Math.abs(l),d=s+Math.abs(c),h=a&&this.shadowBlur()||0,f={width:u+2*h,height:d+2*h,x:-(i/2+h)+Math.min(l,0)+r.x,y:-(i/2+h)+Math.min(c,0)+r.y};return t?f:this._transformedRect(f,n)}drawScene(e,t){var n,r,i=this.getLayer(),o=e||i.getCanvas(),s=o.getContext(),a=this._getCanvasCache(),l=this.getSceneFunc(),c=this.hasShadow(),u=o.isCache,d=t===this;if(!this.isVisible()&&!d)return this;if(a){s.save();var h=this.getAbsoluteTransform(t).getMatrix();return s.transform(h[0],h[1],h[2],h[3],h[4],h[5]),this._drawCachedSceneCanvas(s),s.restore(),this}if(!l)return this;if(s.save(),this._useBufferCanvas()&&!u){(r=(n=this.getStage().bufferCanvas).getContext()).clear(),r.save(),r._applyLineJoin(this);var f=this.getAbsoluteTransform(t).getMatrix();r.transform(f[0],f[1],f[2],f[3],f[4],f[5]),l.call(this,r,this),r.restore();var p=n.pixelRatio;c&&s._applyShadow(this),s._applyOpacity(this),s._applyGlobalCompositeOperation(this),s.drawImage(n._canvas,0,0,n.width/p,n.height/p)}else s._applyLineJoin(this),d||(f=this.getAbsoluteTransform(t).getMatrix(),s.transform(f[0],f[1],f[2],f[3],f[4],f[5]),s._applyOpacity(this),s._applyGlobalCompositeOperation(this)),c&&s._applyShadow(this),l.call(this,s,this);return s.restore(),this}drawHit(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(!this.shouldDrawHit(t,n))return this;var r=this.getLayer(),i=e||r.hitCanvas,o=i&&i.getContext(),s=this.hitFunc()||this.sceneFunc(),a=this._getCanvasCache(),l=a&&a.hit;if(this.colorKey||v.warn("Looks like your canvas has a destroyed shape in it. Do not reuse shape after you destroyed it. If you want to reuse shape you should call remove() instead of destroy()"),l){o.save();var c=this.getAbsoluteTransform(t).getMatrix();return o.transform(c[0],c[1],c[2],c[3],c[4],c[5]),this._drawCachedHitCanvas(o),o.restore(),this}if(!s)return this;if(o.save(),o._applyLineJoin(this),this!==t){var u=this.getAbsoluteTransform(t).getMatrix();o.transform(u[0],u[1],u[2],u[3],u[4],u[5])}return s.call(this,o,this),o.restore(),this}drawHitFromCache(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;var t,n,r,i,o,s=this._getCanvasCache(),a=this._getCachedSceneCanvas(),l=s.hit,c=l.getContext(),u=l.getWidth(),d=l.getHeight();c.clear(),c.drawImage(a._canvas,0,0,u,d);try{for(r=(n=(t=c.getImageData(0,0,u,d)).data).length,i=v._hexToRgb(this.colorKey),o=0;o<r;o+=4)n[o+3]>e?(n[o]=i.r,n[o+1]=i.g,n[o+2]=i.b,n[o+3]=255):n[o+3]=0;c.putImageData(t,0,0)}catch(e){v.error("Unable to draw hit graph from cached scene canvas. "+e.message)}return this}hasPointerCapture(e){return ie(e,this)}setPointerCapture(e){oe(e,this)}releaseCapture(e){se(e)}}qe.prototype._fillFunc=function(e){e.fill()},qe.prototype._strokeFunc=function(e){e.stroke()},qe.prototype._fillFuncHit=function(e){e.fill()},qe.prototype._strokeFuncHit=function(e){e.stroke()},qe.prototype._centroid=!1,qe.prototype.nodeType="Shape",l(qe),qe.prototype.eventListeners={},qe.prototype.on.call(qe.prototype,"shadowColorChange.konva shadowBlurChange.konva shadowOffsetChange.konva shadowOpacityChange.konva shadowEnabledChange.konva",(function(){this._clearCache(Pe)})),qe.prototype.on.call(qe.prototype,"shadowColorChange.konva shadowOpacityChange.konva shadowEnabledChange.konva",(function(){this._clearCache(Re)})),qe.prototype.on.call(qe.prototype,"fillPriorityChange.konva fillPatternImageChange.konva fillPatternRepeatChange.konva fillPatternScaleXChange.konva fillPatternScaleYChange.konva fillPatternOffsetXChange.konva fillPatternOffsetYChange.konva fillPatternXChange.konva fillPatternYChange.konva fillPatternRotationChange.konva",(function(){this._clearCache(Le)})),qe.prototype.on.call(qe.prototype,"fillPriorityChange.konva fillLinearGradientColorStopsChange.konva fillLinearGradientStartPointXChange.konva fillLinearGradientStartPointYChange.konva fillLinearGradientEndPointXChange.konva fillLinearGradientEndPointYChange.konva",(function(){this._clearCache(Me)})),qe.prototype.on.call(qe.prototype,"fillPriorityChange.konva fillRadialGradientColorStopsChange.konva fillRadialGradientStartPointXChange.konva fillRadialGradientStartPointYChange.konva fillRadialGradientEndPointXChange.konva fillRadialGradientEndPointYChange.konva fillRadialGradientStartRadiusChange.konva fillRadialGradientEndRadiusChange.konva",(function(){this._clearCache(Be)})),k.addGetterSetter(qe,"stroke",void 0,A()),k.addGetterSetter(qe,"strokeWidth",2,b()),k.addGetterSetter(qe,"fillAfterStrokeEnabled",!1),k.addGetterSetter(qe,"hitStrokeWidth","auto",function(){if(a.isUnminified)return function(e,t){return v._isNumber(e)||"auto"===e||v.warn(y(e)+' is a not valid value for "'+t+'" attribute. The value should be a number or "auto".'),e}}()),k.addGetterSetter(qe,"strokeHitEnabled",!0,_()),k.addGetterSetter(qe,"perfectDrawEnabled",!0,_()),k.addGetterSetter(qe,"shadowForStrokeEnabled",!0,_()),k.addGetterSetter(qe,"lineJoin"),k.addGetterSetter(qe,"lineCap"),k.addGetterSetter(qe,"sceneFunc"),k.addGetterSetter(qe,"hitFunc"),k.addGetterSetter(qe,"dash"),k.addGetterSetter(qe,"dashOffset",0,b()),k.addGetterSetter(qe,"shadowColor",void 0,w()),k.addGetterSetter(qe,"shadowBlur",0,b()),k.addGetterSetter(qe,"shadowOpacity",1,b()),k.addComponentsGetterSetter(qe,"shadowOffset",["x","y"]),k.addGetterSetter(qe,"shadowOffsetX",0,b()),k.addGetterSetter(qe,"shadowOffsetY",0,b()),k.addGetterSetter(qe,"fillPatternImage"),k.addGetterSetter(qe,"fill",void 0,A()),k.addGetterSetter(qe,"fillPatternX",0,b()),k.addGetterSetter(qe,"fillPatternY",0,b()),k.addGetterSetter(qe,"fillLinearGradientColorStops"),k.addGetterSetter(qe,"strokeLinearGradientColorStops"),k.addGetterSetter(qe,"fillRadialGradientStartRadius",0),k.addGetterSetter(qe,"fillRadialGradientEndRadius",0),k.addGetterSetter(qe,"fillRadialGradientColorStops"),k.addGetterSetter(qe,"fillPatternRepeat","repeat"),k.addGetterSetter(qe,"fillEnabled",!0),k.addGetterSetter(qe,"strokeEnabled",!0),k.addGetterSetter(qe,"shadowEnabled",!0),k.addGetterSetter(qe,"dashEnabled",!0),k.addGetterSetter(qe,"strokeScaleEnabled",!0),k.addGetterSetter(qe,"fillPriority","color"),k.addComponentsGetterSetter(qe,"fillPatternOffset",["x","y"]),k.addGetterSetter(qe,"fillPatternOffsetX",0,b()),k.addGetterSetter(qe,"fillPatternOffsetY",0,b()),k.addComponentsGetterSetter(qe,"fillPatternScale",["x","y"]),k.addGetterSetter(qe,"fillPatternScaleX",1,b()),k.addGetterSetter(qe,"fillPatternScaleY",1,b()),k.addComponentsGetterSetter(qe,"fillLinearGradientStartPoint",["x","y"]),k.addComponentsGetterSetter(qe,"strokeLinearGradientStartPoint",["x","y"]),k.addGetterSetter(qe,"fillLinearGradientStartPointX",0),k.addGetterSetter(qe,"strokeLinearGradientStartPointX",0),k.addGetterSetter(qe,"fillLinearGradientStartPointY",0),k.addGetterSetter(qe,"strokeLinearGradientStartPointY",0),k.addComponentsGetterSetter(qe,"fillLinearGradientEndPoint",["x","y"]),k.addComponentsGetterSetter(qe,"strokeLinearGradientEndPoint",["x","y"]),k.addGetterSetter(qe,"fillLinearGradientEndPointX",0),k.addGetterSetter(qe,"strokeLinearGradientEndPointX",0),k.addGetterSetter(qe,"fillLinearGradientEndPointY",0),k.addGetterSetter(qe,"strokeLinearGradientEndPointY",0),k.addComponentsGetterSetter(qe,"fillRadialGradientStartPoint",["x","y"]),k.addGetterSetter(qe,"fillRadialGradientStartPointX",0),k.addGetterSetter(qe,"fillRadialGradientStartPointY",0),k.addComponentsGetterSetter(qe,"fillRadialGradientEndPoint",["x","y"]),k.addGetterSetter(qe,"fillRadialGradientEndPointX",0),k.addGetterSetter(qe,"fillRadialGradientEndPointY",0),k.addGetterSetter(qe,"fillPatternRotation",0),k.backCompat(qe,{dashArray:"dash",getDashArray:"getDash",setDashArray:"getDash",drawFunc:"sceneFunc",getDrawFunc:"getSceneFunc",setDrawFunc:"setSceneFunc",drawHitFunc:"hitFunc",getDrawHitFunc:"getHitFunc",setDrawHitFunc:"setHitFunc"});var He=[{x:0,y:0},{x:-1,y:-1},{x:1,y:-1},{x:1,y:1},{x:-1,y:1}],ze=He.length;class Ge extends ${constructor(e){super(e),this.canvas=new j,this.hitCanvas=new P({pixelRatio:1}),this._waitingForDraw=!1,this.on("visibleChange.konva",this._checkVisibility),this._checkVisibility(),this.on("imageSmoothingEnabledChange.konva",this._setSmoothEnabled),this._setSmoothEnabled()}createPNGStream(){return this.canvas._canvas.createPNGStream()}getCanvas(){return this.canvas}getNativeCanvasElement(){return this.canvas._canvas}getHitCanvas(){return this.hitCanvas}getContext(){return this.getCanvas().getContext()}clear(e){return this.getContext().clear(e),this.getHitCanvas().getContext().clear(e),this}setZIndex(e){super.setZIndex(e);var t=this.getStage();return t&&t.content&&(t.content.removeChild(this.getNativeCanvasElement()),e<t.children.length-1?t.content.insertBefore(this.getNativeCanvasElement(),t.children[e+1].getCanvas()._canvas):t.content.appendChild(this.getNativeCanvasElement())),this}moveToTop(){X.prototype.moveToTop.call(this);var e=this.getStage();return e&&e.content&&(e.content.removeChild(this.getNativeCanvasElement()),e.content.appendChild(this.getNativeCanvasElement())),!0}moveUp(){if(!X.prototype.moveUp.call(this))return!1;var e=this.getStage();return!(!e||!e.content||(e.content.removeChild(this.getNativeCanvasElement()),this.index<e.children.length-1?e.content.insertBefore(this.getNativeCanvasElement(),e.children[this.index+1].getCanvas()._canvas):e.content.appendChild(this.getNativeCanvasElement()),0))}moveDown(){if(X.prototype.moveDown.call(this)){var e=this.getStage();if(e){var t=e.children;e.content&&(e.content.removeChild(this.getNativeCanvasElement()),e.content.insertBefore(this.getNativeCanvasElement(),t[this.index+1].getCanvas()._canvas))}return!0}return!1}moveToBottom(){if(X.prototype.moveToBottom.call(this)){var e=this.getStage();if(e){var t=e.children;e.content&&(e.content.removeChild(this.getNativeCanvasElement()),e.content.insertBefore(this.getNativeCanvasElement(),t[1].getCanvas()._canvas))}return!0}return!1}getLayer(){return this}remove(){var e=this.getNativeCanvasElement();return X.prototype.remove.call(this),e&&e.parentNode&&v._isInDocument(e)&&e.parentNode.removeChild(e),this}getStage(){return this.parent}setSize(e){let{width:t,height:n}=e;return this.canvas.setSize(t,n),this.hitCanvas.setSize(t,n),this._setSmoothEnabled(),this}_validateAdd(e){var t=e.getType();"Group"!==t&&"Shape"!==t&&v.throw("You may only add groups and shapes to a layer.")}_toKonvaCanvas(e){return(e=e||{}).width=e.width||this.getWidth(),e.height=e.height||this.getHeight(),e.x=void 0!==e.x?e.x:this.x(),e.y=void 0!==e.y?e.y:this.y(),X.prototype._toKonvaCanvas.call(this,e)}_checkVisibility(){const e=this.visible();this.canvas._canvas.style.display=e?"block":"none"}_setSmoothEnabled(){this.getContext()._context.imageSmoothingEnabled=this.imageSmoothingEnabled()}getWidth(){if(this.parent)return this.parent.width()}setWidth(){v.warn('Can not change width of layer. Use "stage.width(value)" function instead.')}getHeight(){if(this.parent)return this.parent.height()}setHeight(){v.warn('Can not change height of layer. Use "stage.height(value)" function instead.')}batchDraw(){return this._waitingForDraw||(this._waitingForDraw=!0,v.requestAnimFrame((()=>{this.draw(),this._waitingForDraw=!1}))),this}getIntersection(e){if(!this.isListening()||!this.isVisible())return null;for(var t=1,n=!1;;){for(let r=0;r<ze;r++){const i=He[r],o=this._getIntersection({x:e.x+i.x*t,y:e.y+i.y*t}),s=o.shape;if(s)return s;if(n=!!o.antialiased,!o.antialiased)break}if(!n)return null;t+=1}}_getIntersection(e){const t=this.hitCanvas.pixelRatio,n=this.hitCanvas.context.getImageData(Math.round(e.x*t),Math.round(e.y*t),1,1).data,r=n[3];if(255===r){const e=v._rgbToHex(n[0],n[1],n[2]),t=Ve["#"+e];return t?{shape:t}:{antialiased:!0}}return r>0?{antialiased:!0}:{}}drawScene(e,t){var n=this.getLayer(),r=e||n&&n.getCanvas();return this._fire("beforeDraw",{node:this}),this.clearBeforeDraw()&&r.getContext().clear(),$.prototype.drawScene.call(this,r,t),this._fire("draw",{node:this}),this}drawHit(e,t){var n=this.getLayer(),r=e||n&&n.hitCanvas;return n&&n.clearBeforeDraw()&&n.getHitCanvas().getContext().clear(),$.prototype.drawHit.call(this,r,t),this}enableHitGraph(){return this.hitGraphEnabled(!0),this}disableHitGraph(){return this.hitGraphEnabled(!1),this}setHitGraphEnabled(e){v.warn("hitGraphEnabled method is deprecated. Please use layer.listening() instead."),this.listening(e)}getHitGraphEnabled(e){return v.warn("hitGraphEnabled method is deprecated. Please use layer.listening() instead."),this.listening()}toggleHitCanvas(){if(this.parent&&this.parent.content){var e=this.parent;this.hitCanvas._canvas.parentNode?e.content.removeChild(this.hitCanvas._canvas):e.content.appendChild(this.hitCanvas._canvas)}}}Ge.prototype.nodeType="Layer",l(Ge),k.addGetterSetter(Ge,"imageSmoothingEnabled",!0),k.addGetterSetter(Ge,"clearBeforeDraw",!0),k.addGetterSetter(Ge,"hitGraphEnabled",!0,_());class Ye extends Ge{constructor(e){super(e),this.listening(!1),v.warn('Konva.Fast layer is deprecated. Please use "new Konva.Layer({ listening: false })" instead.')}}Ye.prototype.nodeType="FastLayer",l(Ye);class We extends ${_validateAdd(e){var t=e.getType();"Group"!==t&&"Shape"!==t&&v.throw("You may only add groups and shapes to groups.")}}We.prototype.nodeType="Group",l(We);var Ke=i.performance&&i.performance.now?function(){return i.performance.now()}:function(){return(new Date).getTime()};class Qe{constructor(e,t){this.id=Qe.animIdCounter++,this.frame={time:0,timeDiff:0,lastTime:Ke(),frameRate:0},this.func=e,this.setLayers(t)}setLayers(e){var t;return t=e?e.length>0?e:[e]:[],this.layers=t,this}getLayers(){return this.layers}addLayer(e){var t,n=this.layers,r=n.length;for(t=0;t<r;t++)if(n[t]._id===e._id)return!1;return this.layers.push(e),!0}isRunning(){var e,t=Qe.animations,n=t.length;for(e=0;e<n;e++)if(t[e].id===this.id)return!0;return!1}start(){return this.stop(),this.frame.timeDiff=0,this.frame.lastTime=Ke(),Qe._addAnimation(this),this}stop(){return Qe._removeAnimation(this),this}_updateFrameObject(e){this.frame.timeDiff=e-this.frame.lastTime,this.frame.lastTime=e,this.frame.time+=this.frame.timeDiff,this.frame.frameRate=1e3/this.frame.timeDiff}static _addAnimation(e){this.animations.push(e),this._handleAnimation()}static _removeAnimation(e){var t,n=e.id,r=this.animations,i=r.length;for(t=0;t<i;t++)if(r[t].id===n){this.animations.splice(t,1);break}}static _runFrames(){var e,t,n,r,i,o,s,a,l={},c=this.animations;for(r=0;r<c.length;r++)if(t=(e=c[r]).layers,n=e.func,e._updateFrameObject(Ke()),o=t.length,!n||!1!==n.call(e,e.frame))for(i=0;i<o;i++)void 0!==(s=t[i])._id&&(l[s._id]=s);for(a in l)l.hasOwnProperty(a)&&l[a].batchDraw()}static _animationLoop(){var e=Qe;e.animations.length?(e._runFrames(),v.requestAnimFrame(e._animationLoop)):e.animRunning=!1}static _handleAnimation(){this.animRunning||(this.animRunning=!0,v.requestAnimFrame(this._animationLoop))}}Qe.animations=[],Qe.animIdCounter=0,Qe.animRunning=!1;var Je={node:1,duration:1,easing:1,onFinish:1,yoyo:1},Xe=0,Ze=["fill","stroke","shadowColor"];class $e{constructor(e,t,n,r,i,o,s){this.prop=e,this.propFunc=t,this.begin=r,this._pos=r,this.duration=o,this._change=0,this.prevPos=0,this.yoyo=s,this._time=0,this._position=0,this._startTime=0,this._finish=0,this.func=n,this._change=i-this.begin,this.pause()}fire(e){var t=this[e];t&&t()}setTime(e){e>this.duration?this.yoyo?(this._time=this.duration,this.reverse()):this.finish():e<0?this.yoyo?(this._time=0,this.play()):this.reset():(this._time=e,this.update())}getTime(){return this._time}setPosition(e){this.prevPos=this._pos,this.propFunc(e),this._pos=e}getPosition(e){return void 0===e&&(e=this._time),this.func(e,this.begin,this._change,this.duration)}play(){this.state=2,this._startTime=this.getTimer()-this._time,this.onEnterFrame(),this.fire("onPlay")}reverse(){this.state=3,this._time=this.duration-this._time,this._startTime=this.getTimer()-this._time,this.onEnterFrame(),this.fire("onReverse")}seek(e){this.pause(),this._time=e,this.update(),this.fire("onSeek")}reset(){this.pause(),this._time=0,this.update(),this.fire("onReset")}finish(){this.pause(),this._time=this.duration,this.update(),this.fire("onFinish")}update(){this.setPosition(this.getPosition(this._time)),this.fire("onUpdate")}onEnterFrame(){var e=this.getTimer()-this._startTime;2===this.state?this.setTime(e):3===this.state&&this.setTime(this.duration-e)}pause(){this.state=1,this.fire("onPause")}getTimer(){return(new Date).getTime()}}class et{constructor(e){var t,n,r=this,i=e.node,o=i._id,s=e.easing||tt.Linear,l=!!e.yoyo;t=void 0===e.duration?.3:0===e.duration?.001:e.duration,this.node=i,this._id=Xe++;var c=i.getLayer()||(i instanceof a.Stage?i.getLayers():null);for(n in c||v.error("Tween constructor have `node` that is not in a layer. Please add node into layer first."),this.anim=new Qe((function(){r.tween.onEnterFrame()}),c),this.tween=new $e(n,(function(e){r._tweenFunc(e)}),s,0,1,1e3*t,l),this._addListeners(),et.attrs[o]||(et.attrs[o]={}),et.attrs[o][this._id]||(et.attrs[o][this._id]={}),et.tweens[o]||(et.tweens[o]={}),e)void 0===Je[n]&&this._addAttr(n,e[n]);this.reset(),this.onFinish=e.onFinish,this.onReset=e.onReset,this.onUpdate=e.onUpdate}_addAttr(e,t){var n,r,i,o,s,a,l,c,u=this.node,d=u._id;if((i=et.tweens[d][e])&&delete et.attrs[d][i][e],n=u.getAttr(e),v._isArray(t))if(r=[],s=Math.max(t.length,n.length),"points"===e&&t.length!==n.length&&(t.length>n.length?(l=n,n=v._prepareArrayForTween(n,t,u.closed())):(a=t,t=v._prepareArrayForTween(t,n,u.closed()))),0===e.indexOf("fill"))for(o=0;o<s;o++)if(o%2==0)r.push(t[o]-n[o]);else{var h=v.colorToRGBA(n[o]);c=v.colorToRGBA(t[o]),n[o]=h,r.push({r:c.r-h.r,g:c.g-h.g,b:c.b-h.b,a:c.a-h.a})}else for(o=0;o<s;o++)r.push(t[o]-n[o]);else-1!==Ze.indexOf(e)?(n=v.colorToRGBA(n),r={r:(c=v.colorToRGBA(t)).r-n.r,g:c.g-n.g,b:c.b-n.b,a:c.a-n.a}):r=t-n;et.attrs[d][this._id][e]={start:n,diff:r,end:t,trueEnd:a,trueStart:l},et.tweens[d][e]=this._id}_tweenFunc(e){var t,n,r,i,o,s,a,l,c=this.node,u=et.attrs[c._id][this._id];for(t in u){if(r=(n=u[t]).start,i=n.diff,l=n.end,v._isArray(r))if(o=[],a=Math.max(r.length,l.length),0===t.indexOf("fill"))for(s=0;s<a;s++)s%2==0?o.push((r[s]||0)+i[s]*e):o.push("rgba("+Math.round(r[s].r+i[s].r*e)+","+Math.round(r[s].g+i[s].g*e)+","+Math.round(r[s].b+i[s].b*e)+","+(r[s].a+i[s].a*e)+")");else for(s=0;s<a;s++)o.push((r[s]||0)+i[s]*e);else o=-1!==Ze.indexOf(t)?"rgba("+Math.round(r.r+i.r*e)+","+Math.round(r.g+i.g*e)+","+Math.round(r.b+i.b*e)+","+(r.a+i.a*e)+")":r+i*e;c.setAttr(t,o)}}_addListeners(){this.tween.onPlay=()=>{this.anim.start()},this.tween.onReverse=()=>{this.anim.start()},this.tween.onPause=()=>{this.anim.stop()},this.tween.onFinish=()=>{var e=this.node,t=et.attrs[e._id][this._id];t.points&&t.points.trueEnd&&e.setAttr("points",t.points.trueEnd),this.onFinish&&this.onFinish.call(this)},this.tween.onReset=()=>{var e=this.node,t=et.attrs[e._id][this._id];t.points&&t.points.trueStart&&e.points(t.points.trueStart),this.onReset&&this.onReset()},this.tween.onUpdate=()=>{this.onUpdate&&this.onUpdate.call(this)}}play(){return this.tween.play(),this}reverse(){return this.tween.reverse(),this}reset(){return this.tween.reset(),this}seek(e){return this.tween.seek(1e3*e),this}pause(){return this.tween.pause(),this}finish(){return this.tween.finish(),this}destroy(){var e,t=this.node._id,n=this._id,r=et.tweens[t];for(e in this.pause(),r)delete et.tweens[t][e];delete et.attrs[t][n]}}et.attrs={},et.tweens={},X.prototype.to=function(e){var t=e.onFinish;e.node=this,e.onFinish=function(){this.destroy(),t&&t()},new et(e).play()};const tt={BackEaseIn(e,t,n,r){var i=1.70158;return n*(e/=r)*e*((i+1)*e-i)+t},BackEaseOut(e,t,n,r){var i=1.70158;return n*((e=e/r-1)*e*((i+1)*e+i)+1)+t},BackEaseInOut(e,t,n,r){var i=1.70158;return(e/=r/2)<1?n/2*(e*e*((1+(i*=1.525))*e-i))+t:n/2*((e-=2)*e*((1+(i*=1.525))*e+i)+2)+t},ElasticEaseIn(e,t,n,r,i,o){var s=0;return 0===e?t:1==(e/=r)?t+n:(o||(o=.3*r),!i||i<Math.abs(n)?(i=n,s=o/4):s=o/(2*Math.PI)*Math.asin(n/i),-i*Math.pow(2,10*(e-=1))*Math.sin((e*r-s)*(2*Math.PI)/o)+t)},ElasticEaseOut(e,t,n,r,i,o){var s=0;return 0===e?t:1==(e/=r)?t+n:(o||(o=.3*r),!i||i<Math.abs(n)?(i=n,s=o/4):s=o/(2*Math.PI)*Math.asin(n/i),i*Math.pow(2,-10*e)*Math.sin((e*r-s)*(2*Math.PI)/o)+n+t)},ElasticEaseInOut(e,t,n,r,i,o){var s=0;return 0===e?t:2==(e/=r/2)?t+n:(o||(o=r*(.3*1.5)),!i||i<Math.abs(n)?(i=n,s=o/4):s=o/(2*Math.PI)*Math.asin(n/i),e<1?i*Math.pow(2,10*(e-=1))*Math.sin((e*r-s)*(2*Math.PI)/o)*-.5+t:i*Math.pow(2,-10*(e-=1))*Math.sin((e*r-s)*(2*Math.PI)/o)*.5+n+t)},BounceEaseOut:(e,t,n,r)=>(e/=r)<1/2.75?n*(7.5625*e*e)+t:e<2/2.75?n*(7.5625*(e-=1.5/2.75)*e+.75)+t:e<2.5/2.75?n*(7.5625*(e-=2.25/2.75)*e+.9375)+t:n*(7.5625*(e-=2.625/2.75)*e+.984375)+t,BounceEaseIn:(e,t,n,r)=>n-tt.BounceEaseOut(r-e,0,n,r)+t,BounceEaseInOut:(e,t,n,r)=>e<r/2?.5*tt.BounceEaseIn(2*e,0,n,r)+t:.5*tt.BounceEaseOut(2*e-r,0,n,r)+.5*n+t,EaseIn:(e,t,n,r)=>n*(e/=r)*e+t,EaseOut:(e,t,n,r)=>-n*(e/=r)*(e-2)+t,EaseInOut:(e,t,n,r)=>(e/=r/2)<1?n/2*e*e+t:-n/2*(--e*(e-2)-1)+t,StrongEaseIn:(e,t,n,r)=>n*(e/=r)*e*e*e*e+t,StrongEaseOut:(e,t,n,r)=>n*((e=e/r-1)*e*e*e*e+1)+t,StrongEaseInOut:(e,t,n,r)=>(e/=r/2)<1?n/2*e*e*e*e*e+t:n/2*((e-=2)*e*e*e*e+2)+t,Linear:(e,t,n,r)=>n*e/r+t},nt=v._assign(a,{Util:v,Transform:c,Node:X,Container:$,Stage:je,stages:De,Layer:Ge,FastLayer:Ye,Group:We,DD:R,Shape:qe,shapes:Ve,Animation:Qe,Tween:et,Easings:tt,Context:N,Canvas:D});var rt=o(918),it=o.n(rt),ot=o(303),st=o.n(ot);class at extends qe{constructor(e){super(e),this.on("imageChange.konva",(()=>{this._setImageLoad()})),this._setImageLoad()}_setImageLoad(){const e=this.image();e&&e.complete||e&&4===e.readyState||e&&e.addEventListener&&e.addEventListener("load",(()=>{this._requestDraw()}))}_useBufferCanvas(){return super._useBufferCanvas(!0)}_sceneFunc(e){const t=this.getWidth(),n=this.getHeight(),r=this.attrs.image;let i;if(r){const e=this.attrs.cropWidth,o=this.attrs.cropHeight;i=e&&o?[r,this.cropX(),this.cropY(),e,o,0,0,t,n]:[r,0,0,t,n]}(this.hasFill()||this.hasStroke())&&(e.beginPath(),e.rect(0,0,t,n),e.closePath(),e.fillStrokeShape(this)),r&&e.drawImage.apply(e,i)}_hitFunc(e){var t=this.width(),n=this.height();e.beginPath(),e.rect(0,0,t,n),e.closePath(),e.fillStrokeShape(this)}getWidth(){var e,t;return null!==(e=this.attrs.width)&&void 0!==e?e:null===(t=this.image())||void 0===t?void 0:t.width}getHeight(){var e,t;return null!==(e=this.attrs.height)&&void 0!==e?e:null===(t=this.image())||void 0===t?void 0:t.height}static fromURL(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;var r=v.createImageElement();r.onload=function(){var e=new at({image:r});t(e)},r.onerror=n,r.crossOrigin="Anonymous",r.src=e}}at.prototype.className="Image",l(at),k.addGetterSetter(at,"image"),k.addComponentsGetterSetter(at,"crop",["x","y","width","height"]),k.addGetterSetter(at,"cropX",0,b()),k.addGetterSetter(at,"cropY",0,b()),k.addGetterSetter(at,"cropWidth",0,b()),k.addGetterSetter(at,"cropHeight",0,b());class lt extends qe{_sceneFunc(e){e.beginPath(),e.arc(0,0,this.attrs.radius||0,0,2*Math.PI,!1),e.closePath(),e.fillStrokeShape(this)}getWidth(){return 2*this.radius()}getHeight(){return 2*this.radius()}setWidth(e){this.radius()!==e/2&&this.radius(e/2)}setHeight(e){this.radius()!==e/2&&this.radius(e/2)}}lt.prototype._centroid=!0,lt.prototype.className="Circle",lt.prototype._attrsAffectingSize=["radius"],l(lt),k.addGetterSetter(lt,"radius",0,b());class ct extends qe{_sceneFunc(e){var t=this.cornerRadius(),n=this.width(),r=this.height();if(e.beginPath(),t){let i=0,o=0,s=0,a=0;"number"==typeof t?i=o=s=a=Math.min(t,n/2,r/2):(i=Math.min(t[0]||0,n/2,r/2),o=Math.min(t[1]||0,n/2,r/2),a=Math.min(t[2]||0,n/2,r/2),s=Math.min(t[3]||0,n/2,r/2)),e.moveTo(i,0),e.lineTo(n-o,0),e.arc(n-o,o,o,3*Math.PI/2,0,!1),e.lineTo(n,r-a),e.arc(n-a,r-a,a,0,Math.PI/2,!1),e.lineTo(s,r),e.arc(s,r-s,s,Math.PI/2,Math.PI,!1),e.lineTo(0,i),e.arc(i,i,i,Math.PI,3*Math.PI/2,!1)}else e.rect(0,0,n,r);e.closePath(),e.fillStrokeShape(this)}}ct.prototype.className="Rect",l(ct),k.addGetterSetter(ct,"cornerRadius",0,function(e){if(a.isUnminified)return function(e,t){let n=v._isNumber(e),r=v._isArray(e)&&4==e.length;return n||r||v.warn(y(e)+' is a not valid value for "'+t+'" attribute. The value should be a number or Array<number>(4)'),e}}());class ut extends qe{constructor(e){super(e),this.dataArray=[],this.pathLength=0,this.dataArray=ut.parsePathData(this.data()),this.pathLength=0;for(var t=0;t<this.dataArray.length;++t)this.pathLength+=this.dataArray[t].pathLength;this.on("dataChange.konva",(function(){this.dataArray=ut.parsePathData(this.data()),this.pathLength=0;for(var e=0;e<this.dataArray.length;++e)this.pathLength+=this.dataArray[e].pathLength}))}_sceneFunc(e){var t=this.dataArray;e.beginPath();for(var n=!1,r=0;r<t.length;r++){var i=t[r].command,o=t[r].points;switch(i){case"L":e.lineTo(o[0],o[1]);break;case"M":e.moveTo(o[0],o[1]);break;case"C":e.bezierCurveTo(o[0],o[1],o[2],o[3],o[4],o[5]);break;case"Q":e.quadraticCurveTo(o[0],o[1],o[2],o[3]);break;case"A":var s=o[0],a=o[1],l=o[2],c=o[3],u=o[4],d=o[5],h=o[6],f=o[7],p=l>c?l:c,m=l>c?1:l/c,g=l>c?c/l:1;e.translate(s,a),e.rotate(h),e.scale(m,g),e.arc(0,0,p,u,u+d,1-f),e.scale(1/m,1/g),e.rotate(-h),e.translate(-s,-a);break;case"z":n=!0,e.closePath()}}n||this.hasFill()?e.fillStrokeShape(this):e.strokeShape(this)}getSelfRect(){var e=[];this.dataArray.forEach((function(t){if("A"===t.command){var n=t.points[4],r=t.points[5],i=t.points[4]+r,o=Math.PI/180;if(Math.abs(n-i)<o&&(o=Math.abs(n-i)),r<0)for(let r=n-o;r>i;r-=o){const n=ut.getPointOnEllipticalArc(t.points[0],t.points[1],t.points[2],t.points[3],r,0);e.push(n.x,n.y)}else for(let r=n+o;r<i;r+=o){const n=ut.getPointOnEllipticalArc(t.points[0],t.points[1],t.points[2],t.points[3],r,0);e.push(n.x,n.y)}}else if("C"===t.command)for(let s=0;s<=1;s+=.01){const n=ut.getPointOnCubicBezier(s,t.start.x,t.start.y,t.points[0],t.points[1],t.points[2],t.points[3],t.points[4],t.points[5]);e.push(n.x,n.y)}else e=e.concat(t.points)}));for(var t,n,r=e[0],i=e[0],o=e[1],s=e[1],a=0;a<e.length/2;a++)t=e[2*a],n=e[2*a+1],isNaN(t)||(r=Math.min(r,t),i=Math.max(i,t)),isNaN(n)||(o=Math.min(o,n),s=Math.max(s,n));return{x:r,y:o,width:i-r,height:s-o}}getLength(){return this.pathLength}getPointAtLength(e){var t,n=0,r=this.dataArray.length;if(!r)return null;for(;n<r&&e>this.dataArray[n].pathLength;)e-=this.dataArray[n].pathLength,++n;if(n===r)return{x:(t=this.dataArray[n-1].points.slice(-2))[0],y:t[1]};if(e<.01)return{x:(t=this.dataArray[n].points.slice(0,2))[0],y:t[1]};var i=this.dataArray[n],o=i.points;switch(i.command){case"L":return ut.getPointOnLine(e,i.start.x,i.start.y,o[0],o[1]);case"C":return ut.getPointOnCubicBezier(e/i.pathLength,i.start.x,i.start.y,o[0],o[1],o[2],o[3],o[4],o[5]);case"Q":return ut.getPointOnQuadraticBezier(e/i.pathLength,i.start.x,i.start.y,o[0],o[1],o[2],o[3]);case"A":var s=o[0],a=o[1],l=o[2],c=o[3],u=o[4],d=o[5],h=o[6];return u+=d*e/i.pathLength,ut.getPointOnEllipticalArc(s,a,l,c,u,h)}return null}static getLineLength(e,t,n,r){return Math.sqrt((n-e)*(n-e)+(r-t)*(r-t))}static getPointOnLine(e,t,n,r,i,o,s){void 0===o&&(o=t),void 0===s&&(s=n);var a=(i-n)/(r-t+1e-8),l=Math.sqrt(e*e/(1+a*a));r<t&&(l*=-1);var c,u=a*l;if(r===t)c={x:o,y:s+u};else if((s-n)/(o-t+1e-8)===a)c={x:o+l,y:s+u};else{var d,h,f=this.getLineLength(t,n,r,i),p=(o-t)*(r-t)+(s-n)*(i-n);d=t+(p/=f*f)*(r-t),h=n+p*(i-n);var m=this.getLineLength(o,s,d,h),g=Math.sqrt(e*e-m*m);l=Math.sqrt(g*g/(1+a*a)),r<t&&(l*=-1),c={x:d+l,y:h+(u=a*l)}}return c}static getPointOnCubicBezier(e,t,n,r,i,o,s,a,l){function c(e){return e*e*e}function u(e){return 3*e*e*(1-e)}function d(e){return 3*e*(1-e)*(1-e)}function h(e){return(1-e)*(1-e)*(1-e)}return{x:a*c(e)+o*u(e)+r*d(e)+t*h(e),y:l*c(e)+s*u(e)+i*d(e)+n*h(e)}}static getPointOnQuadraticBezier(e,t,n,r,i,o,s){function a(e){return e*e}function l(e){return 2*e*(1-e)}function c(e){return(1-e)*(1-e)}return{x:o*a(e)+r*l(e)+t*c(e),y:s*a(e)+i*l(e)+n*c(e)}}static getPointOnEllipticalArc(e,t,n,r,i,o){var s=Math.cos(o),a=Math.sin(o),l=n*Math.cos(i),c=r*Math.sin(i);return{x:e+(l*s-c*a),y:t+(l*a+c*s)}}static parsePathData(e){if(!e)return[];var t=e,n=["m","M","l","L","v","V","h","H","z","Z","c","C","q","Q","t","T","s","S","a","A"];t=t.replace(new RegExp(" ","g"),",");for(var r=0;r<n.length;r++)t=t.replace(new RegExp(n[r],"g"),"|"+n[r]);var i,o=t.split("|"),s=[],a=[],l=0,c=0,u=/([-+]?((\d+\.\d+)|((\d+)|(\.\d+)))(?:e[-+]?\d+)?)/gi;for(r=1;r<o.length;r++){var d=o[r],h=d.charAt(0);for(d=d.slice(1),a.length=0;i=u.exec(d);)a.push(i[0]);for(var f=[],p=0,m=a.length;p<m;p++)if("00"!==a[p]){var g=parseFloat(a[p]);isNaN(g)?f.push(0):f.push(g)}else f.push(0,0);for(;f.length>0&&!isNaN(f[0]);){var v,y,b,w,A,_,x,S,k,E,C=null,T=[],N=l,O=c;switch(h){case"l":l+=f.shift(),c+=f.shift(),C="L",T.push(l,c);break;case"L":l=f.shift(),c=f.shift(),T.push(l,c);break;case"m":var I=f.shift(),D=f.shift();if(l+=I,c+=D,C="M",s.length>2&&"z"===s[s.length-1].command)for(var j=s.length-2;j>=0;j--)if("M"===s[j].command){l=s[j].points[0]+I,c=s[j].points[1]+D;break}T.push(l,c),h="l";break;case"M":l=f.shift(),c=f.shift(),C="M",T.push(l,c),h="L";break;case"h":l+=f.shift(),C="L",T.push(l,c);break;case"H":l=f.shift(),C="L",T.push(l,c);break;case"v":c+=f.shift(),C="L",T.push(l,c);break;case"V":c=f.shift(),C="L",T.push(l,c);break;case"C":T.push(f.shift(),f.shift(),f.shift(),f.shift()),l=f.shift(),c=f.shift(),T.push(l,c);break;case"c":T.push(l+f.shift(),c+f.shift(),l+f.shift(),c+f.shift()),l+=f.shift(),c+=f.shift(),C="C",T.push(l,c);break;case"S":y=l,b=c,"C"===(v=s[s.length-1]).command&&(y=l+(l-v.points[2]),b=c+(c-v.points[3])),T.push(y,b,f.shift(),f.shift()),l=f.shift(),c=f.shift(),C="C",T.push(l,c);break;case"s":y=l,b=c,"C"===(v=s[s.length-1]).command&&(y=l+(l-v.points[2]),b=c+(c-v.points[3])),T.push(y,b,l+f.shift(),c+f.shift()),l+=f.shift(),c+=f.shift(),C="C",T.push(l,c);break;case"Q":T.push(f.shift(),f.shift()),l=f.shift(),c=f.shift(),T.push(l,c);break;case"q":T.push(l+f.shift(),c+f.shift()),l+=f.shift(),c+=f.shift(),C="Q",T.push(l,c);break;case"T":y=l,b=c,"Q"===(v=s[s.length-1]).command&&(y=l+(l-v.points[0]),b=c+(c-v.points[1])),l=f.shift(),c=f.shift(),C="Q",T.push(y,b,l,c);break;case"t":y=l,b=c,"Q"===(v=s[s.length-1]).command&&(y=l+(l-v.points[0]),b=c+(c-v.points[1])),l+=f.shift(),c+=f.shift(),C="Q",T.push(y,b,l,c);break;case"A":w=f.shift(),A=f.shift(),_=f.shift(),x=f.shift(),S=f.shift(),k=l,E=c,l=f.shift(),c=f.shift(),C="A",T=this.convertEndpointToCenterParameterization(k,E,l,c,x,S,w,A,_);break;case"a":w=f.shift(),A=f.shift(),_=f.shift(),x=f.shift(),S=f.shift(),k=l,E=c,l+=f.shift(),c+=f.shift(),C="A",T=this.convertEndpointToCenterParameterization(k,E,l,c,x,S,w,A,_)}s.push({command:C||h,points:T,start:{x:N,y:O},pathLength:this.calcLength(N,O,C||h,T)})}"z"!==h&&"Z"!==h||s.push({command:"z",points:[],start:void 0,pathLength:0})}return s}static calcLength(e,t,n,r){var i,o,s,a,l=ut;switch(n){case"L":return l.getLineLength(e,t,r[0],r[1]);case"C":for(i=0,o=l.getPointOnCubicBezier(0,e,t,r[0],r[1],r[2],r[3],r[4],r[5]),a=.01;a<=1;a+=.01)s=l.getPointOnCubicBezier(a,e,t,r[0],r[1],r[2],r[3],r[4],r[5]),i+=l.getLineLength(o.x,o.y,s.x,s.y),o=s;return i;case"Q":for(i=0,o=l.getPointOnQuadraticBezier(0,e,t,r[0],r[1],r[2],r[3]),a=.01;a<=1;a+=.01)s=l.getPointOnQuadraticBezier(a,e,t,r[0],r[1],r[2],r[3]),i+=l.getLineLength(o.x,o.y,s.x,s.y),o=s;return i;case"A":i=0;var c=r[4],u=r[5],d=r[4]+u,h=Math.PI/180;if(Math.abs(c-d)<h&&(h=Math.abs(c-d)),o=l.getPointOnEllipticalArc(r[0],r[1],r[2],r[3],c,0),u<0)for(a=c-h;a>d;a-=h)s=l.getPointOnEllipticalArc(r[0],r[1],r[2],r[3],a,0),i+=l.getLineLength(o.x,o.y,s.x,s.y),o=s;else for(a=c+h;a<d;a+=h)s=l.getPointOnEllipticalArc(r[0],r[1],r[2],r[3],a,0),i+=l.getLineLength(o.x,o.y,s.x,s.y),o=s;return s=l.getPointOnEllipticalArc(r[0],r[1],r[2],r[3],d,0),i+l.getLineLength(o.x,o.y,s.x,s.y)}return 0}static convertEndpointToCenterParameterization(e,t,n,r,i,o,s,a,l){var c=l*(Math.PI/180),u=Math.cos(c)*(e-n)/2+Math.sin(c)*(t-r)/2,d=-1*Math.sin(c)*(e-n)/2+Math.cos(c)*(t-r)/2,h=u*u/(s*s)+d*d/(a*a);h>1&&(s*=Math.sqrt(h),a*=Math.sqrt(h));var f=Math.sqrt((s*s*(a*a)-s*s*(d*d)-a*a*(u*u))/(s*s*(d*d)+a*a*(u*u)));i===o&&(f*=-1),isNaN(f)&&(f=0);var p=f*s*d/a,m=f*-a*u/s,g=(e+n)/2+Math.cos(c)*p-Math.sin(c)*m,v=(t+r)/2+Math.sin(c)*p+Math.cos(c)*m,y=function(e){return Math.sqrt(e[0]*e[0]+e[1]*e[1])},b=function(e,t){return(e[0]*t[0]+e[1]*t[1])/(y(e)*y(t))},w=function(e,t){return(e[0]*t[1]<e[1]*t[0]?-1:1)*Math.acos(b(e,t))},A=w([1,0],[(u-p)/s,(d-m)/a]),_=[(u-p)/s,(d-m)/a],x=[(-1*u-p)/s,(-1*d-m)/a],S=w(_,x);return b(_,x)<=-1&&(S=Math.PI),b(_,x)>=1&&(S=0),0===o&&S>0&&(S-=2*Math.PI),1===o&&S<0&&(S+=2*Math.PI),[g,v,s,a,A,S,c,o]}}function dt(e){return(dt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ht(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ft(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ht(Object(n),!0).forEach((function(t){bt(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ht(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function pt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function mt(e,t){return(mt=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function gt(e,t){return!t||"object"!==dt(t)&&"function"!=typeof t?vt(e):t}function vt(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function yt(e){return(yt=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function bt(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}ut.prototype.className="Path",ut.prototype._attrsAffectingSize=["data"],l(ut),k.addGetterSetter(ut,"data");var wt=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&mt(e,t)}(s,e);var n,r,i,o=(r=s,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=yt(r);if(i){var n=yt(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return gt(this,e)});function s(e){var t;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,s);var n=(t=o.call(this,e)).generateHash("avatar_container"),r=t.generateHash("avatar_loader");return t.onFileLoad=t.onFileLoad.bind(vt(t)),t.onCloseClick=t.onCloseClick.bind(vt(t)),t.state={imgWidth:0,imgHeight:0,scale:1,containerId:n,loaderId:r,lastMouseY:0,showLoader:!(t.props.src||t.props.img)},t}return(n=[{key:"generateHash",value:function(e){var t=function(){return Math.floor(65536*(1+Math.random())).toString(16).substring(1)};return e+"-"+t()+"-"+t()+"-"+t()}},{key:"onCloseCallback",value:function(){this.props.onClose()}},{key:"onCropCallback",value:function(e){this.props.onCrop(e)}},{key:"onFileLoadCallback",value:function(e){this.props.onFileLoad(e)}},{key:"onBeforeFileLoadCallback",value:function(e){this.props.onBeforeFileLoad(e)}},{key:"onImageLoadCallback",value:function(e){this.props.onImageLoad(e)}},{key:"componentDidMount",value:function(){var e=this;if(!this.state.showLoader){var t=this.props.img||new Image;t.crossOrigin="Anonymous",!this.props.img&&this.props.src&&(t.src=this.props.src),this.setState({image:t},(function(){if(e.image.complete)return e.init();e.image.onload=function(){e.onImageLoadCallback(e.image),e.init()}}))}}},{key:"componentDidUpdate",value:function(e,t){e.src!==this.props.src&&(this.image.src=this.props.src)}},{key:"onFileLoad",value:function(e){if(e.preventDefault(),this.onBeforeFileLoadCallback(e),e.target.value){var t=e.target.files[0];this.onFileLoadCallback(t);var n=this;it().getData(t,(function(){var e=it().getTag(this,"Orientation");st()(t,(function(e,r){n.setState({image:e,file:t,showLoader:!1},(function(){n.init()}))}),{orientation:e,meta:!0})}))}}},{key:"onCloseClick",value:function(){var e=this;this.setState({showLoader:!0},(function(){return e.onCloseCallback()}))}},{key:"init",value:function(){var e,t,n=this.props,r=n.height,i=n.minCropRadius,o=n.cropRadius,s=this.image.width,a=this.image.height,l=a/s,c=this.props,u=c.imageWidth,d=c.imageHeight;d&&u&&console.warn("The imageWidth and imageHeight properties can not be set together, using only imageWidth."),d&&!u?t=(e=d||a)/l:u?e=(t=u)*l||a:t=(e=r||a)/l;var h=e/a,f=Math.max(i,o||Math.min(t,e)/3);this.setState({imgWidth:t,imgHeight:e,scale:h,cropRadius:f},this.initCanvas)}},{key:"initCanvas",value:function(){var e=this,t=this.initStage(),n=this.initBackground(),r=this.initShading(),i=this.initCrop(),o=this.initCropStroke(),s=this.initResize(),a=this.initResizeIcon(),l=new nt.Layer;l.add(n),l.add(r),l.add(o),l.add(i),l.add(s),l.add(a),t.add(l);var c=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return i.radius()-e},u=function(e){return i.x()-c(e)<0},d=function(e){return i.y()-c(e)<0},h=function(e){return i.x()+c(e)>t.width()},f=function(e){return i.y()+c(e)>t.height()},p=function(t){return c(t)>=e.minCropRadius?t:i.radius()-e.minCropRadius},m=function(e){return e+.86*i.radius()},g=function(e){return e-.5*i.radius()},v=function(e,t){s.x(m(e)-8),s.y(g(t)-8),a.x(m(e)-8),a.y(g(t)-10)},y=function(){if(e.props.exportAsSquare){var t=new nt.Image({image:e.image}),r=t.width()/n.width(),o=t.height()/n.height(),s=2*i.radius()*r,a=2*i.radius()*o,l=e.props.exportSize?e.props.exportSize/s:void 0;return t.toDataURL({x:(i.x()-i.radius())*r,y:(i.y()-i.radius())*o,width:s,height:a,pixelRatio:l,mimeType:e.props.exportMimeType,quality:e.props.exportQuality})}var c=2*i.radius(),u=2*i.radius(),d=e.props.exportSize?e.props.exportSize/c:void 0;return i.toDataURL({x:i.x()-i.radius(),y:i.y()-i.radius(),width:c,height:u,pixelRatio:d,mimeType:e.props.exportMimeType,quality:e.props.exportQuality})},b=function(e){var t=e>0||function(e){return!(u(e)||h(e)||f(e)||d(e))}(e)?e:0;o.radius(o.radius()-p(t)),i.radius(i.radius()-p(t)),s.fire("resize")};this.onCropCallback(y()),i.on("dragmove",(function(){return i.fire("resize")})),i.on("dragend",(function(){return e.onCropCallback(y())})),i.on("resize",(function(){var n=u()?i.radius()+1:h()?t.width()-i.radius()-1:i.x(),r=d()?i.radius()+1:f()?t.height()-i.radius()-1:i.y();v(n,r),i.setFillPatternOffset({x:n/e.scale,y:r/e.scale}),i.x(n),o.x(n),i.y(r),o.y(r)})),i.on("mouseenter",(function(){return t.container().style.cursor="move"})),i.on("mouseleave",(function(){return t.container().style.cursor="default"})),i.on("dragstart",(function(){return t.container().style.cursor="move"})),i.on("dragend",(function(){return t.container().style.cursor="default"})),s.on("touchstart",(function(t){s.on("dragmove",(function(n){if("touchmove"===n.evt.type){var r=n.evt.changedTouches[0].pageY-t.evt.changedTouches[0].pageY||0;b(r*e.mobileScaleSpeed)}}))})),s.on("dragmove",(function(t){if("touchmove"!==t.evt.type){var n=t.evt.y,r=n?n-e.state.lastMouseY:void 0,i=t.evt.movementY||r||0;e.setState({lastMouseY:n}),b(i)}})),s.on("dragend",(function(){return e.onCropCallback(y())})),s.on("resize",(function(){return v(i.x(),i.y())})),s.on("mouseenter",(function(){return t.container().style.cursor="nesw-resize"})),s.on("mouseleave",(function(){return t.container().style.cursor="default"})),s.on("dragstart",(function(n){e.setState({lastMouseY:n.evt.y}),t.container().style.cursor="nesw-resize"})),s.on("dragend",(function(){return t.container().style.cursor="default"}))}},{key:"initStage",value:function(){return new nt.Stage({container:this.containerId,width:this.width,height:this.height})}},{key:"initBackground",value:function(){return new nt.Image({x:0,y:0,width:this.width,height:this.height,image:this.image})}},{key:"initShading",value:function(){return new nt.Rect({x:0,y:0,width:this.width,height:this.height,fill:this.shadingColor,strokeWidth:4,opacity:this.shadingOpacity})}},{key:"initCrop",value:function(){return new nt.Circle({x:this.halfWidth,y:this.halfHeight,radius:this.cropRadius,fillPatternImage:this.image,fillPatternOffset:{x:this.halfWidth/this.scale,y:this.halfHeight/this.scale},fillPatternScale:{x:this.scale,y:this.scale},opacity:1,draggable:!0,dashEnabled:!0,dash:[10,5]})}},{key:"initCropStroke",value:function(){return new nt.Circle({x:this.halfWidth,y:this.halfHeight,radius:this.cropRadius,stroke:this.cropColor,strokeWidth:this.lineWidth,strokeScaleEnabled:!0,dashEnabled:!0,dash:[10,5]})}},{key:"initResize",value:function(){return new nt.Rect({x:this.halfWidth+.86*this.cropRadius-8,y:this.halfHeight+-.5*this.cropRadius-8,width:16,height:16,draggable:!0,dragBoundFunc:function(e){return{x:this.getAbsolutePosition().x,y:e.y}}})}},{key:"initResizeIcon",value:function(){return new nt.Path({x:this.halfWidth+.86*this.cropRadius-8,y:this.halfHeight+-.5*this.cropRadius-10,data:"M47.624,0.124l12.021,9.73L44.5,24.5l10,10l14.661-15.161l9.963,12.285v-31.5H47.624z M24.5,44.5   L9.847,59.653L0,47.5V79h31.5l-12.153-9.847L34.5,54.5L24.5,44.5z",fill:this.cropColor,scale:{x:.2,y:.2}})}},{key:"render",value:function(){var e=this,n=this.props,r=n.width,i=n.height,o={display:"flex",justifyContent:"center",backgroundColor:this.backgroundColor,width:r||this.width,position:"relative"},s=this.props.label,a=ft(ft({},this.props.labelStyle),{lineHeight:(i||200)+"px"}),l=ft(ft({},this.props.borderStyle),{width:r||200,height:i||200});return t().createElement("div",null,this.state.showLoader?t().createElement("div",{style:l},t().createElement("input",{onChange:function(t){return e.onFileLoad(t)},name:this.loaderId,type:"file",id:this.loaderId,style:{width:.1,height:.1,opacity:0,overflow:"hidden",position:"absolute",zIndex:-1},accept:this.mimeTypes}),t().createElement("label",{htmlFor:this.loaderId,style:a},s)):t().createElement("div",{style:o},t().createElement("svg",{onClick:this.onCloseClick,style:{position:"absolute",zIndex:999,cursor:"pointer",left:"10px",top:"10px"},viewBox:"0 0 475.2 475.2",width:"20px",height:"20px"},t().createElement("g",null,t().createElement("path",{d:"M405.6,69.6C360.7,24.7,301.1,0,237.6,0s-123.1,24.7-168,69.6S0,174.1,0,237.6s24.7,123.1,69.6,168s104.5,69.6,168,69.6    s123.1-24.7,168-69.6s69.6-104.5,69.6-168S450.5,114.5,405.6,69.6z M386.5,386.5c-39.8,39.8-92.7,61.7-148.9,61.7    s-109.1-21.9-148.9-61.7c-82.1-82.1-82.1-215.7,0-297.8C128.5,48.9,181.4,27,237.6,27s109.1,21.9,148.9,61.7    C468.6,170.8,468.6,304.4,386.5,386.5z",fill:this.closeIconColor}),t().createElement("path",{d:"M342.3,132.9c-5.3-5.3-13.8-5.3-19.1,0l-85.6,85.6L152,132.9c-5.3-5.3-13.8-5.3-19.1,0c-5.3,5.3-5.3,13.8,0,19.1    l85.6,85.6l-85.6,85.6c-5.3,5.3-5.3,13.8,0,19.1c2.6,2.6,6.1,4,9.5,4s6.9-1.3,9.5-4l85.6-85.6l85.6,85.6c2.6,2.6,6.1,4,9.5,4    c3.5,0,6.9-1.3,9.5-4c5.3-5.3,5.3-13.8,0-19.1l-85.4-85.6l85.6-85.6C347.6,146.7,347.6,138.2,342.3,132.9z",fill:this.closeIconColor}))),t().createElement("div",{id:this.containerId})))}},{key:"lineWidth",get:function(){return this.props.lineWidth}},{key:"containerId",get:function(){return this.state.containerId}},{key:"closeIconColor",get:function(){return this.props.closeIconColor}},{key:"cropColor",get:function(){return this.props.cropColor}},{key:"loaderId",get:function(){return this.state.loaderId}},{key:"mimeTypes",get:function(){return this.props.mimeTypes}},{key:"backgroundColor",get:function(){return this.props.backgroundColor}},{key:"shadingColor",get:function(){return this.props.shadingColor}},{key:"shadingOpacity",get:function(){return this.props.shadingOpacity}},{key:"mobileScaleSpeed",get:function(){return this.props.mobileScaleSpeed}},{key:"cropRadius",get:function(){return this.state.cropRadius}},{key:"minCropRadius",get:function(){return this.props.minCropRadius}},{key:"scale",get:function(){return this.state.scale}},{key:"width",get:function(){return this.state.imgWidth}},{key:"halfWidth",get:function(){return this.state.imgWidth/2}},{key:"height",get:function(){return this.state.imgHeight}},{key:"halfHeight",get:function(){return this.state.imgHeight/2}},{key:"image",get:function(){return this.state.image}}])&&pt(s.prototype,n),s}(t().Component);bt(wt,"defaultProps",{shadingColor:"grey",shadingOpacity:.6,cropColor:"white",closeIconColor:"white",lineWidth:4,minCropRadius:30,backgroundColor:"grey",mimeTypes:"image/jpeg,image/png",exportAsSquare:!1,exportSize:void 0,exportMimeType:"image/png",exportQuality:1,mobileScaleSpeed:.5,onClose:function(){},onCrop:function(){},onFileLoad:function(){},onImageLoad:function(){},onBeforeFileLoad:function(){},label:"Choose a file",labelStyle:{fontSize:"1.25em",fontWeight:"700",color:"black",display:"inline-block",fontFamily:"sans-serif",cursor:"pointer"},borderStyle:{border:"2px solid #979797",borderStyle:"dashed",borderRadius:"8px",textAlign:"center"}});const At=wt})(),s})())},5764:(e,t,n)=>{"use strict";var r=n(7565),i=n(9611);function o(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var s=new Set,a={};function l(e,t){c(e,t),c(e+"Capture",t)}function c(e,t){for(a[e]=t,e=0;e<t.length;e++)s.add(t[e])}var u=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),d=Object.prototype.hasOwnProperty,h=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,f={},p={};function m(e,t,n,r,i,o,s){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=o,this.removeEmptyString=s}var g={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){g[e]=new m(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];g[t]=new m(t,1,!1,e[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){g[e]=new m(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){g[e]=new m(e,2,!1,e,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){g[e]=new m(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){g[e]=new m(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){g[e]=new m(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){g[e]=new m(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){g[e]=new m(e,5,!1,e.toLowerCase(),null,!1,!1)}));var v=/[\-:]([a-z])/g;function y(e){return e[1].toUpperCase()}function b(e,t,n,r){var i=g.hasOwnProperty(t)?g[t]:null;(null!==i?0!==i.type:r||!(2<t.length)||"o"!==t[0]&&"O"!==t[0]||"n"!==t[1]&&"N"!==t[1])&&(function(e,t,n,r){if(null===t||"undefined"===typeof t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,i,r)&&(n=null),r||null===i?function(e){return!!d.call(p,e)||!d.call(f,e)&&(h.test(e)?p[e]=!0:(f[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=null===n?3!==i.type&&"":n:(t=i.attributeName,r=i.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(i=i.type)||4===i&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(v,y);g[t]=new m(t,1,!1,e,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(v,y);g[t]=new m(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(v,y);g[t]=new m(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){g[e]=new m(e,1,!1,e.toLowerCase(),null,!1,!1)})),g.xlinkHref=new m("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){g[e]=new m(e,1,!1,e.toLowerCase(),null,!0,!0)}));var w=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,A=Symbol.for("react.element"),_=Symbol.for("react.portal"),x=Symbol.for("react.fragment"),S=Symbol.for("react.strict_mode"),k=Symbol.for("react.profiler"),E=Symbol.for("react.provider"),C=Symbol.for("react.context"),T=Symbol.for("react.forward_ref"),N=Symbol.for("react.suspense"),O=Symbol.for("react.suspense_list"),I=Symbol.for("react.memo"),D=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var j=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var P=Symbol.iterator;function R(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=P&&e[P]||e["@@iterator"])?e:null}var L,M=Object.assign;function B(e){if(void 0===L)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);L=t&&t[1]||""}return"\n"+L+e}var U=!1;function F(e,t){if(!e||U)return"";U=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var r=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){r=c}e.call(t.prototype)}else{try{throw Error()}catch(c){r=c}e()}}catch(c){if(c&&r&&"string"===typeof c.stack){for(var i=c.stack.split("\n"),o=r.stack.split("\n"),s=i.length-1,a=o.length-1;1<=s&&0<=a&&i[s]!==o[a];)a--;for(;1<=s&&0<=a;s--,a--)if(i[s]!==o[a]){if(1!==s||1!==a)do{if(s--,0>--a||i[s]!==o[a]){var l="\n"+i[s].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}}while(1<=s&&0<=a);break}}}finally{U=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?B(e):""}function V(e){switch(e.tag){case 5:return B(e.type);case 16:return B("Lazy");case 13:return B("Suspense");case 19:return B("SuspenseList");case 0:case 2:case 15:return e=F(e.type,!1);case 11:return e=F(e.type.render,!1);case 1:return e=F(e.type,!0);default:return""}}function q(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case x:return"Fragment";case _:return"Portal";case k:return"Profiler";case S:return"StrictMode";case N:return"Suspense";case O:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case C:return(e.displayName||"Context")+".Consumer";case E:return(e._context.displayName||"Context")+".Provider";case T:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case I:return null!==(t=e.displayName||null)?t:q(e.type)||"Memo";case D:t=e._payload,e=e._init;try{return q(e(t))}catch(n){}}return null}function H(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return q(t);case 8:return t===S?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"===typeof t)return t.displayName||t.name||null;if("string"===typeof t)return t}return null}function z(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function G(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function Y(e){e._valueTracker||(e._valueTracker=function(e){var t=G(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var i=n.get,o=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){r=""+e,o.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function W(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=G(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function K(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function Q(e,t){var n=t.checked;return M({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function J(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=z(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function X(e,t){null!=(t=t.checked)&&b(e,"checked",t,!1)}function Z(e,t){X(e,t);var n=z(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?ee(e,t.type,n):t.hasOwnProperty("defaultValue")&&ee(e,t.type,z(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function $(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ee(e,t,n){"number"===t&&K(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var te=Array.isArray;function ne(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+z(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function re(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(o(91));return M({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ie(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(o(92));if(te(n)){if(1<n.length)throw Error(o(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:z(n)}}function oe(e,t){var n=z(t.value),r=z(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function se(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}function ae(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function le(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?ae(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var ce,ue,de=(ue=function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((ce=ce||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ce.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction((function(){return ue(e,t)}))}:ue);function he(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var fe={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},pe=["Webkit","ms","Moz","O"];function me(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||fe.hasOwnProperty(e)&&fe[e]?(""+t).trim():t+"px"}function ge(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),i=me(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}Object.keys(fe).forEach((function(e){pe.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),fe[t]=fe[e]}))}));var ve=M({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ye(e,t){if(t){if(ve[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(o(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(o(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(o(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(o(62))}}function be(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var we=null;function Ae(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var _e=null,xe=null,Se=null;function ke(e){if(e=bi(e)){if("function"!==typeof _e)throw Error(o(280));var t=e.stateNode;t&&(t=Ai(t),_e(e.stateNode,e.type,t))}}function Ee(e){xe?Se?Se.push(e):Se=[e]:xe=e}function Ce(){if(xe){var e=xe,t=Se;if(Se=xe=null,ke(e),t)for(e=0;e<t.length;e++)ke(t[e])}}function Te(e,t){return e(t)}function Ne(){}var Oe=!1;function Ie(e,t,n){if(Oe)return e(t,n);Oe=!0;try{return Te(e,t,n)}finally{Oe=!1,(null!==xe||null!==Se)&&(Ne(),Ce())}}function De(e,t){var n=e.stateNode;if(null===n)return null;var r=Ai(n);if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(o(231,t,typeof n));return n}var je=!1;if(u)try{var Pe={};Object.defineProperty(Pe,"passive",{get:function(){je=!0}}),window.addEventListener("test",Pe,Pe),window.removeEventListener("test",Pe,Pe)}catch(ue){je=!1}function Re(e,t,n,r,i,o,s,a,l){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(u){this.onError(u)}}var Le=!1,Me=null,Be=!1,Ue=null,Fe={onError:function(e){Le=!0,Me=e}};function Ve(e,t,n,r,i,o,s,a,l){Le=!1,Me=null,Re.apply(Fe,arguments)}function qe(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function He(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function ze(e){if(qe(e)!==e)throw Error(o(188))}function Ge(e){return null!==(e=function(e){var t=e.alternate;if(!t){if(null===(t=qe(e)))throw Error(o(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var s=i.alternate;if(null===s){if(null!==(r=i.return)){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return ze(i),e;if(s===r)return ze(i),t;s=s.sibling}throw Error(o(188))}if(n.return!==r.return)n=i,r=s;else{for(var a=!1,l=i.child;l;){if(l===n){a=!0,n=i,r=s;break}if(l===r){a=!0,r=i,n=s;break}l=l.sibling}if(!a){for(l=s.child;l;){if(l===n){a=!0,n=s,r=i;break}if(l===r){a=!0,r=s,n=i;break}l=l.sibling}if(!a)throw Error(o(189))}}if(n.alternate!==r)throw Error(o(190))}if(3!==n.tag)throw Error(o(188));return n.stateNode.current===n?e:t}(e))?Ye(e):null}function Ye(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){var t=Ye(e);if(null!==t)return t;e=e.sibling}return null}var We=i.unstable_scheduleCallback,Ke=i.unstable_cancelCallback,Qe=i.unstable_shouldYield,Je=i.unstable_requestPaint,Xe=i.unstable_now,Ze=i.unstable_getCurrentPriorityLevel,$e=i.unstable_ImmediatePriority,et=i.unstable_UserBlockingPriority,tt=i.unstable_NormalPriority,nt=i.unstable_LowPriority,rt=i.unstable_IdlePriority,it=null,ot=null;var st=Math.clz32?Math.clz32:function(e){return e>>>=0,0===e?32:31-(at(e)/lt|0)|0},at=Math.log,lt=Math.LN2;var ct=64,ut=4194304;function dt(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function ht(e,t){var n=e.pendingLanes;if(0===n)return 0;var r=0,i=e.suspendedLanes,o=e.pingedLanes,s=268435455&n;if(0!==s){var a=s&~i;0!==a?r=dt(a):0!==(o&=s)&&(r=dt(o))}else 0!==(s=n&~i)?r=dt(s):0!==o&&(r=dt(o));if(0===r)return 0;if(0!==t&&t!==r&&0===(t&i)&&((i=r&-r)>=(o=t&-t)||16===i&&0!==(4194240&o)))return t;if(0!==(4&r)&&(r|=16&n),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)i=1<<(n=31-st(t)),r|=e[n],t&=~i;return r}function ft(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function pt(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function mt(){var e=ct;return 0===(4194240&(ct<<=1))&&(ct=64),e}function gt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function vt(e,t,n){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-st(t)]=n}function yt(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-st(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var bt=0;function wt(e){return 1<(e&=-e)?4<e?0!==(268435455&e)?16:536870912:4:1}var At,_t,xt,St,kt,Et=!1,Ct=[],Tt=null,Nt=null,Ot=null,It=new Map,Dt=new Map,jt=[],Pt="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Rt(e,t){switch(e){case"focusin":case"focusout":Tt=null;break;case"dragenter":case"dragleave":Nt=null;break;case"mouseover":case"mouseout":Ot=null;break;case"pointerover":case"pointerout":It.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Dt.delete(t.pointerId)}}function Lt(e,t,n,r,i,o){return null===e||e.nativeEvent!==o?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:o,targetContainers:[i]},null!==t&&(null!==(t=bi(t))&&_t(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==i&&-1===t.indexOf(i)&&t.push(i),e)}function Mt(e){var t=yi(e.target);if(null!==t){var n=qe(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=He(n)))return e.blockedOn=t,void kt(e.priority,(function(){xt(n)}))}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function Bt(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=Qt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=bi(n))&&_t(t),e.blockedOn=n,!1;var r=new(n=e.nativeEvent).constructor(n.type,n);we=r,n.target.dispatchEvent(r),we=null,t.shift()}return!0}function Ut(e,t,n){Bt(e)&&n.delete(t)}function Ft(){Et=!1,null!==Tt&&Bt(Tt)&&(Tt=null),null!==Nt&&Bt(Nt)&&(Nt=null),null!==Ot&&Bt(Ot)&&(Ot=null),It.forEach(Ut),Dt.forEach(Ut)}function Vt(e,t){e.blockedOn===t&&(e.blockedOn=null,Et||(Et=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,Ft)))}function qt(e){function t(t){return Vt(t,e)}if(0<Ct.length){Vt(Ct[0],e);for(var n=1;n<Ct.length;n++){var r=Ct[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==Tt&&Vt(Tt,e),null!==Nt&&Vt(Nt,e),null!==Ot&&Vt(Ot,e),It.forEach(t),Dt.forEach(t),n=0;n<jt.length;n++)(r=jt[n]).blockedOn===e&&(r.blockedOn=null);for(;0<jt.length&&null===(n=jt[0]).blockedOn;)Mt(n),null===n.blockedOn&&jt.shift()}var Ht=w.ReactCurrentBatchConfig,zt=!0;function Gt(e,t,n,r){var i=bt,o=Ht.transition;Ht.transition=null;try{bt=1,Wt(e,t,n,r)}finally{bt=i,Ht.transition=o}}function Yt(e,t,n,r){var i=bt,o=Ht.transition;Ht.transition=null;try{bt=4,Wt(e,t,n,r)}finally{bt=i,Ht.transition=o}}function Wt(e,t,n,r){if(zt){var i=Qt(e,t,n,r);if(null===i)zr(e,t,r,Kt,n),Rt(e,r);else if(function(e,t,n,r,i){switch(t){case"focusin":return Tt=Lt(Tt,e,t,n,r,i),!0;case"dragenter":return Nt=Lt(Nt,e,t,n,r,i),!0;case"mouseover":return Ot=Lt(Ot,e,t,n,r,i),!0;case"pointerover":var o=i.pointerId;return It.set(o,Lt(It.get(o)||null,e,t,n,r,i)),!0;case"gotpointercapture":return o=i.pointerId,Dt.set(o,Lt(Dt.get(o)||null,e,t,n,r,i)),!0}return!1}(i,e,t,n,r))r.stopPropagation();else if(Rt(e,r),4&t&&-1<Pt.indexOf(e)){for(;null!==i;){var o=bi(i);if(null!==o&&At(o),null===(o=Qt(e,t,n,r))&&zr(e,t,r,Kt,n),o===i)break;i=o}null!==i&&r.stopPropagation()}else zr(e,t,r,null,n)}}var Kt=null;function Qt(e,t,n,r){if(Kt=null,null!==(e=yi(e=Ae(r))))if(null===(t=qe(e)))e=null;else if(13===(n=t.tag)){if(null!==(e=He(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Kt=e,null}function Jt(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Ze()){case $e:return 1;case et:return 4;case tt:case nt:return 16;case rt:return 536870912;default:return 16}default:return 16}}var Xt=null,Zt=null,$t=null;function en(){if($t)return $t;var e,t,n=Zt,r=n.length,i="value"in Xt?Xt.value:Xt.textContent,o=i.length;for(e=0;e<r&&n[e]===i[e];e++);var s=r-e;for(t=1;t<=s&&n[r-t]===i[o-t];t++);return $t=i.slice(e,1<t?1-t:void 0)}function tn(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function nn(){return!0}function rn(){return!1}function on(e){function t(t,n,r,i,o){for(var s in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=i,this.target=o,this.currentTarget=null,e)e.hasOwnProperty(s)&&(t=e[s],this[s]=t?t(i):i[s]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?nn:rn,this.isPropagationStopped=rn,this}return M(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=nn)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=nn)},persist:function(){},isPersistent:nn}),t}var sn,an,ln,cn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},un=on(cn),dn=M({},cn,{view:0,detail:0}),hn=on(dn),fn=M({},dn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:kn,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==ln&&(ln&&"mousemove"===e.type?(sn=e.screenX-ln.screenX,an=e.screenY-ln.screenY):an=sn=0,ln=e),sn)},movementY:function(e){return"movementY"in e?e.movementY:an}}),pn=on(fn),mn=on(M({},fn,{dataTransfer:0})),gn=on(M({},dn,{relatedTarget:0})),vn=on(M({},cn,{animationName:0,elapsedTime:0,pseudoElement:0})),yn=M({},cn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),bn=on(yn),wn=on(M({},cn,{data:0})),An={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},_n={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},xn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Sn(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=xn[e])&&!!t[e]}function kn(){return Sn}var En=M({},dn,{key:function(e){if(e.key){var t=An[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=tn(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?_n[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:kn,charCode:function(e){return"keypress"===e.type?tn(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?tn(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),Cn=on(En),Tn=on(M({},fn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),Nn=on(M({},dn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:kn})),On=on(M({},cn,{propertyName:0,elapsedTime:0,pseudoElement:0})),In=M({},fn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Dn=on(In),jn=[9,13,27,32],Pn=u&&"CompositionEvent"in window,Rn=null;u&&"documentMode"in document&&(Rn=document.documentMode);var Ln=u&&"TextEvent"in window&&!Rn,Mn=u&&(!Pn||Rn&&8<Rn&&11>=Rn),Bn=String.fromCharCode(32),Un=!1;function Fn(e,t){switch(e){case"keyup":return-1!==jn.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Vn(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var qn=!1;var Hn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function zn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Hn[e.type]:"textarea"===t}function Gn(e,t,n,r){Ee(r),0<(t=Yr(t,"onChange")).length&&(n=new un("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Yn=null,Wn=null;function Kn(e){Br(e,0)}function Qn(e){if(W(wi(e)))return e}function Jn(e,t){if("change"===e)return t}var Xn=!1;if(u){var Zn;if(u){var $n="oninput"in document;if(!$n){var er=document.createElement("div");er.setAttribute("oninput","return;"),$n="function"===typeof er.oninput}Zn=$n}else Zn=!1;Xn=Zn&&(!document.documentMode||9<document.documentMode)}function tr(){Yn&&(Yn.detachEvent("onpropertychange",nr),Wn=Yn=null)}function nr(e){if("value"===e.propertyName&&Qn(Wn)){var t=[];Gn(t,Wn,e,Ae(e)),Ie(Kn,t)}}function rr(e,t,n){"focusin"===e?(tr(),Wn=n,(Yn=t).attachEvent("onpropertychange",nr)):"focusout"===e&&tr()}function ir(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Qn(Wn)}function or(e,t){if("click"===e)return Qn(t)}function sr(e,t){if("input"===e||"change"===e)return Qn(t)}var ar="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function lr(e,t){if(ar(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!d.call(t,i)||!ar(e[i],t[i]))return!1}return!0}function cr(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function ur(e,t){var n,r=cr(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=cr(r)}}function dr(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?dr(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function hr(){for(var e=window,t=K();t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=K((e=t.contentWindow).document)}return t}function fr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function pr(e){var t=hr(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&dr(n.ownerDocument.documentElement,n)){if(null!==r&&fr(n))if(t=r.start,void 0===(e=r.end)&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if((e=(t=n.ownerDocument||document)&&t.defaultView||window).getSelection){e=e.getSelection();var i=n.textContent.length,o=Math.min(r.start,i);r=void 0===r.end?o:Math.min(r.end,i),!e.extend&&o>r&&(i=r,r=o,o=i),i=ur(n,o);var s=ur(n,r);i&&s&&(1!==e.rangeCount||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==s.node||e.focusOffset!==s.offset)&&((t=t.createRange()).setStart(i.node,i.offset),e.removeAllRanges(),o>r?(e.addRange(t),e.extend(s.node,s.offset)):(t.setEnd(s.node,s.offset),e.addRange(t)))}for(t=[],e=n;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"===typeof n.focus&&n.focus(),n=0;n<t.length;n++)(e=t[n]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}var mr=u&&"documentMode"in document&&11>=document.documentMode,gr=null,vr=null,yr=null,br=!1;function wr(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;br||null==gr||gr!==K(r)||("selectionStart"in(r=gr)&&fr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},yr&&lr(yr,r)||(yr=r,0<(r=Yr(vr,"onSelect")).length&&(t=new un("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=gr)))}function Ar(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var _r={animationend:Ar("Animation","AnimationEnd"),animationiteration:Ar("Animation","AnimationIteration"),animationstart:Ar("Animation","AnimationStart"),transitionend:Ar("Transition","TransitionEnd")},xr={},Sr={};function kr(e){if(xr[e])return xr[e];if(!_r[e])return e;var t,n=_r[e];for(t in n)if(n.hasOwnProperty(t)&&t in Sr)return xr[e]=n[t];return e}u&&(Sr=document.createElement("div").style,"AnimationEvent"in window||(delete _r.animationend.animation,delete _r.animationiteration.animation,delete _r.animationstart.animation),"TransitionEvent"in window||delete _r.transitionend.transition);var Er=kr("animationend"),Cr=kr("animationiteration"),Tr=kr("animationstart"),Nr=kr("transitionend"),Or=new Map,Ir="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Dr(e,t){Or.set(e,t),l(t,[e])}for(var jr=0;jr<Ir.length;jr++){var Pr=Ir[jr];Dr(Pr.toLowerCase(),"on"+(Pr[0].toUpperCase()+Pr.slice(1)))}Dr(Er,"onAnimationEnd"),Dr(Cr,"onAnimationIteration"),Dr(Tr,"onAnimationStart"),Dr("dblclick","onDoubleClick"),Dr("focusin","onFocus"),Dr("focusout","onBlur"),Dr(Nr,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),l("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),l("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),l("onBeforeInput",["compositionend","keypress","textInput","paste"]),l("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Rr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Lr=new Set("cancel close invalid load scroll toggle".split(" ").concat(Rr));function Mr(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,i,s,a,l,c){if(Ve.apply(this,arguments),Le){if(!Le)throw Error(o(198));var u=Me;Le=!1,Me=null,Be||(Be=!0,Ue=u)}}(r,t,void 0,e),e.currentTarget=null}function Br(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var o=void 0;if(t)for(var s=r.length-1;0<=s;s--){var a=r[s],l=a.instance,c=a.currentTarget;if(a=a.listener,l!==o&&i.isPropagationStopped())break e;Mr(i,a,c),o=l}else for(s=0;s<r.length;s++){if(l=(a=r[s]).instance,c=a.currentTarget,a=a.listener,l!==o&&i.isPropagationStopped())break e;Mr(i,a,c),o=l}}}if(Be)throw e=Ue,Be=!1,Ue=null,e}function Ur(e,t){var n=t[mi];void 0===n&&(n=t[mi]=new Set);var r=e+"__bubble";n.has(r)||(Hr(t,e,2,!1),n.add(r))}function Fr(e,t,n){var r=0;t&&(r|=4),Hr(n,e,r,t)}var Vr="_reactListening"+Math.random().toString(36).slice(2);function qr(e){if(!e[Vr]){e[Vr]=!0,s.forEach((function(t){"selectionchange"!==t&&(Lr.has(t)||Fr(t,!1,e),Fr(t,!0,e))}));var t=9===e.nodeType?e:e.ownerDocument;null===t||t[Vr]||(t[Vr]=!0,Fr("selectionchange",!1,t))}}function Hr(e,t,n,r){switch(Jt(t)){case 1:var i=Gt;break;case 4:i=Yt;break;default:i=Wt}n=i.bind(null,t,n,e),i=void 0,!je||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(i=!0),r?void 0!==i?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):void 0!==i?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function zr(e,t,n,r,i){var o=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var s=r.tag;if(3===s||4===s){var a=r.stateNode.containerInfo;if(a===i||8===a.nodeType&&a.parentNode===i)break;if(4===s)for(s=r.return;null!==s;){var l=s.tag;if((3===l||4===l)&&((l=s.stateNode.containerInfo)===i||8===l.nodeType&&l.parentNode===i))return;s=s.return}for(;null!==a;){if(null===(s=yi(a)))return;if(5===(l=s.tag)||6===l){r=o=s;continue e}a=a.parentNode}}r=r.return}Ie((function(){var r=o,i=Ae(n),s=[];e:{var a=Or.get(e);if(void 0!==a){var l=un,c=e;switch(e){case"keypress":if(0===tn(n))break e;case"keydown":case"keyup":l=Cn;break;case"focusin":c="focus",l=gn;break;case"focusout":c="blur",l=gn;break;case"beforeblur":case"afterblur":l=gn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":l=pn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":l=mn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":l=Nn;break;case Er:case Cr:case Tr:l=vn;break;case Nr:l=On;break;case"scroll":l=hn;break;case"wheel":l=Dn;break;case"copy":case"cut":case"paste":l=bn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":l=Tn}var u=0!==(4&t),d=!u&&"scroll"===e,h=u?null!==a?a+"Capture":null:a;u=[];for(var f,p=r;null!==p;){var m=(f=p).stateNode;if(5===f.tag&&null!==m&&(f=m,null!==h&&(null!=(m=De(p,h))&&u.push(Gr(p,m,f)))),d)break;p=p.return}0<u.length&&(a=new l(a,c,null,n,i),s.push({event:a,listeners:u}))}}if(0===(7&t)){if(l="mouseout"===e||"pointerout"===e,(!(a="mouseover"===e||"pointerover"===e)||n===we||!(c=n.relatedTarget||n.fromElement)||!yi(c)&&!c[pi])&&(l||a)&&(a=i.window===i?i:(a=i.ownerDocument)?a.defaultView||a.parentWindow:window,l?(l=r,null!==(c=(c=n.relatedTarget||n.toElement)?yi(c):null)&&(c!==(d=qe(c))||5!==c.tag&&6!==c.tag)&&(c=null)):(l=null,c=r),l!==c)){if(u=pn,m="onMouseLeave",h="onMouseEnter",p="mouse","pointerout"!==e&&"pointerover"!==e||(u=Tn,m="onPointerLeave",h="onPointerEnter",p="pointer"),d=null==l?a:wi(l),f=null==c?a:wi(c),(a=new u(m,p+"leave",l,n,i)).target=d,a.relatedTarget=f,m=null,yi(i)===r&&((u=new u(h,p+"enter",c,n,i)).target=f,u.relatedTarget=d,m=u),d=m,l&&c)e:{for(h=c,p=0,f=u=l;f;f=Wr(f))p++;for(f=0,m=h;m;m=Wr(m))f++;for(;0<p-f;)u=Wr(u),p--;for(;0<f-p;)h=Wr(h),f--;for(;p--;){if(u===h||null!==h&&u===h.alternate)break e;u=Wr(u),h=Wr(h)}u=null}else u=null;null!==l&&Kr(s,a,l,u,!1),null!==c&&null!==d&&Kr(s,d,c,u,!0)}if("select"===(l=(a=r?wi(r):window).nodeName&&a.nodeName.toLowerCase())||"input"===l&&"file"===a.type)var g=Jn;else if(zn(a))if(Xn)g=sr;else{g=ir;var v=rr}else(l=a.nodeName)&&"input"===l.toLowerCase()&&("checkbox"===a.type||"radio"===a.type)&&(g=or);switch(g&&(g=g(e,r))?Gn(s,g,n,i):(v&&v(e,a,r),"focusout"===e&&(v=a._wrapperState)&&v.controlled&&"number"===a.type&&ee(a,"number",a.value)),v=r?wi(r):window,e){case"focusin":(zn(v)||"true"===v.contentEditable)&&(gr=v,vr=r,yr=null);break;case"focusout":yr=vr=gr=null;break;case"mousedown":br=!0;break;case"contextmenu":case"mouseup":case"dragend":br=!1,wr(s,n,i);break;case"selectionchange":if(mr)break;case"keydown":case"keyup":wr(s,n,i)}var y;if(Pn)e:{switch(e){case"compositionstart":var b="onCompositionStart";break e;case"compositionend":b="onCompositionEnd";break e;case"compositionupdate":b="onCompositionUpdate";break e}b=void 0}else qn?Fn(e,n)&&(b="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(b="onCompositionStart");b&&(Mn&&"ko"!==n.locale&&(qn||"onCompositionStart"!==b?"onCompositionEnd"===b&&qn&&(y=en()):(Zt="value"in(Xt=i)?Xt.value:Xt.textContent,qn=!0)),0<(v=Yr(r,b)).length&&(b=new wn(b,e,null,n,i),s.push({event:b,listeners:v}),y?b.data=y:null!==(y=Vn(n))&&(b.data=y))),(y=Ln?function(e,t){switch(e){case"compositionend":return Vn(t);case"keypress":return 32!==t.which?null:(Un=!0,Bn);case"textInput":return(e=t.data)===Bn&&Un?null:e;default:return null}}(e,n):function(e,t){if(qn)return"compositionend"===e||!Pn&&Fn(e,t)?(e=en(),$t=Zt=Xt=null,qn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Mn&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(r=Yr(r,"onBeforeInput")).length&&(i=new wn("onBeforeInput","beforeinput",null,n,i),s.push({event:i,listeners:r}),i.data=y))}Br(s,t)}))}function Gr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Yr(e,t){for(var n=t+"Capture",r=[];null!==e;){var i=e,o=i.stateNode;5===i.tag&&null!==o&&(i=o,null!=(o=De(e,n))&&r.unshift(Gr(e,o,i)),null!=(o=De(e,t))&&r.push(Gr(e,o,i))),e=e.return}return r}function Wr(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Kr(e,t,n,r,i){for(var o=t._reactName,s=[];null!==n&&n!==r;){var a=n,l=a.alternate,c=a.stateNode;if(null!==l&&l===r)break;5===a.tag&&null!==c&&(a=c,i?null!=(l=De(n,o))&&s.unshift(Gr(n,l,a)):i||null!=(l=De(n,o))&&s.push(Gr(n,l,a))),n=n.return}0!==s.length&&e.push({event:t,listeners:s})}var Qr=/\r\n?/g,Jr=/\u0000|\uFFFD/g;function Xr(e){return("string"===typeof e?e:""+e).replace(Qr,"\n").replace(Jr,"")}function Zr(e,t,n){if(t=Xr(t),Xr(e)!==t&&n)throw Error(o(425))}function $r(){}var ei=null,ti=null;function ni(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var ri="function"===typeof setTimeout?setTimeout:void 0,ii="function"===typeof clearTimeout?clearTimeout:void 0,oi="function"===typeof Promise?Promise:void 0,si="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof oi?function(e){return oi.resolve(null).then(e).catch(ai)}:ri;function ai(e){setTimeout((function(){throw e}))}function li(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&8===i.nodeType)if("/$"===(n=i.data)){if(0===r)return e.removeChild(i),void qt(t);r--}else"$"!==n&&"$?"!==n&&"$!"!==n||r++;n=i}while(n);qt(t)}function ci(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t)break;if("/$"===t)return null}}return e}function ui(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var di=Math.random().toString(36).slice(2),hi="__reactFiber$"+di,fi="__reactProps$"+di,pi="__reactContainer$"+di,mi="__reactEvents$"+di,gi="__reactListeners$"+di,vi="__reactHandles$"+di;function yi(e){var t=e[hi];if(t)return t;for(var n=e.parentNode;n;){if(t=n[pi]||n[hi]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=ui(e);null!==e;){if(n=e[hi])return n;e=ui(e)}return t}n=(e=n).parentNode}return null}function bi(e){return!(e=e[hi]||e[pi])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function wi(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(o(33))}function Ai(e){return e[fi]||null}var _i=[],xi=-1;function Si(e){return{current:e}}function ki(e){0>xi||(e.current=_i[xi],_i[xi]=null,xi--)}function Ei(e,t){xi++,_i[xi]=e.current,e.current=t}var Ci={},Ti=Si(Ci),Ni=Si(!1),Oi=Ci;function Ii(e,t){var n=e.type.contextTypes;if(!n)return Ci;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i,o={};for(i in n)o[i]=t[i];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=o),o}function Di(e){return null!==(e=e.childContextTypes)&&void 0!==e}function ji(){ki(Ni),ki(Ti)}function Pi(e,t,n){if(Ti.current!==Ci)throw Error(o(168));Ei(Ti,t),Ei(Ni,n)}function Ri(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,"function"!==typeof r.getChildContext)return n;for(var i in r=r.getChildContext())if(!(i in t))throw Error(o(108,H(e)||"Unknown",i));return M({},n,r)}function Li(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Ci,Oi=Ti.current,Ei(Ti,e),Ei(Ni,Ni.current),!0}function Mi(e,t,n){var r=e.stateNode;if(!r)throw Error(o(169));n?(e=Ri(e,t,Oi),r.__reactInternalMemoizedMergedChildContext=e,ki(Ni),ki(Ti),Ei(Ti,e)):ki(Ni),Ei(Ni,n)}var Bi=null,Ui=!1,Fi=!1;function Vi(e){null===Bi?Bi=[e]:Bi.push(e)}function qi(){if(!Fi&&null!==Bi){Fi=!0;var e=0,t=bt;try{var n=Bi;for(bt=1;e<n.length;e++){var r=n[e];do{r=r(!0)}while(null!==r)}Bi=null,Ui=!1}catch(i){throw null!==Bi&&(Bi=Bi.slice(e+1)),We($e,qi),i}finally{bt=t,Fi=!1}}return null}var Hi=[],zi=0,Gi=null,Yi=0,Wi=[],Ki=0,Qi=null,Ji=1,Xi="";function Zi(e,t){Hi[zi++]=Yi,Hi[zi++]=Gi,Gi=e,Yi=t}function $i(e,t,n){Wi[Ki++]=Ji,Wi[Ki++]=Xi,Wi[Ki++]=Qi,Qi=e;var r=Ji;e=Xi;var i=32-st(r)-1;r&=~(1<<i),n+=1;var o=32-st(t)+i;if(30<o){var s=i-i%5;o=(r&(1<<s)-1).toString(32),r>>=s,i-=s,Ji=1<<32-st(t)+i|n<<i|r,Xi=o+e}else Ji=1<<o|n<<i|r,Xi=e}function eo(e){null!==e.return&&(Zi(e,1),$i(e,1,0))}function to(e){for(;e===Gi;)Gi=Hi[--zi],Hi[zi]=null,Yi=Hi[--zi],Hi[zi]=null;for(;e===Qi;)Qi=Wi[--Ki],Wi[Ki]=null,Xi=Wi[--Ki],Wi[Ki]=null,Ji=Wi[--Ki],Wi[Ki]=null}var no=null,ro=null,io=!1,oo=null;function so(e,t){var n=Dc(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,null===(t=e.deletions)?(e.deletions=[n],e.flags|=16):t.push(n)}function ao(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,no=e,ro=ci(t.firstChild),!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,no=e,ro=null,!0);case 13:return null!==(t=8!==t.nodeType?null:t)&&(n=null!==Qi?{id:Ji,overflow:Xi}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},(n=Dc(18,null,null,0)).stateNode=t,n.return=e,e.child=n,no=e,ro=null,!0);default:return!1}}function lo(e){return 0!==(1&e.mode)&&0===(128&e.flags)}function co(e){if(io){var t=ro;if(t){var n=t;if(!ao(e,t)){if(lo(e))throw Error(o(418));t=ci(n.nextSibling);var r=no;t&&ao(e,t)?so(r,n):(e.flags=-4097&e.flags|2,io=!1,no=e)}}else{if(lo(e))throw Error(o(418));e.flags=-4097&e.flags|2,io=!1,no=e}}}function uo(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;no=e}function ho(e){if(e!==no)return!1;if(!io)return uo(e),io=!0,!1;var t;if((t=3!==e.tag)&&!(t=5!==e.tag)&&(t="head"!==(t=e.type)&&"body"!==t&&!ni(e.type,e.memoizedProps)),t&&(t=ro)){if(lo(e))throw fo(),Error(o(418));for(;t;)so(e,t),t=ci(t.nextSibling)}if(uo(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(o(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){ro=ci(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}ro=null}}else ro=no?ci(e.stateNode.nextSibling):null;return!0}function fo(){for(var e=ro;e;)e=ci(e.nextSibling)}function po(){ro=no=null,io=!1}function mo(e){null===oo?oo=[e]:oo.push(e)}var go=w.ReactCurrentBatchConfig;function vo(e,t){if(e&&e.defaultProps){for(var n in t=M({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}var yo=Si(null),bo=null,wo=null,Ao=null;function _o(){Ao=wo=bo=null}function xo(e){var t=yo.current;ki(yo),e._currentValue=t}function So(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function ko(e,t){bo=e,Ao=wo=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(wa=!0),e.firstContext=null)}function Eo(e){var t=e._currentValue;if(Ao!==e)if(e={context:e,memoizedValue:t,next:null},null===wo){if(null===bo)throw Error(o(308));wo=e,bo.dependencies={lanes:0,firstContext:e}}else wo=wo.next=e;return t}var Co=null;function To(e){null===Co?Co=[e]:Co.push(e)}function No(e,t,n,r){var i=t.interleaved;return null===i?(n.next=n,To(t)):(n.next=i.next,i.next=n),t.interleaved=n,Oo(e,r)}function Oo(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}var Io=!1;function Do(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function jo(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Po(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Ro(e,t,n){var r=e.updateQueue;if(null===r)return null;if(r=r.shared,0!==(2&Nl)){var i=r.pending;return null===i?t.next=t:(t.next=i.next,i.next=t),r.pending=t,Oo(e,n)}return null===(i=r.interleaved)?(t.next=t,To(r)):(t.next=i.next,i.next=t),r.interleaved=t,Oo(e,n)}function Lo(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194240&n))){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,yt(e,n)}}function Mo(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var i=null,o=null;if(null!==(n=n.firstBaseUpdate)){do{var s={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===o?i=o=s:o=o.next=s,n=n.next}while(null!==n);null===o?i=o=t:o=o.next=t}else i=o=t;return n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:o,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Bo(e,t,n,r){var i=e.updateQueue;Io=!1;var o=i.firstBaseUpdate,s=i.lastBaseUpdate,a=i.shared.pending;if(null!==a){i.shared.pending=null;var l=a,c=l.next;l.next=null,null===s?o=c:s.next=c,s=l;var u=e.alternate;null!==u&&((a=(u=u.updateQueue).lastBaseUpdate)!==s&&(null===a?u.firstBaseUpdate=c:a.next=c,u.lastBaseUpdate=l))}if(null!==o){var d=i.baseState;for(s=0,u=c=l=null,a=o;;){var h=a.lane,f=a.eventTime;if((r&h)===h){null!==u&&(u=u.next={eventTime:f,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var p=e,m=a;switch(h=t,f=n,m.tag){case 1:if("function"===typeof(p=m.payload)){d=p.call(f,d,h);break e}d=p;break e;case 3:p.flags=-65537&p.flags|128;case 0:if(null===(h="function"===typeof(p=m.payload)?p.call(f,d,h):p)||void 0===h)break e;d=M({},d,h);break e;case 2:Io=!0}}null!==a.callback&&0!==a.lane&&(e.flags|=64,null===(h=i.effects)?i.effects=[a]:h.push(a))}else f={eventTime:f,lane:h,tag:a.tag,payload:a.payload,callback:a.callback,next:null},null===u?(c=u=f,l=d):u=u.next=f,s|=h;if(null===(a=a.next)){if(null===(a=i.shared.pending))break;a=(h=a).next,h.next=null,i.lastBaseUpdate=h,i.shared.pending=null}}if(null===u&&(l=d),i.baseState=l,i.firstBaseUpdate=c,i.lastBaseUpdate=u,null!==(t=i.shared.interleaved)){i=t;do{s|=i.lane,i=i.next}while(i!==t)}else null===o&&(i.shared.lanes=0);Ml|=s,e.lanes=s,e.memoizedState=d}}function Uo(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(null!==i){if(r.callback=null,r=n,"function"!==typeof i)throw Error(o(191,i));i.call(r)}}}var Fo=(new r.Component).refs;function Vo(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:M({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var qo={isMounted:function(e){return!!(e=e._reactInternals)&&qe(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=tc(),i=nc(e),o=Po(r,i);o.payload=t,void 0!==n&&null!==n&&(o.callback=n),null!==(t=Ro(e,o,i))&&(rc(t,e,i,r),Lo(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=tc(),i=nc(e),o=Po(r,i);o.tag=1,o.payload=t,void 0!==n&&null!==n&&(o.callback=n),null!==(t=Ro(e,o,i))&&(rc(t,e,i,r),Lo(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=tc(),r=nc(e),i=Po(n,r);i.tag=2,void 0!==t&&null!==t&&(i.callback=t),null!==(t=Ro(e,i,r))&&(rc(t,e,r,n),Lo(t,e,r))}};function Ho(e,t,n,r,i,o,s){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,o,s):!t.prototype||!t.prototype.isPureReactComponent||(!lr(n,r)||!lr(i,o))}function zo(e,t,n){var r=!1,i=Ci,o=t.contextType;return"object"===typeof o&&null!==o?o=Eo(o):(i=Di(t)?Oi:Ti.current,o=(r=null!==(r=t.contextTypes)&&void 0!==r)?Ii(e,i):Ci),t=new t(n,o),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=qo,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=o),t}function Go(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&qo.enqueueReplaceState(t,t.state,null)}function Yo(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs=Fo,Do(e);var o=t.contextType;"object"===typeof o&&null!==o?i.context=Eo(o):(o=Di(t)?Oi:Ti.current,i.context=Ii(e,o)),i.state=e.memoizedState,"function"===typeof(o=t.getDerivedStateFromProps)&&(Vo(e,t,o,n),i.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof i.getSnapshotBeforeUpdate||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||(t=i.state,"function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),t!==i.state&&qo.enqueueReplaceState(i,i.state,null),Bo(e,n,i,r),i.state=e.memoizedState),"function"===typeof i.componentDidMount&&(e.flags|=4194308)}function Wo(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(o(309));var r=n.stateNode}if(!r)throw Error(o(147,e));var i=r,s=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===s?t.ref:(t=function(e){var t=i.refs;t===Fo&&(t=i.refs={}),null===e?delete t[s]:t[s]=e},t._stringRef=s,t)}if("string"!==typeof e)throw Error(o(284));if(!n._owner)throw Error(o(290,e))}return e}function Ko(e,t){throw e=Object.prototype.toString.call(t),Error(o(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Qo(e){return(0,e._init)(e._payload)}function Jo(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function i(e,t){return(e=Pc(e,t)).index=0,e.sibling=null,e}function s(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=2,n):r:(t.flags|=2,n):(t.flags|=1048576,n)}function a(t){return e&&null===t.alternate&&(t.flags|=2),t}function l(e,t,n,r){return null===t||6!==t.tag?((t=Bc(n,e.mode,r)).return=e,t):((t=i(t,n)).return=e,t)}function c(e,t,n,r){var o=n.type;return o===x?d(e,t,n.props.children,r,n.key):null!==t&&(t.elementType===o||"object"===typeof o&&null!==o&&o.$$typeof===D&&Qo(o)===t.type)?((r=i(t,n.props)).ref=Wo(e,t,n),r.return=e,r):((r=Rc(n.type,n.key,n.props,null,e.mode,r)).ref=Wo(e,t,n),r.return=e,r)}function u(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Uc(n,e.mode,r)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function d(e,t,n,r,o){return null===t||7!==t.tag?((t=Lc(n,e.mode,r,o)).return=e,t):((t=i(t,n)).return=e,t)}function h(e,t,n){if("string"===typeof t&&""!==t||"number"===typeof t)return(t=Bc(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case A:return(n=Rc(t.type,t.key,t.props,null,e.mode,n)).ref=Wo(e,null,t),n.return=e,n;case _:return(t=Uc(t,e.mode,n)).return=e,t;case D:return h(e,(0,t._init)(t._payload),n)}if(te(t)||R(t))return(t=Lc(t,e.mode,n,null)).return=e,t;Ko(e,t)}return null}function f(e,t,n,r){var i=null!==t?t.key:null;if("string"===typeof n&&""!==n||"number"===typeof n)return null!==i?null:l(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case A:return n.key===i?c(e,t,n,r):null;case _:return n.key===i?u(e,t,n,r):null;case D:return f(e,t,(i=n._init)(n._payload),r)}if(te(n)||R(n))return null!==i?null:d(e,t,n,r,null);Ko(e,n)}return null}function p(e,t,n,r,i){if("string"===typeof r&&""!==r||"number"===typeof r)return l(t,e=e.get(n)||null,""+r,i);if("object"===typeof r&&null!==r){switch(r.$$typeof){case A:return c(t,e=e.get(null===r.key?n:r.key)||null,r,i);case _:return u(t,e=e.get(null===r.key?n:r.key)||null,r,i);case D:return p(e,t,n,(0,r._init)(r._payload),i)}if(te(r)||R(r))return d(t,e=e.get(n)||null,r,i,null);Ko(t,r)}return null}function m(i,o,a,l){for(var c=null,u=null,d=o,m=o=0,g=null;null!==d&&m<a.length;m++){d.index>m?(g=d,d=null):g=d.sibling;var v=f(i,d,a[m],l);if(null===v){null===d&&(d=g);break}e&&d&&null===v.alternate&&t(i,d),o=s(v,o,m),null===u?c=v:u.sibling=v,u=v,d=g}if(m===a.length)return n(i,d),io&&Zi(i,m),c;if(null===d){for(;m<a.length;m++)null!==(d=h(i,a[m],l))&&(o=s(d,o,m),null===u?c=d:u.sibling=d,u=d);return io&&Zi(i,m),c}for(d=r(i,d);m<a.length;m++)null!==(g=p(d,i,m,a[m],l))&&(e&&null!==g.alternate&&d.delete(null===g.key?m:g.key),o=s(g,o,m),null===u?c=g:u.sibling=g,u=g);return e&&d.forEach((function(e){return t(i,e)})),io&&Zi(i,m),c}function g(i,a,l,c){var u=R(l);if("function"!==typeof u)throw Error(o(150));if(null==(l=u.call(l)))throw Error(o(151));for(var d=u=null,m=a,g=a=0,v=null,y=l.next();null!==m&&!y.done;g++,y=l.next()){m.index>g?(v=m,m=null):v=m.sibling;var b=f(i,m,y.value,c);if(null===b){null===m&&(m=v);break}e&&m&&null===b.alternate&&t(i,m),a=s(b,a,g),null===d?u=b:d.sibling=b,d=b,m=v}if(y.done)return n(i,m),io&&Zi(i,g),u;if(null===m){for(;!y.done;g++,y=l.next())null!==(y=h(i,y.value,c))&&(a=s(y,a,g),null===d?u=y:d.sibling=y,d=y);return io&&Zi(i,g),u}for(m=r(i,m);!y.done;g++,y=l.next())null!==(y=p(m,i,g,y.value,c))&&(e&&null!==y.alternate&&m.delete(null===y.key?g:y.key),a=s(y,a,g),null===d?u=y:d.sibling=y,d=y);return e&&m.forEach((function(e){return t(i,e)})),io&&Zi(i,g),u}return function e(r,o,s,l){if("object"===typeof s&&null!==s&&s.type===x&&null===s.key&&(s=s.props.children),"object"===typeof s&&null!==s){switch(s.$$typeof){case A:e:{for(var c=s.key,u=o;null!==u;){if(u.key===c){if((c=s.type)===x){if(7===u.tag){n(r,u.sibling),(o=i(u,s.props.children)).return=r,r=o;break e}}else if(u.elementType===c||"object"===typeof c&&null!==c&&c.$$typeof===D&&Qo(c)===u.type){n(r,u.sibling),(o=i(u,s.props)).ref=Wo(r,u,s),o.return=r,r=o;break e}n(r,u);break}t(r,u),u=u.sibling}s.type===x?((o=Lc(s.props.children,r.mode,l,s.key)).return=r,r=o):((l=Rc(s.type,s.key,s.props,null,r.mode,l)).ref=Wo(r,o,s),l.return=r,r=l)}return a(r);case _:e:{for(u=s.key;null!==o;){if(o.key===u){if(4===o.tag&&o.stateNode.containerInfo===s.containerInfo&&o.stateNode.implementation===s.implementation){n(r,o.sibling),(o=i(o,s.children||[])).return=r,r=o;break e}n(r,o);break}t(r,o),o=o.sibling}(o=Uc(s,r.mode,l)).return=r,r=o}return a(r);case D:return e(r,o,(u=s._init)(s._payload),l)}if(te(s))return m(r,o,s,l);if(R(s))return g(r,o,s,l);Ko(r,s)}return"string"===typeof s&&""!==s||"number"===typeof s?(s=""+s,null!==o&&6===o.tag?(n(r,o.sibling),(o=i(o,s)).return=r,r=o):(n(r,o),(o=Bc(s,r.mode,l)).return=r,r=o),a(r)):n(r,o)}}var Xo=Jo(!0),Zo=Jo(!1),$o={},es=Si($o),ts=Si($o),ns=Si($o);function rs(e){if(e===$o)throw Error(o(174));return e}function is(e,t){switch(Ei(ns,t),Ei(ts,e),Ei(es,$o),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:le(null,"");break;default:t=le(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}ki(es),Ei(es,t)}function os(){ki(es),ki(ts),ki(ns)}function ss(e){rs(ns.current);var t=rs(es.current),n=le(t,e.type);t!==n&&(Ei(ts,e),Ei(es,n))}function as(e){ts.current===e&&(ki(es),ki(ts))}var ls=Si(0);function cs(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var us=[];function ds(){for(var e=0;e<us.length;e++)us[e]._workInProgressVersionPrimary=null;us.length=0}var hs=w.ReactCurrentDispatcher,fs=w.ReactCurrentBatchConfig,ps=0,ms=null,gs=null,vs=null,ys=!1,bs=!1,ws=0,As=0;function _s(){throw Error(o(321))}function xs(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!ar(e[n],t[n]))return!1;return!0}function Ss(e,t,n,r,i,s){if(ps=s,ms=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,hs.current=null===e||null===e.memoizedState?aa:la,e=n(r,i),bs){s=0;do{if(bs=!1,ws=0,25<=s)throw Error(o(301));s+=1,vs=gs=null,t.updateQueue=null,hs.current=ca,e=n(r,i)}while(bs)}if(hs.current=sa,t=null!==gs&&null!==gs.next,ps=0,vs=gs=ms=null,ys=!1,t)throw Error(o(300));return e}function ks(){var e=0!==ws;return ws=0,e}function Es(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===vs?ms.memoizedState=vs=e:vs=vs.next=e,vs}function Cs(){if(null===gs){var e=ms.alternate;e=null!==e?e.memoizedState:null}else e=gs.next;var t=null===vs?ms.memoizedState:vs.next;if(null!==t)vs=t,gs=e;else{if(null===e)throw Error(o(310));e={memoizedState:(gs=e).memoizedState,baseState:gs.baseState,baseQueue:gs.baseQueue,queue:gs.queue,next:null},null===vs?ms.memoizedState=vs=e:vs=vs.next=e}return vs}function Ts(e,t){return"function"===typeof t?t(e):t}function Ns(e){var t=Cs(),n=t.queue;if(null===n)throw Error(o(311));n.lastRenderedReducer=e;var r=gs,i=r.baseQueue,s=n.pending;if(null!==s){if(null!==i){var a=i.next;i.next=s.next,s.next=a}r.baseQueue=i=s,n.pending=null}if(null!==i){s=i.next,r=r.baseState;var l=a=null,c=null,u=s;do{var d=u.lane;if((ps&d)===d)null!==c&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:e(r,u.action);else{var h={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};null===c?(l=c=h,a=r):c=c.next=h,ms.lanes|=d,Ml|=d}u=u.next}while(null!==u&&u!==s);null===c?a=r:c.next=l,ar(r,t.memoizedState)||(wa=!0),t.memoizedState=r,t.baseState=a,t.baseQueue=c,n.lastRenderedState=r}if(null!==(e=n.interleaved)){i=e;do{s=i.lane,ms.lanes|=s,Ml|=s,i=i.next}while(i!==e)}else null===i&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Os(e){var t=Cs(),n=t.queue;if(null===n)throw Error(o(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,s=t.memoizedState;if(null!==i){n.pending=null;var a=i=i.next;do{s=e(s,a.action),a=a.next}while(a!==i);ar(s,t.memoizedState)||(wa=!0),t.memoizedState=s,null===t.baseQueue&&(t.baseState=s),n.lastRenderedState=s}return[s,r]}function Is(){}function Ds(e,t){var n=ms,r=Cs(),i=t(),s=!ar(r.memoizedState,i);if(s&&(r.memoizedState=i,wa=!0),r=r.queue,zs(Rs.bind(null,n,r,e),[e]),r.getSnapshot!==t||s||null!==vs&&1&vs.memoizedState.tag){if(n.flags|=2048,Us(9,Ps.bind(null,n,r,i,t),void 0,null),null===Ol)throw Error(o(349));0!==(30&ps)||js(n,t,i)}return i}function js(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=ms.updateQueue)?(t={lastEffect:null,stores:null},ms.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function Ps(e,t,n,r){t.value=n,t.getSnapshot=r,Ls(t)&&Ms(e)}function Rs(e,t,n){return n((function(){Ls(t)&&Ms(e)}))}function Ls(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!ar(e,n)}catch(r){return!0}}function Ms(e){var t=Oo(e,1);null!==t&&rc(t,e,1,-1)}function Bs(e){var t=Es();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Ts,lastRenderedState:e},t.queue=e,e=e.dispatch=na.bind(null,ms,e),[t.memoizedState,e]}function Us(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=ms.updateQueue)?(t={lastEffect:null,stores:null},ms.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function Fs(){return Cs().memoizedState}function Vs(e,t,n,r){var i=Es();ms.flags|=e,i.memoizedState=Us(1|t,n,void 0,void 0===r?null:r)}function qs(e,t,n,r){var i=Cs();r=void 0===r?null:r;var o=void 0;if(null!==gs){var s=gs.memoizedState;if(o=s.destroy,null!==r&&xs(r,s.deps))return void(i.memoizedState=Us(t,n,o,r))}ms.flags|=e,i.memoizedState=Us(1|t,n,o,r)}function Hs(e,t){return Vs(8390656,8,e,t)}function zs(e,t){return qs(2048,8,e,t)}function Gs(e,t){return qs(4,2,e,t)}function Ys(e,t){return qs(4,4,e,t)}function Ws(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function Ks(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,qs(4,4,Ws.bind(null,t,e),n)}function Qs(){}function Js(e,t){var n=Cs();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&xs(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Xs(e,t){var n=Cs();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&xs(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Zs(e,t,n){return 0===(21&ps)?(e.baseState&&(e.baseState=!1,wa=!0),e.memoizedState=n):(ar(n,t)||(n=mt(),ms.lanes|=n,Ml|=n,e.baseState=!0),t)}function $s(e,t){var n=bt;bt=0!==n&&4>n?n:4,e(!0);var r=fs.transition;fs.transition={};try{e(!1),t()}finally{bt=n,fs.transition=r}}function ea(){return Cs().memoizedState}function ta(e,t,n){var r=nc(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},ra(e))ia(t,n);else if(null!==(n=No(e,t,n,r))){rc(n,e,r,tc()),oa(n,t,r)}}function na(e,t,n){var r=nc(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(ra(e))ia(t,i);else{var o=e.alternate;if(0===e.lanes&&(null===o||0===o.lanes)&&null!==(o=t.lastRenderedReducer))try{var s=t.lastRenderedState,a=o(s,n);if(i.hasEagerState=!0,i.eagerState=a,ar(a,s)){var l=t.interleaved;return null===l?(i.next=i,To(t)):(i.next=l.next,l.next=i),void(t.interleaved=i)}}catch(c){}null!==(n=No(e,t,i,r))&&(rc(n,e,r,i=tc()),oa(n,t,r))}}function ra(e){var t=e.alternate;return e===ms||null!==t&&t===ms}function ia(e,t){bs=ys=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function oa(e,t,n){if(0!==(4194240&n)){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,yt(e,n)}}var sa={readContext:Eo,useCallback:_s,useContext:_s,useEffect:_s,useImperativeHandle:_s,useInsertionEffect:_s,useLayoutEffect:_s,useMemo:_s,useReducer:_s,useRef:_s,useState:_s,useDebugValue:_s,useDeferredValue:_s,useTransition:_s,useMutableSource:_s,useSyncExternalStore:_s,useId:_s,unstable_isNewReconciler:!1},aa={readContext:Eo,useCallback:function(e,t){return Es().memoizedState=[e,void 0===t?null:t],e},useContext:Eo,useEffect:Hs,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Vs(4194308,4,Ws.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Vs(4194308,4,e,t)},useInsertionEffect:function(e,t){return Vs(4,2,e,t)},useMemo:function(e,t){var n=Es();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=Es();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=ta.bind(null,ms,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},Es().memoizedState=e},useState:Bs,useDebugValue:Qs,useDeferredValue:function(e){return Es().memoizedState=e},useTransition:function(){var e=Bs(!1),t=e[0];return e=$s.bind(null,e[1]),Es().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=ms,i=Es();if(io){if(void 0===n)throw Error(o(407));n=n()}else{if(n=t(),null===Ol)throw Error(o(349));0!==(30&ps)||js(r,t,n)}i.memoizedState=n;var s={value:n,getSnapshot:t};return i.queue=s,Hs(Rs.bind(null,r,s,e),[e]),r.flags|=2048,Us(9,Ps.bind(null,r,s,n,t),void 0,null),n},useId:function(){var e=Es(),t=Ol.identifierPrefix;if(io){var n=Xi;t=":"+t+"R"+(n=(Ji&~(1<<32-st(Ji)-1)).toString(32)+n),0<(n=ws++)&&(t+="H"+n.toString(32)),t+=":"}else t=":"+t+"r"+(n=As++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},la={readContext:Eo,useCallback:Js,useContext:Eo,useEffect:zs,useImperativeHandle:Ks,useInsertionEffect:Gs,useLayoutEffect:Ys,useMemo:Xs,useReducer:Ns,useRef:Fs,useState:function(){return Ns(Ts)},useDebugValue:Qs,useDeferredValue:function(e){return Zs(Cs(),gs.memoizedState,e)},useTransition:function(){return[Ns(Ts)[0],Cs().memoizedState]},useMutableSource:Is,useSyncExternalStore:Ds,useId:ea,unstable_isNewReconciler:!1},ca={readContext:Eo,useCallback:Js,useContext:Eo,useEffect:zs,useImperativeHandle:Ks,useInsertionEffect:Gs,useLayoutEffect:Ys,useMemo:Xs,useReducer:Os,useRef:Fs,useState:function(){return Os(Ts)},useDebugValue:Qs,useDeferredValue:function(e){var t=Cs();return null===gs?t.memoizedState=e:Zs(t,gs.memoizedState,e)},useTransition:function(){return[Os(Ts)[0],Cs().memoizedState]},useMutableSource:Is,useSyncExternalStore:Ds,useId:ea,unstable_isNewReconciler:!1};function ua(e,t){try{var n="",r=t;do{n+=V(r),r=r.return}while(r);var i=n}catch(o){i="\nError generating stack: "+o.message+"\n"+o.stack}return{value:e,source:t,stack:i,digest:null}}function da(e,t,n){return{value:e,source:null,stack:null!=n?n:null,digest:null!=t?t:null}}function ha(e,t){try{console.error(t.value)}catch(n){setTimeout((function(){throw n}))}}var fa="function"===typeof WeakMap?WeakMap:Map;function pa(e,t,n){(n=Po(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Gl||(Gl=!0,Yl=r),ha(0,t)},n}function ma(e,t,n){(n=Po(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"===typeof r){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){ha(0,t)}}var o=e.stateNode;return null!==o&&"function"===typeof o.componentDidCatch&&(n.callback=function(){ha(0,t),"function"!==typeof r&&(null===Wl?Wl=new Set([this]):Wl.add(this));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}function ga(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new fa;var i=new Set;r.set(t,i)}else void 0===(i=r.get(t))&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=Ec.bind(null,e,t,n),t.then(e,e))}function va(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e);return null}function ya(e,t,n,r,i){return 0===(1&e.mode)?(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,1===n.tag&&(null===n.alternate?n.tag=17:((t=Po(-1,1)).tag=2,Ro(n,t,1))),n.lanes|=1),e):(e.flags|=65536,e.lanes=i,e)}var ba=w.ReactCurrentOwner,wa=!1;function Aa(e,t,n,r){t.child=null===e?Zo(t,null,n,r):Xo(t,e.child,n,r)}function _a(e,t,n,r,i){n=n.render;var o=t.ref;return ko(t,i),r=Ss(e,t,n,r,o,i),n=ks(),null===e||wa?(io&&n&&eo(t),t.flags|=1,Aa(e,t,r,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Ga(e,t,i))}function xa(e,t,n,r,i){if(null===e){var o=n.type;return"function"!==typeof o||jc(o)||void 0!==o.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Rc(n.type,null,r,t,t.mode,i)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=o,Sa(e,t,o,r,i))}if(o=e.child,0===(e.lanes&i)){var s=o.memoizedProps;if((n=null!==(n=n.compare)?n:lr)(s,r)&&e.ref===t.ref)return Ga(e,t,i)}return t.flags|=1,(e=Pc(o,r)).ref=t.ref,e.return=t,t.child=e}function Sa(e,t,n,r,i){if(null!==e){var o=e.memoizedProps;if(lr(o,r)&&e.ref===t.ref){if(wa=!1,t.pendingProps=r=o,0===(e.lanes&i))return t.lanes=e.lanes,Ga(e,t,i);0!==(131072&e.flags)&&(wa=!0)}}return Ca(e,t,n,r,i)}function ka(e,t,n){var r=t.pendingProps,i=r.children,o=null!==e?e.memoizedState:null;if("hidden"===r.mode)if(0===(1&t.mode))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ei(Pl,jl),jl|=n;else{if(0===(1073741824&n))return e=null!==o?o.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Ei(Pl,jl),jl|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=null!==o?o.baseLanes:n,Ei(Pl,jl),jl|=r}else null!==o?(r=o.baseLanes|n,t.memoizedState=null):r=n,Ei(Pl,jl),jl|=r;return Aa(e,t,i,n),t.child}function Ea(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Ca(e,t,n,r,i){var o=Di(n)?Oi:Ti.current;return o=Ii(t,o),ko(t,i),n=Ss(e,t,n,r,o,i),r=ks(),null===e||wa?(io&&r&&eo(t),t.flags|=1,Aa(e,t,n,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Ga(e,t,i))}function Ta(e,t,n,r,i){if(Di(n)){var o=!0;Li(t)}else o=!1;if(ko(t,i),null===t.stateNode)za(e,t),zo(t,n,r),Yo(t,n,r,i),r=!0;else if(null===e){var s=t.stateNode,a=t.memoizedProps;s.props=a;var l=s.context,c=n.contextType;"object"===typeof c&&null!==c?c=Eo(c):c=Ii(t,c=Di(n)?Oi:Ti.current);var u=n.getDerivedStateFromProps,d="function"===typeof u||"function"===typeof s.getSnapshotBeforeUpdate;d||"function"!==typeof s.UNSAFE_componentWillReceiveProps&&"function"!==typeof s.componentWillReceiveProps||(a!==r||l!==c)&&Go(t,s,r,c),Io=!1;var h=t.memoizedState;s.state=h,Bo(t,r,s,i),l=t.memoizedState,a!==r||h!==l||Ni.current||Io?("function"===typeof u&&(Vo(t,n,u,r),l=t.memoizedState),(a=Io||Ho(t,n,a,r,h,l,c))?(d||"function"!==typeof s.UNSAFE_componentWillMount&&"function"!==typeof s.componentWillMount||("function"===typeof s.componentWillMount&&s.componentWillMount(),"function"===typeof s.UNSAFE_componentWillMount&&s.UNSAFE_componentWillMount()),"function"===typeof s.componentDidMount&&(t.flags|=4194308)):("function"===typeof s.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=l),s.props=r,s.state=l,s.context=c,r=a):("function"===typeof s.componentDidMount&&(t.flags|=4194308),r=!1)}else{s=t.stateNode,jo(e,t),a=t.memoizedProps,c=t.type===t.elementType?a:vo(t.type,a),s.props=c,d=t.pendingProps,h=s.context,"object"===typeof(l=n.contextType)&&null!==l?l=Eo(l):l=Ii(t,l=Di(n)?Oi:Ti.current);var f=n.getDerivedStateFromProps;(u="function"===typeof f||"function"===typeof s.getSnapshotBeforeUpdate)||"function"!==typeof s.UNSAFE_componentWillReceiveProps&&"function"!==typeof s.componentWillReceiveProps||(a!==d||h!==l)&&Go(t,s,r,l),Io=!1,h=t.memoizedState,s.state=h,Bo(t,r,s,i);var p=t.memoizedState;a!==d||h!==p||Ni.current||Io?("function"===typeof f&&(Vo(t,n,f,r),p=t.memoizedState),(c=Io||Ho(t,n,c,r,h,p,l)||!1)?(u||"function"!==typeof s.UNSAFE_componentWillUpdate&&"function"!==typeof s.componentWillUpdate||("function"===typeof s.componentWillUpdate&&s.componentWillUpdate(r,p,l),"function"===typeof s.UNSAFE_componentWillUpdate&&s.UNSAFE_componentWillUpdate(r,p,l)),"function"===typeof s.componentDidUpdate&&(t.flags|=4),"function"===typeof s.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof s.componentDidUpdate||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof s.getSnapshotBeforeUpdate||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=p),s.props=r,s.state=p,s.context=l,r=c):("function"!==typeof s.componentDidUpdate||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof s.getSnapshotBeforeUpdate||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),r=!1)}return Na(e,t,n,r,o,i)}function Na(e,t,n,r,i,o){Ea(e,t);var s=0!==(128&t.flags);if(!r&&!s)return i&&Mi(t,n,!1),Ga(e,t,o);r=t.stateNode,ba.current=t;var a=s&&"function"!==typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&s?(t.child=Xo(t,e.child,null,o),t.child=Xo(t,null,a,o)):Aa(e,t,a,o),t.memoizedState=r.state,i&&Mi(t,n,!0),t.child}function Oa(e){var t=e.stateNode;t.pendingContext?Pi(0,t.pendingContext,t.pendingContext!==t.context):t.context&&Pi(0,t.context,!1),is(e,t.containerInfo)}function Ia(e,t,n,r,i){return po(),mo(i),t.flags|=256,Aa(e,t,n,r),t.child}var Da,ja,Pa,Ra,La={dehydrated:null,treeContext:null,retryLane:0};function Ma(e){return{baseLanes:e,cachePool:null,transitions:null}}function Ba(e,t,n){var r,i=t.pendingProps,s=ls.current,a=!1,l=0!==(128&t.flags);if((r=l)||(r=(null===e||null!==e.memoizedState)&&0!==(2&s)),r?(a=!0,t.flags&=-129):null!==e&&null===e.memoizedState||(s|=1),Ei(ls,1&s),null===e)return co(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated)?(0===(1&t.mode)?t.lanes=1:"$!"===e.data?t.lanes=8:t.lanes=1073741824,null):(l=i.children,e=i.fallback,a?(i=t.mode,a=t.child,l={mode:"hidden",children:l},0===(1&i)&&null!==a?(a.childLanes=0,a.pendingProps=l):a=Mc(l,i,0,null),e=Lc(e,i,n,null),a.return=t,e.return=t,a.sibling=e,t.child=a,t.child.memoizedState=Ma(n),t.memoizedState=La,e):Ua(t,l));if(null!==(s=e.memoizedState)&&null!==(r=s.dehydrated))return function(e,t,n,r,i,s,a){if(n)return 256&t.flags?(t.flags&=-257,Fa(e,t,a,r=da(Error(o(422))))):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(s=r.fallback,i=t.mode,r=Mc({mode:"visible",children:r.children},i,0,null),(s=Lc(s,i,a,null)).flags|=2,r.return=t,s.return=t,r.sibling=s,t.child=r,0!==(1&t.mode)&&Xo(t,e.child,null,a),t.child.memoizedState=Ma(a),t.memoizedState=La,s);if(0===(1&t.mode))return Fa(e,t,a,null);if("$!"===i.data){if(r=i.nextSibling&&i.nextSibling.dataset)var l=r.dgst;return r=l,Fa(e,t,a,r=da(s=Error(o(419)),r,void 0))}if(l=0!==(a&e.childLanes),wa||l){if(null!==(r=Ol)){switch(a&-a){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}0!==(i=0!==(i&(r.suspendedLanes|a))?0:i)&&i!==s.retryLane&&(s.retryLane=i,Oo(e,i),rc(r,e,i,-1))}return gc(),Fa(e,t,a,r=da(Error(o(421))))}return"$?"===i.data?(t.flags|=128,t.child=e.child,t=Tc.bind(null,e),i._reactRetry=t,null):(e=s.treeContext,ro=ci(i.nextSibling),no=t,io=!0,oo=null,null!==e&&(Wi[Ki++]=Ji,Wi[Ki++]=Xi,Wi[Ki++]=Qi,Ji=e.id,Xi=e.overflow,Qi=t),t=Ua(t,r.children),t.flags|=4096,t)}(e,t,l,i,r,s,n);if(a){a=i.fallback,l=t.mode,r=(s=e.child).sibling;var c={mode:"hidden",children:i.children};return 0===(1&l)&&t.child!==s?((i=t.child).childLanes=0,i.pendingProps=c,t.deletions=null):(i=Pc(s,c)).subtreeFlags=14680064&s.subtreeFlags,null!==r?a=Pc(r,a):(a=Lc(a,l,n,null)).flags|=2,a.return=t,i.return=t,i.sibling=a,t.child=i,i=a,a=t.child,l=null===(l=e.child.memoizedState)?Ma(n):{baseLanes:l.baseLanes|n,cachePool:null,transitions:l.transitions},a.memoizedState=l,a.childLanes=e.childLanes&~n,t.memoizedState=La,i}return e=(a=e.child).sibling,i=Pc(a,{mode:"visible",children:i.children}),0===(1&t.mode)&&(i.lanes=n),i.return=t,i.sibling=null,null!==e&&(null===(n=t.deletions)?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=i,t.memoizedState=null,i}function Ua(e,t){return(t=Mc({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function Fa(e,t,n,r){return null!==r&&mo(r),Xo(t,e.child,null,n),(e=Ua(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function Va(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),So(e.return,t,n)}function qa(e,t,n,r,i){var o=e.memoizedState;null===o?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(o.isBackwards=t,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=i)}function Ha(e,t,n){var r=t.pendingProps,i=r.revealOrder,o=r.tail;if(Aa(e,t,r.children,n),0!==(2&(r=ls.current)))r=1&r|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&Va(e,n,t);else if(19===e.tag)Va(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Ei(ls,r),0===(1&t.mode))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===cs(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),qa(t,!1,i,n,o);break;case"backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===cs(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}qa(t,!0,n,null,o);break;case"together":qa(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function za(e,t){0===(1&t.mode)&&null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Ga(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),Ml|=t.lanes,0===(n&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(o(153));if(null!==t.child){for(n=Pc(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Pc(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function Ya(e,t){if(!io)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Wa(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=14680064&i.subtreeFlags,r|=14680064&i.flags,i.return=e,i=i.sibling;else for(i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function Ka(e,t,n){var r=t.pendingProps;switch(to(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Wa(t),null;case 1:case 17:return Di(t.type)&&ji(),Wa(t),null;case 3:return r=t.stateNode,os(),ki(Ni),ki(Ti),ds(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(ho(t)?t.flags|=4:null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,null!==oo&&(ac(oo),oo=null))),ja(e,t),Wa(t),null;case 5:as(t);var i=rs(ns.current);if(n=t.type,null!==e&&null!=t.stateNode)Pa(e,t,n,r,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(null===t.stateNode)throw Error(o(166));return Wa(t),null}if(e=rs(es.current),ho(t)){r=t.stateNode,n=t.type;var s=t.memoizedProps;switch(r[hi]=t,r[fi]=s,e=0!==(1&t.mode),n){case"dialog":Ur("cancel",r),Ur("close",r);break;case"iframe":case"object":case"embed":Ur("load",r);break;case"video":case"audio":for(i=0;i<Rr.length;i++)Ur(Rr[i],r);break;case"source":Ur("error",r);break;case"img":case"image":case"link":Ur("error",r),Ur("load",r);break;case"details":Ur("toggle",r);break;case"input":J(r,s),Ur("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},Ur("invalid",r);break;case"textarea":ie(r,s),Ur("invalid",r)}for(var l in ye(n,s),i=null,s)if(s.hasOwnProperty(l)){var c=s[l];"children"===l?"string"===typeof c?r.textContent!==c&&(!0!==s.suppressHydrationWarning&&Zr(r.textContent,c,e),i=["children",c]):"number"===typeof c&&r.textContent!==""+c&&(!0!==s.suppressHydrationWarning&&Zr(r.textContent,c,e),i=["children",""+c]):a.hasOwnProperty(l)&&null!=c&&"onScroll"===l&&Ur("scroll",r)}switch(n){case"input":Y(r),$(r,s,!0);break;case"textarea":Y(r),se(r);break;case"select":case"option":break;default:"function"===typeof s.onClick&&(r.onclick=$r)}r=i,t.updateQueue=r,null!==r&&(t.flags|=4)}else{l=9===i.nodeType?i:i.ownerDocument,"http://www.w3.org/1999/xhtml"===e&&(e=ae(n)),"http://www.w3.org/1999/xhtml"===e?"script"===n?((e=l.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof r.is?e=l.createElement(n,{is:r.is}):(e=l.createElement(n),"select"===n&&(l=e,r.multiple?l.multiple=!0:r.size&&(l.size=r.size))):e=l.createElementNS(e,n),e[hi]=t,e[fi]=r,Da(e,t,!1,!1),t.stateNode=e;e:{switch(l=be(n,r),n){case"dialog":Ur("cancel",e),Ur("close",e),i=r;break;case"iframe":case"object":case"embed":Ur("load",e),i=r;break;case"video":case"audio":for(i=0;i<Rr.length;i++)Ur(Rr[i],e);i=r;break;case"source":Ur("error",e),i=r;break;case"img":case"image":case"link":Ur("error",e),Ur("load",e),i=r;break;case"details":Ur("toggle",e),i=r;break;case"input":J(e,r),i=Q(e,r),Ur("invalid",e);break;case"option":default:i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=M({},r,{value:void 0}),Ur("invalid",e);break;case"textarea":ie(e,r),i=re(e,r),Ur("invalid",e)}for(s in ye(n,i),c=i)if(c.hasOwnProperty(s)){var u=c[s];"style"===s?ge(e,u):"dangerouslySetInnerHTML"===s?null!=(u=u?u.__html:void 0)&&de(e,u):"children"===s?"string"===typeof u?("textarea"!==n||""!==u)&&he(e,u):"number"===typeof u&&he(e,""+u):"suppressContentEditableWarning"!==s&&"suppressHydrationWarning"!==s&&"autoFocus"!==s&&(a.hasOwnProperty(s)?null!=u&&"onScroll"===s&&Ur("scroll",e):null!=u&&b(e,s,u,l))}switch(n){case"input":Y(e),$(e,r,!1);break;case"textarea":Y(e),se(e);break;case"option":null!=r.value&&e.setAttribute("value",""+z(r.value));break;case"select":e.multiple=!!r.multiple,null!=(s=r.value)?ne(e,!!r.multiple,s,!1):null!=r.defaultValue&&ne(e,!!r.multiple,r.defaultValue,!0);break;default:"function"===typeof i.onClick&&(e.onclick=$r)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return Wa(t),null;case 6:if(e&&null!=t.stateNode)Ra(e,t,e.memoizedProps,r);else{if("string"!==typeof r&&null===t.stateNode)throw Error(o(166));if(n=rs(ns.current),rs(es.current),ho(t)){if(r=t.stateNode,n=t.memoizedProps,r[hi]=t,(s=r.nodeValue!==n)&&null!==(e=no))switch(e.tag){case 3:Zr(r.nodeValue,n,0!==(1&e.mode));break;case 5:!0!==e.memoizedProps.suppressHydrationWarning&&Zr(r.nodeValue,n,0!==(1&e.mode))}s&&(t.flags|=4)}else(r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[hi]=t,t.stateNode=r}return Wa(t),null;case 13:if(ki(ls),r=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(io&&null!==ro&&0!==(1&t.mode)&&0===(128&t.flags))fo(),po(),t.flags|=98560,s=!1;else if(s=ho(t),null!==r&&null!==r.dehydrated){if(null===e){if(!s)throw Error(o(318));if(!(s=null!==(s=t.memoizedState)?s.dehydrated:null))throw Error(o(317));s[hi]=t}else po(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;Wa(t),s=!1}else null!==oo&&(ac(oo),oo=null),s=!0;if(!s)return 65536&t.flags?t:null}return 0!==(128&t.flags)?(t.lanes=n,t):((r=null!==r)!==(null!==e&&null!==e.memoizedState)&&r&&(t.child.flags|=8192,0!==(1&t.mode)&&(null===e||0!==(1&ls.current)?0===Rl&&(Rl=3):gc())),null!==t.updateQueue&&(t.flags|=4),Wa(t),null);case 4:return os(),ja(e,t),null===e&&qr(t.stateNode.containerInfo),Wa(t),null;case 10:return xo(t.type._context),Wa(t),null;case 19:if(ki(ls),null===(s=t.memoizedState))return Wa(t),null;if(r=0!==(128&t.flags),null===(l=s.rendering))if(r)Ya(s,!1);else{if(0!==Rl||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(l=cs(e))){for(t.flags|=128,Ya(s,!1),null!==(r=l.updateQueue)&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;null!==n;)e=r,(s=n).flags&=14680066,null===(l=s.alternate)?(s.childLanes=0,s.lanes=e,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=l.childLanes,s.lanes=l.lanes,s.child=l.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=l.memoizedProps,s.memoizedState=l.memoizedState,s.updateQueue=l.updateQueue,s.type=l.type,e=l.dependencies,s.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Ei(ls,1&ls.current|2),t.child}e=e.sibling}null!==s.tail&&Xe()>Hl&&(t.flags|=128,r=!0,Ya(s,!1),t.lanes=4194304)}else{if(!r)if(null!==(e=cs(l))){if(t.flags|=128,r=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),Ya(s,!0),null===s.tail&&"hidden"===s.tailMode&&!l.alternate&&!io)return Wa(t),null}else 2*Xe()-s.renderingStartTime>Hl&&1073741824!==n&&(t.flags|=128,r=!0,Ya(s,!1),t.lanes=4194304);s.isBackwards?(l.sibling=t.child,t.child=l):(null!==(n=s.last)?n.sibling=l:t.child=l,s.last=l)}return null!==s.tail?(t=s.tail,s.rendering=t,s.tail=t.sibling,s.renderingStartTime=Xe(),t.sibling=null,n=ls.current,Ei(ls,r?1&n|2:1&n),t):(Wa(t),null);case 22:case 23:return hc(),r=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==r&&(t.flags|=8192),r&&0!==(1&t.mode)?0!==(1073741824&jl)&&(Wa(t),6&t.subtreeFlags&&(t.flags|=8192)):Wa(t),null;case 24:case 25:return null}throw Error(o(156,t.tag))}function Qa(e,t){switch(to(t),t.tag){case 1:return Di(t.type)&&ji(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return os(),ki(Ni),ki(Ti),ds(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 5:return as(t),null;case 13:if(ki(ls),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(o(340));po()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return ki(ls),null;case 4:return os(),null;case 10:return xo(t.type._context),null;case 22:case 23:return hc(),null;default:return null}}Da=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},ja=function(){},Pa=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,rs(es.current);var o,s=null;switch(n){case"input":i=Q(e,i),r=Q(e,r),s=[];break;case"select":i=M({},i,{value:void 0}),r=M({},r,{value:void 0}),s=[];break;case"textarea":i=re(e,i),r=re(e,r),s=[];break;default:"function"!==typeof i.onClick&&"function"===typeof r.onClick&&(e.onclick=$r)}for(u in ye(n,r),n=null,i)if(!r.hasOwnProperty(u)&&i.hasOwnProperty(u)&&null!=i[u])if("style"===u){var l=i[u];for(o in l)l.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else"dangerouslySetInnerHTML"!==u&&"children"!==u&&"suppressContentEditableWarning"!==u&&"suppressHydrationWarning"!==u&&"autoFocus"!==u&&(a.hasOwnProperty(u)?s||(s=[]):(s=s||[]).push(u,null));for(u in r){var c=r[u];if(l=null!=i?i[u]:void 0,r.hasOwnProperty(u)&&c!==l&&(null!=c||null!=l))if("style"===u)if(l){for(o in l)!l.hasOwnProperty(o)||c&&c.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in c)c.hasOwnProperty(o)&&l[o]!==c[o]&&(n||(n={}),n[o]=c[o])}else n||(s||(s=[]),s.push(u,n)),n=c;else"dangerouslySetInnerHTML"===u?(c=c?c.__html:void 0,l=l?l.__html:void 0,null!=c&&l!==c&&(s=s||[]).push(u,c)):"children"===u?"string"!==typeof c&&"number"!==typeof c||(s=s||[]).push(u,""+c):"suppressContentEditableWarning"!==u&&"suppressHydrationWarning"!==u&&(a.hasOwnProperty(u)?(null!=c&&"onScroll"===u&&Ur("scroll",e),s||l===c||(s=[])):(s=s||[]).push(u,c))}n&&(s=s||[]).push("style",n);var u=s;(t.updateQueue=u)&&(t.flags|=4)}},Ra=function(e,t,n,r){n!==r&&(t.flags|=4)};var Ja=!1,Xa=!1,Za="function"===typeof WeakSet?WeakSet:Set,$a=null;function el(e,t){var n=e.ref;if(null!==n)if("function"===typeof n)try{n(null)}catch(r){kc(e,t,r)}else n.current=null}function tl(e,t,n){try{n()}catch(r){kc(e,t,r)}}var nl=!1;function rl(e,t,n){var r=t.updateQueue;if(null!==(r=null!==r?r.lastEffect:null)){var i=r=r.next;do{if((i.tag&e)===e){var o=i.destroy;i.destroy=void 0,void 0!==o&&tl(t,n,o)}i=i.next}while(i!==r)}}function il(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function ol(e){var t=e.ref;if(null!==t){var n=e.stateNode;e.tag,e=n,"function"===typeof t?t(e):t.current=e}}function sl(e){var t=e.alternate;null!==t&&(e.alternate=null,sl(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&(delete t[hi],delete t[fi],delete t[mi],delete t[gi],delete t[vi])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function al(e){return 5===e.tag||3===e.tag||4===e.tag}function ll(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||al(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function cl(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=$r));else if(4!==r&&null!==(e=e.child))for(cl(e,t,n),e=e.sibling;null!==e;)cl(e,t,n),e=e.sibling}function ul(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(ul(e,t,n),e=e.sibling;null!==e;)ul(e,t,n),e=e.sibling}var dl=null,hl=!1;function fl(e,t,n){for(n=n.child;null!==n;)pl(e,t,n),n=n.sibling}function pl(e,t,n){if(ot&&"function"===typeof ot.onCommitFiberUnmount)try{ot.onCommitFiberUnmount(it,n)}catch(a){}switch(n.tag){case 5:Xa||el(n,t);case 6:var r=dl,i=hl;dl=null,fl(e,t,n),hl=i,null!==(dl=r)&&(hl?(e=dl,n=n.stateNode,8===e.nodeType?e.parentNode.removeChild(n):e.removeChild(n)):dl.removeChild(n.stateNode));break;case 18:null!==dl&&(hl?(e=dl,n=n.stateNode,8===e.nodeType?li(e.parentNode,n):1===e.nodeType&&li(e,n),qt(e)):li(dl,n.stateNode));break;case 4:r=dl,i=hl,dl=n.stateNode.containerInfo,hl=!0,fl(e,t,n),dl=r,hl=i;break;case 0:case 11:case 14:case 15:if(!Xa&&(null!==(r=n.updateQueue)&&null!==(r=r.lastEffect))){i=r=r.next;do{var o=i,s=o.destroy;o=o.tag,void 0!==s&&(0!==(2&o)||0!==(4&o))&&tl(n,t,s),i=i.next}while(i!==r)}fl(e,t,n);break;case 1:if(!Xa&&(el(n,t),"function"===typeof(r=n.stateNode).componentWillUnmount))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){kc(n,t,a)}fl(e,t,n);break;case 21:fl(e,t,n);break;case 22:1&n.mode?(Xa=(r=Xa)||null!==n.memoizedState,fl(e,t,n),Xa=r):fl(e,t,n);break;default:fl(e,t,n)}}function ml(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new Za),t.forEach((function(t){var r=Nc.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))}))}}function gl(e,t){var n=t.deletions;if(null!==n)for(var r=0;r<n.length;r++){var i=n[r];try{var s=e,a=t,l=a;e:for(;null!==l;){switch(l.tag){case 5:dl=l.stateNode,hl=!1;break e;case 3:case 4:dl=l.stateNode.containerInfo,hl=!0;break e}l=l.return}if(null===dl)throw Error(o(160));pl(s,a,i),dl=null,hl=!1;var c=i.alternate;null!==c&&(c.return=null),i.return=null}catch(u){kc(i,t,u)}}if(12854&t.subtreeFlags)for(t=t.child;null!==t;)vl(t,e),t=t.sibling}function vl(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(gl(t,e),yl(e),4&r){try{rl(3,e,e.return),il(3,e)}catch(g){kc(e,e.return,g)}try{rl(5,e,e.return)}catch(g){kc(e,e.return,g)}}break;case 1:gl(t,e),yl(e),512&r&&null!==n&&el(n,n.return);break;case 5:if(gl(t,e),yl(e),512&r&&null!==n&&el(n,n.return),32&e.flags){var i=e.stateNode;try{he(i,"")}catch(g){kc(e,e.return,g)}}if(4&r&&null!=(i=e.stateNode)){var s=e.memoizedProps,a=null!==n?n.memoizedProps:s,l=e.type,c=e.updateQueue;if(e.updateQueue=null,null!==c)try{"input"===l&&"radio"===s.type&&null!=s.name&&X(i,s),be(l,a);var u=be(l,s);for(a=0;a<c.length;a+=2){var d=c[a],h=c[a+1];"style"===d?ge(i,h):"dangerouslySetInnerHTML"===d?de(i,h):"children"===d?he(i,h):b(i,d,h,u)}switch(l){case"input":Z(i,s);break;case"textarea":oe(i,s);break;case"select":var f=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var p=s.value;null!=p?ne(i,!!s.multiple,p,!1):f!==!!s.multiple&&(null!=s.defaultValue?ne(i,!!s.multiple,s.defaultValue,!0):ne(i,!!s.multiple,s.multiple?[]:"",!1))}i[fi]=s}catch(g){kc(e,e.return,g)}}break;case 6:if(gl(t,e),yl(e),4&r){if(null===e.stateNode)throw Error(o(162));i=e.stateNode,s=e.memoizedProps;try{i.nodeValue=s}catch(g){kc(e,e.return,g)}}break;case 3:if(gl(t,e),yl(e),4&r&&null!==n&&n.memoizedState.isDehydrated)try{qt(t.containerInfo)}catch(g){kc(e,e.return,g)}break;case 4:default:gl(t,e),yl(e);break;case 13:gl(t,e),yl(e),8192&(i=e.child).flags&&(s=null!==i.memoizedState,i.stateNode.isHidden=s,!s||null!==i.alternate&&null!==i.alternate.memoizedState||(ql=Xe())),4&r&&ml(e);break;case 22:if(d=null!==n&&null!==n.memoizedState,1&e.mode?(Xa=(u=Xa)||d,gl(t,e),Xa=u):gl(t,e),yl(e),8192&r){if(u=null!==e.memoizedState,(e.stateNode.isHidden=u)&&!d&&0!==(1&e.mode))for($a=e,d=e.child;null!==d;){for(h=$a=d;null!==$a;){switch(p=(f=$a).child,f.tag){case 0:case 11:case 14:case 15:rl(4,f,f.return);break;case 1:el(f,f.return);var m=f.stateNode;if("function"===typeof m.componentWillUnmount){r=f,n=f.return;try{t=r,m.props=t.memoizedProps,m.state=t.memoizedState,m.componentWillUnmount()}catch(g){kc(r,n,g)}}break;case 5:el(f,f.return);break;case 22:if(null!==f.memoizedState){_l(h);continue}}null!==p?(p.return=f,$a=p):_l(h)}d=d.sibling}e:for(d=null,h=e;;){if(5===h.tag){if(null===d){d=h;try{i=h.stateNode,u?"function"===typeof(s=i.style).setProperty?s.setProperty("display","none","important"):s.display="none":(l=h.stateNode,a=void 0!==(c=h.memoizedProps.style)&&null!==c&&c.hasOwnProperty("display")?c.display:null,l.style.display=me("display",a))}catch(g){kc(e,e.return,g)}}}else if(6===h.tag){if(null===d)try{h.stateNode.nodeValue=u?"":h.memoizedProps}catch(g){kc(e,e.return,g)}}else if((22!==h.tag&&23!==h.tag||null===h.memoizedState||h===e)&&null!==h.child){h.child.return=h,h=h.child;continue}if(h===e)break e;for(;null===h.sibling;){if(null===h.return||h.return===e)break e;d===h&&(d=null),h=h.return}d===h&&(d=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:gl(t,e),yl(e),4&r&&ml(e);case 21:}}function yl(e){var t=e.flags;if(2&t){try{e:{for(var n=e.return;null!==n;){if(al(n)){var r=n;break e}n=n.return}throw Error(o(160))}switch(r.tag){case 5:var i=r.stateNode;32&r.flags&&(he(i,""),r.flags&=-33),ul(e,ll(e),i);break;case 3:case 4:var s=r.stateNode.containerInfo;cl(e,ll(e),s);break;default:throw Error(o(161))}}catch(a){kc(e,e.return,a)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function bl(e,t,n){$a=e,wl(e,t,n)}function wl(e,t,n){for(var r=0!==(1&e.mode);null!==$a;){var i=$a,o=i.child;if(22===i.tag&&r){var s=null!==i.memoizedState||Ja;if(!s){var a=i.alternate,l=null!==a&&null!==a.memoizedState||Xa;a=Ja;var c=Xa;if(Ja=s,(Xa=l)&&!c)for($a=i;null!==$a;)l=(s=$a).child,22===s.tag&&null!==s.memoizedState?xl(i):null!==l?(l.return=s,$a=l):xl(i);for(;null!==o;)$a=o,wl(o,t,n),o=o.sibling;$a=i,Ja=a,Xa=c}Al(e)}else 0!==(8772&i.subtreeFlags)&&null!==o?(o.return=i,$a=o):Al(e)}}function Al(e){for(;null!==$a;){var t=$a;if(0!==(8772&t.flags)){var n=t.alternate;try{if(0!==(8772&t.flags))switch(t.tag){case 0:case 11:case 15:Xa||il(5,t);break;case 1:var r=t.stateNode;if(4&t.flags&&!Xa)if(null===n)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:vo(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=t.updateQueue;null!==s&&Uo(t,s,r);break;case 3:var a=t.updateQueue;if(null!==a){if(n=null,null!==t.child)switch(t.child.tag){case 5:case 1:n=t.child.stateNode}Uo(t,a,n)}break;case 5:var l=t.stateNode;if(null===n&&4&t.flags){n=l;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(null===t.memoizedState){var u=t.alternate;if(null!==u){var d=u.memoizedState;if(null!==d){var h=d.dehydrated;null!==h&&qt(h)}}}break;default:throw Error(o(163))}Xa||512&t.flags&&ol(t)}catch(f){kc(t,t.return,f)}}if(t===e){$a=null;break}if(null!==(n=t.sibling)){n.return=t.return,$a=n;break}$a=t.return}}function _l(e){for(;null!==$a;){var t=$a;if(t===e){$a=null;break}var n=t.sibling;if(null!==n){n.return=t.return,$a=n;break}$a=t.return}}function xl(e){for(;null!==$a;){var t=$a;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{il(4,t)}catch(l){kc(t,n,l)}break;case 1:var r=t.stateNode;if("function"===typeof r.componentDidMount){var i=t.return;try{r.componentDidMount()}catch(l){kc(t,i,l)}}var o=t.return;try{ol(t)}catch(l){kc(t,o,l)}break;case 5:var s=t.return;try{ol(t)}catch(l){kc(t,s,l)}}}catch(l){kc(t,t.return,l)}if(t===e){$a=null;break}var a=t.sibling;if(null!==a){a.return=t.return,$a=a;break}$a=t.return}}var Sl,kl=Math.ceil,El=w.ReactCurrentDispatcher,Cl=w.ReactCurrentOwner,Tl=w.ReactCurrentBatchConfig,Nl=0,Ol=null,Il=null,Dl=0,jl=0,Pl=Si(0),Rl=0,Ll=null,Ml=0,Bl=0,Ul=0,Fl=null,Vl=null,ql=0,Hl=1/0,zl=null,Gl=!1,Yl=null,Wl=null,Kl=!1,Ql=null,Jl=0,Xl=0,Zl=null,$l=-1,ec=0;function tc(){return 0!==(6&Nl)?Xe():-1!==$l?$l:$l=Xe()}function nc(e){return 0===(1&e.mode)?1:0!==(2&Nl)&&0!==Dl?Dl&-Dl:null!==go.transition?(0===ec&&(ec=mt()),ec):0!==(e=bt)?e:e=void 0===(e=window.event)?16:Jt(e.type)}function rc(e,t,n,r){if(50<Xl)throw Xl=0,Zl=null,Error(o(185));vt(e,n,r),0!==(2&Nl)&&e===Ol||(e===Ol&&(0===(2&Nl)&&(Bl|=n),4===Rl&&lc(e,Dl)),ic(e,r),1===n&&0===Nl&&0===(1&t.mode)&&(Hl=Xe()+500,Ui&&qi()))}function ic(e,t){var n=e.callbackNode;!function(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,o=e.pendingLanes;0<o;){var s=31-st(o),a=1<<s,l=i[s];-1===l?0!==(a&n)&&0===(a&r)||(i[s]=ft(a,t)):l<=t&&(e.expiredLanes|=a),o&=~a}}(e,t);var r=ht(e,e===Ol?Dl:0);if(0===r)null!==n&&Ke(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(null!=n&&Ke(n),1===t)0===e.tag?function(e){Ui=!0,Vi(e)}(cc.bind(null,e)):Vi(cc.bind(null,e)),si((function(){0===(6&Nl)&&qi()})),n=null;else{switch(wt(r)){case 1:n=$e;break;case 4:n=et;break;case 16:default:n=tt;break;case 536870912:n=rt}n=Oc(n,oc.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function oc(e,t){if($l=-1,ec=0,0!==(6&Nl))throw Error(o(327));var n=e.callbackNode;if(xc()&&e.callbackNode!==n)return null;var r=ht(e,e===Ol?Dl:0);if(0===r)return null;if(0!==(30&r)||0!==(r&e.expiredLanes)||t)t=vc(e,r);else{t=r;var i=Nl;Nl|=2;var s=mc();for(Ol===e&&Dl===t||(zl=null,Hl=Xe()+500,fc(e,t));;)try{bc();break}catch(l){pc(e,l)}_o(),El.current=s,Nl=i,null!==Il?t=0:(Ol=null,Dl=0,t=Rl)}if(0!==t){if(2===t&&(0!==(i=pt(e))&&(r=i,t=sc(e,i))),1===t)throw n=Ll,fc(e,0),lc(e,r),ic(e,Xe()),n;if(6===t)lc(e,r);else{if(i=e.current.alternate,0===(30&r)&&!function(e){for(var t=e;;){if(16384&t.flags){var n=t.updateQueue;if(null!==n&&null!==(n=n.stores))for(var r=0;r<n.length;r++){var i=n[r],o=i.getSnapshot;i=i.value;try{if(!ar(o(),i))return!1}catch(a){return!1}}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(i)&&(2===(t=vc(e,r))&&(0!==(s=pt(e))&&(r=s,t=sc(e,s))),1===t))throw n=Ll,fc(e,0),lc(e,r),ic(e,Xe()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(o(345));case 2:case 5:_c(e,Vl,zl);break;case 3:if(lc(e,r),(130023424&r)===r&&10<(t=ql+500-Xe())){if(0!==ht(e,0))break;if(((i=e.suspendedLanes)&r)!==r){tc(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=ri(_c.bind(null,e,Vl,zl),t);break}_c(e,Vl,zl);break;case 4:if(lc(e,r),(4194240&r)===r)break;for(t=e.eventTimes,i=-1;0<r;){var a=31-st(r);s=1<<a,(a=t[a])>i&&(i=a),r&=~s}if(r=i,10<(r=(120>(r=Xe()-r)?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*kl(r/1960))-r)){e.timeoutHandle=ri(_c.bind(null,e,Vl,zl),r);break}_c(e,Vl,zl);break;default:throw Error(o(329))}}}return ic(e,Xe()),e.callbackNode===n?oc.bind(null,e):null}function sc(e,t){var n=Fl;return e.current.memoizedState.isDehydrated&&(fc(e,t).flags|=256),2!==(e=vc(e,t))&&(t=Vl,Vl=n,null!==t&&ac(t)),e}function ac(e){null===Vl?Vl=e:Vl.push.apply(Vl,e)}function lc(e,t){for(t&=~Ul,t&=~Bl,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-st(t),r=1<<n;e[n]=-1,t&=~r}}function cc(e){if(0!==(6&Nl))throw Error(o(327));xc();var t=ht(e,0);if(0===(1&t))return ic(e,Xe()),null;var n=vc(e,t);if(0!==e.tag&&2===n){var r=pt(e);0!==r&&(t=r,n=sc(e,r))}if(1===n)throw n=Ll,fc(e,0),lc(e,t),ic(e,Xe()),n;if(6===n)throw Error(o(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,_c(e,Vl,zl),ic(e,Xe()),null}function uc(e,t){var n=Nl;Nl|=1;try{return e(t)}finally{0===(Nl=n)&&(Hl=Xe()+500,Ui&&qi())}}function dc(e){null!==Ql&&0===Ql.tag&&0===(6&Nl)&&xc();var t=Nl;Nl|=1;var n=Tl.transition,r=bt;try{if(Tl.transition=null,bt=1,e)return e()}finally{bt=r,Tl.transition=n,0===(6&(Nl=t))&&qi()}}function hc(){jl=Pl.current,ki(Pl)}function fc(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,ii(n)),null!==Il)for(n=Il.return;null!==n;){var r=n;switch(to(r),r.tag){case 1:null!==(r=r.type.childContextTypes)&&void 0!==r&&ji();break;case 3:os(),ki(Ni),ki(Ti),ds();break;case 5:as(r);break;case 4:os();break;case 13:case 19:ki(ls);break;case 10:xo(r.type._context);break;case 22:case 23:hc()}n=n.return}if(Ol=e,Il=e=Pc(e.current,null),Dl=jl=t,Rl=0,Ll=null,Ul=Bl=Ml=0,Vl=Fl=null,null!==Co){for(t=0;t<Co.length;t++)if(null!==(r=(n=Co[t]).interleaved)){n.interleaved=null;var i=r.next,o=n.pending;if(null!==o){var s=o.next;o.next=i,r.next=s}n.pending=r}Co=null}return e}function pc(e,t){for(;;){var n=Il;try{if(_o(),hs.current=sa,ys){for(var r=ms.memoizedState;null!==r;){var i=r.queue;null!==i&&(i.pending=null),r=r.next}ys=!1}if(ps=0,vs=gs=ms=null,bs=!1,ws=0,Cl.current=null,null===n||null===n.return){Rl=1,Ll=t,Il=null;break}e:{var s=e,a=n.return,l=n,c=t;if(t=Dl,l.flags|=32768,null!==c&&"object"===typeof c&&"function"===typeof c.then){var u=c,d=l,h=d.tag;if(0===(1&d.mode)&&(0===h||11===h||15===h)){var f=d.alternate;f?(d.updateQueue=f.updateQueue,d.memoizedState=f.memoizedState,d.lanes=f.lanes):(d.updateQueue=null,d.memoizedState=null)}var p=va(a);if(null!==p){p.flags&=-257,ya(p,a,l,0,t),1&p.mode&&ga(s,u,t),c=u;var m=(t=p).updateQueue;if(null===m){var g=new Set;g.add(c),t.updateQueue=g}else m.add(c);break e}if(0===(1&t)){ga(s,u,t),gc();break e}c=Error(o(426))}else if(io&&1&l.mode){var v=va(a);if(null!==v){0===(65536&v.flags)&&(v.flags|=256),ya(v,a,l,0,t),mo(ua(c,l));break e}}s=c=ua(c,l),4!==Rl&&(Rl=2),null===Fl?Fl=[s]:Fl.push(s),s=a;do{switch(s.tag){case 3:s.flags|=65536,t&=-t,s.lanes|=t,Mo(s,pa(0,c,t));break e;case 1:l=c;var y=s.type,b=s.stateNode;if(0===(128&s.flags)&&("function"===typeof y.getDerivedStateFromError||null!==b&&"function"===typeof b.componentDidCatch&&(null===Wl||!Wl.has(b)))){s.flags|=65536,t&=-t,s.lanes|=t,Mo(s,ma(s,l,t));break e}}s=s.return}while(null!==s)}Ac(n)}catch(w){t=w,Il===n&&null!==n&&(Il=n=n.return);continue}break}}function mc(){var e=El.current;return El.current=sa,null===e?sa:e}function gc(){0!==Rl&&3!==Rl&&2!==Rl||(Rl=4),null===Ol||0===(268435455&Ml)&&0===(268435455&Bl)||lc(Ol,Dl)}function vc(e,t){var n=Nl;Nl|=2;var r=mc();for(Ol===e&&Dl===t||(zl=null,fc(e,t));;)try{yc();break}catch(i){pc(e,i)}if(_o(),Nl=n,El.current=r,null!==Il)throw Error(o(261));return Ol=null,Dl=0,Rl}function yc(){for(;null!==Il;)wc(Il)}function bc(){for(;null!==Il&&!Qe();)wc(Il)}function wc(e){var t=Sl(e.alternate,e,jl);e.memoizedProps=e.pendingProps,null===t?Ac(e):Il=t,Cl.current=null}function Ac(e){var t=e;do{var n=t.alternate;if(e=t.return,0===(32768&t.flags)){if(null!==(n=Ka(n,t,jl)))return void(Il=n)}else{if(null!==(n=Qa(n,t)))return n.flags&=32767,void(Il=n);if(null===e)return Rl=6,void(Il=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}if(null!==(t=t.sibling))return void(Il=t);Il=t=e}while(null!==t);0===Rl&&(Rl=5)}function _c(e,t,n){var r=bt,i=Tl.transition;try{Tl.transition=null,bt=1,function(e,t,n,r){do{xc()}while(null!==Ql);if(0!==(6&Nl))throw Error(o(327));n=e.finishedWork;var i=e.finishedLanes;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(o(177));e.callbackNode=null,e.callbackPriority=0;var s=n.lanes|n.childLanes;if(function(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-st(n),o=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~o}}(e,s),e===Ol&&(Il=Ol=null,Dl=0),0===(2064&n.subtreeFlags)&&0===(2064&n.flags)||Kl||(Kl=!0,Oc(tt,(function(){return xc(),null}))),s=0!==(15990&n.flags),0!==(15990&n.subtreeFlags)||s){s=Tl.transition,Tl.transition=null;var a=bt;bt=1;var l=Nl;Nl|=4,Cl.current=null,function(e,t){if(ei=zt,fr(e=hr())){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var r=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(r&&0!==r.rangeCount){n=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch(A){n=null;break e}var a=0,l=-1,c=-1,u=0,d=0,h=e,f=null;t:for(;;){for(var p;h!==n||0!==i&&3!==h.nodeType||(l=a+i),h!==s||0!==r&&3!==h.nodeType||(c=a+r),3===h.nodeType&&(a+=h.nodeValue.length),null!==(p=h.firstChild);)f=h,h=p;for(;;){if(h===e)break t;if(f===n&&++u===i&&(l=a),f===s&&++d===r&&(c=a),null!==(p=h.nextSibling))break;f=(h=f).parentNode}h=p}n=-1===l||-1===c?null:{start:l,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(ti={focusedElem:e,selectionRange:n},zt=!1,$a=t;null!==$a;)if(e=(t=$a).child,0!==(1028&t.subtreeFlags)&&null!==e)e.return=t,$a=e;else for(;null!==$a;){t=$a;try{var m=t.alternate;if(0!==(1024&t.flags))switch(t.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==m){var g=m.memoizedProps,v=m.memoizedState,y=t.stateNode,b=y.getSnapshotBeforeUpdate(t.elementType===t.type?g:vo(t.type,g),v);y.__reactInternalSnapshotBeforeUpdate=b}break;case 3:var w=t.stateNode.containerInfo;1===w.nodeType?w.textContent="":9===w.nodeType&&w.documentElement&&w.removeChild(w.documentElement);break;default:throw Error(o(163))}}catch(A){kc(t,t.return,A)}if(null!==(e=t.sibling)){e.return=t.return,$a=e;break}$a=t.return}m=nl,nl=!1}(e,n),vl(n,e),pr(ti),zt=!!ei,ti=ei=null,e.current=n,bl(n,e,i),Je(),Nl=l,bt=a,Tl.transition=s}else e.current=n;if(Kl&&(Kl=!1,Ql=e,Jl=i),s=e.pendingLanes,0===s&&(Wl=null),function(e){if(ot&&"function"===typeof ot.onCommitFiberRoot)try{ot.onCommitFiberRoot(it,e,void 0,128===(128&e.current.flags))}catch(t){}}(n.stateNode),ic(e,Xe()),null!==t)for(r=e.onRecoverableError,n=0;n<t.length;n++)i=t[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(Gl)throw Gl=!1,e=Yl,Yl=null,e;0!==(1&Jl)&&0!==e.tag&&xc(),s=e.pendingLanes,0!==(1&s)?e===Zl?Xl++:(Xl=0,Zl=e):Xl=0,qi()}(e,t,n,r)}finally{Tl.transition=i,bt=r}return null}function xc(){if(null!==Ql){var e=wt(Jl),t=Tl.transition,n=bt;try{if(Tl.transition=null,bt=16>e?16:e,null===Ql)var r=!1;else{if(e=Ql,Ql=null,Jl=0,0!==(6&Nl))throw Error(o(331));var i=Nl;for(Nl|=4,$a=e.current;null!==$a;){var s=$a,a=s.child;if(0!==(16&$a.flags)){var l=s.deletions;if(null!==l){for(var c=0;c<l.length;c++){var u=l[c];for($a=u;null!==$a;){var d=$a;switch(d.tag){case 0:case 11:case 15:rl(8,d,s)}var h=d.child;if(null!==h)h.return=d,$a=h;else for(;null!==$a;){var f=(d=$a).sibling,p=d.return;if(sl(d),d===u){$a=null;break}if(null!==f){f.return=p,$a=f;break}$a=p}}}var m=s.alternate;if(null!==m){var g=m.child;if(null!==g){m.child=null;do{var v=g.sibling;g.sibling=null,g=v}while(null!==g)}}$a=s}}if(0!==(2064&s.subtreeFlags)&&null!==a)a.return=s,$a=a;else e:for(;null!==$a;){if(0!==(2048&(s=$a).flags))switch(s.tag){case 0:case 11:case 15:rl(9,s,s.return)}var y=s.sibling;if(null!==y){y.return=s.return,$a=y;break e}$a=s.return}}var b=e.current;for($a=b;null!==$a;){var w=(a=$a).child;if(0!==(2064&a.subtreeFlags)&&null!==w)w.return=a,$a=w;else e:for(a=b;null!==$a;){if(0!==(2048&(l=$a).flags))try{switch(l.tag){case 0:case 11:case 15:il(9,l)}}catch(_){kc(l,l.return,_)}if(l===a){$a=null;break e}var A=l.sibling;if(null!==A){A.return=l.return,$a=A;break e}$a=l.return}}if(Nl=i,qi(),ot&&"function"===typeof ot.onPostCommitFiberRoot)try{ot.onPostCommitFiberRoot(it,e)}catch(_){}r=!0}return r}finally{bt=n,Tl.transition=t}}return!1}function Sc(e,t,n){e=Ro(e,t=pa(0,t=ua(n,t),1),1),t=tc(),null!==e&&(vt(e,1,t),ic(e,t))}function kc(e,t,n){if(3===e.tag)Sc(e,e,n);else for(;null!==t;){if(3===t.tag){Sc(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===Wl||!Wl.has(r))){t=Ro(t,e=ma(t,e=ua(n,e),1),1),e=tc(),null!==t&&(vt(t,1,e),ic(t,e));break}}t=t.return}}function Ec(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=tc(),e.pingedLanes|=e.suspendedLanes&n,Ol===e&&(Dl&n)===n&&(4===Rl||3===Rl&&(130023424&Dl)===Dl&&500>Xe()-ql?fc(e,0):Ul|=n),ic(e,t)}function Cc(e,t){0===t&&(0===(1&e.mode)?t=1:(t=ut,0===(130023424&(ut<<=1))&&(ut=4194304)));var n=tc();null!==(e=Oo(e,t))&&(vt(e,t,n),ic(e,n))}function Tc(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),Cc(e,n)}function Nc(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;null!==i&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(o(314))}null!==r&&r.delete(t),Cc(e,n)}function Oc(e,t){return We(e,t)}function Ic(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Dc(e,t,n,r){return new Ic(e,t,n,r)}function jc(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Pc(e,t){var n=e.alternate;return null===n?((n=Dc(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=14680064&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Rc(e,t,n,r,i,s){var a=2;if(r=e,"function"===typeof e)jc(e)&&(a=1);else if("string"===typeof e)a=5;else e:switch(e){case x:return Lc(n.children,i,s,t);case S:a=8,i|=8;break;case k:return(e=Dc(12,n,t,2|i)).elementType=k,e.lanes=s,e;case N:return(e=Dc(13,n,t,i)).elementType=N,e.lanes=s,e;case O:return(e=Dc(19,n,t,i)).elementType=O,e.lanes=s,e;case j:return Mc(n,i,s,t);default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case E:a=10;break e;case C:a=9;break e;case T:a=11;break e;case I:a=14;break e;case D:a=16,r=null;break e}throw Error(o(130,null==e?e:typeof e,""))}return(t=Dc(a,n,t,i)).elementType=e,t.type=r,t.lanes=s,t}function Lc(e,t,n,r){return(e=Dc(7,e,r,t)).lanes=n,e}function Mc(e,t,n,r){return(e=Dc(22,e,r,t)).elementType=j,e.lanes=n,e.stateNode={isHidden:!1},e}function Bc(e,t,n){return(e=Dc(6,e,null,t)).lanes=n,e}function Uc(e,t,n){return(t=Dc(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Fc(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=gt(0),this.expirationTimes=gt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=gt(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Vc(e,t,n,r,i,o,s,a,l){return e=new Fc(e,t,n,a,l),1===t?(t=1,!0===o&&(t|=8)):t=0,o=Dc(3,null,null,t),e.current=o,o.stateNode=e,o.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Do(o),e}function qc(e){if(!e)return Ci;e:{if(qe(e=e._reactInternals)!==e||1!==e.tag)throw Error(o(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Di(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t);throw Error(o(171))}if(1===e.tag){var n=e.type;if(Di(n))return Ri(e,n,t)}return t}function Hc(e,t,n,r,i,o,s,a,l){return(e=Vc(n,r,!0,e,0,o,0,a,l)).context=qc(null),n=e.current,(o=Po(r=tc(),i=nc(n))).callback=void 0!==t&&null!==t?t:null,Ro(n,o,i),e.current.lanes=i,vt(e,i,r),ic(e,r),e}function zc(e,t,n,r){var i=t.current,o=tc(),s=nc(i);return n=qc(n),null===t.context?t.context=n:t.pendingContext=n,(t=Po(o,s)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),null!==(e=Ro(i,t,s))&&(rc(e,i,s,o),Lo(e,i,s)),s}function Gc(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function Yc(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function Wc(e,t){Yc(e,t),(e=e.alternate)&&Yc(e,t)}Sl=function(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps||Ni.current)wa=!0;else{if(0===(e.lanes&n)&&0===(128&t.flags))return wa=!1,function(e,t,n){switch(t.tag){case 3:Oa(t),po();break;case 5:ss(t);break;case 1:Di(t.type)&&Li(t);break;case 4:is(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;Ei(yo,r._currentValue),r._currentValue=i;break;case 13:if(null!==(r=t.memoizedState))return null!==r.dehydrated?(Ei(ls,1&ls.current),t.flags|=128,null):0!==(n&t.child.childLanes)?Ba(e,t,n):(Ei(ls,1&ls.current),null!==(e=Ga(e,t,n))?e.sibling:null);Ei(ls,1&ls.current);break;case 19:if(r=0!==(n&t.childLanes),0!==(128&e.flags)){if(r)return Ha(e,t,n);t.flags|=128}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),Ei(ls,ls.current),r)break;return null;case 22:case 23:return t.lanes=0,ka(e,t,n)}return Ga(e,t,n)}(e,t,n);wa=0!==(131072&e.flags)}else wa=!1,io&&0!==(1048576&t.flags)&&$i(t,Yi,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;za(e,t),e=t.pendingProps;var i=Ii(t,Ti.current);ko(t,n),i=Ss(null,t,r,e,i,n);var s=ks();return t.flags|=1,"object"===typeof i&&null!==i&&"function"===typeof i.render&&void 0===i.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Di(r)?(s=!0,Li(t)):s=!1,t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,Do(t),i.updater=qo,t.stateNode=i,i._reactInternals=t,Yo(t,r,e,n),t=Na(null,t,r,!0,s,n)):(t.tag=0,io&&s&&eo(t),Aa(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(za(e,t),e=t.pendingProps,r=(i=r._init)(r._payload),t.type=r,i=t.tag=function(e){if("function"===typeof e)return jc(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===T)return 11;if(e===I)return 14}return 2}(r),e=vo(r,e),i){case 0:t=Ca(null,t,r,e,n);break e;case 1:t=Ta(null,t,r,e,n);break e;case 11:t=_a(null,t,r,e,n);break e;case 14:t=xa(null,t,r,vo(r.type,e),n);break e}throw Error(o(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,Ca(e,t,r,i=t.elementType===r?i:vo(r,i),n);case 1:return r=t.type,i=t.pendingProps,Ta(e,t,r,i=t.elementType===r?i:vo(r,i),n);case 3:e:{if(Oa(t),null===e)throw Error(o(387));r=t.pendingProps,i=(s=t.memoizedState).element,jo(e,t),Bo(t,r,null,n);var a=t.memoizedState;if(r=a.element,s.isDehydrated){if(s={element:r,isDehydrated:!1,cache:a.cache,pendingSuspenseBoundaries:a.pendingSuspenseBoundaries,transitions:a.transitions},t.updateQueue.baseState=s,t.memoizedState=s,256&t.flags){t=Ia(e,t,r,n,i=ua(Error(o(423)),t));break e}if(r!==i){t=Ia(e,t,r,n,i=ua(Error(o(424)),t));break e}for(ro=ci(t.stateNode.containerInfo.firstChild),no=t,io=!0,oo=null,n=Zo(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(po(),r===i){t=Ga(e,t,n);break e}Aa(e,t,r,n)}t=t.child}return t;case 5:return ss(t),null===e&&co(t),r=t.type,i=t.pendingProps,s=null!==e?e.memoizedProps:null,a=i.children,ni(r,i)?a=null:null!==s&&ni(r,s)&&(t.flags|=32),Ea(e,t),Aa(e,t,a,n),t.child;case 6:return null===e&&co(t),null;case 13:return Ba(e,t,n);case 4:return is(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=Xo(t,null,r,n):Aa(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,_a(e,t,r,i=t.elementType===r?i:vo(r,i),n);case 7:return Aa(e,t,t.pendingProps,n),t.child;case 8:case 12:return Aa(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,s=t.memoizedProps,a=i.value,Ei(yo,r._currentValue),r._currentValue=a,null!==s)if(ar(s.value,a)){if(s.children===i.children&&!Ni.current){t=Ga(e,t,n);break e}}else for(null!==(s=t.child)&&(s.return=t);null!==s;){var l=s.dependencies;if(null!==l){a=s.child;for(var c=l.firstContext;null!==c;){if(c.context===r){if(1===s.tag){(c=Po(-1,n&-n)).tag=2;var u=s.updateQueue;if(null!==u){var d=(u=u.shared).pending;null===d?c.next=c:(c.next=d.next,d.next=c),u.pending=c}}s.lanes|=n,null!==(c=s.alternate)&&(c.lanes|=n),So(s.return,n,t),l.lanes|=n;break}c=c.next}}else if(10===s.tag)a=s.type===t.type?null:s.child;else if(18===s.tag){if(null===(a=s.return))throw Error(o(341));a.lanes|=n,null!==(l=a.alternate)&&(l.lanes|=n),So(a,n,t),a=s.sibling}else a=s.child;if(null!==a)a.return=s;else for(a=s;null!==a;){if(a===t){a=null;break}if(null!==(s=a.sibling)){s.return=a.return,a=s;break}a=a.return}s=a}Aa(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,ko(t,n),r=r(i=Eo(i)),t.flags|=1,Aa(e,t,r,n),t.child;case 14:return i=vo(r=t.type,t.pendingProps),xa(e,t,r,i=vo(r.type,i),n);case 15:return Sa(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:vo(r,i),za(e,t),t.tag=1,Di(r)?(e=!0,Li(t)):e=!1,ko(t,n),zo(t,r,i),Yo(t,r,i,n),Na(null,t,r,!0,e,n);case 19:return Ha(e,t,n);case 22:return ka(e,t,n)}throw Error(o(156,t.tag))};var Kc="function"===typeof reportError?reportError:function(e){console.error(e)};function Qc(e){this._internalRoot=e}function Jc(e){this._internalRoot=e}function Xc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function Zc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function $c(){}function eu(e,t,n,r,i){var o=n._reactRootContainer;if(o){var s=o;if("function"===typeof i){var a=i;i=function(){var e=Gc(s);a.call(e)}}zc(t,s,e,i)}else s=function(e,t,n,r,i){if(i){if("function"===typeof r){var o=r;r=function(){var e=Gc(s);o.call(e)}}var s=Hc(t,r,e,0,null,!1,0,"",$c);return e._reactRootContainer=s,e[pi]=s.current,qr(8===e.nodeType?e.parentNode:e),dc(),s}for(;i=e.lastChild;)e.removeChild(i);if("function"===typeof r){var a=r;r=function(){var e=Gc(l);a.call(e)}}var l=Vc(e,0,!1,null,0,!1,0,"",$c);return e._reactRootContainer=l,e[pi]=l.current,qr(8===e.nodeType?e.parentNode:e),dc((function(){zc(t,l,n,r)})),l}(n,t,e,i,r);return Gc(s)}Jc.prototype.render=Qc.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(o(409));zc(e,t,null,null)},Jc.prototype.unmount=Qc.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;dc((function(){zc(null,e,null,null)})),t[pi]=null}},Jc.prototype.unstable_scheduleHydration=function(e){if(e){var t=St();e={blockedOn:null,target:e,priority:t};for(var n=0;n<jt.length&&0!==t&&t<jt[n].priority;n++);jt.splice(n,0,e),0===n&&Mt(e)}},At=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=dt(t.pendingLanes);0!==n&&(yt(t,1|n),ic(t,Xe()),0===(6&Nl)&&(Hl=Xe()+500,qi()))}break;case 13:dc((function(){var t=Oo(e,1);if(null!==t){var n=tc();rc(t,e,1,n)}})),Wc(e,1)}},_t=function(e){if(13===e.tag){var t=Oo(e,134217728);if(null!==t)rc(t,e,134217728,tc());Wc(e,134217728)}},xt=function(e){if(13===e.tag){var t=nc(e),n=Oo(e,t);if(null!==n)rc(n,e,t,tc());Wc(e,t)}},St=function(){return bt},kt=function(e,t){var n=bt;try{return bt=e,t()}finally{bt=n}},_e=function(e,t,n){switch(t){case"input":if(Z(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=Ai(r);if(!i)throw Error(o(90));W(r),Z(r,i)}}}break;case"textarea":oe(e,n);break;case"select":null!=(t=n.value)&&ne(e,!!n.multiple,t,!1)}},Te=uc,Ne=dc;var tu={usingClientEntryPoint:!1,Events:[bi,wi,Ai,Ee,Ce,uc]},nu={findFiberByHostInstance:yi,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},ru={bundleType:nu.bundleType,version:nu.version,rendererPackageName:nu.rendererPackageName,rendererConfig:nu.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:w.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=Ge(e))?null:e.stateNode},findFiberByHostInstance:nu.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var iu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!iu.isDisabled&&iu.supportsFiber)try{it=iu.inject(ru),ot=iu}catch(ue){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=tu,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!Xc(t))throw Error(o(200));return function(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:_,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}(e,t,null,n)},t.createRoot=function(e,t){if(!Xc(e))throw Error(o(299));var n=!1,r="",i=Kc;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(r=t.identifierPrefix),void 0!==t.onRecoverableError&&(i=t.onRecoverableError)),t=Vc(e,1,!1,null,0,n,0,r,i),e[pi]=t.current,qr(8===e.nodeType?e.parentNode:e),new Qc(t)},t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(o(188));throw e=Object.keys(e).join(","),Error(o(268,e))}return e=null===(e=Ge(t))?null:e.stateNode},t.flushSync=function(e){return dc(e)},t.hydrate=function(e,t,n){if(!Zc(t))throw Error(o(200));return eu(null,e,t,!0,n)},t.hydrateRoot=function(e,t,n){if(!Xc(e))throw Error(o(405));var r=null!=n&&n.hydratedSources||null,i=!1,s="",a=Kc;if(null!==n&&void 0!==n&&(!0===n.unstable_strictMode&&(i=!0),void 0!==n.identifierPrefix&&(s=n.identifierPrefix),void 0!==n.onRecoverableError&&(a=n.onRecoverableError)),t=Hc(t,null,e,1,null!=n?n:null,i,0,s,a),e[pi]=t.current,qr(e),r)for(e=0;e<r.length;e++)i=(i=(n=r[e])._getVersion)(n._source),null==t.mutableSourceEagerHydrationData?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new Jc(t)},t.render=function(e,t,n){if(!Zc(t))throw Error(o(200));return eu(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!Zc(e))throw Error(o(40));return!!e._reactRootContainer&&(dc((function(){eu(null,null,e,!1,(function(){e._reactRootContainer=null,e[pi]=null}))})),!0)},t.unstable_batchedUpdates=uc,t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Zc(n))throw Error(o(200));if(null==e||void 0===e._reactInternals)throw Error(o(38));return eu(e,t,n,!1,r)},t.version="18.2.0-next-9e3b772b8-20220608"},6501:(e,t,n)=>{"use strict";var r=n(6396);t.createRoot=r.createRoot,t.hydrateRoot=r.hydrateRoot},6396:(e,t,n)=>{"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(5764)},5041:function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),i=this&&this.__assign||function(){return i=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},i.apply(this,arguments)},o=this&&this.__spreadArrays||function(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),i=0;for(t=0;t<n;t++)for(var o=arguments[t],s=0,a=o.length;s<a;s++,i++)r[i]=o[s];return r},s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}},a=s(n(7565)),l=s(n(6396)),c=s(n(9963)),u=s(n(2498)),d=function(e){function t(t){var n=e.call(this,t)||this;n.dirtyProps=["modules","formats","bounds","theme","children"],n.cleanProps=["id","className","style","placeholder","tabIndex","onChange","onChangeSelection","onFocus","onBlur","onKeyPress","onKeyDown","onKeyUp"],n.state={generation:0},n.selection=null,n.onEditorChange=function(e,t,r,i){var o,s,a,l;"text-change"===e?null===(s=(o=n).onEditorChangeText)||void 0===s||s.call(o,n.editor.root.innerHTML,t,i,n.unprivilegedEditor):"selection-change"===e&&(null===(l=(a=n).onEditorChangeSelection)||void 0===l||l.call(a,t,i,n.unprivilegedEditor))};var r=n.isControlled()?t.value:t.defaultValue;return n.value=null!==r&&void 0!==r?r:"",n}return r(t,e),t.prototype.validateProps=function(e){var t;if(a.default.Children.count(e.children)>1)throw new Error("The Quill editing area can only be composed of a single React element.");if(a.default.Children.count(e.children)&&"textarea"===(null===(t=a.default.Children.only(e.children))||void 0===t?void 0:t.type))throw new Error("Quill does not support editing on a <textarea>. Use a <div> instead.");if(this.lastDeltaChangeSet&&e.value===this.lastDeltaChangeSet)throw new Error("You are passing the `delta` object from the `onChange` event back as `value`. You most probably want `editor.getContents()` instead. See: https://github.com/zenoamaro/react-quill#using-deltas")},t.prototype.shouldComponentUpdate=function(e,t){var n,r=this;if(this.validateProps(e),!this.editor||this.state.generation!==t.generation)return!0;if("value"in e){var i=this.getEditorContents(),s=null!==(n=e.value)&&void 0!==n?n:"";this.isEqualValue(s,i)||this.setEditorContents(this.editor,s)}return e.readOnly!==this.props.readOnly&&this.setEditorReadOnly(this.editor,e.readOnly),o(this.cleanProps,this.dirtyProps).some((function(t){return!c.default(e[t],r.props[t])}))},t.prototype.shouldComponentRegenerate=function(e){var t=this;return this.dirtyProps.some((function(n){return!c.default(e[n],t.props[n])}))},t.prototype.componentDidMount=function(){this.instantiateEditor(),this.setEditorContents(this.editor,this.getEditorContents())},t.prototype.componentWillUnmount=function(){this.destroyEditor()},t.prototype.componentDidUpdate=function(e,t){var n=this;if(this.editor&&this.shouldComponentRegenerate(e)){var r=this.editor.getContents(),i=this.editor.getSelection();this.regenerationSnapshot={delta:r,selection:i},this.setState({generation:this.state.generation+1}),this.destroyEditor()}if(this.state.generation!==t.generation){var o=this.regenerationSnapshot,s=(r=o.delta,o.selection);delete this.regenerationSnapshot,this.instantiateEditor();var a=this.editor;a.setContents(r),h((function(){return n.setEditorSelection(a,s)}))}},t.prototype.instantiateEditor=function(){this.editor?this.hookEditor(this.editor):this.editor=this.createEditor(this.getEditingArea(),this.getEditorConfig())},t.prototype.destroyEditor=function(){this.editor&&this.unhookEditor(this.editor)},t.prototype.isControlled=function(){return"value"in this.props},t.prototype.getEditorConfig=function(){return{bounds:this.props.bounds,formats:this.props.formats,modules:this.props.modules,placeholder:this.props.placeholder,readOnly:this.props.readOnly,scrollingContainer:this.props.scrollingContainer,tabIndex:this.props.tabIndex,theme:this.props.theme}},t.prototype.getEditor=function(){if(!this.editor)throw new Error("Accessing non-instantiated editor");return this.editor},t.prototype.createEditor=function(e,t){var n=new u.default(e,t);return null!=t.tabIndex&&this.setEditorTabIndex(n,t.tabIndex),this.hookEditor(n),n},t.prototype.hookEditor=function(e){this.unprivilegedEditor=this.makeUnprivilegedEditor(e),e.on("editor-change",this.onEditorChange)},t.prototype.unhookEditor=function(e){e.off("editor-change",this.onEditorChange)},t.prototype.getEditorContents=function(){return this.value},t.prototype.getEditorSelection=function(){return this.selection},t.prototype.isDelta=function(e){return e&&e.ops},t.prototype.isEqualValue=function(e,t){return this.isDelta(e)&&this.isDelta(t)?c.default(e.ops,t.ops):c.default(e,t)},t.prototype.setEditorContents=function(e,t){var n=this;this.value=t;var r=this.getEditorSelection();"string"===typeof t?e.setContents(e.clipboard.convert(t)):e.setContents(t),h((function(){return n.setEditorSelection(e,r)}))},t.prototype.setEditorSelection=function(e,t){if(this.selection=t,t){var n=e.getLength();t.index=Math.max(0,Math.min(t.index,n-1)),t.length=Math.max(0,Math.min(t.length,n-1-t.index)),e.setSelection(t)}},t.prototype.setEditorTabIndex=function(e,t){var n,r;(null===(r=null===(n=e)||void 0===n?void 0:n.scroll)||void 0===r?void 0:r.domNode)&&(e.scroll.domNode.tabIndex=t)},t.prototype.setEditorReadOnly=function(e,t){t?e.disable():e.enable()},t.prototype.makeUnprivilegedEditor=function(e){var t=e;return{getHTML:function(){return t.root.innerHTML},getLength:t.getLength.bind(t),getText:t.getText.bind(t),getContents:t.getContents.bind(t),getSelection:t.getSelection.bind(t),getBounds:t.getBounds.bind(t)}},t.prototype.getEditingArea=function(){if(!this.editingArea)throw new Error("Instantiating on missing editing area");var e=l.default.findDOMNode(this.editingArea);if(!e)throw new Error("Cannot find element for editing area");if(3===e.nodeType)throw new Error("Editing area cannot be a text node");return e},t.prototype.renderEditingArea=function(){var e=this,t=this.props,n=t.children,r=t.preserveWhitespace,o={key:this.state.generation,ref:function(t){e.editingArea=t}};return a.default.Children.count(n)?a.default.cloneElement(a.default.Children.only(n),o):r?a.default.createElement("pre",i({},o)):a.default.createElement("div",i({},o))},t.prototype.render=function(){var e;return a.default.createElement("div",{id:this.props.id,style:this.props.style,key:this.state.generation,className:"quill "+(e=this.props.className,null!==e&&void 0!==e?e:""),onKeyPress:this.props.onKeyPress,onKeyDown:this.props.onKeyDown,onKeyUp:this.props.onKeyUp},this.renderEditingArea())},t.prototype.onEditorChangeText=function(e,t,n,r){var i,o;if(this.editor){var s=this.isDelta(this.value)?r.getContents():r.getHTML();s!==this.getEditorContents()&&(this.lastDeltaChangeSet=t,this.value=s,null===(o=(i=this.props).onChange)||void 0===o||o.call(i,e,t,n,r))}},t.prototype.onEditorChangeSelection=function(e,t,n){var r,i,o,s,a,l;if(this.editor){var u=this.getEditorSelection(),d=!u&&e,h=u&&!e;c.default(e,u)||(this.selection=e,null===(i=(r=this.props).onChangeSelection)||void 0===i||i.call(r,e,t,n),d?null===(s=(o=this.props).onFocus)||void 0===s||s.call(o,e,t,n):h&&(null===(l=(a=this.props).onBlur)||void 0===l||l.call(a,u,t,n)))}},t.prototype.focus=function(){this.editor&&this.editor.focus()},t.prototype.blur=function(){this.editor&&(this.selection=null,this.editor.blur())},t.displayName="React Quill",t.Quill=u.default,t.defaultProps={theme:"snow",modules:{},readOnly:!1},t}(a.default.Component);function h(e){Promise.resolve().then(e)}e.exports=d},2498:function(e){var t;"undefined"!==typeof self&&self,t=function(){return function(e){var t={};function n(r){if(t[r])return t[r].exports;var i=t[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:r})},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=109)}([function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(17),i=n(18),o=n(19),s=n(45),a=n(46),l=n(47),c=n(48),u=n(49),d=n(12),h=n(32),f=n(33),p=n(31),m=n(1),g={Scope:m.Scope,create:m.create,find:m.find,query:m.query,register:m.register,Container:r.default,Format:i.default,Leaf:o.default,Embed:c.default,Scroll:s.default,Block:l.default,Inline:a.default,Text:u.default,Attributor:{Attribute:d.default,Class:h.default,Style:f.default,Store:p.default}};t.default=g},function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(t,"__esModule",{value:!0});var i=function(e){function t(t){var n=this;return t="[Parchment] "+t,(n=e.call(this,t)||this).message=t,n.name=n.constructor.name,n}return r(t,e),t}(Error);t.ParchmentError=i;var o,s={},a={},l={},c={};function u(e,t){var n;if(void 0===t&&(t=o.ANY),"string"===typeof e)n=c[e]||s[e];else if(e instanceof Text||e.nodeType===Node.TEXT_NODE)n=c.text;else if("number"===typeof e)e&o.LEVEL&o.BLOCK?n=c.block:e&o.LEVEL&o.INLINE&&(n=c.inline);else if(e instanceof HTMLElement){var r=(e.getAttribute("class")||"").split(/\s+/);for(var i in r)if(n=a[r[i]])break;n=n||l[e.tagName]}return null==n?null:t&o.LEVEL&n.scope&&t&o.TYPE&n.scope?n:null}t.DATA_KEY="__blot",function(e){e[e.TYPE=3]="TYPE",e[e.LEVEL=12]="LEVEL",e[e.ATTRIBUTE=13]="ATTRIBUTE",e[e.BLOT=14]="BLOT",e[e.INLINE=7]="INLINE",e[e.BLOCK=11]="BLOCK",e[e.BLOCK_BLOT=10]="BLOCK_BLOT",e[e.INLINE_BLOT=6]="INLINE_BLOT",e[e.BLOCK_ATTRIBUTE=9]="BLOCK_ATTRIBUTE",e[e.INLINE_ATTRIBUTE=5]="INLINE_ATTRIBUTE",e[e.ANY=15]="ANY"}(o=t.Scope||(t.Scope={})),t.create=function(e,t){var n=u(e);if(null==n)throw new i("Unable to create "+e+" blot");var r=n,o=e instanceof Node||e.nodeType===Node.TEXT_NODE?e:r.create(t);return new r(o,t)},t.find=function e(n,r){return void 0===r&&(r=!1),null==n?null:null!=n[t.DATA_KEY]?n[t.DATA_KEY].blot:r?e(n.parentNode,r):null},t.query=u,t.register=function e(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];if(t.length>1)return t.map((function(t){return e(t)}));var r=t[0];if("string"!==typeof r.blotName&&"string"!==typeof r.attrName)throw new i("Invalid definition");if("abstract"===r.blotName)throw new i("Cannot register abstract class");return c[r.blotName||r.attrName]=r,"string"===typeof r.keyName?s[r.keyName]=r:(null!=r.className&&(a[r.className]=r),null!=r.tagName&&(Array.isArray(r.tagName)?r.tagName=r.tagName.map((function(e){return e.toUpperCase()})):r.tagName=r.tagName.toUpperCase(),(Array.isArray(r.tagName)?r.tagName:[r.tagName]).forEach((function(e){null!=l[e]&&null!=r.className||(l[e]=r)})))),r}},function(e,t,n){var r=n(51),i=n(11),o=n(3),s=n(20),a=String.fromCharCode(0),l=function(e){Array.isArray(e)?this.ops=e:null!=e&&Array.isArray(e.ops)?this.ops=e.ops:this.ops=[]};l.prototype.insert=function(e,t){var n={};return 0===e.length?this:(n.insert=e,null!=t&&"object"===typeof t&&Object.keys(t).length>0&&(n.attributes=t),this.push(n))},l.prototype.delete=function(e){return e<=0?this:this.push({delete:e})},l.prototype.retain=function(e,t){if(e<=0)return this;var n={retain:e};return null!=t&&"object"===typeof t&&Object.keys(t).length>0&&(n.attributes=t),this.push(n)},l.prototype.push=function(e){var t=this.ops.length,n=this.ops[t-1];if(e=o(!0,{},e),"object"===typeof n){if("number"===typeof e.delete&&"number"===typeof n.delete)return this.ops[t-1]={delete:n.delete+e.delete},this;if("number"===typeof n.delete&&null!=e.insert&&(t-=1,"object"!==typeof(n=this.ops[t-1])))return this.ops.unshift(e),this;if(i(e.attributes,n.attributes)){if("string"===typeof e.insert&&"string"===typeof n.insert)return this.ops[t-1]={insert:n.insert+e.insert},"object"===typeof e.attributes&&(this.ops[t-1].attributes=e.attributes),this;if("number"===typeof e.retain&&"number"===typeof n.retain)return this.ops[t-1]={retain:n.retain+e.retain},"object"===typeof e.attributes&&(this.ops[t-1].attributes=e.attributes),this}}return t===this.ops.length?this.ops.push(e):this.ops.splice(t,0,e),this},l.prototype.chop=function(){var e=this.ops[this.ops.length-1];return e&&e.retain&&!e.attributes&&this.ops.pop(),this},l.prototype.filter=function(e){return this.ops.filter(e)},l.prototype.forEach=function(e){this.ops.forEach(e)},l.prototype.map=function(e){return this.ops.map(e)},l.prototype.partition=function(e){var t=[],n=[];return this.forEach((function(r){(e(r)?t:n).push(r)})),[t,n]},l.prototype.reduce=function(e,t){return this.ops.reduce(e,t)},l.prototype.changeLength=function(){return this.reduce((function(e,t){return t.insert?e+s.length(t):t.delete?e-t.delete:e}),0)},l.prototype.length=function(){return this.reduce((function(e,t){return e+s.length(t)}),0)},l.prototype.slice=function(e,t){e=e||0,"number"!==typeof t&&(t=1/0);for(var n=[],r=s.iterator(this.ops),i=0;i<t&&r.hasNext();){var o;i<e?o=r.next(e-i):(o=r.next(t-i),n.push(o)),i+=s.length(o)}return new l(n)},l.prototype.compose=function(e){var t=s.iterator(this.ops),n=s.iterator(e.ops),r=[],o=n.peek();if(null!=o&&"number"===typeof o.retain&&null==o.attributes){for(var a=o.retain;"insert"===t.peekType()&&t.peekLength()<=a;)a-=t.peekLength(),r.push(t.next());o.retain-a>0&&n.next(o.retain-a)}for(var c=new l(r);t.hasNext()||n.hasNext();)if("insert"===n.peekType())c.push(n.next());else if("delete"===t.peekType())c.push(t.next());else{var u=Math.min(t.peekLength(),n.peekLength()),d=t.next(u),h=n.next(u);if("number"===typeof h.retain){var f={};"number"===typeof d.retain?f.retain=u:f.insert=d.insert;var p=s.attributes.compose(d.attributes,h.attributes,"number"===typeof d.retain);if(p&&(f.attributes=p),c.push(f),!n.hasNext()&&i(c.ops[c.ops.length-1],f)){var m=new l(t.rest());return c.concat(m).chop()}}else"number"===typeof h.delete&&"number"===typeof d.retain&&c.push(h)}return c.chop()},l.prototype.concat=function(e){var t=new l(this.ops.slice());return e.ops.length>0&&(t.push(e.ops[0]),t.ops=t.ops.concat(e.ops.slice(1))),t},l.prototype.diff=function(e,t){if(this.ops===e.ops)return new l;var n=[this,e].map((function(t){return t.map((function(n){if(null!=n.insert)return"string"===typeof n.insert?n.insert:a;throw new Error("diff() called "+(t===e?"on":"with")+" non-document")})).join("")})),o=new l,c=r(n[0],n[1],t),u=s.iterator(this.ops),d=s.iterator(e.ops);return c.forEach((function(e){for(var t=e[1].length;t>0;){var n=0;switch(e[0]){case r.INSERT:n=Math.min(d.peekLength(),t),o.push(d.next(n));break;case r.DELETE:n=Math.min(t,u.peekLength()),u.next(n),o.delete(n);break;case r.EQUAL:n=Math.min(u.peekLength(),d.peekLength(),t);var a=u.next(n),l=d.next(n);i(a.insert,l.insert)?o.retain(n,s.attributes.diff(a.attributes,l.attributes)):o.push(l).delete(n)}t-=n}})),o.chop()},l.prototype.eachLine=function(e,t){t=t||"\n";for(var n=s.iterator(this.ops),r=new l,i=0;n.hasNext();){if("insert"!==n.peekType())return;var o=n.peek(),a=s.length(o)-n.peekLength(),c="string"===typeof o.insert?o.insert.indexOf(t,a)-a:-1;if(c<0)r.push(n.next());else if(c>0)r.push(n.next(c));else{if(!1===e(r,n.next(1).attributes||{},i))return;i+=1,r=new l}}r.length()>0&&e(r,{},i)},l.prototype.transform=function(e,t){if(t=!!t,"number"===typeof e)return this.transformPosition(e,t);for(var n=s.iterator(this.ops),r=s.iterator(e.ops),i=new l;n.hasNext()||r.hasNext();)if("insert"!==n.peekType()||!t&&"insert"===r.peekType())if("insert"===r.peekType())i.push(r.next());else{var o=Math.min(n.peekLength(),r.peekLength()),a=n.next(o),c=r.next(o);if(a.delete)continue;c.delete?i.push(c):i.retain(o,s.attributes.transform(a.attributes,c.attributes,t))}else i.retain(s.length(n.next()));return i.chop()},l.prototype.transformPosition=function(e,t){t=!!t;for(var n=s.iterator(this.ops),r=0;n.hasNext()&&r<=e;){var i=n.peekLength(),o=n.peekType();n.next(),"delete"!==o?("insert"===o&&(r<e||!t)&&(e+=i),r+=i):e-=Math.min(i,e-r)}return e},e.exports=l},function(e,t){"use strict";var n=Object.prototype.hasOwnProperty,r=Object.prototype.toString,i=Object.defineProperty,o=Object.getOwnPropertyDescriptor,s=function(e){return"function"===typeof Array.isArray?Array.isArray(e):"[object Array]"===r.call(e)},a=function(e){if(!e||"[object Object]"!==r.call(e))return!1;var t,i=n.call(e,"constructor"),o=e.constructor&&e.constructor.prototype&&n.call(e.constructor.prototype,"isPrototypeOf");if(e.constructor&&!i&&!o)return!1;for(t in e);return"undefined"===typeof t||n.call(e,t)},l=function(e,t){i&&"__proto__"===t.name?i(e,t.name,{enumerable:!0,configurable:!0,value:t.newValue,writable:!0}):e[t.name]=t.newValue},c=function(e,t){if("__proto__"===t){if(!n.call(e,t))return;if(o)return o(e,t).value}return e[t]};e.exports=function e(){var t,n,r,i,o,u,d=arguments[0],h=1,f=arguments.length,p=!1;for("boolean"===typeof d&&(p=d,d=arguments[1]||{},h=2),(null==d||"object"!==typeof d&&"function"!==typeof d)&&(d={});h<f;++h)if(null!=(t=arguments[h]))for(n in t)r=c(d,n),d!==(i=c(t,n))&&(p&&i&&(a(i)||(o=s(i)))?(o?(o=!1,u=r&&s(r)?r:[]):u=r&&a(r)?r:{},l(d,{name:n,newValue:e(p,u,i)})):"undefined"!==typeof i&&l(d,{name:n,newValue:i}));return d}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.BlockEmbed=t.bubbleFormats=void 0;var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=function e(t,n,r){null===t&&(t=Function.prototype);var i=Object.getOwnPropertyDescriptor(t,n);if(void 0===i){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,n,r)}if("value"in i)return i.value;var s=i.get;return void 0!==s?s.call(r):void 0},o=d(n(3)),s=d(n(2)),a=d(n(0)),l=d(n(16)),c=d(n(6)),u=d(n(7));function d(e){return e&&e.__esModule?e:{default:e}}function h(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function f(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function p(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var m=function(e){function t(){return h(this,t),f(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return p(t,e),r(t,[{key:"attach",value:function(){i(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"attach",this).call(this),this.attributes=new a.default.Attributor.Store(this.domNode)}},{key:"delta",value:function(){return(new s.default).insert(this.value(),(0,o.default)(this.formats(),this.attributes.values()))}},{key:"format",value:function(e,t){var n=a.default.query(e,a.default.Scope.BLOCK_ATTRIBUTE);null!=n&&this.attributes.attribute(n,t)}},{key:"formatAt",value:function(e,t,n,r){this.format(n,r)}},{key:"insertAt",value:function(e,n,r){if("string"===typeof n&&n.endsWith("\n")){var o=a.default.create(g.blotName);this.parent.insertBefore(o,0===e?this:this.next),o.insertAt(0,n.slice(0,-1))}else i(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"insertAt",this).call(this,e,n,r)}}]),t}(a.default.Embed);m.scope=a.default.Scope.BLOCK_BLOT;var g=function(e){function t(e){h(this,t);var n=f(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.cache={},n}return p(t,e),r(t,[{key:"delta",value:function(){return null==this.cache.delta&&(this.cache.delta=this.descendants(a.default.Leaf).reduce((function(e,t){return 0===t.length()?e:e.insert(t.value(),v(t))}),new s.default).insert("\n",v(this))),this.cache.delta}},{key:"deleteAt",value:function(e,n){i(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"deleteAt",this).call(this,e,n),this.cache={}}},{key:"formatAt",value:function(e,n,r,o){n<=0||(a.default.query(r,a.default.Scope.BLOCK)?e+n===this.length()&&this.format(r,o):i(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"formatAt",this).call(this,e,Math.min(n,this.length()-e-1),r,o),this.cache={})}},{key:"insertAt",value:function(e,n,r){if(null!=r)return i(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"insertAt",this).call(this,e,n,r);if(0!==n.length){var o=n.split("\n"),s=o.shift();s.length>0&&(e<this.length()-1||null==this.children.tail?i(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"insertAt",this).call(this,Math.min(e,this.length()-1),s):this.children.tail.insertAt(this.children.tail.length(),s),this.cache={});var a=this;o.reduce((function(e,t){return(a=a.split(e,!0)).insertAt(0,t),t.length}),e+s.length)}}},{key:"insertBefore",value:function(e,n){var r=this.children.head;i(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"insertBefore",this).call(this,e,n),r instanceof l.default&&r.remove(),this.cache={}}},{key:"length",value:function(){return null==this.cache.length&&(this.cache.length=i(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"length",this).call(this)+1),this.cache.length}},{key:"moveChildren",value:function(e,n){i(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"moveChildren",this).call(this,e,n),this.cache={}}},{key:"optimize",value:function(e){i(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"optimize",this).call(this,e),this.cache={}}},{key:"path",value:function(e){return i(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"path",this).call(this,e,!0)}},{key:"removeChild",value:function(e){i(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"removeChild",this).call(this,e),this.cache={}}},{key:"split",value:function(e){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(n&&(0===e||e>=this.length()-1)){var r=this.clone();return 0===e?(this.parent.insertBefore(r,this),this):(this.parent.insertBefore(r,this.next),r)}var o=i(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"split",this).call(this,e,n);return this.cache={},o}}]),t}(a.default.Block);function v(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return null==e?t:("function"===typeof e.formats&&(t=(0,o.default)(t,e.formats())),null==e.parent||"scroll"==e.parent.blotName||e.parent.statics.scope!==e.statics.scope?t:v(e.parent,t))}g.blotName="block",g.tagName="P",g.defaultChild="break",g.allowedChildren=[c.default,a.default.Embed,u.default],t.bubbleFormats=v,t.BlockEmbed=m,t.default=g},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.overload=t.expandConfig=void 0;var r="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],r=!0,i=!1,o=void 0;try{for(var s,a=e[Symbol.iterator]();!(r=(s=a.next()).done)&&(n.push(s.value),!t||n.length!==t);r=!0);}catch(l){i=!0,o=l}finally{try{!r&&a.return&&a.return()}finally{if(i)throw o}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")},o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();n(50);var s=g(n(2)),a=g(n(14)),l=g(n(8)),c=g(n(9)),u=g(n(0)),d=n(15),h=g(d),f=g(n(3)),p=g(n(10)),m=g(n(34));function g(e){return e&&e.__esModule?e:{default:e}}function v(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var y=(0,p.default)("quill"),b=function(){function e(t){var n=this,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.options=w(t,r),this.container=this.options.container,null==this.container)return y.error("Invalid Quill container",t);this.options.debug&&e.debug(this.options.debug);var i=this.container.innerHTML.trim();this.container.classList.add("ql-container"),this.container.innerHTML="",this.container.__quill=this,this.root=this.addContainer("ql-editor"),this.root.classList.add("ql-blank"),this.root.setAttribute("data-gramm",!1),this.scrollingContainer=this.options.scrollingContainer||this.root,this.emitter=new l.default,this.scroll=u.default.create(this.root,{emitter:this.emitter,whitelist:this.options.formats}),this.editor=new a.default(this.scroll),this.selection=new h.default(this.scroll,this.emitter),this.theme=new this.options.theme(this,this.options),this.keyboard=this.theme.addModule("keyboard"),this.clipboard=this.theme.addModule("clipboard"),this.history=this.theme.addModule("history"),this.theme.init(),this.emitter.on(l.default.events.EDITOR_CHANGE,(function(e){e===l.default.events.TEXT_CHANGE&&n.root.classList.toggle("ql-blank",n.editor.isBlank())})),this.emitter.on(l.default.events.SCROLL_UPDATE,(function(e,t){var r=n.selection.lastRange,i=r&&0===r.length?r.index:void 0;A.call(n,(function(){return n.editor.update(null,t,i)}),e)}));var o=this.clipboard.convert("<div class='ql-editor' style=\"white-space: normal;\">"+i+"<p><br></p></div>");this.setContents(o),this.history.clear(),this.options.placeholder&&this.root.setAttribute("data-placeholder",this.options.placeholder),this.options.readOnly&&this.disable()}return o(e,null,[{key:"debug",value:function(e){!0===e&&(e="log"),p.default.level(e)}},{key:"find",value:function(e){return e.__quill||u.default.find(e)}},{key:"import",value:function(e){return null==this.imports[e]&&y.error("Cannot import "+e+". Are you sure it was registered?"),this.imports[e]}},{key:"register",value:function(e,t){var n=this,r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if("string"!==typeof e){var i=e.attrName||e.blotName;"string"===typeof i?this.register("formats/"+i,e,t):Object.keys(e).forEach((function(r){n.register(r,e[r],t)}))}else null==this.imports[e]||r||y.warn("Overwriting "+e+" with",t),this.imports[e]=t,(e.startsWith("blots/")||e.startsWith("formats/"))&&"abstract"!==t.blotName?u.default.register(t):e.startsWith("modules")&&"function"===typeof t.register&&t.register()}}]),o(e,[{key:"addContainer",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if("string"===typeof e){var n=e;(e=document.createElement("div")).classList.add(n)}return this.container.insertBefore(e,t),e}},{key:"blur",value:function(){this.selection.setRange(null)}},{key:"deleteText",value:function(e,t,n){var r=this,o=_(e,t,n),s=i(o,4);return e=s[0],t=s[1],n=s[3],A.call(this,(function(){return r.editor.deleteText(e,t)}),n,e,-1*t)}},{key:"disable",value:function(){this.enable(!1)}},{key:"enable",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.scroll.enable(e),this.container.classList.toggle("ql-disabled",!e)}},{key:"focus",value:function(){var e=this.scrollingContainer.scrollTop;this.selection.focus(),this.scrollingContainer.scrollTop=e,this.scrollIntoView()}},{key:"format",value:function(e,t){var n=this,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:l.default.sources.API;return A.call(this,(function(){var r=n.getSelection(!0),i=new s.default;if(null==r)return i;if(u.default.query(e,u.default.Scope.BLOCK))i=n.editor.formatLine(r.index,r.length,v({},e,t));else{if(0===r.length)return n.selection.format(e,t),i;i=n.editor.formatText(r.index,r.length,v({},e,t))}return n.setSelection(r,l.default.sources.SILENT),i}),r)}},{key:"formatLine",value:function(e,t,n,r,o){var s,a=this,l=_(e,t,n,r,o),c=i(l,4);return e=c[0],t=c[1],s=c[2],o=c[3],A.call(this,(function(){return a.editor.formatLine(e,t,s)}),o,e,0)}},{key:"formatText",value:function(e,t,n,r,o){var s,a=this,l=_(e,t,n,r,o),c=i(l,4);return e=c[0],t=c[1],s=c[2],o=c[3],A.call(this,(function(){return a.editor.formatText(e,t,s)}),o,e,0)}},{key:"getBounds",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=void 0;n="number"===typeof e?this.selection.getBounds(e,t):this.selection.getBounds(e.index,e.length);var r=this.container.getBoundingClientRect();return{bottom:n.bottom-r.top,height:n.height,left:n.left-r.left,right:n.right-r.left,top:n.top-r.top,width:n.width}}},{key:"getContents",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.getLength()-e,n=_(e,t),r=i(n,2);return e=r[0],t=r[1],this.editor.getContents(e,t)}},{key:"getFormat",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.getSelection(!0),t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return"number"===typeof e?this.editor.getFormat(e,t):this.editor.getFormat(e.index,e.length)}},{key:"getIndex",value:function(e){return e.offset(this.scroll)}},{key:"getLength",value:function(){return this.scroll.length()}},{key:"getLeaf",value:function(e){return this.scroll.leaf(e)}},{key:"getLine",value:function(e){return this.scroll.line(e)}},{key:"getLines",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Number.MAX_VALUE;return"number"!==typeof e?this.scroll.lines(e.index,e.length):this.scroll.lines(e,t)}},{key:"getModule",value:function(e){return this.theme.modules[e]}},{key:"getSelection",value:function(){return arguments.length>0&&void 0!==arguments[0]&&arguments[0]&&this.focus(),this.update(),this.selection.getRange()[0]}},{key:"getText",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.getLength()-e,n=_(e,t),r=i(n,2);return e=r[0],t=r[1],this.editor.getText(e,t)}},{key:"hasFocus",value:function(){return this.selection.hasFocus()}},{key:"insertEmbed",value:function(t,n,r){var i=this,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:e.sources.API;return A.call(this,(function(){return i.editor.insertEmbed(t,n,r)}),o,t)}},{key:"insertText",value:function(e,t,n,r,o){var s,a=this,l=_(e,0,n,r,o),c=i(l,4);return e=c[0],s=c[2],o=c[3],A.call(this,(function(){return a.editor.insertText(e,t,s)}),o,e,t.length)}},{key:"isEnabled",value:function(){return!this.container.classList.contains("ql-disabled")}},{key:"off",value:function(){return this.emitter.off.apply(this.emitter,arguments)}},{key:"on",value:function(){return this.emitter.on.apply(this.emitter,arguments)}},{key:"once",value:function(){return this.emitter.once.apply(this.emitter,arguments)}},{key:"pasteHTML",value:function(e,t,n){this.clipboard.dangerouslyPasteHTML(e,t,n)}},{key:"removeFormat",value:function(e,t,n){var r=this,o=_(e,t,n),s=i(o,4);return e=s[0],t=s[1],n=s[3],A.call(this,(function(){return r.editor.removeFormat(e,t)}),n,e)}},{key:"scrollIntoView",value:function(){this.selection.scrollIntoView(this.scrollingContainer)}},{key:"setContents",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:l.default.sources.API;return A.call(this,(function(){e=new s.default(e);var n=t.getLength(),r=t.editor.deleteText(0,n),i=t.editor.applyDelta(e),o=i.ops[i.ops.length-1];return null!=o&&"string"===typeof o.insert&&"\n"===o.insert[o.insert.length-1]&&(t.editor.deleteText(t.getLength()-1,1),i.delete(1)),r.compose(i)}),n)}},{key:"setSelection",value:function(t,n,r){if(null==t)this.selection.setRange(null,n||e.sources.API);else{var o=_(t,n,r),s=i(o,4);t=s[0],n=s[1],r=s[3],this.selection.setRange(new d.Range(t,n),r),r!==l.default.sources.SILENT&&this.selection.scrollIntoView(this.scrollingContainer)}}},{key:"setText",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:l.default.sources.API,n=(new s.default).insert(e);return this.setContents(n,t)}},{key:"update",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:l.default.sources.USER,t=this.scroll.update(e);return this.selection.update(e),t}},{key:"updateContents",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:l.default.sources.API;return A.call(this,(function(){return e=new s.default(e),t.editor.applyDelta(e,n)}),n,!0)}}]),e}();function w(e,t){if((t=(0,f.default)(!0,{container:e,modules:{clipboard:!0,keyboard:!0,history:!0}},t)).theme&&t.theme!==b.DEFAULTS.theme){if(t.theme=b.import("themes/"+t.theme),null==t.theme)throw new Error("Invalid theme "+t.theme+". Did you register it?")}else t.theme=m.default;var n=(0,f.default)(!0,{},t.theme.DEFAULTS);[n,t].forEach((function(e){e.modules=e.modules||{},Object.keys(e.modules).forEach((function(t){!0===e.modules[t]&&(e.modules[t]={})}))}));var r=Object.keys(n.modules).concat(Object.keys(t.modules)).reduce((function(e,t){var n=b.import("modules/"+t);return null==n?y.error("Cannot load "+t+" module. Are you sure you registered it?"):e[t]=n.DEFAULTS||{},e}),{});return null!=t.modules&&t.modules.toolbar&&t.modules.toolbar.constructor!==Object&&(t.modules.toolbar={container:t.modules.toolbar}),t=(0,f.default)(!0,{},b.DEFAULTS,{modules:r},n,t),["bounds","container","scrollingContainer"].forEach((function(e){"string"===typeof t[e]&&(t[e]=document.querySelector(t[e]))})),t.modules=Object.keys(t.modules).reduce((function(e,n){return t.modules[n]&&(e[n]=t.modules[n]),e}),{}),t}function A(e,t,n,r){if(this.options.strict&&!this.isEnabled()&&t===l.default.sources.USER)return new s.default;var i=null==n?null:this.getSelection(),o=this.editor.delta,a=e();if(null!=i&&(!0===n&&(n=i.index),null==r?i=x(i,a,t):0!==r&&(i=x(i,n,r,t)),this.setSelection(i,l.default.sources.SILENT)),a.length()>0){var c,u,d=[l.default.events.TEXT_CHANGE,a,o,t];(c=this.emitter).emit.apply(c,[l.default.events.EDITOR_CHANGE].concat(d)),t!==l.default.sources.SILENT&&(u=this.emitter).emit.apply(u,d)}return a}function _(e,t,n,i,o){var s={};return"number"===typeof e.index&&"number"===typeof e.length?"number"!==typeof t?(o=i,i=n,n=t,t=e.length,e=e.index):(t=e.length,e=e.index):"number"!==typeof t&&(o=i,i=n,n=t,t=0),"object"===("undefined"===typeof n?"undefined":r(n))?(s=n,o=i):"string"===typeof n&&(null!=i?s[n]=i:o=n),[e,t,s,o=o||l.default.sources.API]}function x(e,t,n,r){if(null==e)return null;var o=void 0,a=void 0;if(t instanceof s.default){var c=[e.index,e.index+e.length].map((function(e){return t.transformPosition(e,r!==l.default.sources.USER)})),u=i(c,2);o=u[0],a=u[1]}else{var h=[e.index,e.index+e.length].map((function(e){return e<t||e===t&&r===l.default.sources.USER?e:n>=0?e+n:Math.max(t,e+n)})),f=i(h,2);o=f[0],a=f[1]}return new d.Range(o,a-o)}b.DEFAULTS={bounds:null,formats:null,modules:{},placeholder:"",readOnly:!1,scrollingContainer:null,strict:!0,theme:"default"},b.events=l.default.events,b.sources=l.default.sources,b.version="1.3.7",b.imports={delta:s.default,parchment:u.default,"core/module":c.default,"core/theme":m.default},t.expandConfig=w,t.overload=_,t.default=b},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=function e(t,n,r){null===t&&(t=Function.prototype);var i=Object.getOwnPropertyDescriptor(t,n);if(void 0===i){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,n,r)}if("value"in i)return i.value;var s=i.get;return void 0!==s?s.call(r):void 0},o=a(n(7)),s=a(n(0));function a(e){return e&&e.__esModule?e:{default:e}}var l=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),r(t,[{key:"formatAt",value:function(e,n,r,o){if(t.compare(this.statics.blotName,r)<0&&s.default.query(r,s.default.Scope.BLOT)){var a=this.isolate(e,n);o&&a.wrap(r,o)}else i(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"formatAt",this).call(this,e,n,r,o)}},{key:"optimize",value:function(e){if(i(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"optimize",this).call(this,e),this.parent instanceof t&&t.compare(this.statics.blotName,this.parent.statics.blotName)>0){var n=this.parent.isolate(this.offset(),this.length());this.moveChildren(n),n.wrap(this)}}}],[{key:"compare",value:function(e,n){var r=t.order.indexOf(e),i=t.order.indexOf(n);return r>=0||i>=0?r-i:e===n?0:e<n?-1:1}}]),t}(s.default.Inline);l.allowedChildren=[l,s.default.Embed,o.default],l.order=["cursor","inline","underline","strike","italic","bold","script","link","code"],t.default=l},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,i=n(0),o=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t}(((r=i)&&r.__esModule?r:{default:r}).default.Text);t.default=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=function e(t,n,r){null===t&&(t=Function.prototype);var i=Object.getOwnPropertyDescriptor(t,n);if(void 0===i){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,n,r)}if("value"in i)return i.value;var s=i.get;return void 0!==s?s.call(r):void 0},o=s(n(54));function s(e){return e&&e.__esModule?e:{default:e}}var a=(0,s(n(10)).default)("quill:events");["selectionchange","mousedown","mouseup","click"].forEach((function(e){document.addEventListener(e,(function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];[].slice.call(document.querySelectorAll(".ql-container")).forEach((function(e){var n;e.__quill&&e.__quill.emitter&&(n=e.__quill.emitter).handleDOM.apply(n,t)}))}))}));var l=function(e){function t(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var e=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.listeners={},e.on("error",a.error),e}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),r(t,[{key:"emit",value:function(){a.log.apply(a,arguments),i(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"emit",this).apply(this,arguments)}},{key:"handleDOM",value:function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];(this.listeners[e.type]||[]).forEach((function(t){var r=t.node,i=t.handler;(e.target===r||r.contains(e.target))&&i.apply(void 0,[e].concat(n))}))}},{key:"listenDOM",value:function(e,t,n){this.listeners[e]||(this.listeners[e]=[]),this.listeners[e].push({node:t,handler:n})}}]),t}(o.default);l.events={EDITOR_CHANGE:"editor-change",SCROLL_BEFORE_UPDATE:"scroll-before-update",SCROLL_OPTIMIZE:"scroll-optimize",SCROLL_UPDATE:"scroll-update",SELECTION_CHANGE:"selection-change",TEXT_CHANGE:"text-change"},l.sources={API:"api",SILENT:"silent",USER:"user"},t.default=l},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.quill=t,this.options=n};r.DEFAULTS={},t.default=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=["error","warn","log","info"],i="warn";function o(e){if(r.indexOf(e)<=r.indexOf(i)){for(var t,n=arguments.length,o=Array(n>1?n-1:0),s=1;s<n;s++)o[s-1]=arguments[s];(t=console)[e].apply(t,o)}}function s(e){return r.reduce((function(t,n){return t[n]=o.bind(console,n,e),t}),{})}o.level=s.level=function(e){i=e},t.default=s},function(e,t,n){var r=Array.prototype.slice,i=n(52),o=n(53),s=e.exports=function(e,t,n){return n||(n={}),e===t||(e instanceof Date&&t instanceof Date?e.getTime()===t.getTime():!e||!t||"object"!=typeof e&&"object"!=typeof t?n.strict?e===t:e==t:function(e,t,n){var c,u;if(a(e)||a(t))return!1;if(e.prototype!==t.prototype)return!1;if(o(e))return!!o(t)&&(e=r.call(e),t=r.call(t),s(e,t,n));if(l(e)){if(!l(t))return!1;if(e.length!==t.length)return!1;for(c=0;c<e.length;c++)if(e[c]!==t[c])return!1;return!0}try{var d=i(e),h=i(t)}catch(f){return!1}if(d.length!=h.length)return!1;for(d.sort(),h.sort(),c=d.length-1;c>=0;c--)if(d[c]!=h[c])return!1;for(c=d.length-1;c>=0;c--)if(u=d[c],!s(e[u],t[u],n))return!1;return typeof e===typeof t}(e,t,n))};function a(e){return null===e||void 0===e}function l(e){return!(!e||"object"!==typeof e||"number"!==typeof e.length)&&"function"===typeof e.copy&&"function"===typeof e.slice&&!(e.length>0&&"number"!==typeof e[0])}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(1),i=function(){function e(e,t,n){void 0===n&&(n={}),this.attrName=e,this.keyName=t;var i=r.Scope.TYPE&r.Scope.ATTRIBUTE;null!=n.scope?this.scope=n.scope&r.Scope.LEVEL|i:this.scope=r.Scope.ATTRIBUTE,null!=n.whitelist&&(this.whitelist=n.whitelist)}return e.keys=function(e){return[].map.call(e.attributes,(function(e){return e.name}))},e.prototype.add=function(e,t){return!!this.canAdd(e,t)&&(e.setAttribute(this.keyName,t),!0)},e.prototype.canAdd=function(e,t){return null!=r.query(e,r.Scope.BLOT&(this.scope|r.Scope.TYPE))&&(null==this.whitelist||("string"===typeof t?this.whitelist.indexOf(t.replace(/["']/g,""))>-1:this.whitelist.indexOf(t)>-1))},e.prototype.remove=function(e){e.removeAttribute(this.keyName)},e.prototype.value=function(e){var t=e.getAttribute(this.keyName);return this.canAdd(e,t)&&t?t:""},e}();t.default=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.Code=void 0;var r=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],r=!0,i=!1,o=void 0;try{for(var s,a=e[Symbol.iterator]();!(r=(s=a.next()).done)&&(n.push(s.value),!t||n.length!==t);r=!0);}catch(l){i=!0,o=l}finally{try{!r&&a.return&&a.return()}finally{if(i)throw o}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")},i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=function e(t,n,r){null===t&&(t=Function.prototype);var i=Object.getOwnPropertyDescriptor(t,n);if(void 0===i){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,n,r)}if("value"in i)return i.value;var s=i.get;return void 0!==s?s.call(r):void 0},s=d(n(2)),a=d(n(0)),l=d(n(4)),c=d(n(6)),u=d(n(7));function d(e){return e&&e.__esModule?e:{default:e}}function h(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function f(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function p(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var m=function(e){function t(){return h(this,t),f(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return p(t,e),t}(c.default);m.blotName="code",m.tagName="CODE";var g=function(e){function t(){return h(this,t),f(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return p(t,e),i(t,[{key:"delta",value:function(){var e=this,t=this.domNode.textContent;return t.endsWith("\n")&&(t=t.slice(0,-1)),t.split("\n").reduce((function(t,n){return t.insert(n).insert("\n",e.formats())}),new s.default)}},{key:"format",value:function(e,n){if(e!==this.statics.blotName||!n){var i=this.descendant(u.default,this.length()-1),s=r(i,1)[0];null!=s&&s.deleteAt(s.length()-1,1),o(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"format",this).call(this,e,n)}}},{key:"formatAt",value:function(e,n,r,i){if(0!==n&&null!=a.default.query(r,a.default.Scope.BLOCK)&&(r!==this.statics.blotName||i!==this.statics.formats(this.domNode))){var o=this.newlineIndex(e);if(!(o<0||o>=e+n)){var s=this.newlineIndex(e,!0)+1,l=o-s+1,c=this.isolate(s,l),u=c.next;c.format(r,i),u instanceof t&&u.formatAt(0,e-s+n-l,r,i)}}}},{key:"insertAt",value:function(e,t,n){if(null==n){var i=this.descendant(u.default,e),o=r(i,2),s=o[0],a=o[1];s.insertAt(a,t)}}},{key:"length",value:function(){var e=this.domNode.textContent.length;return this.domNode.textContent.endsWith("\n")?e:e+1}},{key:"newlineIndex",value:function(e){if(arguments.length>1&&void 0!==arguments[1]&&arguments[1])return this.domNode.textContent.slice(0,e).lastIndexOf("\n");var t=this.domNode.textContent.slice(e).indexOf("\n");return t>-1?e+t:-1}},{key:"optimize",value:function(e){this.domNode.textContent.endsWith("\n")||this.appendChild(a.default.create("text","\n")),o(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"optimize",this).call(this,e);var n=this.next;null!=n&&n.prev===this&&n.statics.blotName===this.statics.blotName&&this.statics.formats(this.domNode)===n.statics.formats(n.domNode)&&(n.optimize(e),n.moveChildren(this),n.remove())}},{key:"replace",value:function(e){o(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"replace",this).call(this,e),[].slice.call(this.domNode.querySelectorAll("*")).forEach((function(e){var t=a.default.find(e);null==t?e.parentNode.removeChild(e):t instanceof a.default.Embed?t.remove():t.unwrap()}))}}],[{key:"create",value:function(e){var n=o(t.__proto__||Object.getPrototypeOf(t),"create",this).call(this,e);return n.setAttribute("spellcheck",!1),n}},{key:"formats",value:function(){return!0}}]),t}(l.default);g.blotName="code-block",g.tagName="PRE",g.TAB="  ",t.Code=m,t.default=g},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],r=!0,i=!1,o=void 0;try{for(var s,a=e[Symbol.iterator]();!(r=(s=a.next()).done)&&(n.push(s.value),!t||n.length!==t);r=!0);}catch(l){i=!0,o=l}finally{try{!r&&a.return&&a.return()}finally{if(i)throw o}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")},o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=v(n(2)),a=v(n(20)),l=v(n(0)),c=v(n(13)),u=v(n(24)),d=n(4),h=v(d),f=v(n(16)),p=v(n(21)),m=v(n(11)),g=v(n(3));function v(e){return e&&e.__esModule?e:{default:e}}var y=/^[ -~]*$/,b=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.scroll=t,this.delta=this.getDelta()}return o(e,[{key:"applyDelta",value:function(e){var t=this,n=!1;this.scroll.update();var o=this.scroll.length();return this.scroll.batchStart(),(e=function(e){return e.reduce((function(e,t){if(1===t.insert){var n=(0,p.default)(t.attributes);return delete n.image,e.insert({image:t.attributes.image},n)}if(null==t.attributes||!0!==t.attributes.list&&!0!==t.attributes.bullet||((t=(0,p.default)(t)).attributes.list?t.attributes.list="ordered":(t.attributes.list="bullet",delete t.attributes.bullet)),"string"===typeof t.insert){var r=t.insert.replace(/\r\n/g,"\n").replace(/\r/g,"\n");return e.insert(r,t.attributes)}return e.push(t)}),new s.default)}(e)).reduce((function(e,s){var c=s.retain||s.delete||s.insert.length||1,u=s.attributes||{};if(null!=s.insert){if("string"===typeof s.insert){var f=s.insert;f.endsWith("\n")&&n&&(n=!1,f=f.slice(0,-1)),e>=o&&!f.endsWith("\n")&&(n=!0),t.scroll.insertAt(e,f);var p=t.scroll.line(e),m=i(p,2),v=m[0],y=m[1],b=(0,g.default)({},(0,d.bubbleFormats)(v));if(v instanceof h.default){var w=v.descendant(l.default.Leaf,y),A=i(w,1)[0];b=(0,g.default)(b,(0,d.bubbleFormats)(A))}u=a.default.attributes.diff(b,u)||{}}else if("object"===r(s.insert)){var _=Object.keys(s.insert)[0];if(null==_)return e;t.scroll.insertAt(e,_,s.insert[_])}o+=c}return Object.keys(u).forEach((function(n){t.scroll.formatAt(e,c,n,u[n])})),e+c}),0),e.reduce((function(e,n){return"number"===typeof n.delete?(t.scroll.deleteAt(e,n.delete),e):e+(n.retain||n.insert.length||1)}),0),this.scroll.batchEnd(),this.update(e)}},{key:"deleteText",value:function(e,t){return this.scroll.deleteAt(e,t),this.update((new s.default).retain(e).delete(t))}},{key:"formatLine",value:function(e,t){var n=this,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return this.scroll.update(),Object.keys(r).forEach((function(i){if(null==n.scroll.whitelist||n.scroll.whitelist[i]){var o=n.scroll.lines(e,Math.max(t,1)),s=t;o.forEach((function(t){var o=t.length();if(t instanceof c.default){var a=e-t.offset(n.scroll),l=t.newlineIndex(a+s)-a+1;t.formatAt(a,l,i,r[i])}else t.format(i,r[i]);s-=o}))}})),this.scroll.optimize(),this.update((new s.default).retain(e).retain(t,(0,p.default)(r)))}},{key:"formatText",value:function(e,t){var n=this,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return Object.keys(r).forEach((function(i){n.scroll.formatAt(e,t,i,r[i])})),this.update((new s.default).retain(e).retain(t,(0,p.default)(r)))}},{key:"getContents",value:function(e,t){return this.delta.slice(e,e+t)}},{key:"getDelta",value:function(){return this.scroll.lines().reduce((function(e,t){return e.concat(t.delta())}),new s.default)}},{key:"getFormat",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=[],r=[];0===t?this.scroll.path(e).forEach((function(e){var t=i(e,1)[0];t instanceof h.default?n.push(t):t instanceof l.default.Leaf&&r.push(t)})):(n=this.scroll.lines(e,t),r=this.scroll.descendants(l.default.Leaf,e,t));var o=[n,r].map((function(e){if(0===e.length)return{};for(var t=(0,d.bubbleFormats)(e.shift());Object.keys(t).length>0;){var n=e.shift();if(null==n)return t;t=w((0,d.bubbleFormats)(n),t)}return t}));return g.default.apply(g.default,o)}},{key:"getText",value:function(e,t){return this.getContents(e,t).filter((function(e){return"string"===typeof e.insert})).map((function(e){return e.insert})).join("")}},{key:"insertEmbed",value:function(e,t,n){return this.scroll.insertAt(e,t,n),this.update((new s.default).retain(e).insert(function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}({},t,n)))}},{key:"insertText",value:function(e,t){var n=this,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return t=t.replace(/\r\n/g,"\n").replace(/\r/g,"\n"),this.scroll.insertAt(e,t),Object.keys(r).forEach((function(i){n.scroll.formatAt(e,t.length,i,r[i])})),this.update((new s.default).retain(e).insert(t,(0,p.default)(r)))}},{key:"isBlank",value:function(){if(0==this.scroll.children.length)return!0;if(this.scroll.children.length>1)return!1;var e=this.scroll.children.head;return e.statics.blotName===h.default.blotName&&!(e.children.length>1)&&e.children.head instanceof f.default}},{key:"removeFormat",value:function(e,t){var n=this.getText(e,t),r=this.scroll.line(e+t),o=i(r,2),a=o[0],l=o[1],u=0,d=new s.default;null!=a&&(u=a instanceof c.default?a.newlineIndex(l)-l+1:a.length()-l,d=a.delta().slice(l,l+u-1).insert("\n"));var h=this.getContents(e,t+u).diff((new s.default).insert(n).concat(d)),f=(new s.default).retain(e).concat(h);return this.applyDelta(f)}},{key:"update",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0,r=this.delta;if(1===t.length&&"characterData"===t[0].type&&t[0].target.data.match(y)&&l.default.find(t[0].target)){var i=l.default.find(t[0].target),o=(0,d.bubbleFormats)(i),a=i.offset(this.scroll),c=t[0].oldValue.replace(u.default.CONTENTS,""),h=(new s.default).insert(c),f=(new s.default).insert(i.value());e=(new s.default).retain(a).concat(h.diff(f,n)).reduce((function(e,t){return t.insert?e.insert(t.insert,o):e.push(t)}),new s.default),this.delta=r.compose(e)}else this.delta=this.getDelta(),e&&(0,m.default)(r.compose(e),this.delta)||(e=r.diff(this.delta,n));return e}}]),e}();function w(e,t){return Object.keys(t).reduce((function(n,r){return null==e[r]||(t[r]===e[r]?n[r]=t[r]:Array.isArray(t[r])?t[r].indexOf(e[r])<0&&(n[r]=t[r].concat([e[r]])):n[r]=[t[r],e[r]]),n}),{})}t.default=b},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.Range=void 0;var r=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],r=!0,i=!1,o=void 0;try{for(var s,a=e[Symbol.iterator]();!(r=(s=a.next()).done)&&(n.push(s.value),!t||n.length!==t);r=!0);}catch(l){i=!0,o=l}finally{try{!r&&a.return&&a.return()}finally{if(i)throw o}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")},i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=c(n(0)),s=c(n(21)),a=c(n(11)),l=c(n(8));function c(e){return e&&e.__esModule?e:{default:e}}function u(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function d(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var h=(0,c(n(10)).default)("quill:selection"),f=function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;d(this,e),this.index=t,this.length=n},p=function(){function e(t,n){var r=this;d(this,e),this.emitter=n,this.scroll=t,this.composing=!1,this.mouseDown=!1,this.root=this.scroll.domNode,this.cursor=o.default.create("cursor",this),this.lastRange=this.savedRange=new f(0,0),this.handleComposition(),this.handleDragging(),this.emitter.listenDOM("selectionchange",document,(function(){r.mouseDown||setTimeout(r.update.bind(r,l.default.sources.USER),1)})),this.emitter.on(l.default.events.EDITOR_CHANGE,(function(e,t){e===l.default.events.TEXT_CHANGE&&t.length()>0&&r.update(l.default.sources.SILENT)})),this.emitter.on(l.default.events.SCROLL_BEFORE_UPDATE,(function(){if(r.hasFocus()){var e=r.getNativeRange();null!=e&&e.start.node!==r.cursor.textNode&&r.emitter.once(l.default.events.SCROLL_UPDATE,(function(){try{r.setNativeRange(e.start.node,e.start.offset,e.end.node,e.end.offset)}catch(t){}}))}})),this.emitter.on(l.default.events.SCROLL_OPTIMIZE,(function(e,t){if(t.range){var n=t.range,i=n.startNode,o=n.startOffset,s=n.endNode,a=n.endOffset;r.setNativeRange(i,o,s,a)}})),this.update(l.default.sources.SILENT)}return i(e,[{key:"handleComposition",value:function(){var e=this;this.root.addEventListener("compositionstart",(function(){e.composing=!0})),this.root.addEventListener("compositionend",(function(){if(e.composing=!1,e.cursor.parent){var t=e.cursor.restore();if(!t)return;setTimeout((function(){e.setNativeRange(t.startNode,t.startOffset,t.endNode,t.endOffset)}),1)}}))}},{key:"handleDragging",value:function(){var e=this;this.emitter.listenDOM("mousedown",document.body,(function(){e.mouseDown=!0})),this.emitter.listenDOM("mouseup",document.body,(function(){e.mouseDown=!1,e.update(l.default.sources.USER)}))}},{key:"focus",value:function(){this.hasFocus()||(this.root.focus(),this.setRange(this.savedRange))}},{key:"format",value:function(e,t){if(null==this.scroll.whitelist||this.scroll.whitelist[e]){this.scroll.update();var n=this.getNativeRange();if(null!=n&&n.native.collapsed&&!o.default.query(e,o.default.Scope.BLOCK)){if(n.start.node!==this.cursor.textNode){var r=o.default.find(n.start.node,!1);if(null==r)return;if(r instanceof o.default.Leaf){var i=r.split(n.start.offset);r.parent.insertBefore(this.cursor,i)}else r.insertBefore(this.cursor,n.start.node);this.cursor.attach()}this.cursor.format(e,t),this.scroll.optimize(),this.setNativeRange(this.cursor.textNode,this.cursor.textNode.data.length),this.update()}}}},{key:"getBounds",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=this.scroll.length();e=Math.min(e,n-1),t=Math.min(e+t,n-1)-e;var i=void 0,o=this.scroll.leaf(e),s=r(o,2),a=s[0],l=s[1];if(null==a)return null;var c=a.position(l,!0),u=r(c,2);i=u[0],l=u[1];var d=document.createRange();if(t>0){d.setStart(i,l);var h=this.scroll.leaf(e+t),f=r(h,2);if(a=f[0],l=f[1],null==a)return null;var p=a.position(l,!0),m=r(p,2);return i=m[0],l=m[1],d.setEnd(i,l),d.getBoundingClientRect()}var g="left",v=void 0;return i instanceof Text?(l<i.data.length?(d.setStart(i,l),d.setEnd(i,l+1)):(d.setStart(i,l-1),d.setEnd(i,l),g="right"),v=d.getBoundingClientRect()):(v=a.domNode.getBoundingClientRect(),l>0&&(g="right")),{bottom:v.top+v.height,height:v.height,left:v[g],right:v[g],top:v.top,width:0}}},{key:"getNativeRange",value:function(){var e=document.getSelection();if(null==e||e.rangeCount<=0)return null;var t=e.getRangeAt(0);if(null==t)return null;var n=this.normalizeNative(t);return h.info("getNativeRange",n),n}},{key:"getRange",value:function(){var e=this.getNativeRange();return null==e?[null,null]:[this.normalizedToRange(e),e]}},{key:"hasFocus",value:function(){return document.activeElement===this.root}},{key:"normalizedToRange",value:function(e){var t=this,n=[[e.start.node,e.start.offset]];e.native.collapsed||n.push([e.end.node,e.end.offset]);var i=n.map((function(e){var n=r(e,2),i=n[0],s=n[1],a=o.default.find(i,!0),l=a.offset(t.scroll);return 0===s?l:a instanceof o.default.Container?l+a.length():l+a.index(i,s)})),s=Math.min(Math.max.apply(Math,u(i)),this.scroll.length()-1),a=Math.min.apply(Math,[s].concat(u(i)));return new f(a,s-a)}},{key:"normalizeNative",value:function(e){if(!m(this.root,e.startContainer)||!e.collapsed&&!m(this.root,e.endContainer))return null;var t={start:{node:e.startContainer,offset:e.startOffset},end:{node:e.endContainer,offset:e.endOffset},native:e};return[t.start,t.end].forEach((function(e){for(var t=e.node,n=e.offset;!(t instanceof Text)&&t.childNodes.length>0;)if(t.childNodes.length>n)t=t.childNodes[n],n=0;else{if(t.childNodes.length!==n)break;n=(t=t.lastChild)instanceof Text?t.data.length:t.childNodes.length+1}e.node=t,e.offset=n})),t}},{key:"rangeToNative",value:function(e){var t=this,n=e.collapsed?[e.index]:[e.index,e.index+e.length],i=[],o=this.scroll.length();return n.forEach((function(e,n){e=Math.min(o-1,e);var s,a=t.scroll.leaf(e),l=r(a,2),c=l[0],u=l[1],d=c.position(u,0!==n),h=r(d,2);s=h[0],u=h[1],i.push(s,u)})),i.length<2&&(i=i.concat(i)),i}},{key:"scrollIntoView",value:function(e){var t=this.lastRange;if(null!=t){var n=this.getBounds(t.index,t.length);if(null!=n){var i=this.scroll.length()-1,o=this.scroll.line(Math.min(t.index,i)),s=r(o,1)[0],a=s;if(t.length>0){var l=this.scroll.line(Math.min(t.index+t.length,i));a=r(l,1)[0]}if(null!=s&&null!=a){var c=e.getBoundingClientRect();n.top<c.top?e.scrollTop-=c.top-n.top:n.bottom>c.bottom&&(e.scrollTop+=n.bottom-c.bottom)}}}}},{key:"setNativeRange",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:t,i=arguments.length>4&&void 0!==arguments[4]&&arguments[4];if(h.info("setNativeRange",e,t,n,r),null==e||null!=this.root.parentNode&&null!=e.parentNode&&null!=n.parentNode){var o=document.getSelection();if(null!=o)if(null!=e){this.hasFocus()||this.root.focus();var s=(this.getNativeRange()||{}).native;if(null==s||i||e!==s.startContainer||t!==s.startOffset||n!==s.endContainer||r!==s.endOffset){"BR"==e.tagName&&(t=[].indexOf.call(e.parentNode.childNodes,e),e=e.parentNode),"BR"==n.tagName&&(r=[].indexOf.call(n.parentNode.childNodes,n),n=n.parentNode);var a=document.createRange();a.setStart(e,t),a.setEnd(n,r),o.removeAllRanges(),o.addRange(a)}}else o.removeAllRanges(),this.root.blur(),document.body.focus()}}},{key:"setRange",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:l.default.sources.API;if("string"===typeof t&&(n=t,t=!1),h.info("setRange",e),null!=e){var r=this.rangeToNative(e);this.setNativeRange.apply(this,u(r).concat([t]))}else this.setNativeRange(null);this.update(n)}},{key:"update",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:l.default.sources.USER,t=this.lastRange,n=this.getRange(),i=r(n,2),o=i[0],c=i[1];if(this.lastRange=o,null!=this.lastRange&&(this.savedRange=this.lastRange),!(0,a.default)(t,this.lastRange)){var u;!this.composing&&null!=c&&c.native.collapsed&&c.start.node!==this.cursor.textNode&&this.cursor.restore();var d,h=[l.default.events.SELECTION_CHANGE,(0,s.default)(this.lastRange),(0,s.default)(t),e];(u=this.emitter).emit.apply(u,[l.default.events.EDITOR_CHANGE].concat(h)),e!==l.default.sources.SILENT&&(d=this.emitter).emit.apply(d,h)}}}]),e}();function m(e,t){try{t.parentNode}catch(n){return!1}return t instanceof Text&&(t=t.parentNode),e.contains(t)}t.Range=f,t.default=p},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=function e(t,n,r){null===t&&(t=Function.prototype);var i=Object.getOwnPropertyDescriptor(t,n);if(void 0===i){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,n,r)}if("value"in i)return i.value;var s=i.get;return void 0!==s?s.call(r):void 0},s=n(0),a=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),i(t,[{key:"insertInto",value:function(e,n){0===e.children.length?o(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"insertInto",this).call(this,e,n):this.remove()}},{key:"length",value:function(){return 0}},{key:"value",value:function(){return""}}],[{key:"value",value:function(){}}]),t}(((r=s)&&r.__esModule?r:{default:r}).default.Embed);a.blotName="break",a.tagName="BR",t.default=a},function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(t,"__esModule",{value:!0});var i=n(44),o=n(30),s=n(1),a=function(e){function t(t){var n=e.call(this,t)||this;return n.build(),n}return r(t,e),t.prototype.appendChild=function(e){this.insertBefore(e)},t.prototype.attach=function(){e.prototype.attach.call(this),this.children.forEach((function(e){e.attach()}))},t.prototype.build=function(){var e=this;this.children=new i.default,[].slice.call(this.domNode.childNodes).reverse().forEach((function(t){try{var n=l(t);e.insertBefore(n,e.children.head||void 0)}catch(r){if(r instanceof s.ParchmentError)return;throw r}}))},t.prototype.deleteAt=function(e,t){if(0===e&&t===this.length())return this.remove();this.children.forEachAt(e,t,(function(e,t,n){e.deleteAt(t,n)}))},t.prototype.descendant=function(e,n){var r=this.children.find(n),i=r[0],o=r[1];return null==e.blotName&&e(i)||null!=e.blotName&&i instanceof e?[i,o]:i instanceof t?i.descendant(e,o):[null,-1]},t.prototype.descendants=function(e,n,r){void 0===n&&(n=0),void 0===r&&(r=Number.MAX_VALUE);var i=[],o=r;return this.children.forEachAt(n,r,(function(n,r,s){(null==e.blotName&&e(n)||null!=e.blotName&&n instanceof e)&&i.push(n),n instanceof t&&(i=i.concat(n.descendants(e,r,o))),o-=s})),i},t.prototype.detach=function(){this.children.forEach((function(e){e.detach()})),e.prototype.detach.call(this)},t.prototype.formatAt=function(e,t,n,r){this.children.forEachAt(e,t,(function(e,t,i){e.formatAt(t,i,n,r)}))},t.prototype.insertAt=function(e,t,n){var r=this.children.find(e),i=r[0],o=r[1];if(i)i.insertAt(o,t,n);else{var a=null==n?s.create("text",t):s.create(t,n);this.appendChild(a)}},t.prototype.insertBefore=function(e,t){if(null!=this.statics.allowedChildren&&!this.statics.allowedChildren.some((function(t){return e instanceof t})))throw new s.ParchmentError("Cannot insert "+e.statics.blotName+" into "+this.statics.blotName);e.insertInto(this,t)},t.prototype.length=function(){return this.children.reduce((function(e,t){return e+t.length()}),0)},t.prototype.moveChildren=function(e,t){this.children.forEach((function(n){e.insertBefore(n,t)}))},t.prototype.optimize=function(t){if(e.prototype.optimize.call(this,t),0===this.children.length)if(null!=this.statics.defaultChild){var n=s.create(this.statics.defaultChild);this.appendChild(n),n.optimize(t)}else this.remove()},t.prototype.path=function(e,n){void 0===n&&(n=!1);var r=this.children.find(e,n),i=r[0],o=r[1],s=[[this,e]];return i instanceof t?s.concat(i.path(o,n)):(null!=i&&s.push([i,o]),s)},t.prototype.removeChild=function(e){this.children.remove(e)},t.prototype.replace=function(n){n instanceof t&&n.moveChildren(this),e.prototype.replace.call(this,n)},t.prototype.split=function(e,t){if(void 0===t&&(t=!1),!t){if(0===e)return this;if(e===this.length())return this.next}var n=this.clone();return this.parent.insertBefore(n,this.next),this.children.forEachAt(e,this.length(),(function(e,r,i){e=e.split(r,t),n.appendChild(e)})),n},t.prototype.unwrap=function(){this.moveChildren(this.parent,this.next),this.remove()},t.prototype.update=function(e,t){var n=this,r=[],i=[];e.forEach((function(e){e.target===n.domNode&&"childList"===e.type&&(r.push.apply(r,e.addedNodes),i.push.apply(i,e.removedNodes))})),i.forEach((function(e){if(!(null!=e.parentNode&&"IFRAME"!==e.tagName&&document.body.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_CONTAINED_BY)){var t=s.find(e);null!=t&&(null!=t.domNode.parentNode&&t.domNode.parentNode!==n.domNode||t.detach())}})),r.filter((function(e){return e.parentNode==n.domNode})).sort((function(e,t){return e===t?0:e.compareDocumentPosition(t)&Node.DOCUMENT_POSITION_FOLLOWING?1:-1})).forEach((function(e){var t=null;null!=e.nextSibling&&(t=s.find(e.nextSibling));var r=l(e);r.next==t&&null!=r.next||(null!=r.parent&&r.parent.removeChild(n),n.insertBefore(r,t||void 0))}))},t}(o.default);function l(e){var t=s.find(e);if(null==t)try{t=s.create(e)}catch(n){t=s.create(s.Scope.INLINE),[].slice.call(e.childNodes).forEach((function(e){t.domNode.appendChild(e)})),e.parentNode&&e.parentNode.replaceChild(t.domNode,e),t.attach()}return t}t.default=a},function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(t,"__esModule",{value:!0});var i=n(12),o=n(31),s=n(17),a=n(1),l=function(e){function t(t){var n=e.call(this,t)||this;return n.attributes=new o.default(n.domNode),n}return r(t,e),t.formats=function(e){return"string"===typeof this.tagName||(Array.isArray(this.tagName)?e.tagName.toLowerCase():void 0)},t.prototype.format=function(e,t){var n=a.query(e);n instanceof i.default?this.attributes.attribute(n,t):t&&(null==n||e===this.statics.blotName&&this.formats()[e]===t||this.replaceWith(e,t))},t.prototype.formats=function(){var e=this.attributes.values(),t=this.statics.formats(this.domNode);return null!=t&&(e[this.statics.blotName]=t),e},t.prototype.replaceWith=function(t,n){var r=e.prototype.replaceWith.call(this,t,n);return this.attributes.copy(r),r},t.prototype.update=function(t,n){var r=this;e.prototype.update.call(this,t,n),t.some((function(e){return e.target===r.domNode&&"attributes"===e.type}))&&this.attributes.build()},t.prototype.wrap=function(n,r){var i=e.prototype.wrap.call(this,n,r);return i instanceof t&&i.statics.scope===this.statics.scope&&this.attributes.move(i),i},t}(s.default);t.default=l},function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(t,"__esModule",{value:!0});var i=n(30),o=n(1),s=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),t.value=function(e){return!0},t.prototype.index=function(e,t){return this.domNode===e||this.domNode.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_CONTAINED_BY?Math.min(t,1):-1},t.prototype.position=function(e,t){var n=[].indexOf.call(this.parent.domNode.childNodes,this.domNode);return e>0&&(n+=1),[this.parent.domNode,n]},t.prototype.value=function(){var e;return(e={})[this.statics.blotName]=this.statics.value(this.domNode)||!0,e},t.scope=o.Scope.INLINE_BLOT,t}(i.default);t.default=s},function(e,t,n){var r=n(11),i=n(3),o={attributes:{compose:function(e,t,n){"object"!==typeof e&&(e={}),"object"!==typeof t&&(t={});var r=i(!0,{},t);for(var o in n||(r=Object.keys(r).reduce((function(e,t){return null!=r[t]&&(e[t]=r[t]),e}),{})),e)void 0!==e[o]&&void 0===t[o]&&(r[o]=e[o]);return Object.keys(r).length>0?r:void 0},diff:function(e,t){"object"!==typeof e&&(e={}),"object"!==typeof t&&(t={});var n=Object.keys(e).concat(Object.keys(t)).reduce((function(n,i){return r(e[i],t[i])||(n[i]=void 0===t[i]?null:t[i]),n}),{});return Object.keys(n).length>0?n:void 0},transform:function(e,t,n){if("object"!==typeof e)return t;if("object"===typeof t){if(!n)return t;var r=Object.keys(t).reduce((function(n,r){return void 0===e[r]&&(n[r]=t[r]),n}),{});return Object.keys(r).length>0?r:void 0}}},iterator:function(e){return new s(e)},length:function(e){return"number"===typeof e.delete?e.delete:"number"===typeof e.retain?e.retain:"string"===typeof e.insert?e.insert.length:1}};function s(e){this.ops=e,this.index=0,this.offset=0}s.prototype.hasNext=function(){return this.peekLength()<1/0},s.prototype.next=function(e){e||(e=1/0);var t=this.ops[this.index];if(t){var n=this.offset,r=o.length(t);if(e>=r-n?(e=r-n,this.index+=1,this.offset=0):this.offset+=e,"number"===typeof t.delete)return{delete:e};var i={};return t.attributes&&(i.attributes=t.attributes),"number"===typeof t.retain?i.retain=e:"string"===typeof t.insert?i.insert=t.insert.substr(n,e):i.insert=t.insert,i}return{retain:1/0}},s.prototype.peek=function(){return this.ops[this.index]},s.prototype.peekLength=function(){return this.ops[this.index]?o.length(this.ops[this.index])-this.offset:1/0},s.prototype.peekType=function(){return this.ops[this.index]?"number"===typeof this.ops[this.index].delete?"delete":"number"===typeof this.ops[this.index].retain?"retain":"insert":"retain"},s.prototype.rest=function(){if(this.hasNext()){if(0===this.offset)return this.ops.slice(this.index);var e=this.offset,t=this.index,n=this.next(),r=this.ops.slice(this.index);return this.offset=e,this.index=t,[n].concat(r)}return[]},e.exports=o},function(e,t){var n=function(){"use strict";function e(e,t){return null!=t&&e instanceof t}var t,n,r;try{t=Map}catch(a){t=function(){}}try{n=Set}catch(a){n=function(){}}try{r=Promise}catch(a){r=function(){}}function i(o,a,l,c,u){"object"===typeof a&&(l=a.depth,c=a.prototype,u=a.includeNonEnumerable,a=a.circular);var d=[],h=[],f="undefined"!=typeof Buffer;return"undefined"==typeof a&&(a=!0),"undefined"==typeof l&&(l=1/0),function o(l,p){if(null===l)return null;if(0===p)return l;var m,g;if("object"!=typeof l)return l;if(e(l,t))m=new t;else if(e(l,n))m=new n;else if(e(l,r))m=new r((function(e,t){l.then((function(t){e(o(t,p-1))}),(function(e){t(o(e,p-1))}))}));else if(i.__isArray(l))m=[];else if(i.__isRegExp(l))m=new RegExp(l.source,s(l)),l.lastIndex&&(m.lastIndex=l.lastIndex);else if(i.__isDate(l))m=new Date(l.getTime());else{if(f&&Buffer.isBuffer(l))return m=Buffer.allocUnsafe?Buffer.allocUnsafe(l.length):new Buffer(l.length),l.copy(m),m;e(l,Error)?m=Object.create(l):"undefined"==typeof c?(g=Object.getPrototypeOf(l),m=Object.create(g)):(m=Object.create(c),g=c)}if(a){var v=d.indexOf(l);if(-1!=v)return h[v];d.push(l),h.push(m)}for(var y in e(l,t)&&l.forEach((function(e,t){var n=o(t,p-1),r=o(e,p-1);m.set(n,r)})),e(l,n)&&l.forEach((function(e){var t=o(e,p-1);m.add(t)})),l){var b;g&&(b=Object.getOwnPropertyDescriptor(g,y)),b&&null==b.set||(m[y]=o(l[y],p-1))}if(Object.getOwnPropertySymbols){var w=Object.getOwnPropertySymbols(l);for(y=0;y<w.length;y++){var A=w[y];(!(x=Object.getOwnPropertyDescriptor(l,A))||x.enumerable||u)&&(m[A]=o(l[A],p-1),x.enumerable||Object.defineProperty(m,A,{enumerable:!1}))}}if(u){var _=Object.getOwnPropertyNames(l);for(y=0;y<_.length;y++){var x,S=_[y];(x=Object.getOwnPropertyDescriptor(l,S))&&x.enumerable||(m[S]=o(l[S],p-1),Object.defineProperty(m,S,{enumerable:!1}))}}return m}(o,l)}function o(e){return Object.prototype.toString.call(e)}function s(e){var t="";return e.global&&(t+="g"),e.ignoreCase&&(t+="i"),e.multiline&&(t+="m"),t}return i.clonePrototype=function(e){if(null===e)return null;var t=function(){};return t.prototype=e,new t},i.__objToStr=o,i.__isDate=function(e){return"object"===typeof e&&"[object Date]"===o(e)},i.__isArray=function(e){return"object"===typeof e&&"[object Array]"===o(e)},i.__isRegExp=function(e){return"object"===typeof e&&"[object RegExp]"===o(e)},i.__getRegExpFlags=s,i}();"object"===typeof e&&e.exports&&(e.exports=n)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],r=!0,i=!1,o=void 0;try{for(var s,a=e[Symbol.iterator]();!(r=(s=a.next()).done)&&(n.push(s.value),!t||n.length!==t);r=!0);}catch(l){i=!0,o=l}finally{try{!r&&a.return&&a.return()}finally{if(i)throw o}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")},i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=function e(t,n,r){null===t&&(t=Function.prototype);var i=Object.getOwnPropertyDescriptor(t,n);if(void 0===i){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,n,r)}if("value"in i)return i.value;var s=i.get;return void 0!==s?s.call(r):void 0},s=f(n(0)),a=f(n(8)),l=n(4),c=f(l),u=f(n(16)),d=f(n(13)),h=f(n(25));function f(e){return e&&e.__esModule?e:{default:e}}function p(e){return e instanceof c.default||e instanceof l.BlockEmbed}var m=function(e){function t(e,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return r.emitter=n.emitter,Array.isArray(n.whitelist)&&(r.whitelist=n.whitelist.reduce((function(e,t){return e[t]=!0,e}),{})),r.domNode.addEventListener("DOMNodeInserted",(function(){})),r.optimize(),r.enable(),r}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),i(t,[{key:"batchStart",value:function(){this.batch=!0}},{key:"batchEnd",value:function(){this.batch=!1,this.optimize()}},{key:"deleteAt",value:function(e,n){var i=this.line(e),s=r(i,2),a=s[0],c=s[1],h=this.line(e+n),f=r(h,1)[0];if(o(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"deleteAt",this).call(this,e,n),null!=f&&a!==f&&c>0){if(a instanceof l.BlockEmbed||f instanceof l.BlockEmbed)return void this.optimize();if(a instanceof d.default){var p=a.newlineIndex(a.length(),!0);if(p>-1&&(a=a.split(p+1))===f)return void this.optimize()}else if(f instanceof d.default){var m=f.newlineIndex(0);m>-1&&f.split(m+1)}var g=f.children.head instanceof u.default?null:f.children.head;a.moveChildren(f,g),a.remove()}this.optimize()}},{key:"enable",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.domNode.setAttribute("contenteditable",e)}},{key:"formatAt",value:function(e,n,r,i){(null==this.whitelist||this.whitelist[r])&&(o(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"formatAt",this).call(this,e,n,r,i),this.optimize())}},{key:"insertAt",value:function(e,n,r){if(null==r||null==this.whitelist||this.whitelist[n]){if(e>=this.length())if(null==r||null==s.default.query(n,s.default.Scope.BLOCK)){var i=s.default.create(this.statics.defaultChild);this.appendChild(i),null==r&&n.endsWith("\n")&&(n=n.slice(0,-1)),i.insertAt(0,n,r)}else{var a=s.default.create(n,r);this.appendChild(a)}else o(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"insertAt",this).call(this,e,n,r);this.optimize()}}},{key:"insertBefore",value:function(e,n){if(e.statics.scope===s.default.Scope.INLINE_BLOT){var r=s.default.create(this.statics.defaultChild);r.appendChild(e),e=r}o(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"insertBefore",this).call(this,e,n)}},{key:"leaf",value:function(e){return this.path(e).pop()||[null,-1]}},{key:"line",value:function(e){return e===this.length()?this.line(e-1):this.descendant(p,e)}},{key:"lines",value:function(){return function e(t,n,r){var i=[],o=r;return t.children.forEachAt(n,r,(function(t,n,r){p(t)?i.push(t):t instanceof s.default.Container&&(i=i.concat(e(t,n,o))),o-=r})),i}(this,arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,arguments.length>1&&void 0!==arguments[1]?arguments[1]:Number.MAX_VALUE)}},{key:"optimize",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};!0!==this.batch&&(o(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"optimize",this).call(this,e,n),e.length>0&&this.emitter.emit(a.default.events.SCROLL_OPTIMIZE,e,n))}},{key:"path",value:function(e){return o(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"path",this).call(this,e).slice(1)}},{key:"update",value:function(e){if(!0!==this.batch){var n=a.default.sources.USER;"string"===typeof e&&(n=e),Array.isArray(e)||(e=this.observer.takeRecords()),e.length>0&&this.emitter.emit(a.default.events.SCROLL_BEFORE_UPDATE,n,e),o(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"update",this).call(this,e.concat([])),e.length>0&&this.emitter.emit(a.default.events.SCROLL_UPDATE,n,e)}}}]),t}(s.default.Scroll);m.blotName="scroll",m.className="ql-editor",m.tagName="DIV",m.defaultChild="block",m.allowedChildren=[c.default,l.BlockEmbed,h.default],t.default=m},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SHORTKEY=t.default=void 0;var r="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],r=!0,i=!1,o=void 0;try{for(var s,a=e[Symbol.iterator]();!(r=(s=a.next()).done)&&(n.push(s.value),!t||n.length!==t);r=!0);}catch(l){i=!0,o=l}finally{try{!r&&a.return&&a.return()}finally{if(i)throw o}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")},o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=m(n(21)),a=m(n(11)),l=m(n(3)),c=m(n(2)),u=m(n(20)),d=m(n(0)),h=m(n(5)),f=m(n(10)),p=m(n(9));function m(e){return e&&e.__esModule?e:{default:e}}function g(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var v=(0,f.default)("quill:keyboard"),y=/Mac/i.test(navigator.platform)?"metaKey":"ctrlKey",b=function(e){function t(e,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));return r.bindings={},Object.keys(r.options.bindings).forEach((function(t){("list autofill"!==t||null==e.scroll.whitelist||e.scroll.whitelist.list)&&r.options.bindings[t]&&r.addBinding(r.options.bindings[t])})),r.addBinding({key:t.keys.ENTER,shiftKey:null},S),r.addBinding({key:t.keys.ENTER,metaKey:null,ctrlKey:null,altKey:null},(function(){})),/Firefox/i.test(navigator.userAgent)?(r.addBinding({key:t.keys.BACKSPACE},{collapsed:!0},A),r.addBinding({key:t.keys.DELETE},{collapsed:!0},_)):(r.addBinding({key:t.keys.BACKSPACE},{collapsed:!0,prefix:/^.?$/},A),r.addBinding({key:t.keys.DELETE},{collapsed:!0,suffix:/^.?$/},_)),r.addBinding({key:t.keys.BACKSPACE},{collapsed:!1},x),r.addBinding({key:t.keys.DELETE},{collapsed:!1},x),r.addBinding({key:t.keys.BACKSPACE,altKey:null,ctrlKey:null,metaKey:null,shiftKey:null},{collapsed:!0,offset:0},A),r.listen(),r}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),o(t,null,[{key:"match",value:function(e,t){return t=C(t),!["altKey","ctrlKey","metaKey","shiftKey"].some((function(n){return!!t[n]!==e[n]&&null!==t[n]}))&&t.key===(e.which||e.keyCode)}}]),o(t,[{key:"addBinding",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=C(e);if(null==r||null==r.key)return v.warn("Attempted to add invalid keyboard binding",r);"function"===typeof t&&(t={handler:t}),"function"===typeof n&&(n={handler:n}),r=(0,l.default)(r,t,n),this.bindings[r.key]=this.bindings[r.key]||[],this.bindings[r.key].push(r)}},{key:"listen",value:function(){var e=this;this.quill.root.addEventListener("keydown",(function(n){if(!n.defaultPrevented){var o=n.which||n.keyCode,s=(e.bindings[o]||[]).filter((function(e){return t.match(n,e)}));if(0!==s.length){var l=e.quill.getSelection();if(null!=l&&e.quill.hasFocus()){var c=e.quill.getLine(l.index),u=i(c,2),h=u[0],f=u[1],p=e.quill.getLeaf(l.index),m=i(p,2),g=m[0],v=m[1],y=0===l.length?[g,v]:e.quill.getLeaf(l.index+l.length),b=i(y,2),w=b[0],A=b[1],_=g instanceof d.default.Text?g.value().slice(0,v):"",x=w instanceof d.default.Text?w.value().slice(A):"",S={collapsed:0===l.length,empty:0===l.length&&h.length()<=1,format:e.quill.getFormat(l),offset:f,prefix:_,suffix:x};s.some((function(t){if(null!=t.collapsed&&t.collapsed!==S.collapsed)return!1;if(null!=t.empty&&t.empty!==S.empty)return!1;if(null!=t.offset&&t.offset!==S.offset)return!1;if(Array.isArray(t.format)){if(t.format.every((function(e){return null==S.format[e]})))return!1}else if("object"===r(t.format)&&!Object.keys(t.format).every((function(e){return!0===t.format[e]?null!=S.format[e]:!1===t.format[e]?null==S.format[e]:(0,a.default)(t.format[e],S.format[e])})))return!1;return!(null!=t.prefix&&!t.prefix.test(S.prefix))&&!(null!=t.suffix&&!t.suffix.test(S.suffix))&&!0!==t.handler.call(e,l,S)}))&&n.preventDefault()}}}}))}}]),t}(p.default);function w(e,t){var n,r=e===b.keys.LEFT?"prefix":"suffix";return g(n={key:e,shiftKey:t,altKey:null},r,/^$/),g(n,"handler",(function(n){var r=n.index;e===b.keys.RIGHT&&(r+=n.length+1);var o=this.quill.getLeaf(r);return!(i(o,1)[0]instanceof d.default.Embed)||(e===b.keys.LEFT?t?this.quill.setSelection(n.index-1,n.length+1,h.default.sources.USER):this.quill.setSelection(n.index-1,h.default.sources.USER):t?this.quill.setSelection(n.index,n.length+1,h.default.sources.USER):this.quill.setSelection(n.index+n.length+1,h.default.sources.USER),!1)})),n}function A(e,t){if(!(0===e.index||this.quill.getLength()<=1)){var n=this.quill.getLine(e.index),r=i(n,1)[0],o={};if(0===t.offset){var s=this.quill.getLine(e.index-1),a=i(s,1)[0];if(null!=a&&a.length()>1){var l=r.formats(),c=this.quill.getFormat(e.index-1,1);o=u.default.attributes.diff(l,c)||{}}}var d=/[\uD800-\uDBFF][\uDC00-\uDFFF]$/.test(t.prefix)?2:1;this.quill.deleteText(e.index-d,d,h.default.sources.USER),Object.keys(o).length>0&&this.quill.formatLine(e.index-d,d,o,h.default.sources.USER),this.quill.focus()}}function _(e,t){var n=/^[\uD800-\uDBFF][\uDC00-\uDFFF]/.test(t.suffix)?2:1;if(!(e.index>=this.quill.getLength()-n)){var r={},o=0,s=this.quill.getLine(e.index),a=i(s,1)[0];if(t.offset>=a.length()-1){var l=this.quill.getLine(e.index+1),c=i(l,1)[0];if(c){var d=a.formats(),f=this.quill.getFormat(e.index,1);r=u.default.attributes.diff(d,f)||{},o=c.length()}}this.quill.deleteText(e.index,n,h.default.sources.USER),Object.keys(r).length>0&&this.quill.formatLine(e.index+o-1,n,r,h.default.sources.USER)}}function x(e){var t=this.quill.getLines(e),n={};if(t.length>1){var r=t[0].formats(),i=t[t.length-1].formats();n=u.default.attributes.diff(i,r)||{}}this.quill.deleteText(e,h.default.sources.USER),Object.keys(n).length>0&&this.quill.formatLine(e.index,1,n,h.default.sources.USER),this.quill.setSelection(e.index,h.default.sources.SILENT),this.quill.focus()}function S(e,t){var n=this;e.length>0&&this.quill.scroll.deleteAt(e.index,e.length);var r=Object.keys(t.format).reduce((function(e,n){return d.default.query(n,d.default.Scope.BLOCK)&&!Array.isArray(t.format[n])&&(e[n]=t.format[n]),e}),{});this.quill.insertText(e.index,"\n",r,h.default.sources.USER),this.quill.setSelection(e.index+1,h.default.sources.SILENT),this.quill.focus(),Object.keys(t.format).forEach((function(e){null==r[e]&&(Array.isArray(t.format[e])||"link"!==e&&n.quill.format(e,t.format[e],h.default.sources.USER))}))}function k(e){return{key:b.keys.TAB,shiftKey:!e,format:{"code-block":!0},handler:function(t){var n=d.default.query("code-block"),r=t.index,o=t.length,s=this.quill.scroll.descendant(n,r),a=i(s,2),l=a[0],c=a[1];if(null!=l){var u=this.quill.getIndex(l),f=l.newlineIndex(c,!0)+1,p=l.newlineIndex(u+c+o),m=l.domNode.textContent.slice(f,p).split("\n");c=0,m.forEach((function(t,i){e?(l.insertAt(f+c,n.TAB),c+=n.TAB.length,0===i?r+=n.TAB.length:o+=n.TAB.length):t.startsWith(n.TAB)&&(l.deleteAt(f+c,n.TAB.length),c-=n.TAB.length,0===i?r-=n.TAB.length:o-=n.TAB.length),c+=t.length+1})),this.quill.update(h.default.sources.USER),this.quill.setSelection(r,o,h.default.sources.SILENT)}}}}function E(e){return{key:e[0].toUpperCase(),shortKey:!0,handler:function(t,n){this.quill.format(e,!n.format[e],h.default.sources.USER)}}}function C(e){if("string"===typeof e||"number"===typeof e)return C({key:e});if("object"===("undefined"===typeof e?"undefined":r(e))&&(e=(0,s.default)(e,!1)),"string"===typeof e.key)if(null!=b.keys[e.key.toUpperCase()])e.key=b.keys[e.key.toUpperCase()];else{if(1!==e.key.length)return null;e.key=e.key.toUpperCase().charCodeAt(0)}return e.shortKey&&(e[y]=e.shortKey,delete e.shortKey),e}b.keys={BACKSPACE:8,TAB:9,ENTER:13,ESCAPE:27,LEFT:37,UP:38,RIGHT:39,DOWN:40,DELETE:46},b.DEFAULTS={bindings:{bold:E("bold"),italic:E("italic"),underline:E("underline"),indent:{key:b.keys.TAB,format:["blockquote","indent","list"],handler:function(e,t){if(t.collapsed&&0!==t.offset)return!0;this.quill.format("indent","+1",h.default.sources.USER)}},outdent:{key:b.keys.TAB,shiftKey:!0,format:["blockquote","indent","list"],handler:function(e,t){if(t.collapsed&&0!==t.offset)return!0;this.quill.format("indent","-1",h.default.sources.USER)}},"outdent backspace":{key:b.keys.BACKSPACE,collapsed:!0,shiftKey:null,metaKey:null,ctrlKey:null,altKey:null,format:["indent","list"],offset:0,handler:function(e,t){null!=t.format.indent?this.quill.format("indent","-1",h.default.sources.USER):null!=t.format.list&&this.quill.format("list",!1,h.default.sources.USER)}},"indent code-block":k(!0),"outdent code-block":k(!1),"remove tab":{key:b.keys.TAB,shiftKey:!0,collapsed:!0,prefix:/\t$/,handler:function(e){this.quill.deleteText(e.index-1,1,h.default.sources.USER)}},tab:{key:b.keys.TAB,handler:function(e){this.quill.history.cutoff();var t=(new c.default).retain(e.index).delete(e.length).insert("\t");this.quill.updateContents(t,h.default.sources.USER),this.quill.history.cutoff(),this.quill.setSelection(e.index+1,h.default.sources.SILENT)}},"list empty enter":{key:b.keys.ENTER,collapsed:!0,format:["list"],empty:!0,handler:function(e,t){this.quill.format("list",!1,h.default.sources.USER),t.format.indent&&this.quill.format("indent",!1,h.default.sources.USER)}},"checklist enter":{key:b.keys.ENTER,collapsed:!0,format:{list:"checked"},handler:function(e){var t=this.quill.getLine(e.index),n=i(t,2),r=n[0],o=n[1],s=(0,l.default)({},r.formats(),{list:"checked"}),a=(new c.default).retain(e.index).insert("\n",s).retain(r.length()-o-1).retain(1,{list:"unchecked"});this.quill.updateContents(a,h.default.sources.USER),this.quill.setSelection(e.index+1,h.default.sources.SILENT),this.quill.scrollIntoView()}},"header enter":{key:b.keys.ENTER,collapsed:!0,format:["header"],suffix:/^$/,handler:function(e,t){var n=this.quill.getLine(e.index),r=i(n,2),o=r[0],s=r[1],a=(new c.default).retain(e.index).insert("\n",t.format).retain(o.length()-s-1).retain(1,{header:null});this.quill.updateContents(a,h.default.sources.USER),this.quill.setSelection(e.index+1,h.default.sources.SILENT),this.quill.scrollIntoView()}},"list autofill":{key:" ",collapsed:!0,format:{list:!1},prefix:/^\s*?(\d+\.|-|\*|\[ ?\]|\[x\])$/,handler:function(e,t){var n=t.prefix.length,r=this.quill.getLine(e.index),o=i(r,2),s=o[0],a=o[1];if(a>n)return!0;var l=void 0;switch(t.prefix.trim()){case"[]":case"[ ]":l="unchecked";break;case"[x]":l="checked";break;case"-":case"*":l="bullet";break;default:l="ordered"}this.quill.insertText(e.index," ",h.default.sources.USER),this.quill.history.cutoff();var u=(new c.default).retain(e.index-a).delete(n+1).retain(s.length()-2-a).retain(1,{list:l});this.quill.updateContents(u,h.default.sources.USER),this.quill.history.cutoff(),this.quill.setSelection(e.index-n,h.default.sources.SILENT)}},"code exit":{key:b.keys.ENTER,collapsed:!0,format:["code-block"],prefix:/\n\n$/,suffix:/^\s+$/,handler:function(e){var t=this.quill.getLine(e.index),n=i(t,2),r=n[0],o=n[1],s=(new c.default).retain(e.index+r.length()-o-2).retain(1,{"code-block":null}).delete(1);this.quill.updateContents(s,h.default.sources.USER)}},"embed left":w(b.keys.LEFT,!1),"embed left shift":w(b.keys.LEFT,!0),"embed right":w(b.keys.RIGHT,!1),"embed right shift":w(b.keys.RIGHT,!0)}},t.default=b,t.SHORTKEY=y},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],r=!0,i=!1,o=void 0;try{for(var s,a=e[Symbol.iterator]();!(r=(s=a.next()).done)&&(n.push(s.value),!t||n.length!==t);r=!0);}catch(l){i=!0,o=l}finally{try{!r&&a.return&&a.return()}finally{if(i)throw o}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")},i=function e(t,n,r){null===t&&(t=Function.prototype);var i=Object.getOwnPropertyDescriptor(t,n);if(void 0===i){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,n,r)}if("value"in i)return i.value;var s=i.get;return void 0!==s?s.call(r):void 0},o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=l(n(0)),a=l(n(7));function l(e){return e&&e.__esModule?e:{default:e}}var c=function(e){function t(e,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return r.selection=n,r.textNode=document.createTextNode(t.CONTENTS),r.domNode.appendChild(r.textNode),r._length=0,r}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),o(t,null,[{key:"value",value:function(){}}]),o(t,[{key:"detach",value:function(){null!=this.parent&&this.parent.removeChild(this)}},{key:"format",value:function(e,n){if(0!==this._length)return i(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"format",this).call(this,e,n);for(var r=this,o=0;null!=r&&r.statics.scope!==s.default.Scope.BLOCK_BLOT;)o+=r.offset(r.parent),r=r.parent;null!=r&&(this._length=t.CONTENTS.length,r.optimize(),r.formatAt(o,t.CONTENTS.length,e,n),this._length=0)}},{key:"index",value:function(e,n){return e===this.textNode?0:i(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"index",this).call(this,e,n)}},{key:"length",value:function(){return this._length}},{key:"position",value:function(){return[this.textNode,this.textNode.data.length]}},{key:"remove",value:function(){i(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"remove",this).call(this),this.parent=null}},{key:"restore",value:function(){if(!this.selection.composing&&null!=this.parent){var e=this.textNode,n=this.selection.getNativeRange(),i=void 0,o=void 0,l=void 0;if(null!=n&&n.start.node===e&&n.end.node===e){var c=[e,n.start.offset,n.end.offset];i=c[0],o=c[1],l=c[2]}for(;null!=this.domNode.lastChild&&this.domNode.lastChild!==this.textNode;)this.domNode.parentNode.insertBefore(this.domNode.lastChild,this.domNode);if(this.textNode.data!==t.CONTENTS){var u=this.textNode.data.split(t.CONTENTS).join("");this.next instanceof a.default?(i=this.next.domNode,this.next.insertAt(0,u),this.textNode.data=t.CONTENTS):(this.textNode.data=u,this.parent.insertBefore(s.default.create(this.textNode),this),this.textNode=document.createTextNode(t.CONTENTS),this.domNode.appendChild(this.textNode))}if(this.remove(),null!=o){var d=[o,l].map((function(e){return Math.max(0,Math.min(i.data.length,e-1))})),h=r(d,2);return o=h[0],l=h[1],{startNode:i,startOffset:o,endNode:i,endOffset:l}}}}},{key:"update",value:function(e,t){var n=this;if(e.some((function(e){return"characterData"===e.type&&e.target===n.textNode}))){var r=this.restore();r&&(t.range=r)}}},{key:"value",value:function(){return""}}]),t}(s.default.Embed);c.blotName="cursor",c.className="ql-cursor",c.tagName="span",c.CONTENTS="\ufeff",t.default=c},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=s(n(0)),i=n(4),o=s(i);function s(e){return e&&e.__esModule?e:{default:e}}var a=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t}(r.default.Container);a.allowedChildren=[o.default,i.BlockEmbed,a],t.default=a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ColorStyle=t.ColorClass=t.ColorAttributor=void 0;var r,i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=function e(t,n,r){null===t&&(t=Function.prototype);var i=Object.getOwnPropertyDescriptor(t,n);if(void 0===i){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,n,r)}if("value"in i)return i.value;var s=i.get;return void 0!==s?s.call(r):void 0},s=n(0),a=(r=s)&&r.__esModule?r:{default:r},l=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),i(t,[{key:"value",value:function(e){var n=o(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"value",this).call(this,e);return n.startsWith("rgb(")?(n=n.replace(/^[^\d]+/,"").replace(/[^\d]+$/,""),"#"+n.split(",").map((function(e){return("00"+parseInt(e).toString(16)).slice(-2)})).join("")):n}}]),t}(a.default.Attributor.Style),c=new a.default.Attributor.Class("color","ql-color",{scope:a.default.Scope.INLINE}),u=new l("color","color",{scope:a.default.Scope.INLINE});t.ColorAttributor=l,t.ColorClass=c,t.ColorStyle=u},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.sanitize=t.default=void 0;var r,i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=function e(t,n,r){null===t&&(t=Function.prototype);var i=Object.getOwnPropertyDescriptor(t,n);if(void 0===i){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,n,r)}if("value"in i)return i.value;var s=i.get;return void 0!==s?s.call(r):void 0},s=n(6),a=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),i(t,[{key:"format",value:function(e,n){if(e!==this.statics.blotName||!n)return o(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"format",this).call(this,e,n);n=this.constructor.sanitize(n),this.domNode.setAttribute("href",n)}}],[{key:"create",value:function(e){var n=o(t.__proto__||Object.getPrototypeOf(t),"create",this).call(this,e);return e=this.sanitize(e),n.setAttribute("href",e),n.setAttribute("rel","noopener noreferrer"),n.setAttribute("target","_blank"),n}},{key:"formats",value:function(e){return e.getAttribute("href")}},{key:"sanitize",value:function(e){return l(e,this.PROTOCOL_WHITELIST)?e:this.SANITIZED_URL}}]),t}(((r=s)&&r.__esModule?r:{default:r}).default);function l(e,t){var n=document.createElement("a");n.href=e;var r=n.href.slice(0,n.href.indexOf(":"));return t.indexOf(r)>-1}a.blotName="link",a.tagName="A",a.SANITIZED_URL="about:blank",a.PROTOCOL_WHITELIST=["http","https","mailto","tel"],t.default=a,t.sanitize=l},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=a(n(23)),s=a(n(107));function a(e){return e&&e.__esModule?e:{default:e}}var l=0;function c(e,t){e.setAttribute(t,!("true"===e.getAttribute(t)))}var u=function(){function e(t){var n=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.select=t,this.container=document.createElement("span"),this.buildPicker(),this.select.style.display="none",this.select.parentNode.insertBefore(this.container,this.select),this.label.addEventListener("mousedown",(function(){n.togglePicker()})),this.label.addEventListener("keydown",(function(e){switch(e.keyCode){case o.default.keys.ENTER:n.togglePicker();break;case o.default.keys.ESCAPE:n.escape(),e.preventDefault()}})),this.select.addEventListener("change",this.update.bind(this))}return i(e,[{key:"togglePicker",value:function(){this.container.classList.toggle("ql-expanded"),c(this.label,"aria-expanded"),c(this.options,"aria-hidden")}},{key:"buildItem",value:function(e){var t=this,n=document.createElement("span");return n.tabIndex="0",n.setAttribute("role","button"),n.classList.add("ql-picker-item"),e.hasAttribute("value")&&n.setAttribute("data-value",e.getAttribute("value")),e.textContent&&n.setAttribute("data-label",e.textContent),n.addEventListener("click",(function(){t.selectItem(n,!0)})),n.addEventListener("keydown",(function(e){switch(e.keyCode){case o.default.keys.ENTER:t.selectItem(n,!0),e.preventDefault();break;case o.default.keys.ESCAPE:t.escape(),e.preventDefault()}})),n}},{key:"buildLabel",value:function(){var e=document.createElement("span");return e.classList.add("ql-picker-label"),e.innerHTML=s.default,e.tabIndex="0",e.setAttribute("role","button"),e.setAttribute("aria-expanded","false"),this.container.appendChild(e),e}},{key:"buildOptions",value:function(){var e=this,t=document.createElement("span");t.classList.add("ql-picker-options"),t.setAttribute("aria-hidden","true"),t.tabIndex="-1",t.id="ql-picker-options-"+l,l+=1,this.label.setAttribute("aria-controls",t.id),this.options=t,[].slice.call(this.select.options).forEach((function(n){var r=e.buildItem(n);t.appendChild(r),!0===n.selected&&e.selectItem(r)})),this.container.appendChild(t)}},{key:"buildPicker",value:function(){var e=this;[].slice.call(this.select.attributes).forEach((function(t){e.container.setAttribute(t.name,t.value)})),this.container.classList.add("ql-picker"),this.label=this.buildLabel(),this.buildOptions()}},{key:"escape",value:function(){var e=this;this.close(),setTimeout((function(){return e.label.focus()}),1)}},{key:"close",value:function(){this.container.classList.remove("ql-expanded"),this.label.setAttribute("aria-expanded","false"),this.options.setAttribute("aria-hidden","true")}},{key:"selectItem",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=this.container.querySelector(".ql-selected");if(e!==n&&(null!=n&&n.classList.remove("ql-selected"),null!=e&&(e.classList.add("ql-selected"),this.select.selectedIndex=[].indexOf.call(e.parentNode.children,e),e.hasAttribute("data-value")?this.label.setAttribute("data-value",e.getAttribute("data-value")):this.label.removeAttribute("data-value"),e.hasAttribute("data-label")?this.label.setAttribute("data-label",e.getAttribute("data-label")):this.label.removeAttribute("data-label"),t))){if("function"===typeof Event)this.select.dispatchEvent(new Event("change"));else if("object"===("undefined"===typeof Event?"undefined":r(Event))){var i=document.createEvent("Event");i.initEvent("change",!0,!0),this.select.dispatchEvent(i)}this.close()}}},{key:"update",value:function(){var e=void 0;if(this.select.selectedIndex>-1){var t=this.container.querySelector(".ql-picker-options").children[this.select.selectedIndex];e=this.select.options[this.select.selectedIndex],this.selectItem(t)}else this.selectItem(null);var n=null!=e&&e!==this.select.querySelector("option[selected]");this.label.classList.toggle("ql-active",n)}}]),e}();t.default=u},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=v(n(0)),i=v(n(5)),o=n(4),s=v(o),a=v(n(16)),l=v(n(25)),c=v(n(24)),u=v(n(35)),d=v(n(6)),h=v(n(22)),f=v(n(7)),p=v(n(55)),m=v(n(42)),g=v(n(23));function v(e){return e&&e.__esModule?e:{default:e}}i.default.register({"blots/block":s.default,"blots/block/embed":o.BlockEmbed,"blots/break":a.default,"blots/container":l.default,"blots/cursor":c.default,"blots/embed":u.default,"blots/inline":d.default,"blots/scroll":h.default,"blots/text":f.default,"modules/clipboard":p.default,"modules/history":m.default,"modules/keyboard":g.default}),r.default.register(s.default,a.default,c.default,d.default,h.default,f.default),t.default=i.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(1),i=function(){function e(e){this.domNode=e,this.domNode[r.DATA_KEY]={blot:this}}return Object.defineProperty(e.prototype,"statics",{get:function(){return this.constructor},enumerable:!0,configurable:!0}),e.create=function(e){if(null==this.tagName)throw new r.ParchmentError("Blot definition missing tagName");var t;return Array.isArray(this.tagName)?("string"===typeof e&&(e=e.toUpperCase(),parseInt(e).toString()===e&&(e=parseInt(e))),t="number"===typeof e?document.createElement(this.tagName[e-1]):this.tagName.indexOf(e)>-1?document.createElement(e):document.createElement(this.tagName[0])):t=document.createElement(this.tagName),this.className&&t.classList.add(this.className),t},e.prototype.attach=function(){null!=this.parent&&(this.scroll=this.parent.scroll)},e.prototype.clone=function(){var e=this.domNode.cloneNode(!1);return r.create(e)},e.prototype.detach=function(){null!=this.parent&&this.parent.removeChild(this),delete this.domNode[r.DATA_KEY]},e.prototype.deleteAt=function(e,t){this.isolate(e,t).remove()},e.prototype.formatAt=function(e,t,n,i){var o=this.isolate(e,t);if(null!=r.query(n,r.Scope.BLOT)&&i)o.wrap(n,i);else if(null!=r.query(n,r.Scope.ATTRIBUTE)){var s=r.create(this.statics.scope);o.wrap(s),s.format(n,i)}},e.prototype.insertAt=function(e,t,n){var i=null==n?r.create("text",t):r.create(t,n),o=this.split(e);this.parent.insertBefore(i,o)},e.prototype.insertInto=function(e,t){void 0===t&&(t=null),null!=this.parent&&this.parent.children.remove(this);var n=null;e.children.insertBefore(this,t),null!=t&&(n=t.domNode),this.domNode.parentNode==e.domNode&&this.domNode.nextSibling==n||e.domNode.insertBefore(this.domNode,n),this.parent=e,this.attach()},e.prototype.isolate=function(e,t){var n=this.split(e);return n.split(t),n},e.prototype.length=function(){return 1},e.prototype.offset=function(e){return void 0===e&&(e=this.parent),null==this.parent||this==e?0:this.parent.children.offset(this)+this.parent.offset(e)},e.prototype.optimize=function(e){null!=this.domNode[r.DATA_KEY]&&delete this.domNode[r.DATA_KEY].mutations},e.prototype.remove=function(){null!=this.domNode.parentNode&&this.domNode.parentNode.removeChild(this.domNode),this.detach()},e.prototype.replace=function(e){null!=e.parent&&(e.parent.insertBefore(this,e.next),e.remove())},e.prototype.replaceWith=function(e,t){var n="string"===typeof e?r.create(e,t):e;return n.replace(this),n},e.prototype.split=function(e,t){return 0===e?this:this.next},e.prototype.update=function(e,t){},e.prototype.wrap=function(e,t){var n="string"===typeof e?r.create(e,t):e;return null!=this.parent&&this.parent.insertBefore(n,this.next),n.appendChild(this),n},e.blotName="abstract",e}();t.default=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(12),i=n(32),o=n(33),s=n(1),a=function(){function e(e){this.attributes={},this.domNode=e,this.build()}return e.prototype.attribute=function(e,t){t?e.add(this.domNode,t)&&(null!=e.value(this.domNode)?this.attributes[e.attrName]=e:delete this.attributes[e.attrName]):(e.remove(this.domNode),delete this.attributes[e.attrName])},e.prototype.build=function(){var e=this;this.attributes={};var t=r.default.keys(this.domNode),n=i.default.keys(this.domNode),a=o.default.keys(this.domNode);t.concat(n).concat(a).forEach((function(t){var n=s.query(t,s.Scope.ATTRIBUTE);n instanceof r.default&&(e.attributes[n.attrName]=n)}))},e.prototype.copy=function(e){var t=this;Object.keys(this.attributes).forEach((function(n){var r=t.attributes[n].value(t.domNode);e.format(n,r)}))},e.prototype.move=function(e){var t=this;this.copy(e),Object.keys(this.attributes).forEach((function(e){t.attributes[e].remove(t.domNode)})),this.attributes={}},e.prototype.values=function(){var e=this;return Object.keys(this.attributes).reduce((function(t,n){return t[n]=e.attributes[n].value(e.domNode),t}),{})},e}();t.default=a},function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();function i(e,t){return(e.getAttribute("class")||"").split(/\s+/).filter((function(e){return 0===e.indexOf(t+"-")}))}Object.defineProperty(t,"__esModule",{value:!0});var o=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),t.keys=function(e){return(e.getAttribute("class")||"").split(/\s+/).map((function(e){return e.split("-").slice(0,-1).join("-")}))},t.prototype.add=function(e,t){return!!this.canAdd(e,t)&&(this.remove(e),e.classList.add(this.keyName+"-"+t),!0)},t.prototype.remove=function(e){i(e,this.keyName).forEach((function(t){e.classList.remove(t)})),0===e.classList.length&&e.removeAttribute("class")},t.prototype.value=function(e){var t=(i(e,this.keyName)[0]||"").slice(this.keyName.length+1);return this.canAdd(e,t)?t:""},t}(n(12).default);t.default=o},function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();function i(e){var t=e.split("-"),n=t.slice(1).map((function(e){return e[0].toUpperCase()+e.slice(1)})).join("");return t[0]+n}Object.defineProperty(t,"__esModule",{value:!0});var o=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),t.keys=function(e){return(e.getAttribute("style")||"").split(";").map((function(e){return e.split(":")[0].trim()}))},t.prototype.add=function(e,t){return!!this.canAdd(e,t)&&(e.style[i(this.keyName)]=t,!0)},t.prototype.remove=function(e){e.style[i(this.keyName)]="",e.getAttribute("style")||e.removeAttribute("style")},t.prototype.value=function(e){var t=e.style[i(this.keyName)];return this.canAdd(e,t)?t:""},t}(n(12).default);t.default=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=function(){function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.quill=t,this.options=n,this.modules={}}return r(e,[{key:"init",value:function(){var e=this;Object.keys(this.options.modules).forEach((function(t){null==e.modules[t]&&e.addModule(t)}))}},{key:"addModule",value:function(e){var t=this.quill.constructor.import("modules/"+e);return this.modules[e]=new t(this.quill,this.options.modules[e]||{}),this.modules[e]}}]),e}();i.DEFAULTS={modules:{}},i.themes={default:i},t.default=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=function e(t,n,r){null===t&&(t=Function.prototype);var i=Object.getOwnPropertyDescriptor(t,n);if(void 0===i){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,n,r)}if("value"in i)return i.value;var s=i.get;return void 0!==s?s.call(r):void 0},o=a(n(0)),s=a(n(7));function a(e){return e&&e.__esModule?e:{default:e}}var l="\ufeff",c=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.contentNode=document.createElement("span"),n.contentNode.setAttribute("contenteditable",!1),[].slice.call(n.domNode.childNodes).forEach((function(e){n.contentNode.appendChild(e)})),n.leftGuard=document.createTextNode(l),n.rightGuard=document.createTextNode(l),n.domNode.appendChild(n.leftGuard),n.domNode.appendChild(n.contentNode),n.domNode.appendChild(n.rightGuard),n}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),r(t,[{key:"index",value:function(e,n){return e===this.leftGuard?0:e===this.rightGuard?1:i(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"index",this).call(this,e,n)}},{key:"restore",value:function(e){var t=void 0,n=void 0,r=e.data.split(l).join("");if(e===this.leftGuard)if(this.prev instanceof s.default){var i=this.prev.length();this.prev.insertAt(i,r),t={startNode:this.prev.domNode,startOffset:i+r.length}}else n=document.createTextNode(r),this.parent.insertBefore(o.default.create(n),this),t={startNode:n,startOffset:r.length};else e===this.rightGuard&&(this.next instanceof s.default?(this.next.insertAt(0,r),t={startNode:this.next.domNode,startOffset:r.length}):(n=document.createTextNode(r),this.parent.insertBefore(o.default.create(n),this.next),t={startNode:n,startOffset:r.length}));return e.data=l,t}},{key:"update",value:function(e,t){var n=this;e.forEach((function(e){if("characterData"===e.type&&(e.target===n.leftGuard||e.target===n.rightGuard)){var r=n.restore(e.target);r&&(t.range=r)}}))}}]),t}(o.default.Embed);t.default=c},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.AlignStyle=t.AlignClass=t.AlignAttribute=void 0;var r,i=n(0),o=(r=i)&&r.__esModule?r:{default:r},s={scope:o.default.Scope.BLOCK,whitelist:["right","center","justify"]},a=new o.default.Attributor.Attribute("align","align",s),l=new o.default.Attributor.Class("align","ql-align",s),c=new o.default.Attributor.Style("align","text-align",s);t.AlignAttribute=a,t.AlignClass=l,t.AlignStyle=c},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.BackgroundStyle=t.BackgroundClass=void 0;var r,i=n(0),o=(r=i)&&r.__esModule?r:{default:r},s=n(26),a=new o.default.Attributor.Class("background","ql-bg",{scope:o.default.Scope.INLINE}),l=new s.ColorAttributor("background","background-color",{scope:o.default.Scope.INLINE});t.BackgroundClass=a,t.BackgroundStyle=l},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DirectionStyle=t.DirectionClass=t.DirectionAttribute=void 0;var r,i=n(0),o=(r=i)&&r.__esModule?r:{default:r},s={scope:o.default.Scope.BLOCK,whitelist:["rtl"]},a=new o.default.Attributor.Attribute("direction","dir",s),l=new o.default.Attributor.Class("direction","ql-direction",s),c=new o.default.Attributor.Style("direction","direction",s);t.DirectionAttribute=a,t.DirectionClass=l,t.DirectionStyle=c},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.FontClass=t.FontStyle=void 0;var r,i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=function e(t,n,r){null===t&&(t=Function.prototype);var i=Object.getOwnPropertyDescriptor(t,n);if(void 0===i){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,n,r)}if("value"in i)return i.value;var s=i.get;return void 0!==s?s.call(r):void 0},s=n(0),a=(r=s)&&r.__esModule?r:{default:r},l={scope:a.default.Scope.INLINE,whitelist:["serif","monospace"]},c=new a.default.Attributor.Class("font","ql-font",l),u=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),i(t,[{key:"value",value:function(e){return o(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"value",this).call(this,e).replace(/["']/g,"")}}]),t}(a.default.Attributor.Style),d=new u("font","font-family",l);t.FontStyle=d,t.FontClass=c},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SizeStyle=t.SizeClass=void 0;var r,i=n(0),o=(r=i)&&r.__esModule?r:{default:r},s=new o.default.Attributor.Class("size","ql-size",{scope:o.default.Scope.INLINE,whitelist:["small","large","huge"]}),a=new o.default.Attributor.Style("size","font-size",{scope:o.default.Scope.INLINE,whitelist:["10px","18px","32px"]});t.SizeClass=s,t.SizeStyle=a},function(e,t,n){"use strict";e.exports={align:{"":n(76),center:n(77),right:n(78),justify:n(79)},background:n(80),blockquote:n(81),bold:n(82),clean:n(83),code:n(58),"code-block":n(58),color:n(84),direction:{"":n(85),rtl:n(86)},float:{center:n(87),full:n(88),left:n(89),right:n(90)},formula:n(91),header:{1:n(92),2:n(93)},italic:n(94),image:n(95),indent:{"+1":n(96),"-1":n(97)},link:n(98),list:{ordered:n(99),bullet:n(100),check:n(101)},script:{sub:n(102),super:n(103)},strike:n(104),underline:n(105),video:n(106)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getLastChangeIndex=t.default=void 0;var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=s(n(0)),o=s(n(5));function s(e){return e&&e.__esModule?e:{default:e}}var a=function(e){function t(e,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));return r.lastRecorded=0,r.ignoreChange=!1,r.clear(),r.quill.on(o.default.events.EDITOR_CHANGE,(function(e,t,n,i){e!==o.default.events.TEXT_CHANGE||r.ignoreChange||(r.options.userOnly&&i!==o.default.sources.USER?r.transform(t):r.record(t,n))})),r.quill.keyboard.addBinding({key:"Z",shortKey:!0},r.undo.bind(r)),r.quill.keyboard.addBinding({key:"Z",shortKey:!0,shiftKey:!0},r.redo.bind(r)),/Win/i.test(navigator.platform)&&r.quill.keyboard.addBinding({key:"Y",shortKey:!0},r.redo.bind(r)),r}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),r(t,[{key:"change",value:function(e,t){if(0!==this.stack[e].length){var n=this.stack[e].pop();this.stack[t].push(n),this.lastRecorded=0,this.ignoreChange=!0,this.quill.updateContents(n[e],o.default.sources.USER),this.ignoreChange=!1;var r=l(n[e]);this.quill.setSelection(r)}}},{key:"clear",value:function(){this.stack={undo:[],redo:[]}}},{key:"cutoff",value:function(){this.lastRecorded=0}},{key:"record",value:function(e,t){if(0!==e.ops.length){this.stack.redo=[];var n=this.quill.getContents().diff(t),r=Date.now();if(this.lastRecorded+this.options.delay>r&&this.stack.undo.length>0){var i=this.stack.undo.pop();n=n.compose(i.undo),e=i.redo.compose(e)}else this.lastRecorded=r;this.stack.undo.push({redo:e,undo:n}),this.stack.undo.length>this.options.maxStack&&this.stack.undo.shift()}}},{key:"redo",value:function(){this.change("redo","undo")}},{key:"transform",value:function(e){this.stack.undo.forEach((function(t){t.undo=e.transform(t.undo,!0),t.redo=e.transform(t.redo,!0)})),this.stack.redo.forEach((function(t){t.undo=e.transform(t.undo,!0),t.redo=e.transform(t.redo,!0)}))}},{key:"undo",value:function(){this.change("undo","redo")}}]),t}(s(n(9)).default);function l(e){var t=e.reduce((function(e,t){return e+=t.delete||0}),0),n=e.length()-t;return function(e){var t=e.ops[e.ops.length-1];return null!=t&&(null!=t.insert?"string"===typeof t.insert&&t.insert.endsWith("\n"):null!=t.attributes&&Object.keys(t.attributes).some((function(e){return null!=i.default.query(e,i.default.Scope.BLOCK)})))}(e)&&(n-=1),n}a.DEFAULTS={delay:1e3,maxStack:100,userOnly:!1},t.default=a,t.getLastChangeIndex=l},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.BaseTooltip=void 0;var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=function e(t,n,r){null===t&&(t=Function.prototype);var i=Object.getOwnPropertyDescriptor(t,n);if(void 0===i){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,n,r)}if("value"in i)return i.value;var s=i.get;return void 0!==s?s.call(r):void 0},o=p(n(3)),s=p(n(2)),a=p(n(8)),l=p(n(23)),c=p(n(34)),u=p(n(59)),d=p(n(60)),h=p(n(28)),f=p(n(61));function p(e){return e&&e.__esModule?e:{default:e}}function m(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function g(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function v(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var y=[!1,"center","right","justify"],b=["#000000","#e60000","#ff9900","#ffff00","#008a00","#0066cc","#9933ff","#ffffff","#facccc","#ffebcc","#ffffcc","#cce8cc","#cce0f5","#ebd6ff","#bbbbbb","#f06666","#ffc266","#ffff66","#66b966","#66a3e0","#c285ff","#888888","#a10000","#b26b00","#b2b200","#006100","#0047b2","#6b24b2","#444444","#5c0000","#663d00","#666600","#003700","#002966","#3d1466"],w=[!1,"serif","monospace"],A=["1","2","3",!1],_=["small",!1,"large","huge"],x=function(e){function t(e,n){m(this,t);var r=g(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));return e.emitter.listenDOM("click",document.body,(function t(n){if(!document.body.contains(e.root))return document.body.removeEventListener("click",t);null==r.tooltip||r.tooltip.root.contains(n.target)||document.activeElement===r.tooltip.textbox||r.quill.hasFocus()||r.tooltip.hide(),null!=r.pickers&&r.pickers.forEach((function(e){e.container.contains(n.target)||e.close()}))})),r}return v(t,e),r(t,[{key:"addModule",value:function(e){var n=i(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"addModule",this).call(this,e);return"toolbar"===e&&this.extendToolbar(n),n}},{key:"buildButtons",value:function(e,t){e.forEach((function(e){(e.getAttribute("class")||"").split(/\s+/).forEach((function(n){if(n.startsWith("ql-")&&(n=n.slice(3),null!=t[n]))if("direction"===n)e.innerHTML=t[n][""]+t[n].rtl;else if("string"===typeof t[n])e.innerHTML=t[n];else{var r=e.value||"";null!=r&&t[n][r]&&(e.innerHTML=t[n][r])}}))}))}},{key:"buildPickers",value:function(e,t){var n=this;this.pickers=e.map((function(e){if(e.classList.contains("ql-align"))return null==e.querySelector("option")&&k(e,y),new d.default(e,t.align);if(e.classList.contains("ql-background")||e.classList.contains("ql-color")){var n=e.classList.contains("ql-background")?"background":"color";return null==e.querySelector("option")&&k(e,b,"background"===n?"#ffffff":"#000000"),new u.default(e,t[n])}return null==e.querySelector("option")&&(e.classList.contains("ql-font")?k(e,w):e.classList.contains("ql-header")?k(e,A):e.classList.contains("ql-size")&&k(e,_)),new h.default(e)})),this.quill.on(a.default.events.EDITOR_CHANGE,(function(){n.pickers.forEach((function(e){e.update()}))}))}}]),t}(c.default);x.DEFAULTS=(0,o.default)(!0,{},c.default.DEFAULTS,{modules:{toolbar:{handlers:{formula:function(){this.quill.theme.tooltip.edit("formula")},image:function(){var e=this,t=this.container.querySelector("input.ql-image[type=file]");null==t&&((t=document.createElement("input")).setAttribute("type","file"),t.setAttribute("accept","image/png, image/gif, image/jpeg, image/bmp, image/x-icon"),t.classList.add("ql-image"),t.addEventListener("change",(function(){if(null!=t.files&&null!=t.files[0]){var n=new FileReader;n.onload=function(n){var r=e.quill.getSelection(!0);e.quill.updateContents((new s.default).retain(r.index).delete(r.length).insert({image:n.target.result}),a.default.sources.USER),e.quill.setSelection(r.index+1,a.default.sources.SILENT),t.value=""},n.readAsDataURL(t.files[0])}})),this.container.appendChild(t)),t.click()},video:function(){this.quill.theme.tooltip.edit("video")}}}}});var S=function(e){function t(e,n){m(this,t);var r=g(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));return r.textbox=r.root.querySelector('input[type="text"]'),r.listen(),r}return v(t,e),r(t,[{key:"listen",value:function(){var e=this;this.textbox.addEventListener("keydown",(function(t){l.default.match(t,"enter")?(e.save(),t.preventDefault()):l.default.match(t,"escape")&&(e.cancel(),t.preventDefault())}))}},{key:"cancel",value:function(){this.hide()}},{key:"edit",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"link",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;this.root.classList.remove("ql-hidden"),this.root.classList.add("ql-editing"),null!=t?this.textbox.value=t:e!==this.root.getAttribute("data-mode")&&(this.textbox.value=""),this.position(this.quill.getBounds(this.quill.selection.savedRange)),this.textbox.select(),this.textbox.setAttribute("placeholder",this.textbox.getAttribute("data-"+e)||""),this.root.setAttribute("data-mode",e)}},{key:"restoreFocus",value:function(){var e=this.quill.scrollingContainer.scrollTop;this.quill.focus(),this.quill.scrollingContainer.scrollTop=e}},{key:"save",value:function(){var e=this.textbox.value;switch(this.root.getAttribute("data-mode")){case"link":var t=this.quill.root.scrollTop;this.linkRange?(this.quill.formatText(this.linkRange,"link",e,a.default.sources.USER),delete this.linkRange):(this.restoreFocus(),this.quill.format("link",e,a.default.sources.USER)),this.quill.root.scrollTop=t;break;case"video":e=function(e){var t=e.match(/^(?:(https?):\/\/)?(?:(?:www|m)\.)?youtube\.com\/watch.*v=([a-zA-Z0-9_-]+)/)||e.match(/^(?:(https?):\/\/)?(?:(?:www|m)\.)?youtu\.be\/([a-zA-Z0-9_-]+)/);return t?(t[1]||"https")+"://www.youtube.com/embed/"+t[2]+"?showinfo=0":(t=e.match(/^(?:(https?):\/\/)?(?:www\.)?vimeo\.com\/(\d+)/))?(t[1]||"https")+"://player.vimeo.com/video/"+t[2]+"/":e}(e);case"formula":if(!e)break;var n=this.quill.getSelection(!0);if(null!=n){var r=n.index+n.length;this.quill.insertEmbed(r,this.root.getAttribute("data-mode"),e,a.default.sources.USER),"formula"===this.root.getAttribute("data-mode")&&this.quill.insertText(r+1," ",a.default.sources.USER),this.quill.setSelection(r+2,a.default.sources.USER)}}this.textbox.value="",this.hide()}}]),t}(f.default);function k(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];t.forEach((function(t){var r=document.createElement("option");t===n?r.setAttribute("selected","selected"):r.setAttribute("value",t),e.appendChild(r)}))}t.BaseTooltip=S,t.default=x},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(){this.head=this.tail=null,this.length=0}return e.prototype.append=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this.insertBefore(e[0],null),e.length>1&&this.append.apply(this,e.slice(1))},e.prototype.contains=function(e){for(var t,n=this.iterator();t=n();)if(t===e)return!0;return!1},e.prototype.insertBefore=function(e,t){e&&(e.next=t,null!=t?(e.prev=t.prev,null!=t.prev&&(t.prev.next=e),t.prev=e,t===this.head&&(this.head=e)):null!=this.tail?(this.tail.next=e,e.prev=this.tail,this.tail=e):(e.prev=null,this.head=this.tail=e),this.length+=1)},e.prototype.offset=function(e){for(var t=0,n=this.head;null!=n;){if(n===e)return t;t+=n.length(),n=n.next}return-1},e.prototype.remove=function(e){this.contains(e)&&(null!=e.prev&&(e.prev.next=e.next),null!=e.next&&(e.next.prev=e.prev),e===this.head&&(this.head=e.next),e===this.tail&&(this.tail=e.prev),this.length-=1)},e.prototype.iterator=function(e){return void 0===e&&(e=this.head),function(){var t=e;return null!=e&&(e=e.next),t}},e.prototype.find=function(e,t){void 0===t&&(t=!1);for(var n,r=this.iterator();n=r();){var i=n.length();if(e<i||t&&e===i&&(null==n.next||0!==n.next.length()))return[n,e];e-=i}return[null,0]},e.prototype.forEach=function(e){for(var t,n=this.iterator();t=n();)e(t)},e.prototype.forEachAt=function(e,t,n){if(!(t<=0))for(var r,i=this.find(e),o=i[0],s=e-i[1],a=this.iterator(o);(r=a())&&s<e+t;){var l=r.length();e>s?n(r,e-s,Math.min(t,s+l-e)):n(r,0,Math.min(l,e+t-s)),s+=l}},e.prototype.map=function(e){return this.reduce((function(t,n){return t.push(e(n)),t}),[])},e.prototype.reduce=function(e,t){for(var n,r=this.iterator();n=r();)t=e(t,n);return t},e}();t.default=r},function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(t,"__esModule",{value:!0});var i=n(17),o=n(1),s={attributes:!0,characterData:!0,characterDataOldValue:!0,childList:!0,subtree:!0},a=function(e){function t(t){var n=e.call(this,t)||this;return n.scroll=n,n.observer=new MutationObserver((function(e){n.update(e)})),n.observer.observe(n.domNode,s),n.attach(),n}return r(t,e),t.prototype.detach=function(){e.prototype.detach.call(this),this.observer.disconnect()},t.prototype.deleteAt=function(t,n){this.update(),0===t&&n===this.length()?this.children.forEach((function(e){e.remove()})):e.prototype.deleteAt.call(this,t,n)},t.prototype.formatAt=function(t,n,r,i){this.update(),e.prototype.formatAt.call(this,t,n,r,i)},t.prototype.insertAt=function(t,n,r){this.update(),e.prototype.insertAt.call(this,t,n,r)},t.prototype.optimize=function(t,n){var r=this;void 0===t&&(t=[]),void 0===n&&(n={}),e.prototype.optimize.call(this,n);for(var s=[].slice.call(this.observer.takeRecords());s.length>0;)t.push(s.pop());for(var a=function(e,t){void 0===t&&(t=!0),null!=e&&e!==r&&null!=e.domNode.parentNode&&(null==e.domNode[o.DATA_KEY].mutations&&(e.domNode[o.DATA_KEY].mutations=[]),t&&a(e.parent))},l=function(e){null!=e.domNode[o.DATA_KEY]&&null!=e.domNode[o.DATA_KEY].mutations&&(e instanceof i.default&&e.children.forEach(l),e.optimize(n))},c=t,u=0;c.length>0;u+=1){if(u>=100)throw new Error("[Parchment] Maximum optimize iterations reached");for(c.forEach((function(e){var t=o.find(e.target,!0);null!=t&&(t.domNode===e.target&&("childList"===e.type?(a(o.find(e.previousSibling,!1)),[].forEach.call(e.addedNodes,(function(e){var t=o.find(e,!1);a(t,!1),t instanceof i.default&&t.children.forEach((function(e){a(e,!1)}))}))):"attributes"===e.type&&a(t.prev)),a(t))})),this.children.forEach(l),s=(c=[].slice.call(this.observer.takeRecords())).slice();s.length>0;)t.push(s.pop())}},t.prototype.update=function(t,n){var r=this;void 0===n&&(n={}),(t=t||this.observer.takeRecords()).map((function(e){var t=o.find(e.target,!0);return null==t?null:null==t.domNode[o.DATA_KEY].mutations?(t.domNode[o.DATA_KEY].mutations=[e],t):(t.domNode[o.DATA_KEY].mutations.push(e),null)})).forEach((function(e){null!=e&&e!==r&&null!=e.domNode[o.DATA_KEY]&&e.update(e.domNode[o.DATA_KEY].mutations||[],n)})),null!=this.domNode[o.DATA_KEY].mutations&&e.prototype.update.call(this,this.domNode[o.DATA_KEY].mutations,n),this.optimize(t,n)},t.blotName="scroll",t.defaultChild="block",t.scope=o.Scope.BLOCK_BLOT,t.tagName="DIV",t}(i.default);t.default=a},function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(t,"__esModule",{value:!0});var i=n(18),o=n(1),s=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),t.formats=function(n){if(n.tagName!==t.tagName)return e.formats.call(this,n)},t.prototype.format=function(n,r){var o=this;n!==this.statics.blotName||r?e.prototype.format.call(this,n,r):(this.children.forEach((function(e){e instanceof i.default||(e=e.wrap(t.blotName,!0)),o.attributes.copy(e)})),this.unwrap())},t.prototype.formatAt=function(t,n,r,i){null!=this.formats()[r]||o.query(r,o.Scope.ATTRIBUTE)?this.isolate(t,n).format(r,i):e.prototype.formatAt.call(this,t,n,r,i)},t.prototype.optimize=function(n){e.prototype.optimize.call(this,n);var r=this.formats();if(0===Object.keys(r).length)return this.unwrap();var i=this.next;i instanceof t&&i.prev===this&&function(e,t){if(Object.keys(e).length!==Object.keys(t).length)return!1;for(var n in e)if(e[n]!==t[n])return!1;return!0}(r,i.formats())&&(i.moveChildren(this),i.remove())},t.blotName="inline",t.scope=o.Scope.INLINE_BLOT,t.tagName="SPAN",t}(i.default);t.default=s},function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(t,"__esModule",{value:!0});var i=n(18),o=n(1),s=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),t.formats=function(n){var r=o.query(t.blotName).tagName;if(n.tagName!==r)return e.formats.call(this,n)},t.prototype.format=function(n,r){null!=o.query(n,o.Scope.BLOCK)&&(n!==this.statics.blotName||r?e.prototype.format.call(this,n,r):this.replaceWith(t.blotName))},t.prototype.formatAt=function(t,n,r,i){null!=o.query(r,o.Scope.BLOCK)?this.format(r,i):e.prototype.formatAt.call(this,t,n,r,i)},t.prototype.insertAt=function(t,n,r){if(null==r||null!=o.query(n,o.Scope.INLINE))e.prototype.insertAt.call(this,t,n,r);else{var i=this.split(t),s=o.create(n,r);i.parent.insertBefore(s,i)}},t.prototype.update=function(t,n){navigator.userAgent.match(/Trident/)?this.build():e.prototype.update.call(this,t,n)},t.blotName="block",t.scope=o.Scope.BLOCK_BLOT,t.tagName="P",t}(i.default);t.default=s},function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(t,"__esModule",{value:!0});var i=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),t.formats=function(e){},t.prototype.format=function(t,n){e.prototype.formatAt.call(this,0,this.length(),t,n)},t.prototype.formatAt=function(t,n,r,i){0===t&&n===this.length()?this.format(r,i):e.prototype.formatAt.call(this,t,n,r,i)},t.prototype.formats=function(){return this.statics.formats(this.domNode)},t}(n(19).default);t.default=i},function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(t,"__esModule",{value:!0});var i=n(19),o=n(1),s=function(e){function t(t){var n=e.call(this,t)||this;return n.text=n.statics.value(n.domNode),n}return r(t,e),t.create=function(e){return document.createTextNode(e)},t.value=function(e){var t=e.data;return t.normalize&&(t=t.normalize()),t},t.prototype.deleteAt=function(e,t){this.domNode.data=this.text=this.text.slice(0,e)+this.text.slice(e+t)},t.prototype.index=function(e,t){return this.domNode===e?t:-1},t.prototype.insertAt=function(t,n,r){null==r?(this.text=this.text.slice(0,t)+n+this.text.slice(t),this.domNode.data=this.text):e.prototype.insertAt.call(this,t,n,r)},t.prototype.length=function(){return this.text.length},t.prototype.optimize=function(n){e.prototype.optimize.call(this,n),this.text=this.statics.value(this.domNode),0===this.text.length?this.remove():this.next instanceof t&&this.next.prev===this&&(this.insertAt(this.length(),this.next.value()),this.next.remove())},t.prototype.position=function(e,t){return void 0===t&&(t=!1),[this.domNode,e]},t.prototype.split=function(e,t){if(void 0===t&&(t=!1),!t){if(0===e)return this;if(e===this.length())return this.next}var n=o.create(this.domNode.splitText(e));return this.parent.insertBefore(n,this.next),this.text=this.statics.value(this.domNode),n},t.prototype.update=function(e,t){var n=this;e.some((function(e){return"characterData"===e.type&&e.target===n.domNode}))&&(this.text=this.statics.value(this.domNode))},t.prototype.value=function(){return this.text},t.blotName="text",t.scope=o.Scope.INLINE_BLOT,t}(i.default);t.default=s},function(e,t,n){"use strict";var r=document.createElement("div");if(r.classList.toggle("test-class",!1),r.classList.contains("test-class")){var i=DOMTokenList.prototype.toggle;DOMTokenList.prototype.toggle=function(e,t){return arguments.length>1&&!this.contains(e)===!t?t:i.call(this,e)}}String.prototype.startsWith||(String.prototype.startsWith=function(e,t){return t=t||0,this.substr(t,e.length)===e}),String.prototype.endsWith||(String.prototype.endsWith=function(e,t){var n=this.toString();("number"!==typeof t||!isFinite(t)||Math.floor(t)!==t||t>n.length)&&(t=n.length),t-=e.length;var r=n.indexOf(e,t);return-1!==r&&r===t}),Array.prototype.find||Object.defineProperty(Array.prototype,"find",{value:function(e){if(null===this)throw new TypeError("Array.prototype.find called on null or undefined");if("function"!==typeof e)throw new TypeError("predicate must be a function");for(var t,n=Object(this),r=n.length>>>0,i=arguments[1],o=0;o<r;o++)if(t=n[o],e.call(i,t,o,n))return t}}),document.addEventListener("DOMContentLoaded",(function(){document.execCommand("enableObjectResizing",!1,!1),document.execCommand("autoUrlDetect",!1,!1)}))},function(e,t){var n=-1,r=1,i=0;function o(e,t,u){if(e==t)return e?[[i,e]]:[];(u<0||e.length<u)&&(u=null);var h=a(e,t),f=e.substring(0,h);h=l(e=e.substring(h),t=t.substring(h));var p=e.substring(e.length-h),m=function(e,t){var c;if(!e)return[[r,t]];if(!t)return[[n,e]];var u=e.length>t.length?e:t,d=e.length>t.length?t:e,h=u.indexOf(d);if(-1!=h)return c=[[r,u.substring(0,h)],[i,d],[r,u.substring(h+d.length)]],e.length>t.length&&(c[0][0]=c[2][0]=n),c;if(1==d.length)return[[n,e],[r,t]];var f=function(e,t){var n=e.length>t.length?e:t,r=e.length>t.length?t:e;if(n.length<4||2*r.length<n.length)return null;function i(e,t,n){for(var r,i,o,s,c=e.substring(n,n+Math.floor(e.length/4)),u=-1,d="";-1!=(u=t.indexOf(c,u+1));){var h=a(e.substring(n),t.substring(u)),f=l(e.substring(0,n),t.substring(0,u));d.length<f+h&&(d=t.substring(u-f,u)+t.substring(u,u+h),r=e.substring(0,n-f),i=e.substring(n+h),o=t.substring(0,u-f),s=t.substring(u+h))}return 2*d.length>=e.length?[r,i,o,s,d]:null}var o,s,c,u,d,h=i(n,r,Math.ceil(n.length/4)),f=i(n,r,Math.ceil(n.length/2));if(!h&&!f)return null;o=f?h&&h[4].length>f[4].length?h:f:h,e.length>t.length?(s=o[0],c=o[1],u=o[2],d=o[3]):(u=o[0],d=o[1],s=o[2],c=o[3]);var p=o[4];return[s,c,u,d,p]}(e,t);if(f){var p=f[0],m=f[1],g=f[2],v=f[3],y=f[4],b=o(p,g),w=o(m,v);return b.concat([[i,y]],w)}return function(e,t){for(var i=e.length,o=t.length,a=Math.ceil((i+o)/2),l=a,c=2*a,u=new Array(c),d=new Array(c),h=0;h<c;h++)u[h]=-1,d[h]=-1;u[l+1]=0,d[l+1]=0;for(var f=i-o,p=f%2!=0,m=0,g=0,v=0,y=0,b=0;b<a;b++){for(var w=-b+m;w<=b-g;w+=2){for(var A=l+w,_=(C=w==-b||w!=b&&u[A-1]<u[A+1]?u[A+1]:u[A-1]+1)-w;C<i&&_<o&&e.charAt(C)==t.charAt(_);)C++,_++;if(u[A]=C,C>i)g+=2;else if(_>o)m+=2;else if(p&&(k=l+f-w)>=0&&k<c&&-1!=d[k]&&C>=(S=i-d[k]))return s(e,t,C,_)}for(var x=-b+v;x<=b-y;x+=2){for(var S,k=l+x,E=(S=x==-b||x!=b&&d[k-1]<d[k+1]?d[k+1]:d[k-1]+1)-x;S<i&&E<o&&e.charAt(i-S-1)==t.charAt(o-E-1);)S++,E++;if(d[k]=S,S>i)y+=2;else if(E>o)v+=2;else if(!p){var C;if((A=l+f-x)>=0&&A<c&&-1!=u[A])if(_=l+(C=u[A])-A,C>=(S=i-S))return s(e,t,C,_)}}}return[[n,e],[r,t]]}(e,t)}(e=e.substring(0,e.length-h),t=t.substring(0,t.length-h));return f&&m.unshift([i,f]),p&&m.push([i,p]),c(m),null!=u&&(m=function(e,t){var r=function(e,t){if(0===t)return[i,e];for(var r=0,o=0;o<e.length;o++){var s=e[o];if(s[0]===n||s[0]===i){var a=r+s[1].length;if(t===a)return[o+1,e];if(t<a){e=e.slice();var l=t-r,c=[s[0],s[1].slice(0,l)],u=[s[0],s[1].slice(l)];return e.splice(o,1,c,u),[o+1,e]}r=a}}throw new Error("cursor_pos is out of bounds!")}(e,t),o=r[1],s=r[0],a=o[s],l=o[s+1];if(null==a)return e;if(a[0]!==i)return e;if(null!=l&&a[1]+l[1]===l[1]+a[1])return o.splice(s,2,l,a),d(o,s,2);if(null!=l&&0===l[1].indexOf(a[1])){o.splice(s,2,[l[0],a[1]],[0,a[1]]);var c=l[1].slice(a[1].length);return c.length>0&&o.splice(s+2,0,[l[0],c]),d(o,s,3)}return e}(m,u)),m=function(e){for(var t=!1,o=function(e){return e.charCodeAt(0)>=56320&&e.charCodeAt(0)<=57343},s=function(e){return e.charCodeAt(e.length-1)>=55296&&e.charCodeAt(e.length-1)<=56319},a=2;a<e.length;a+=1)e[a-2][0]===i&&s(e[a-2][1])&&e[a-1][0]===n&&o(e[a-1][1])&&e[a][0]===r&&o(e[a][1])&&(t=!0,e[a-1][1]=e[a-2][1].slice(-1)+e[a-1][1],e[a][1]=e[a-2][1].slice(-1)+e[a][1],e[a-2][1]=e[a-2][1].slice(0,-1));if(!t)return e;var l=[];for(a=0;a<e.length;a+=1)e[a][1].length>0&&l.push(e[a]);return l}(m)}function s(e,t,n,r){var i=e.substring(0,n),s=t.substring(0,r),a=e.substring(n),l=t.substring(r),c=o(i,s),u=o(a,l);return c.concat(u)}function a(e,t){if(!e||!t||e.charAt(0)!=t.charAt(0))return 0;for(var n=0,r=Math.min(e.length,t.length),i=r,o=0;n<i;)e.substring(o,i)==t.substring(o,i)?o=n=i:r=i,i=Math.floor((r-n)/2+n);return i}function l(e,t){if(!e||!t||e.charAt(e.length-1)!=t.charAt(t.length-1))return 0;for(var n=0,r=Math.min(e.length,t.length),i=r,o=0;n<i;)e.substring(e.length-i,e.length-o)==t.substring(t.length-i,t.length-o)?o=n=i:r=i,i=Math.floor((r-n)/2+n);return i}function c(e){e.push([i,""]);for(var t,o=0,s=0,u=0,d="",h="";o<e.length;)switch(e[o][0]){case r:u++,h+=e[o][1],o++;break;case n:s++,d+=e[o][1],o++;break;case i:s+u>1?(0!==s&&0!==u&&(0!==(t=a(h,d))&&(o-s-u>0&&e[o-s-u-1][0]==i?e[o-s-u-1][1]+=h.substring(0,t):(e.splice(0,0,[i,h.substring(0,t)]),o++),h=h.substring(t),d=d.substring(t)),0!==(t=l(h,d))&&(e[o][1]=h.substring(h.length-t)+e[o][1],h=h.substring(0,h.length-t),d=d.substring(0,d.length-t))),0===s?e.splice(o-u,s+u,[r,h]):0===u?e.splice(o-s,s+u,[n,d]):e.splice(o-s-u,s+u,[n,d],[r,h]),o=o-s-u+(s?1:0)+(u?1:0)+1):0!==o&&e[o-1][0]==i?(e[o-1][1]+=e[o][1],e.splice(o,1)):o++,u=0,s=0,d="",h=""}""===e[e.length-1][1]&&e.pop();var f=!1;for(o=1;o<e.length-1;)e[o-1][0]==i&&e[o+1][0]==i&&(e[o][1].substring(e[o][1].length-e[o-1][1].length)==e[o-1][1]?(e[o][1]=e[o-1][1]+e[o][1].substring(0,e[o][1].length-e[o-1][1].length),e[o+1][1]=e[o-1][1]+e[o+1][1],e.splice(o-1,1),f=!0):e[o][1].substring(0,e[o+1][1].length)==e[o+1][1]&&(e[o-1][1]+=e[o+1][1],e[o][1]=e[o][1].substring(e[o+1][1].length)+e[o+1][1],e.splice(o+1,1),f=!0)),o++;f&&c(e)}var u=o;function d(e,t,n){for(var r=t+n-1;r>=0&&r>=t-1;r--)if(r+1<e.length){var i=e[r],o=e[r+1];i[0]===o[1]&&e.splice(r,2,[i[0],i[1]+o[1]])}return e}u.INSERT=r,u.DELETE=n,u.EQUAL=i,e.exports=u},function(e,t){function n(e){var t=[];for(var n in e)t.push(n);return t}(e.exports="function"===typeof Object.keys?Object.keys:n).shim=n},function(e,t){var n="[object Arguments]"==function(){return Object.prototype.toString.call(arguments)}();function r(e){return"[object Arguments]"==Object.prototype.toString.call(e)}function i(e){return e&&"object"==typeof e&&"number"==typeof e.length&&Object.prototype.hasOwnProperty.call(e,"callee")&&!Object.prototype.propertyIsEnumerable.call(e,"callee")||!1}(t=e.exports=n?r:i).supported=r,t.unsupported=i},function(e,t){"use strict";var n=Object.prototype.hasOwnProperty,r="~";function i(){}function o(e,t,n){this.fn=e,this.context=t,this.once=n||!1}function s(){this._events=new i,this._eventsCount=0}Object.create&&(i.prototype=Object.create(null),(new i).__proto__||(r=!1)),s.prototype.eventNames=function(){var e,t,i=[];if(0===this._eventsCount)return i;for(t in e=this._events)n.call(e,t)&&i.push(r?t.slice(1):t);return Object.getOwnPropertySymbols?i.concat(Object.getOwnPropertySymbols(e)):i},s.prototype.listeners=function(e,t){var n=r?r+e:e,i=this._events[n];if(t)return!!i;if(!i)return[];if(i.fn)return[i.fn];for(var o=0,s=i.length,a=new Array(s);o<s;o++)a[o]=i[o].fn;return a},s.prototype.emit=function(e,t,n,i,o,s){var a=r?r+e:e;if(!this._events[a])return!1;var l,c,u=this._events[a],d=arguments.length;if(u.fn){switch(u.once&&this.removeListener(e,u.fn,void 0,!0),d){case 1:return u.fn.call(u.context),!0;case 2:return u.fn.call(u.context,t),!0;case 3:return u.fn.call(u.context,t,n),!0;case 4:return u.fn.call(u.context,t,n,i),!0;case 5:return u.fn.call(u.context,t,n,i,o),!0;case 6:return u.fn.call(u.context,t,n,i,o,s),!0}for(c=1,l=new Array(d-1);c<d;c++)l[c-1]=arguments[c];u.fn.apply(u.context,l)}else{var h,f=u.length;for(c=0;c<f;c++)switch(u[c].once&&this.removeListener(e,u[c].fn,void 0,!0),d){case 1:u[c].fn.call(u[c].context);break;case 2:u[c].fn.call(u[c].context,t);break;case 3:u[c].fn.call(u[c].context,t,n);break;case 4:u[c].fn.call(u[c].context,t,n,i);break;default:if(!l)for(h=1,l=new Array(d-1);h<d;h++)l[h-1]=arguments[h];u[c].fn.apply(u[c].context,l)}}return!0},s.prototype.on=function(e,t,n){var i=new o(t,n||this),s=r?r+e:e;return this._events[s]?this._events[s].fn?this._events[s]=[this._events[s],i]:this._events[s].push(i):(this._events[s]=i,this._eventsCount++),this},s.prototype.once=function(e,t,n){var i=new o(t,n||this,!0),s=r?r+e:e;return this._events[s]?this._events[s].fn?this._events[s]=[this._events[s],i]:this._events[s].push(i):(this._events[s]=i,this._eventsCount++),this},s.prototype.removeListener=function(e,t,n,o){var s=r?r+e:e;if(!this._events[s])return this;if(!t)return 0===--this._eventsCount?this._events=new i:delete this._events[s],this;var a=this._events[s];if(a.fn)a.fn!==t||o&&!a.once||n&&a.context!==n||(0===--this._eventsCount?this._events=new i:delete this._events[s]);else{for(var l=0,c=[],u=a.length;l<u;l++)(a[l].fn!==t||o&&!a[l].once||n&&a[l].context!==n)&&c.push(a[l]);c.length?this._events[s]=1===c.length?c[0]:c:0===--this._eventsCount?this._events=new i:delete this._events[s]}return this},s.prototype.removeAllListeners=function(e){var t;return e?(t=r?r+e:e,this._events[t]&&(0===--this._eventsCount?this._events=new i:delete this._events[t])):(this._events=new i,this._eventsCount=0),this},s.prototype.off=s.prototype.removeListener,s.prototype.addListener=s.prototype.on,s.prototype.setMaxListeners=function(){return this},s.prefixed=r,s.EventEmitter=s,"undefined"!==typeof e&&(e.exports=s)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.matchText=t.matchSpacing=t.matchNewline=t.matchBlot=t.matchAttributor=t.default=void 0;var r="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],r=!0,i=!1,o=void 0;try{for(var s,a=e[Symbol.iterator]();!(r=(s=a.next()).done)&&(n.push(s.value),!t||n.length!==t);r=!0);}catch(l){i=!0,o=l}finally{try{!r&&a.return&&a.return()}finally{if(i)throw o}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")},o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=b(n(3)),a=b(n(2)),l=b(n(0)),c=b(n(5)),u=b(n(10)),d=b(n(9)),h=n(36),f=n(37),p=b(n(13)),m=n(26),g=n(38),v=n(39),y=n(40);function b(e){return e&&e.__esModule?e:{default:e}}function w(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var A=(0,u.default)("quill:clipboard"),_="__ql-matcher",x=[[Node.TEXT_NODE,M],[Node.TEXT_NODE,R],["br",function(e,t){return N(t,"\n")||t.insert("\n"),t}],[Node.ELEMENT_NODE,R],[Node.ELEMENT_NODE,P],[Node.ELEMENT_NODE,L],[Node.ELEMENT_NODE,j],[Node.ELEMENT_NODE,function(e,t){var n={},r=e.style||{};return r.fontStyle&&"italic"===T(e).fontStyle&&(n.italic=!0),r.fontWeight&&(T(e).fontWeight.startsWith("bold")||parseInt(T(e).fontWeight)>=700)&&(n.bold=!0),Object.keys(n).length>0&&(t=C(t,n)),parseFloat(r.textIndent||0)>0&&(t=(new a.default).insert("\t").concat(t)),t}],["li",function(e,t){var n=l.default.query(e);if(null==n||"list-item"!==n.blotName||!N(t,"\n"))return t;for(var r=-1,i=e.parentNode;!i.classList.contains("ql-clipboard");)"list"===(l.default.query(i)||{}).blotName&&(r+=1),i=i.parentNode;return r<=0?t:t.compose((new a.default).retain(t.length()-1).retain(1,{indent:r}))}],["b",D.bind(D,"bold")],["i",D.bind(D,"italic")],["style",function(){return new a.default}]],S=[h.AlignAttribute,g.DirectionAttribute].reduce((function(e,t){return e[t.keyName]=t,e}),{}),k=[h.AlignStyle,f.BackgroundStyle,m.ColorStyle,g.DirectionStyle,v.FontStyle,y.SizeStyle].reduce((function(e,t){return e[t.keyName]=t,e}),{}),E=function(e){function t(e,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));return r.quill.root.addEventListener("paste",r.onPaste.bind(r)),r.container=r.quill.addContainer("ql-clipboard"),r.container.setAttribute("contenteditable",!0),r.container.setAttribute("tabindex",-1),r.matchers=[],x.concat(r.options.matchers).forEach((function(e){var t=i(e,2),o=t[0],s=t[1];(n.matchVisual||s!==L)&&r.addMatcher(o,s)})),r}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),o(t,[{key:"addMatcher",value:function(e,t){this.matchers.push([e,t])}},{key:"convert",value:function(e){if("string"===typeof e)return this.container.innerHTML=e.replace(/\>\r?\n +\</g,"><"),this.convert();var t=this.quill.getFormat(this.quill.selection.savedRange.index);if(t[p.default.blotName]){var n=this.container.innerText;return this.container.innerHTML="",(new a.default).insert(n,w({},p.default.blotName,t[p.default.blotName]))}var r=this.prepareMatching(),o=i(r,2),s=o[0],l=o[1],c=I(this.container,s,l);return N(c,"\n")&&null==c.ops[c.ops.length-1].attributes&&(c=c.compose((new a.default).retain(c.length()-1).delete(1))),A.log("convert",this.container.innerHTML,c),this.container.innerHTML="",c}},{key:"dangerouslyPasteHTML",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:c.default.sources.API;if("string"===typeof e)this.quill.setContents(this.convert(e),t),this.quill.setSelection(0,c.default.sources.SILENT);else{var r=this.convert(t);this.quill.updateContents((new a.default).retain(e).concat(r),n),this.quill.setSelection(e+r.length(),c.default.sources.SILENT)}}},{key:"onPaste",value:function(e){var t=this;if(!e.defaultPrevented&&this.quill.isEnabled()){var n=this.quill.getSelection(),r=(new a.default).retain(n.index),i=this.quill.scrollingContainer.scrollTop;this.container.focus(),this.quill.selection.update(c.default.sources.SILENT),setTimeout((function(){r=r.concat(t.convert()).delete(n.length),t.quill.updateContents(r,c.default.sources.USER),t.quill.setSelection(r.length()-n.length,c.default.sources.SILENT),t.quill.scrollingContainer.scrollTop=i,t.quill.focus()}),1)}}},{key:"prepareMatching",value:function(){var e=this,t=[],n=[];return this.matchers.forEach((function(r){var o=i(r,2),s=o[0],a=o[1];switch(s){case Node.TEXT_NODE:n.push(a);break;case Node.ELEMENT_NODE:t.push(a);break;default:[].forEach.call(e.container.querySelectorAll(s),(function(e){e[_]=e[_]||[],e[_].push(a)}))}})),[t,n]}}]),t}(d.default);function C(e,t,n){return"object"===("undefined"===typeof t?"undefined":r(t))?Object.keys(t).reduce((function(e,n){return C(e,n,t[n])}),e):e.reduce((function(e,r){return r.attributes&&r.attributes[t]?e.push(r):e.insert(r.insert,(0,s.default)({},w({},t,n),r.attributes))}),new a.default)}function T(e){if(e.nodeType!==Node.ELEMENT_NODE)return{};var t="__ql-computed-style";return e[t]||(e[t]=window.getComputedStyle(e))}function N(e,t){for(var n="",r=e.ops.length-1;r>=0&&n.length<t.length;--r){var i=e.ops[r];if("string"!==typeof i.insert)break;n=i.insert+n}return n.slice(-1*t.length)===t}function O(e){if(0===e.childNodes.length)return!1;var t=T(e);return["block","list-item"].indexOf(t.display)>-1}function I(e,t,n){return e.nodeType===e.TEXT_NODE?n.reduce((function(t,n){return n(e,t)}),new a.default):e.nodeType===e.ELEMENT_NODE?[].reduce.call(e.childNodes||[],(function(r,i){var o=I(i,t,n);return i.nodeType===e.ELEMENT_NODE&&(o=t.reduce((function(e,t){return t(i,e)}),o),o=(i[_]||[]).reduce((function(e,t){return t(i,e)}),o)),r.concat(o)}),new a.default):new a.default}function D(e,t,n){return C(n,e,!0)}function j(e,t){var n=l.default.Attributor.Attribute.keys(e),r=l.default.Attributor.Class.keys(e),i=l.default.Attributor.Style.keys(e),o={};return n.concat(r).concat(i).forEach((function(t){var n=l.default.query(t,l.default.Scope.ATTRIBUTE);null!=n&&(o[n.attrName]=n.value(e),o[n.attrName])||(null==(n=S[t])||n.attrName!==t&&n.keyName!==t||(o[n.attrName]=n.value(e)||void 0),null==(n=k[t])||n.attrName!==t&&n.keyName!==t||(n=k[t],o[n.attrName]=n.value(e)||void 0))})),Object.keys(o).length>0&&(t=C(t,o)),t}function P(e,t){var n=l.default.query(e);if(null==n)return t;if(n.prototype instanceof l.default.Embed){var r={},i=n.value(e);null!=i&&(r[n.blotName]=i,t=(new a.default).insert(r,n.formats(e)))}else"function"===typeof n.formats&&(t=C(t,n.blotName,n.formats(e)));return t}function R(e,t){return N(t,"\n")||(O(e)||t.length()>0&&e.nextSibling&&O(e.nextSibling))&&t.insert("\n"),t}function L(e,t){if(O(e)&&null!=e.nextElementSibling&&!N(t,"\n\n")){var n=e.offsetHeight+parseFloat(T(e).marginTop)+parseFloat(T(e).marginBottom);e.nextElementSibling.offsetTop>e.offsetTop+1.5*n&&t.insert("\n")}return t}function M(e,t){var n=e.data;if("O:P"===e.parentNode.tagName)return t.insert(n.trim());if(0===n.trim().length&&e.parentNode.classList.contains("ql-clipboard"))return t;if(!T(e.parentNode).whiteSpace.startsWith("pre")){var r=function(e,t){return(t=t.replace(/[^\u00a0]/g,"")).length<1&&e?" ":t};n=(n=n.replace(/\r\n/g," ").replace(/\n/g," ")).replace(/\s\s+/g,r.bind(r,!0)),(null==e.previousSibling&&O(e.parentNode)||null!=e.previousSibling&&O(e.previousSibling))&&(n=n.replace(/^\s+/,r.bind(r,!1))),(null==e.nextSibling&&O(e.parentNode)||null!=e.nextSibling&&O(e.nextSibling))&&(n=n.replace(/\s+$/,r.bind(r,!1)))}return t.insert(n)}E.DEFAULTS={matchers:[],matchVisual:!0},t.default=E,t.matchAttributor=j,t.matchBlot=P,t.matchNewline=R,t.matchSpacing=L,t.matchText=M},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=function e(t,n,r){null===t&&(t=Function.prototype);var i=Object.getOwnPropertyDescriptor(t,n);if(void 0===i){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,n,r)}if("value"in i)return i.value;var s=i.get;return void 0!==s?s.call(r):void 0},s=n(6),a=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),i(t,[{key:"optimize",value:function(e){o(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"optimize",this).call(this,e),this.domNode.tagName!==this.statics.tagName[0]&&this.replaceWith(this.statics.blotName)}}],[{key:"create",value:function(){return o(t.__proto__||Object.getPrototypeOf(t),"create",this).call(this)}},{key:"formats",value:function(){return!0}}]),t}(((r=s)&&r.__esModule?r:{default:r}).default);a.blotName="bold",a.tagName=["STRONG","B"],t.default=a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.addControls=t.default=void 0;var r=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],r=!0,i=!1,o=void 0;try{for(var s,a=e[Symbol.iterator]();!(r=(s=a.next()).done)&&(n.push(s.value),!t||n.length!==t);r=!0);}catch(l){i=!0,o=l}finally{try{!r&&a.return&&a.return()}finally{if(i)throw o}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")},i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=u(n(2)),s=u(n(0)),a=u(n(5)),l=u(n(10)),c=u(n(9));function u(e){return e&&e.__esModule?e:{default:e}}function d(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}var h=(0,l.default)("quill:toolbar"),f=function(e){function t(e,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var i,o=d(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));if(Array.isArray(o.options.container)){var s=document.createElement("div");m(s,o.options.container),e.container.parentNode.insertBefore(s,e.container),o.container=s}else"string"===typeof o.options.container?o.container=document.querySelector(o.options.container):o.container=o.options.container;return o.container instanceof HTMLElement?(o.container.classList.add("ql-toolbar"),o.controls=[],o.handlers={},Object.keys(o.options.handlers).forEach((function(e){o.addHandler(e,o.options.handlers[e])})),[].forEach.call(o.container.querySelectorAll("button, select"),(function(e){o.attach(e)})),o.quill.on(a.default.events.EDITOR_CHANGE,(function(e,t){e===a.default.events.SELECTION_CHANGE&&o.update(t)})),o.quill.on(a.default.events.SCROLL_OPTIMIZE,(function(){var e=o.quill.selection.getRange(),t=r(e,1)[0];o.update(t)})),o):(i=h.error("Container required for toolbar",o.options),d(o,i))}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),i(t,[{key:"addHandler",value:function(e,t){this.handlers[e]=t}},{key:"attach",value:function(e){var t=this,n=[].find.call(e.classList,(function(e){return 0===e.indexOf("ql-")}));if(n){if(n=n.slice(3),"BUTTON"===e.tagName&&e.setAttribute("type","button"),null==this.handlers[n]){if(null!=this.quill.scroll.whitelist&&null==this.quill.scroll.whitelist[n])return void h.warn("ignoring attaching to disabled format",n,e);if(null==s.default.query(n))return void h.warn("ignoring attaching to nonexistent format",n,e)}var i="SELECT"===e.tagName?"change":"click";e.addEventListener(i,(function(i){var l=void 0;if("SELECT"===e.tagName){if(e.selectedIndex<0)return;var c=e.options[e.selectedIndex];l=!c.hasAttribute("selected")&&(c.value||!1)}else l=!e.classList.contains("ql-active")&&(e.value||!e.hasAttribute("value")),i.preventDefault();t.quill.focus();var u=t.quill.selection.getRange(),d=r(u,1)[0];if(null!=t.handlers[n])t.handlers[n].call(t,l);else if(s.default.query(n).prototype instanceof s.default.Embed){if(!(l=prompt("Enter "+n)))return;t.quill.updateContents((new o.default).retain(d.index).delete(d.length).insert(function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}({},n,l)),a.default.sources.USER)}else t.quill.format(n,l,a.default.sources.USER);t.update(d)})),this.controls.push([n,e])}}},{key:"update",value:function(e){var t=null==e?{}:this.quill.getFormat(e);this.controls.forEach((function(n){var i=r(n,2),o=i[0],s=i[1];if("SELECT"===s.tagName){var a=void 0;if(null==e)a=null;else if(null==t[o])a=s.querySelector("option[selected]");else if(!Array.isArray(t[o])){var l=t[o];"string"===typeof l&&(l=l.replace(/\"/g,'\\"')),a=s.querySelector('option[value="'+l+'"]')}null==a?(s.value="",s.selectedIndex=-1):a.selected=!0}else if(null==e)s.classList.remove("ql-active");else if(s.hasAttribute("value")){var c=t[o]===s.getAttribute("value")||null!=t[o]&&t[o].toString()===s.getAttribute("value")||null==t[o]&&!s.getAttribute("value");s.classList.toggle("ql-active",c)}else s.classList.toggle("ql-active",null!=t[o])}))}}]),t}(c.default);function p(e,t,n){var r=document.createElement("button");r.setAttribute("type","button"),r.classList.add("ql-"+t),null!=n&&(r.value=n),e.appendChild(r)}function m(e,t){Array.isArray(t[0])||(t=[t]),t.forEach((function(t){var n=document.createElement("span");n.classList.add("ql-formats"),t.forEach((function(e){if("string"===typeof e)p(n,e);else{var t=Object.keys(e)[0],r=e[t];Array.isArray(r)?function(e,t,n){var r=document.createElement("select");r.classList.add("ql-"+t),n.forEach((function(e){var t=document.createElement("option");!1!==e?t.setAttribute("value",e):t.setAttribute("selected","selected"),r.appendChild(t)})),e.appendChild(r)}(n,t,r):p(n,t,r)}})),e.appendChild(n)}))}f.DEFAULTS={},f.DEFAULTS={container:null,handlers:{clean:function(){var e=this,t=this.quill.getSelection();if(null!=t)if(0==t.length){var n=this.quill.getFormat();Object.keys(n).forEach((function(t){null!=s.default.query(t,s.default.Scope.INLINE)&&e.quill.format(t,!1)}))}else this.quill.removeFormat(t,a.default.sources.USER)},direction:function(e){var t=this.quill.getFormat().align;"rtl"===e&&null==t?this.quill.format("align","right",a.default.sources.USER):e||"right"!==t||this.quill.format("align",!1,a.default.sources.USER),this.quill.format("direction",e,a.default.sources.USER)},indent:function(e){var t=this.quill.getSelection(),n=this.quill.getFormat(t),r=parseInt(n.indent||0);if("+1"===e||"-1"===e){var i="+1"===e?1:-1;"rtl"===n.direction&&(i*=-1),this.quill.format("indent",r+i,a.default.sources.USER)}},link:function(e){!0===e&&(e=prompt("Enter link URL:")),this.quill.format("link",e,a.default.sources.USER)},list:function(e){var t=this.quill.getSelection(),n=this.quill.getFormat(t);"check"===e?"checked"===n.list||"unchecked"===n.list?this.quill.format("list",!1,a.default.sources.USER):this.quill.format("list","unchecked",a.default.sources.USER):this.quill.format("list",e,a.default.sources.USER)}}},t.default=f,t.addControls=m},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <polyline class="ql-even ql-stroke" points="5 7 3 9 5 11"></polyline> <polyline class="ql-even ql-stroke" points="13 7 15 9 13 11"></polyline> <line class=ql-stroke x1=10 x2=8 y1=5 y2=13></line> </svg>'},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=function e(t,n,r){null===t&&(t=Function.prototype);var i=Object.getOwnPropertyDescriptor(t,n);if(void 0===i){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,n,r)}if("value"in i)return i.value;var s=i.get;return void 0!==s?s.call(r):void 0},s=n(28),a=function(e){function t(e,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return r.label.innerHTML=n,r.container.classList.add("ql-color-picker"),[].slice.call(r.container.querySelectorAll(".ql-picker-item"),0,7).forEach((function(e){e.classList.add("ql-primary")})),r}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),i(t,[{key:"buildItem",value:function(e){var n=o(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"buildItem",this).call(this,e);return n.style.backgroundColor=e.getAttribute("value")||"",n}},{key:"selectItem",value:function(e,n){o(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"selectItem",this).call(this,e,n);var r=this.label.querySelector(".ql-color-label"),i=e&&e.getAttribute("data-value")||"";r&&("line"===r.tagName?r.style.stroke=i:r.style.fill=i)}}]),t}(((r=s)&&r.__esModule?r:{default:r}).default);t.default=a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=function e(t,n,r){null===t&&(t=Function.prototype);var i=Object.getOwnPropertyDescriptor(t,n);if(void 0===i){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,n,r)}if("value"in i)return i.value;var s=i.get;return void 0!==s?s.call(r):void 0},s=n(28),a=function(e){function t(e,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return r.container.classList.add("ql-icon-picker"),[].forEach.call(r.container.querySelectorAll(".ql-picker-item"),(function(e){e.innerHTML=n[e.getAttribute("data-value")||""]})),r.defaultItem=r.container.querySelector(".ql-selected"),r.selectItem(r.defaultItem),r}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),i(t,[{key:"selectItem",value:function(e,n){o(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"selectItem",this).call(this,e,n),e=e||this.defaultItem,this.label.innerHTML=e.innerHTML}}]),t}(((r=s)&&r.__esModule?r:{default:r}).default);t.default=a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=function(){function e(t,n){var r=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.quill=t,this.boundsContainer=n||document.body,this.root=t.addContainer("ql-tooltip"),this.root.innerHTML=this.constructor.TEMPLATE,this.quill.root===this.quill.scrollingContainer&&this.quill.root.addEventListener("scroll",(function(){r.root.style.marginTop=-1*r.quill.root.scrollTop+"px"})),this.hide()}return r(e,[{key:"hide",value:function(){this.root.classList.add("ql-hidden")}},{key:"position",value:function(e){var t=e.left+e.width/2-this.root.offsetWidth/2,n=e.bottom+this.quill.root.scrollTop;this.root.style.left=t+"px",this.root.style.top=n+"px",this.root.classList.remove("ql-flip");var r=this.boundsContainer.getBoundingClientRect(),i=this.root.getBoundingClientRect(),o=0;if(i.right>r.right&&(o=r.right-i.right,this.root.style.left=t+o+"px"),i.left<r.left&&(o=r.left-i.left,this.root.style.left=t+o+"px"),i.bottom>r.bottom){var s=i.bottom-i.top,a=e.bottom-e.top+s;this.root.style.top=n-a+"px",this.root.classList.add("ql-flip")}return o}},{key:"show",value:function(){this.root.classList.remove("ql-editing"),this.root.classList.remove("ql-hidden")}}]),e}();t.default=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],r=!0,i=!1,o=void 0;try{for(var s,a=e[Symbol.iterator]();!(r=(s=a.next()).done)&&(n.push(s.value),!t||n.length!==t);r=!0);}catch(l){i=!0,o=l}finally{try{!r&&a.return&&a.return()}finally{if(i)throw o}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")},i=function e(t,n,r){null===t&&(t=Function.prototype);var i=Object.getOwnPropertyDescriptor(t,n);if(void 0===i){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,n,r)}if("value"in i)return i.value;var s=i.get;return void 0!==s?s.call(r):void 0},o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=f(n(3)),a=f(n(8)),l=n(43),c=f(l),u=f(n(27)),d=n(15),h=f(n(41));function f(e){return e&&e.__esModule?e:{default:e}}function p(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function m(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function g(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var v=[[{header:["1","2","3",!1]}],["bold","italic","underline","link"],[{list:"ordered"},{list:"bullet"}],["clean"]],y=function(e){function t(e,n){p(this,t),null!=n.modules.toolbar&&null==n.modules.toolbar.container&&(n.modules.toolbar.container=v);var r=m(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));return r.quill.container.classList.add("ql-snow"),r}return g(t,e),o(t,[{key:"extendToolbar",value:function(e){e.container.classList.add("ql-snow"),this.buildButtons([].slice.call(e.container.querySelectorAll("button")),h.default),this.buildPickers([].slice.call(e.container.querySelectorAll("select")),h.default),this.tooltip=new b(this.quill,this.options.bounds),e.container.querySelector(".ql-link")&&this.quill.keyboard.addBinding({key:"K",shortKey:!0},(function(t,n){e.handlers.link.call(e,!n.format.link)}))}}]),t}(c.default);y.DEFAULTS=(0,s.default)(!0,{},c.default.DEFAULTS,{modules:{toolbar:{handlers:{link:function(e){if(e){var t=this.quill.getSelection();if(null==t||0==t.length)return;var n=this.quill.getText(t);/^\S+@\S+\.\S+$/.test(n)&&0!==n.indexOf("mailto:")&&(n="mailto:"+n),this.quill.theme.tooltip.edit("link",n)}else this.quill.format("link",!1)}}}}});var b=function(e){function t(e,n){p(this,t);var r=m(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));return r.preview=r.root.querySelector("a.ql-preview"),r}return g(t,e),o(t,[{key:"listen",value:function(){var e=this;i(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"listen",this).call(this),this.root.querySelector("a.ql-action").addEventListener("click",(function(t){e.root.classList.contains("ql-editing")?e.save():e.edit("link",e.preview.textContent),t.preventDefault()})),this.root.querySelector("a.ql-remove").addEventListener("click",(function(t){if(null!=e.linkRange){var n=e.linkRange;e.restoreFocus(),e.quill.formatText(n,"link",!1,a.default.sources.USER),delete e.linkRange}t.preventDefault(),e.hide()})),this.quill.on(a.default.events.SELECTION_CHANGE,(function(t,n,i){if(null!=t){if(0===t.length&&i===a.default.sources.USER){var o=e.quill.scroll.descendant(u.default,t.index),s=r(o,2),l=s[0],c=s[1];if(null!=l){e.linkRange=new d.Range(t.index-c,l.length());var h=u.default.formats(l.domNode);return e.preview.textContent=h,e.preview.setAttribute("href",h),e.show(),void e.position(e.quill.getBounds(e.linkRange))}}else delete e.linkRange;e.hide()}}))}},{key:"show",value:function(){i(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"show",this).call(this),this.root.removeAttribute("data-mode")}}]),t}(l.BaseTooltip);b.TEMPLATE=['<a class="ql-preview" rel="noopener noreferrer" target="_blank" href="about:blank"></a>','<input type="text" data-formula="e=mc^2" data-link="https://quilljs.com" data-video="Embed URL">','<a class="ql-action"></a>','<a class="ql-remove"></a>'].join(""),t.default=y},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=R(n(29)),i=n(36),o=n(38),s=n(64),a=R(n(65)),l=R(n(66)),c=n(67),u=R(c),d=n(37),h=n(26),f=n(39),p=n(40),m=R(n(56)),g=R(n(68)),v=R(n(27)),y=R(n(69)),b=R(n(70)),w=R(n(71)),A=R(n(72)),_=R(n(73)),x=n(13),S=R(x),k=R(n(74)),E=R(n(75)),C=R(n(57)),T=R(n(41)),N=R(n(28)),O=R(n(59)),I=R(n(60)),D=R(n(61)),j=R(n(108)),P=R(n(62));function R(e){return e&&e.__esModule?e:{default:e}}r.default.register({"attributors/attribute/direction":o.DirectionAttribute,"attributors/class/align":i.AlignClass,"attributors/class/background":d.BackgroundClass,"attributors/class/color":h.ColorClass,"attributors/class/direction":o.DirectionClass,"attributors/class/font":f.FontClass,"attributors/class/size":p.SizeClass,"attributors/style/align":i.AlignStyle,"attributors/style/background":d.BackgroundStyle,"attributors/style/color":h.ColorStyle,"attributors/style/direction":o.DirectionStyle,"attributors/style/font":f.FontStyle,"attributors/style/size":p.SizeStyle},!0),r.default.register({"formats/align":i.AlignClass,"formats/direction":o.DirectionClass,"formats/indent":s.IndentClass,"formats/background":d.BackgroundStyle,"formats/color":h.ColorStyle,"formats/font":f.FontClass,"formats/size":p.SizeClass,"formats/blockquote":a.default,"formats/code-block":S.default,"formats/header":l.default,"formats/list":u.default,"formats/bold":m.default,"formats/code":x.Code,"formats/italic":g.default,"formats/link":v.default,"formats/script":y.default,"formats/strike":b.default,"formats/underline":w.default,"formats/image":A.default,"formats/video":_.default,"formats/list/item":c.ListItem,"modules/formula":k.default,"modules/syntax":E.default,"modules/toolbar":C.default,"themes/bubble":j.default,"themes/snow":P.default,"ui/icons":T.default,"ui/picker":N.default,"ui/icon-picker":I.default,"ui/color-picker":O.default,"ui/tooltip":D.default},!0),t.default=r.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.IndentClass=void 0;var r,i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=function e(t,n,r){null===t&&(t=Function.prototype);var i=Object.getOwnPropertyDescriptor(t,n);if(void 0===i){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,n,r)}if("value"in i)return i.value;var s=i.get;return void 0!==s?s.call(r):void 0},s=n(0),a=(r=s)&&r.__esModule?r:{default:r},l=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),i(t,[{key:"add",value:function(e,n){if("+1"===n||"-1"===n){var r=this.value(e)||0;n="+1"===n?r+1:r-1}return 0===n?(this.remove(e),!0):o(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"add",this).call(this,e,n)}},{key:"canAdd",value:function(e,n){return o(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"canAdd",this).call(this,e,n)||o(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"canAdd",this).call(this,e,parseInt(n))}},{key:"value",value:function(e){return parseInt(o(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"value",this).call(this,e))||void 0}}]),t}(a.default.Attributor.Class),c=new l("indent","ql-indent",{scope:a.default.Scope.BLOCK,whitelist:[1,2,3,4,5,6,7,8]});t.IndentClass=c},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,i=n(4),o=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t}(((r=i)&&r.__esModule?r:{default:r}).default);o.blotName="blockquote",o.tagName="blockquote",t.default=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=n(4),s=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),i(t,null,[{key:"formats",value:function(e){return this.tagName.indexOf(e.tagName)+1}}]),t}(((r=o)&&r.__esModule?r:{default:r}).default);s.blotName="header",s.tagName=["H1","H2","H3","H4","H5","H6"],t.default=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.ListItem=void 0;var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=function e(t,n,r){null===t&&(t=Function.prototype);var i=Object.getOwnPropertyDescriptor(t,n);if(void 0===i){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,n,r)}if("value"in i)return i.value;var s=i.get;return void 0!==s?s.call(r):void 0},o=l(n(0)),s=l(n(4)),a=l(n(25));function l(e){return e&&e.__esModule?e:{default:e}}function c(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function u(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function d(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var h=function(e){function t(){return c(this,t),u(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return d(t,e),r(t,[{key:"format",value:function(e,n){e!==f.blotName||n?i(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"format",this).call(this,e,n):this.replaceWith(o.default.create(this.statics.scope))}},{key:"remove",value:function(){null==this.prev&&null==this.next?this.parent.remove():i(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"remove",this).call(this)}},{key:"replaceWith",value:function(e,n){return this.parent.isolate(this.offset(this.parent),this.length()),e===this.parent.statics.blotName?(this.parent.replaceWith(e,n),this):(this.parent.unwrap(),i(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"replaceWith",this).call(this,e,n))}}],[{key:"formats",value:function(e){return e.tagName===this.tagName?void 0:i(t.__proto__||Object.getPrototypeOf(t),"formats",this).call(this,e)}}]),t}(s.default);h.blotName="list-item",h.tagName="LI";var f=function(e){function t(e){c(this,t);var n=u(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e)),r=function(t){if(t.target.parentNode===e){var r=n.statics.formats(e),i=o.default.find(t.target);"checked"===r?i.format("list","unchecked"):"unchecked"===r&&i.format("list","checked")}};return e.addEventListener("touchstart",r),e.addEventListener("mousedown",r),n}return d(t,e),r(t,null,[{key:"create",value:function(e){var n="ordered"===e?"OL":"UL",r=i(t.__proto__||Object.getPrototypeOf(t),"create",this).call(this,n);return"checked"!==e&&"unchecked"!==e||r.setAttribute("data-checked","checked"===e),r}},{key:"formats",value:function(e){return"OL"===e.tagName?"ordered":"UL"===e.tagName?e.hasAttribute("data-checked")?"true"===e.getAttribute("data-checked")?"checked":"unchecked":"bullet":void 0}}]),r(t,[{key:"format",value:function(e,t){this.children.length>0&&this.children.tail.format(e,t)}},{key:"formats",value:function(){return e={},t=this.statics.blotName,n=this.statics.formats(this.domNode),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e;var e,t,n}},{key:"insertBefore",value:function(e,n){if(e instanceof h)i(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"insertBefore",this).call(this,e,n);else{var r=null==n?this.length():n.offset(this),o=this.split(r);o.parent.insertBefore(e,o)}}},{key:"optimize",value:function(e){i(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"optimize",this).call(this,e);var n=this.next;null!=n&&n.prev===this&&n.statics.blotName===this.statics.blotName&&n.domNode.tagName===this.domNode.tagName&&n.domNode.getAttribute("data-checked")===this.domNode.getAttribute("data-checked")&&(n.moveChildren(this),n.remove())}},{key:"replace",value:function(e){if(e.statics.blotName!==this.statics.blotName){var n=o.default.create(this.statics.defaultChild);e.moveChildren(n),this.appendChild(n)}i(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"replace",this).call(this,e)}}]),t}(a.default);f.blotName="list",f.scope=o.default.Scope.BLOCK_BLOT,f.tagName=["OL","UL"],f.defaultChild="list-item",f.allowedChildren=[h],t.ListItem=h,t.default=f},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,i=n(56),o=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t}(((r=i)&&r.__esModule?r:{default:r}).default);o.blotName="italic",o.tagName=["EM","I"],t.default=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=function e(t,n,r){null===t&&(t=Function.prototype);var i=Object.getOwnPropertyDescriptor(t,n);if(void 0===i){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,n,r)}if("value"in i)return i.value;var s=i.get;return void 0!==s?s.call(r):void 0},s=n(6),a=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),i(t,null,[{key:"create",value:function(e){return"super"===e?document.createElement("sup"):"sub"===e?document.createElement("sub"):o(t.__proto__||Object.getPrototypeOf(t),"create",this).call(this,e)}},{key:"formats",value:function(e){return"SUB"===e.tagName?"sub":"SUP"===e.tagName?"super":void 0}}]),t}(((r=s)&&r.__esModule?r:{default:r}).default);a.blotName="script",a.tagName=["SUB","SUP"],t.default=a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,i=n(6),o=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t}(((r=i)&&r.__esModule?r:{default:r}).default);o.blotName="strike",o.tagName="S",t.default=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,i=n(6),o=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t}(((r=i)&&r.__esModule?r:{default:r}).default);o.blotName="underline",o.tagName="U",t.default=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=function e(t,n,r){null===t&&(t=Function.prototype);var i=Object.getOwnPropertyDescriptor(t,n);if(void 0===i){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,n,r)}if("value"in i)return i.value;var s=i.get;return void 0!==s?s.call(r):void 0},s=n(0),a=(r=s)&&r.__esModule?r:{default:r},l=n(27),c=["alt","height","width"],u=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),i(t,[{key:"format",value:function(e,n){c.indexOf(e)>-1?n?this.domNode.setAttribute(e,n):this.domNode.removeAttribute(e):o(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"format",this).call(this,e,n)}}],[{key:"create",value:function(e){var n=o(t.__proto__||Object.getPrototypeOf(t),"create",this).call(this,e);return"string"===typeof e&&n.setAttribute("src",this.sanitize(e)),n}},{key:"formats",value:function(e){return c.reduce((function(t,n){return e.hasAttribute(n)&&(t[n]=e.getAttribute(n)),t}),{})}},{key:"match",value:function(e){return/\.(jpe?g|gif|png)$/.test(e)||/^data:image\/.+;base64/.test(e)}},{key:"sanitize",value:function(e){return(0,l.sanitize)(e,["http","https","data"])?e:"//:0"}},{key:"value",value:function(e){return e.getAttribute("src")}}]),t}(a.default.Embed);u.blotName="image",u.tagName="IMG",t.default=u},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=function e(t,n,r){null===t&&(t=Function.prototype);var i=Object.getOwnPropertyDescriptor(t,n);if(void 0===i){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,n,r)}if("value"in i)return i.value;var s=i.get;return void 0!==s?s.call(r):void 0},s=n(4),a=n(27),l=(r=a)&&r.__esModule?r:{default:r},c=["height","width"],u=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),i(t,[{key:"format",value:function(e,n){c.indexOf(e)>-1?n?this.domNode.setAttribute(e,n):this.domNode.removeAttribute(e):o(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"format",this).call(this,e,n)}}],[{key:"create",value:function(e){var n=o(t.__proto__||Object.getPrototypeOf(t),"create",this).call(this,e);return n.setAttribute("frameborder","0"),n.setAttribute("allowfullscreen",!0),n.setAttribute("src",this.sanitize(e)),n}},{key:"formats",value:function(e){return c.reduce((function(t,n){return e.hasAttribute(n)&&(t[n]=e.getAttribute(n)),t}),{})}},{key:"sanitize",value:function(e){return l.default.sanitize(e)}},{key:"value",value:function(e){return e.getAttribute("src")}}]),t}(s.BlockEmbed);u.blotName="video",u.className="ql-video",u.tagName="IFRAME",t.default=u},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.FormulaBlot=void 0;var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=function e(t,n,r){null===t&&(t=Function.prototype);var i=Object.getOwnPropertyDescriptor(t,n);if(void 0===i){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,n,r)}if("value"in i)return i.value;var s=i.get;return void 0!==s?s.call(r):void 0},o=l(n(35)),s=l(n(5)),a=l(n(9));function l(e){return e&&e.__esModule?e:{default:e}}function c(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function u(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function d(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var h=function(e){function t(){return c(this,t),u(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return d(t,e),r(t,null,[{key:"create",value:function(e){var n=i(t.__proto__||Object.getPrototypeOf(t),"create",this).call(this,e);return"string"===typeof e&&(window.katex.render(e,n,{throwOnError:!1,errorColor:"#f00"}),n.setAttribute("data-value",e)),n}},{key:"value",value:function(e){return e.getAttribute("data-value")}}]),t}(o.default);h.blotName="formula",h.className="ql-formula",h.tagName="SPAN";var f=function(e){function t(){c(this,t);var e=u(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));if(null==window.katex)throw new Error("Formula module requires KaTeX.");return e}return d(t,e),r(t,null,[{key:"register",value:function(){s.default.register(h,!0)}}]),t}(a.default);t.FormulaBlot=h,t.default=f},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.CodeToken=t.CodeBlock=void 0;var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=function e(t,n,r){null===t&&(t=Function.prototype);var i=Object.getOwnPropertyDescriptor(t,n);if(void 0===i){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,n,r)}if("value"in i)return i.value;var s=i.get;return void 0!==s?s.call(r):void 0},o=l(n(0)),s=l(n(5)),a=l(n(9));function l(e){return e&&e.__esModule?e:{default:e}}function c(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function u(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function d(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var h=function(e){function t(){return c(this,t),u(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return d(t,e),r(t,[{key:"replaceWith",value:function(e){this.domNode.textContent=this.domNode.textContent,this.attach(),i(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"replaceWith",this).call(this,e)}},{key:"highlight",value:function(e){var t=this.domNode.textContent;this.cachedText!==t&&((t.trim().length>0||null==this.cachedText)&&(this.domNode.innerHTML=e(t),this.domNode.normalize(),this.attach()),this.cachedText=t)}}]),t}(l(n(13)).default);h.className="ql-syntax";var f=new o.default.Attributor.Class("token","hljs",{scope:o.default.Scope.INLINE}),p=function(e){function t(e,n){c(this,t);var r=u(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));if("function"!==typeof r.options.highlight)throw new Error("Syntax module requires highlight.js. Please include the library on the page before Quill.");var i=null;return r.quill.on(s.default.events.SCROLL_OPTIMIZE,(function(){clearTimeout(i),i=setTimeout((function(){r.highlight(),i=null}),r.options.interval)})),r.highlight(),r}return d(t,e),r(t,null,[{key:"register",value:function(){s.default.register(f,!0),s.default.register(h,!0)}}]),r(t,[{key:"highlight",value:function(){var e=this;if(!this.quill.selection.composing){this.quill.update(s.default.sources.USER);var t=this.quill.getSelection();this.quill.scroll.descendants(h).forEach((function(t){t.highlight(e.options.highlight)})),this.quill.update(s.default.sources.SILENT),null!=t&&this.quill.setSelection(t,s.default.sources.SILENT)}}}]),t}(a.default);p.DEFAULTS={highlight:null==window.hljs?null:function(e){return window.hljs.highlightAuto(e).value},interval:1e3},t.CodeBlock=h,t.CodeToken=f,t.default=p},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=3 x2=15 y1=9 y2=9></line> <line class=ql-stroke x1=3 x2=13 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=9 y1=4 y2=4></line> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=15 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=14 x2=4 y1=14 y2=14></line> <line class=ql-stroke x1=12 x2=6 y1=4 y2=4></line> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=15 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=15 x2=5 y1=14 y2=14></line> <line class=ql-stroke x1=15 x2=9 y1=4 y2=4></line> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=15 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=15 x2=3 y1=14 y2=14></line> <line class=ql-stroke x1=15 x2=3 y1=4 y2=4></line> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <g class="ql-fill ql-color-label"> <polygon points="6 6.868 6 6 5 6 5 7 5.942 7 6 6.868"></polygon> <rect height=1 width=1 x=4 y=4></rect> <polygon points="6.817 5 6 5 6 6 6.38 6 6.817 5"></polygon> <rect height=1 width=1 x=2 y=6></rect> <rect height=1 width=1 x=3 y=5></rect> <rect height=1 width=1 x=4 y=7></rect> <polygon points="4 11.439 4 11 3 11 3 12 3.755 12 4 11.439"></polygon> <rect height=1 width=1 x=2 y=12></rect> <rect height=1 width=1 x=2 y=9></rect> <rect height=1 width=1 x=2 y=15></rect> <polygon points="4.63 10 4 10 4 11 4.192 11 4.63 10"></polygon> <rect height=1 width=1 x=3 y=8></rect> <path d=M10.832,4.2L11,4.582V4H10.708A1.948,1.948,0,0,1,10.832,4.2Z></path> <path d=M7,4.582L7.168,4.2A1.929,1.929,0,0,1,7.292,4H7V4.582Z></path> <path d=M8,13H7.683l-0.351.8a1.933,1.933,0,0,1-.124.2H8V13Z></path> <rect height=1 width=1 x=12 y=2></rect> <rect height=1 width=1 x=11 y=3></rect> <path d=M9,3H8V3.282A1.985,1.985,0,0,1,9,3Z></path> <rect height=1 width=1 x=2 y=3></rect> <rect height=1 width=1 x=6 y=2></rect> <rect height=1 width=1 x=3 y=2></rect> <rect height=1 width=1 x=5 y=3></rect> <rect height=1 width=1 x=9 y=2></rect> <rect height=1 width=1 x=15 y=14></rect> <polygon points="13.447 10.174 13.469 10.225 13.472 10.232 13.808 11 14 11 14 10 13.37 10 13.447 10.174"></polygon> <rect height=1 width=1 x=13 y=7></rect> <rect height=1 width=1 x=15 y=5></rect> <rect height=1 width=1 x=14 y=6></rect> <rect height=1 width=1 x=15 y=8></rect> <rect height=1 width=1 x=14 y=9></rect> <path d=M3.775,14H3v1H4V14.314A1.97,1.97,0,0,1,3.775,14Z></path> <rect height=1 width=1 x=14 y=3></rect> <polygon points="12 6.868 12 6 11.62 6 12 6.868"></polygon> <rect height=1 width=1 x=15 y=2></rect> <rect height=1 width=1 x=12 y=5></rect> <rect height=1 width=1 x=13 y=4></rect> <polygon points="12.933 9 13 9 13 8 12.495 8 12.933 9"></polygon> <rect height=1 width=1 x=9 y=14></rect> <rect height=1 width=1 x=8 y=15></rect> <path d=M6,14.926V15H7V14.316A1.993,1.993,0,0,1,6,14.926Z></path> <rect height=1 width=1 x=5 y=15></rect> <path d=M10.668,13.8L10.317,13H10v1h0.792A1.947,1.947,0,0,1,10.668,13.8Z></path> <rect height=1 width=1 x=11 y=15></rect> <path d=M14.332,12.2a1.99,1.99,0,0,1,.166.8H15V12H14.245Z></path> <rect height=1 width=1 x=14 y=15></rect> <rect height=1 width=1 x=15 y=11></rect> </g> <polyline class=ql-stroke points="5.5 13 9 5 12.5 13"></polyline> <line class=ql-stroke x1=11.63 x2=6.38 y1=11 y2=11></line> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <rect class="ql-fill ql-stroke" height=3 width=3 x=4 y=5></rect> <rect class="ql-fill ql-stroke" height=3 width=3 x=11 y=5></rect> <path class="ql-even ql-fill ql-stroke" d=M7,8c0,4.031-3,5-3,5></path> <path class="ql-even ql-fill ql-stroke" d=M14,8c0,4.031-3,5-3,5></path> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <path class=ql-stroke d=M5,4H9.5A2.5,2.5,0,0,1,12,6.5v0A2.5,2.5,0,0,1,9.5,9H5A0,0,0,0,1,5,9V4A0,0,0,0,1,5,4Z></path> <path class=ql-stroke d=M5,9h5.5A2.5,2.5,0,0,1,13,11.5v0A2.5,2.5,0,0,1,10.5,14H5a0,0,0,0,1,0,0V9A0,0,0,0,1,5,9Z></path> </svg>'},function(e,t){e.exports='<svg class="" viewbox="0 0 18 18"> <line class=ql-stroke x1=5 x2=13 y1=3 y2=3></line> <line class=ql-stroke x1=6 x2=9.35 y1=12 y2=3></line> <line class=ql-stroke x1=11 x2=15 y1=11 y2=15></line> <line class=ql-stroke x1=15 x2=11 y1=11 y2=15></line> <rect class=ql-fill height=1 rx=0.5 ry=0.5 width=7 x=2 y=14></rect> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <line class="ql-color-label ql-stroke ql-transparent" x1=3 x2=15 y1=15 y2=15></line> <polyline class=ql-stroke points="5.5 11 9 3 12.5 11"></polyline> <line class=ql-stroke x1=11.63 x2=6.38 y1=9 y2=9></line> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <polygon class="ql-stroke ql-fill" points="3 11 5 9 3 7 3 11"></polygon> <line class="ql-stroke ql-fill" x1=15 x2=11 y1=4 y2=4></line> <path class=ql-fill d=M11,3a3,3,0,0,0,0,6h1V3H11Z></path> <rect class=ql-fill height=11 width=1 x=11 y=4></rect> <rect class=ql-fill height=11 width=1 x=13 y=4></rect> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <polygon class="ql-stroke ql-fill" points="15 12 13 10 15 8 15 12"></polygon> <line class="ql-stroke ql-fill" x1=9 x2=5 y1=4 y2=4></line> <path class=ql-fill d=M5,3A3,3,0,0,0,5,9H6V3H5Z></path> <rect class=ql-fill height=11 width=1 x=5 y=4></rect> <rect class=ql-fill height=11 width=1 x=7 y=4></rect> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M14,16H4a1,1,0,0,1,0-2H14A1,1,0,0,1,14,16Z /> <path class=ql-fill d=M14,4H4A1,1,0,0,1,4,2H14A1,1,0,0,1,14,4Z /> <rect class=ql-fill x=3 y=6 width=12 height=6 rx=1 ry=1 /> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M13,16H5a1,1,0,0,1,0-2h8A1,1,0,0,1,13,16Z /> <path class=ql-fill d=M13,4H5A1,1,0,0,1,5,2h8A1,1,0,0,1,13,4Z /> <rect class=ql-fill x=2 y=6 width=14 height=6 rx=1 ry=1 /> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M15,8H13a1,1,0,0,1,0-2h2A1,1,0,0,1,15,8Z /> <path class=ql-fill d=M15,12H13a1,1,0,0,1,0-2h2A1,1,0,0,1,15,12Z /> <path class=ql-fill d=M15,16H5a1,1,0,0,1,0-2H15A1,1,0,0,1,15,16Z /> <path class=ql-fill d=M15,4H5A1,1,0,0,1,5,2H15A1,1,0,0,1,15,4Z /> <rect class=ql-fill x=2 y=6 width=8 height=6 rx=1 ry=1 /> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M5,8H3A1,1,0,0,1,3,6H5A1,1,0,0,1,5,8Z /> <path class=ql-fill d=M5,12H3a1,1,0,0,1,0-2H5A1,1,0,0,1,5,12Z /> <path class=ql-fill d=M13,16H3a1,1,0,0,1,0-2H13A1,1,0,0,1,13,16Z /> <path class=ql-fill d=M13,4H3A1,1,0,0,1,3,2H13A1,1,0,0,1,13,4Z /> <rect class=ql-fill x=8 y=6 width=8 height=6 rx=1 ry=1 transform="translate(24 18) rotate(-180)"/> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M11.759,2.482a2.561,2.561,0,0,0-3.53.607A7.656,7.656,0,0,0,6.8,6.2C6.109,9.188,5.275,14.677,4.15,14.927a1.545,1.545,0,0,0-1.3-.933A0.922,0.922,0,0,0,2,15.036S1.954,16,4.119,16s3.091-2.691,3.7-5.553c0.177-.826.36-1.726,0.554-2.6L8.775,6.2c0.381-1.421.807-2.521,1.306-2.676a1.014,1.014,0,0,0,1.02.56A0.966,0.966,0,0,0,11.759,2.482Z></path> <rect class=ql-fill height=1.6 rx=0.8 ry=0.8 width=5 x=5.15 y=6.2></rect> <path class=ql-fill d=M13.663,12.027a1.662,1.662,0,0,1,.266-0.276q0.193,0.069.456,0.138a2.1,2.1,0,0,0,.535.069,1.075,1.075,0,0,0,.767-0.3,1.044,1.044,0,0,0,.314-0.8,0.84,0.84,0,0,0-.238-0.619,0.8,0.8,0,0,0-.594-0.239,1.154,1.154,0,0,0-.781.3,4.607,4.607,0,0,0-.781,1q-0.091.15-.218,0.346l-0.246.38c-0.068-.288-0.137-0.582-0.212-0.885-0.459-1.847-2.494-.984-2.941-0.8-0.482.2-.353,0.647-0.094,0.529a0.869,0.869,0,0,1,1.281.585c0.217,0.751.377,1.436,0.527,2.038a5.688,5.688,0,0,1-.362.467,2.69,2.69,0,0,1-.264.271q-0.221-.08-0.471-0.147a2.029,2.029,0,0,0-.522-0.066,1.079,1.079,0,0,0-.768.3A1.058,1.058,0,0,0,9,15.131a0.82,0.82,0,0,0,.832.852,1.134,1.134,0,0,0,.787-0.3,5.11,5.11,0,0,0,.776-0.993q0.141-.219.215-0.34c0.046-.076.122-0.194,0.223-0.346a2.786,2.786,0,0,0,.918,1.726,2.582,2.582,0,0,0,2.376-.185c0.317-.181.212-0.565,0-0.494A0.807,0.807,0,0,1,14.176,15a5.159,5.159,0,0,1-.913-2.446l0,0Q13.487,12.24,13.663,12.027Z></path> </svg>'},function(e,t){e.exports='<svg viewBox="0 0 18 18"> <path class=ql-fill d=M10,4V14a1,1,0,0,1-2,0V10H3v4a1,1,0,0,1-2,0V4A1,1,0,0,1,3,4V8H8V4a1,1,0,0,1,2,0Zm6.06787,9.209H14.98975V7.59863a.54085.54085,0,0,0-.605-.60547h-.62744a1.01119,1.01119,0,0,0-.748.29688L11.645,8.56641a.5435.5435,0,0,0-.022.8584l.28613.30762a.53861.53861,0,0,0,.84717.0332l.09912-.08789a1.2137,1.2137,0,0,0,.2417-.35254h.02246s-.01123.30859-.01123.60547V13.209H12.041a.54085.54085,0,0,0-.605.60547v.43945a.54085.54085,0,0,0,.605.60547h4.02686a.54085.54085,0,0,0,.605-.60547v-.43945A.54085.54085,0,0,0,16.06787,13.209Z /> </svg>'},function(e,t){e.exports='<svg viewBox="0 0 18 18"> <path class=ql-fill d=M16.73975,13.81445v.43945a.54085.54085,0,0,1-.605.60547H11.855a.58392.58392,0,0,1-.64893-.60547V14.0127c0-2.90527,3.39941-3.42187,3.39941-4.55469a.77675.77675,0,0,0-.84717-.78125,1.17684,1.17684,0,0,0-.83594.38477c-.2749.26367-.561.374-.85791.13184l-.4292-.34082c-.30811-.24219-.38525-.51758-.1543-.81445a2.97155,2.97155,0,0,1,2.45361-1.17676,2.45393,2.45393,0,0,1,2.68408,2.40918c0,2.45312-3.1792,2.92676-3.27832,3.93848h2.79443A.54085.54085,0,0,1,16.73975,13.81445ZM9,3A.99974.99974,0,0,0,8,4V8H3V4A1,1,0,0,0,1,4V14a1,1,0,0,0,2,0V10H8v4a1,1,0,0,0,2,0V4A.99974.99974,0,0,0,9,3Z /> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=7 x2=13 y1=4 y2=4></line> <line class=ql-stroke x1=5 x2=11 y1=14 y2=14></line> <line class=ql-stroke x1=8 x2=10 y1=14 y2=4></line> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <rect class=ql-stroke height=10 width=12 x=3 y=4></rect> <circle class=ql-fill cx=6 cy=7 r=1></circle> <polyline class="ql-even ql-fill" points="5 12 5 11 7 9 8 10 11 7 13 9 13 12 5 12"></polyline> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=3 x2=15 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=9 x2=15 y1=9 y2=9></line> <polyline class="ql-fill ql-stroke" points="3 7 3 11 5 9 3 7"></polyline> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=3 x2=15 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=9 x2=15 y1=9 y2=9></line> <polyline class=ql-stroke points="5 7 5 11 3 9 5 7"></polyline> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=7 x2=11 y1=7 y2=11></line> <path class="ql-even ql-stroke" d=M8.9,4.577a3.476,3.476,0,0,1,.36,4.679A3.476,3.476,0,0,1,4.577,8.9C3.185,7.5,2.035,6.4,4.217,4.217S7.5,3.185,8.9,4.577Z></path> <path class="ql-even ql-stroke" d=M13.423,9.1a3.476,3.476,0,0,0-4.679-.36,3.476,3.476,0,0,0,.36,4.679c1.392,1.392,2.5,2.542,4.679.36S14.815,10.5,13.423,9.1Z></path> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=7 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=7 x2=15 y1=9 y2=9></line> <line class=ql-stroke x1=7 x2=15 y1=14 y2=14></line> <line class="ql-stroke ql-thin" x1=2.5 x2=4.5 y1=5.5 y2=5.5></line> <path class=ql-fill d=M3.5,6A0.5,0.5,0,0,1,3,5.5V3.085l-0.276.138A0.5,0.5,0,0,1,2.053,3c-0.124-.247-0.023-0.324.224-0.447l1-.5A0.5,0.5,0,0,1,4,2.5v3A0.5,0.5,0,0,1,3.5,6Z></path> <path class="ql-stroke ql-thin" d=M4.5,10.5h-2c0-.234,1.85-1.076,1.85-2.234A0.959,0.959,0,0,0,2.5,8.156></path> <path class="ql-stroke ql-thin" d=M2.5,14.846a0.959,0.959,0,0,0,1.85-.109A0.7,0.7,0,0,0,3.75,14a0.688,0.688,0,0,0,.6-0.736,0.959,0.959,0,0,0-1.85-.109></path> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=6 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=6 x2=15 y1=9 y2=9></line> <line class=ql-stroke x1=6 x2=15 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=3 y1=4 y2=4></line> <line class=ql-stroke x1=3 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=3 x2=3 y1=14 y2=14></line> </svg>'},function(e,t){e.exports='<svg class="" viewbox="0 0 18 18"> <line class=ql-stroke x1=9 x2=15 y1=4 y2=4></line> <polyline class=ql-stroke points="3 4 4 5 6 3"></polyline> <line class=ql-stroke x1=9 x2=15 y1=14 y2=14></line> <polyline class=ql-stroke points="3 14 4 15 6 13"></polyline> <line class=ql-stroke x1=9 x2=15 y1=9 y2=9></line> <polyline class=ql-stroke points="3 9 4 10 6 8"></polyline> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M15.5,15H13.861a3.858,3.858,0,0,0,1.914-2.975,1.8,1.8,0,0,0-1.6-1.751A1.921,1.921,0,0,0,12.021,11.7a0.50013,0.50013,0,1,0,.957.291h0a0.914,0.914,0,0,1,1.053-.725,0.81,0.81,0,0,1,.744.762c0,1.076-1.16971,1.86982-1.93971,2.43082A1.45639,1.45639,0,0,0,12,15.5a0.5,0.5,0,0,0,.5.5h3A0.5,0.5,0,0,0,15.5,15Z /> <path class=ql-fill d=M9.65,5.241a1,1,0,0,0-1.409.108L6,7.964,3.759,5.349A1,1,0,0,0,2.192,6.59178Q2.21541,6.6213,2.241,6.649L4.684,9.5,2.241,12.35A1,1,0,0,0,3.71,13.70722q0.02557-.02768.049-0.05722L6,11.036,8.241,13.65a1,1,0,1,0,1.567-1.24277Q9.78459,12.3777,9.759,12.35L7.316,9.5,9.759,6.651A1,1,0,0,0,9.65,5.241Z /> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M15.5,7H13.861a4.015,4.015,0,0,0,1.914-2.975,1.8,1.8,0,0,0-1.6-1.751A1.922,1.922,0,0,0,12.021,3.7a0.5,0.5,0,1,0,.957.291,0.917,0.917,0,0,1,1.053-.725,0.81,0.81,0,0,1,.744.762c0,1.077-1.164,1.925-1.934,2.486A1.423,1.423,0,0,0,12,7.5a0.5,0.5,0,0,0,.5.5h3A0.5,0.5,0,0,0,15.5,7Z /> <path class=ql-fill d=M9.651,5.241a1,1,0,0,0-1.41.108L6,7.964,3.759,5.349a1,1,0,1,0-1.519,1.3L4.683,9.5,2.241,12.35a1,1,0,1,0,1.519,1.3L6,11.036,8.241,13.65a1,1,0,0,0,1.519-1.3L7.317,9.5,9.759,6.651A1,1,0,0,0,9.651,5.241Z /> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <line class="ql-stroke ql-thin" x1=15.5 x2=2.5 y1=8.5 y2=9.5></line> <path class=ql-fill d=M9.007,8C6.542,7.791,6,7.519,6,6.5,6,5.792,7.283,5,9,5c1.571,0,2.765.679,2.969,1.309a1,1,0,0,0,1.9-.617C13.356,4.106,11.354,3,9,3,6.2,3,4,4.538,4,6.5a3.2,3.2,0,0,0,.5,1.843Z></path> <path class=ql-fill d=M8.984,10C11.457,10.208,12,10.479,12,11.5c0,0.708-1.283,1.5-3,1.5-1.571,0-2.765-.679-2.969-1.309a1,1,0,1,0-1.9.617C4.644,13.894,6.646,15,9,15c2.8,0,5-1.538,5-3.5a3.2,3.2,0,0,0-.5-1.843Z></path> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <path class=ql-stroke d=M5,3V9a4.012,4.012,0,0,0,4,4H9a4.012,4.012,0,0,0,4-4V3></path> <rect class=ql-fill height=1 rx=0.5 ry=0.5 width=12 x=3 y=15></rect> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <rect class=ql-stroke height=12 width=12 x=3 y=3></rect> <rect class=ql-fill height=12 width=1 x=5 y=3></rect> <rect class=ql-fill height=12 width=1 x=12 y=3></rect> <rect class=ql-fill height=2 width=8 x=5 y=8></rect> <rect class=ql-fill height=1 width=3 x=3 y=5></rect> <rect class=ql-fill height=1 width=3 x=3 y=7></rect> <rect class=ql-fill height=1 width=3 x=3 y=10></rect> <rect class=ql-fill height=1 width=3 x=3 y=12></rect> <rect class=ql-fill height=1 width=3 x=12 y=5></rect> <rect class=ql-fill height=1 width=3 x=12 y=7></rect> <rect class=ql-fill height=1 width=3 x=12 y=10></rect> <rect class=ql-fill height=1 width=3 x=12 y=12></rect> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <polygon class=ql-stroke points="7 11 9 13 11 11 7 11"></polygon> <polygon class=ql-stroke points="7 7 9 5 11 7 7 7"></polygon> </svg>'},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.BubbleTooltip=void 0;var r=function e(t,n,r){null===t&&(t=Function.prototype);var i=Object.getOwnPropertyDescriptor(t,n);if(void 0===i){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,n,r)}if("value"in i)return i.value;var s=i.get;return void 0!==s?s.call(r):void 0},i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=d(n(3)),s=d(n(8)),a=n(43),l=d(a),c=n(15),u=d(n(41));function d(e){return e&&e.__esModule?e:{default:e}}function h(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function f(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function p(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var m=[["bold","italic","link"],[{header:1},{header:2},"blockquote"]],g=function(e){function t(e,n){h(this,t),null!=n.modules.toolbar&&null==n.modules.toolbar.container&&(n.modules.toolbar.container=m);var r=f(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));return r.quill.container.classList.add("ql-bubble"),r}return p(t,e),i(t,[{key:"extendToolbar",value:function(e){this.tooltip=new v(this.quill,this.options.bounds),this.tooltip.root.appendChild(e.container),this.buildButtons([].slice.call(e.container.querySelectorAll("button")),u.default),this.buildPickers([].slice.call(e.container.querySelectorAll("select")),u.default)}}]),t}(l.default);g.DEFAULTS=(0,o.default)(!0,{},l.default.DEFAULTS,{modules:{toolbar:{handlers:{link:function(e){e?this.quill.theme.tooltip.edit():this.quill.format("link",!1)}}}}});var v=function(e){function t(e,n){h(this,t);var r=f(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));return r.quill.on(s.default.events.EDITOR_CHANGE,(function(e,t,n,i){if(e===s.default.events.SELECTION_CHANGE)if(null!=t&&t.length>0&&i===s.default.sources.USER){r.show(),r.root.style.left="0px",r.root.style.width="",r.root.style.width=r.root.offsetWidth+"px";var o=r.quill.getLines(t.index,t.length);if(1===o.length)r.position(r.quill.getBounds(t));else{var a=o[o.length-1],l=r.quill.getIndex(a),u=Math.min(a.length()-1,t.index+t.length-l),d=r.quill.getBounds(new c.Range(l,u));r.position(d)}}else document.activeElement!==r.textbox&&r.quill.hasFocus()&&r.hide()})),r}return p(t,e),i(t,[{key:"listen",value:function(){var e=this;r(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"listen",this).call(this),this.root.querySelector(".ql-close").addEventListener("click",(function(){e.root.classList.remove("ql-editing")})),this.quill.on(s.default.events.SCROLL_OPTIMIZE,(function(){setTimeout((function(){if(!e.root.classList.contains("ql-hidden")){var t=e.quill.getSelection();null!=t&&e.position(e.quill.getBounds(t))}}),1)}))}},{key:"cancel",value:function(){this.show()}},{key:"position",value:function(e){var n=r(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"position",this).call(this,e),i=this.root.querySelector(".ql-tooltip-arrow");if(i.style.marginLeft="",0===n)return n;i.style.marginLeft=-1*n-i.offsetWidth/2+"px"}}]),t}(a.BaseTooltip);v.TEMPLATE=['<span class="ql-tooltip-arrow"></span>','<div class="ql-tooltip-editor">','<input type="text" data-formula="e=mc^2" data-link="https://quilljs.com" data-video="Embed URL">','<a class="ql-close"></a>',"</div>"].join(""),t.BubbleTooltip=v,t.default=g},function(e,t,n){e.exports=n(63)}]).default},e.exports=t()},7643:(e,t,n)=>{"use strict";var r=n(7565),i=Symbol.for("react.element"),o=Symbol.for("react.fragment"),s=Object.prototype.hasOwnProperty,a=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,l={key:!0,ref:!0,__self:!0,__source:!0};function c(e,t,n){var r,o={},c=null,u=null;for(r in void 0!==n&&(c=""+n),void 0!==t.key&&(c=""+t.key),void 0!==t.ref&&(u=t.ref),t)s.call(t,r)&&!l.hasOwnProperty(r)&&(o[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===o[r]&&(o[r]=t[r]);return{$$typeof:i,type:e,key:c,ref:u,props:o,_owner:a.current}}t.Fragment=o,t.jsx=c,t.jsxs=c},8540:(e,t)=>{"use strict";var n=Symbol.for("react.element"),r=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),o=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),a=Symbol.for("react.provider"),l=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),f=Symbol.iterator;var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},m=Object.assign,g={};function v(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||p}function y(){}function b(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||p}v.prototype.isReactComponent={},v.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},v.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},y.prototype=v.prototype;var w=b.prototype=new y;w.constructor=b,m(w,v.prototype),w.isPureReactComponent=!0;var A=Array.isArray,_=Object.prototype.hasOwnProperty,x={current:null},S={key:!0,ref:!0,__self:!0,__source:!0};function k(e,t,r){var i,o={},s=null,a=null;if(null!=t)for(i in void 0!==t.ref&&(a=t.ref),void 0!==t.key&&(s=""+t.key),t)_.call(t,i)&&!S.hasOwnProperty(i)&&(o[i]=t[i]);var l=arguments.length-2;if(1===l)o.children=r;else if(1<l){for(var c=Array(l),u=0;u<l;u++)c[u]=arguments[u+2];o.children=c}if(e&&e.defaultProps)for(i in l=e.defaultProps)void 0===o[i]&&(o[i]=l[i]);return{$$typeof:n,type:e,key:s,ref:a,props:o,_owner:x.current}}function E(e){return"object"===typeof e&&null!==e&&e.$$typeof===n}var C=/\/+/g;function T(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function N(e,t,i,o,s){var a=typeof e;"undefined"!==a&&"boolean"!==a||(e=null);var l=!1;if(null===e)l=!0;else switch(a){case"string":case"number":l=!0;break;case"object":switch(e.$$typeof){case n:case r:l=!0}}if(l)return s=s(l=e),e=""===o?"."+T(l,0):o,A(s)?(i="",null!=e&&(i=e.replace(C,"$&/")+"/"),N(s,t,i,"",(function(e){return e}))):null!=s&&(E(s)&&(s=function(e,t){return{$$typeof:n,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(s,i+(!s.key||l&&l.key===s.key?"":(""+s.key).replace(C,"$&/")+"/")+e)),t.push(s)),1;if(l=0,o=""===o?".":o+":",A(e))for(var c=0;c<e.length;c++){var u=o+T(a=e[c],c);l+=N(a,t,i,u,s)}else if(u=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=f&&e[f]||e["@@iterator"])?e:null}(e),"function"===typeof u)for(e=u.call(e),c=0;!(a=e.next()).done;)l+=N(a=a.value,t,i,u=o+T(a,c++),s);else if("object"===a)throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return l}function O(e,t,n){if(null==e)return e;var r=[],i=0;return N(e,r,"","",(function(e){return t.call(n,e,i++)})),r}function I(e){if(-1===e._status){var t=e._result;(t=t()).then((function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)}),(function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)})),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var D={current:null},j={transition:null},P={ReactCurrentDispatcher:D,ReactCurrentBatchConfig:j,ReactCurrentOwner:x};t.Children={map:O,forEach:function(e,t,n){O(e,(function(){t.apply(this,arguments)}),n)},count:function(e){var t=0;return O(e,(function(){t++})),t},toArray:function(e){return O(e,(function(e){return e}))||[]},only:function(e){if(!E(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=v,t.Fragment=i,t.Profiler=s,t.PureComponent=b,t.StrictMode=o,t.Suspense=u,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=P,t.cloneElement=function(e,t,r){if(null===e||void 0===e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var i=m({},e.props),o=e.key,s=e.ref,a=e._owner;if(null!=t){if(void 0!==t.ref&&(s=t.ref,a=x.current),void 0!==t.key&&(o=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in t)_.call(t,c)&&!S.hasOwnProperty(c)&&(i[c]=void 0===t[c]&&void 0!==l?l[c]:t[c])}var c=arguments.length-2;if(1===c)i.children=r;else if(1<c){l=Array(c);for(var u=0;u<c;u++)l[u]=arguments[u+2];i.children=l}return{$$typeof:n,type:e.type,key:o,ref:s,props:i,_owner:a}},t.createContext=function(e){return(e={$$typeof:l,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:a,_context:e},e.Consumer=e},t.createElement=k,t.createFactory=function(e){var t=k.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:c,render:e}},t.isValidElement=E,t.lazy=function(e){return{$$typeof:h,_payload:{_status:-1,_result:e},_init:I}},t.memo=function(e,t){return{$$typeof:d,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=j.transition;j.transition={};try{e()}finally{j.transition=t}},t.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")},t.useCallback=function(e,t){return D.current.useCallback(e,t)},t.useContext=function(e){return D.current.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e){return D.current.useDeferredValue(e)},t.useEffect=function(e,t){return D.current.useEffect(e,t)},t.useId=function(){return D.current.useId()},t.useImperativeHandle=function(e,t,n){return D.current.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return D.current.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return D.current.useLayoutEffect(e,t)},t.useMemo=function(e,t){return D.current.useMemo(e,t)},t.useReducer=function(e,t,n){return D.current.useReducer(e,t,n)},t.useRef=function(e){return D.current.useRef(e)},t.useState=function(e){return D.current.useState(e)},t.useSyncExternalStore=function(e,t,n){return D.current.useSyncExternalStore(e,t,n)},t.useTransition=function(){return D.current.useTransition()},t.version="18.2.0"},7565:(e,t,n)=>{"use strict";e.exports=n(8540)},7929:(e,t,n)=>{"use strict";e.exports=n(7643)},8274:(e,t)=>{"use strict";t.x=void 0;t.x=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if("undefined"===typeof window)return{persistAtom:()=>{}};const{key:t="recoil-persist",storage:n=localStorage,converter:r=JSON}=e,i=(e,t,n,r)=>{r?delete t[n]:t[n]=e,a(t)},o=()=>{const e=n.getItem(t);return null===e||void 0===e?{}:"string"===typeof e?s(e):"function"===typeof e.then?e.then(s):{}},s=e=>{if(void 0===e)return{};try{return r.parse(e)}catch(t){return console.error(t),{}}},a=e=>{try{"function"===typeof n.mergeItem?n.mergeItem(t,r.stringify(e)):n.setItem(t,r.stringify(e))}catch(i){console.error(i)}};return{persistAtom:e=>{let{onSet:t,node:n,trigger:r,setSelf:s}=e;if("get"===r){const e=o();"function"===typeof e.then&&e.then((e=>{e.hasOwnProperty(n.key)&&s(e[n.key])})),e.hasOwnProperty(n.key)&&s(e[n.key])}t((async(e,t,r)=>{const s=o();"function"===typeof s.then?s.then((t=>i(e,t,n.key,r))):i(e,s,n.key,r)}))}}}},7508:(e,t)=>{"use strict";function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,i=e[r];if(!(0<o(i,t)))break e;e[r]=t,e[n]=i,n=r}}function r(e){return 0===e.length?null:e[0]}function i(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,i=e.length,s=i>>>1;r<s;){var a=2*(r+1)-1,l=e[a],c=a+1,u=e[c];if(0>o(l,n))c<i&&0>o(u,l)?(e[r]=u,e[c]=n,r=c):(e[r]=l,e[a]=n,r=a);else{if(!(c<i&&0>o(u,n)))break e;e[r]=u,e[c]=n,r=c}}}return t}function o(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if("object"===typeof performance&&"function"===typeof performance.now){var s=performance;t.unstable_now=function(){return s.now()}}else{var a=Date,l=a.now();t.unstable_now=function(){return a.now()-l}}var c=[],u=[],d=1,h=null,f=3,p=!1,m=!1,g=!1,v="function"===typeof setTimeout?setTimeout:null,y="function"===typeof clearTimeout?clearTimeout:null,b="undefined"!==typeof setImmediate?setImmediate:null;function w(e){for(var t=r(u);null!==t;){if(null===t.callback)i(u);else{if(!(t.startTime<=e))break;i(u),t.sortIndex=t.expirationTime,n(c,t)}t=r(u)}}function A(e){if(g=!1,w(e),!m)if(null!==r(c))m=!0,j(_);else{var t=r(u);null!==t&&P(A,t.startTime-e)}}function _(e,n){m=!1,g&&(g=!1,y(E),E=-1),p=!0;var o=f;try{for(w(n),h=r(c);null!==h&&(!(h.expirationTime>n)||e&&!N());){var s=h.callback;if("function"===typeof s){h.callback=null,f=h.priorityLevel;var a=s(h.expirationTime<=n);n=t.unstable_now(),"function"===typeof a?h.callback=a:h===r(c)&&i(c),w(n)}else i(c);h=r(c)}if(null!==h)var l=!0;else{var d=r(u);null!==d&&P(A,d.startTime-n),l=!1}return l}finally{h=null,f=o,p=!1}}"undefined"!==typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var x,S=!1,k=null,E=-1,C=5,T=-1;function N(){return!(t.unstable_now()-T<C)}function O(){if(null!==k){var e=t.unstable_now();T=e;var n=!0;try{n=k(!0,e)}finally{n?x():(S=!1,k=null)}}else S=!1}if("function"===typeof b)x=function(){b(O)};else if("undefined"!==typeof MessageChannel){var I=new MessageChannel,D=I.port2;I.port1.onmessage=O,x=function(){D.postMessage(null)}}else x=function(){v(O,0)};function j(e){k=e,S||(S=!0,x())}function P(e,n){E=v((function(){e(t.unstable_now())}),n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){m||p||(m=!0,j(_))},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):C=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_getFirstCallbackNode=function(){return r(c)},t.unstable_next=function(e){switch(f){case 1:case 2:case 3:var t=3;break;default:t=f}var n=f;f=t;try{return e()}finally{f=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=f;f=e;try{return t()}finally{f=n}},t.unstable_scheduleCallback=function(e,i,o){var s=t.unstable_now();switch("object"===typeof o&&null!==o?o="number"===typeof(o=o.delay)&&0<o?s+o:s:o=s,e){case 1:var a=-1;break;case 2:a=250;break;case 5:a=1073741823;break;case 4:a=1e4;break;default:a=5e3}return e={id:d++,callback:i,priorityLevel:e,startTime:o,expirationTime:a=o+a,sortIndex:-1},o>s?(e.sortIndex=o,n(u,e),null===r(c)&&e===r(u)&&(g?(y(E),E=-1):g=!0,P(A,o-s))):(e.sortIndex=a,n(c,e),m||p||(m=!0,j(_))),e},t.unstable_shouldYield=N,t.unstable_wrapCallback=function(e){var t=f;return function(){var n=f;f=t;try{return e.apply(this,arguments)}finally{f=n}}}},9611:(e,t,n)=>{"use strict";e.exports=n(7508)},1534:e=>{"use strict";var t=function(){};e.exports=t},3163:(e,t)=>{var n;!function(){"use strict";var r={}.hasOwnProperty;function i(){for(var e="",t=0;t<arguments.length;t++){var n=arguments[t];n&&(e=s(e,o(n)))}return e}function o(e){if("string"===typeof e||"number"===typeof e)return e;if("object"!==typeof e)return"";if(Array.isArray(e))return i.apply(null,e);if(e.toString!==Object.prototype.toString&&!e.toString.toString().includes("[native code]"))return e.toString();var t="";for(var n in e)r.call(e,n)&&e[n]&&(t=s(t,n));return t}function s(e,t){return t?e?e+" "+t:e+t:e}e.exports?(i.default=i,e.exports=i):void 0===(n=function(){return i}.apply(t,[]))||(e.exports=n)}()}},t={};function r(n){var i=t[n];if(void 0!==i)return i.exports;var o=t[n]={id:n,loaded:!1,exports:{}};return e[n].call(o.exports,o,o.exports,r),o.loaded=!0,o.exports}r.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return r.d(t,{a:t}),t},(()=>{var e,t=Object.getPrototypeOf?e=>Object.getPrototypeOf(e):e=>e.__proto__;r.t=function(n,i){if(1&i&&(n=this(n)),8&i)return n;if("object"===typeof n&&n){if(4&i&&n.__esModule)return n;if(16&i&&"function"===typeof n.then)return n}var o=Object.create(null);r.r(o);var s={};e=e||[null,t({}),t([]),t(t)];for(var a=2&i&&n;"object"==typeof a&&!~e.indexOf(a);a=t(a))Object.getOwnPropertyNames(a).forEach((e=>s[e]=()=>n[e]));return s.default=()=>n,r.d(o,s),o}})(),r.d=(e,t)=>{for(var n in t)r.o(t,n)&&!r.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},r.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),r.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),r.r=e=>{"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.nmd=e=>(e.paths=[],e.children||(e.children=[]),e),r.p="/",(()=>{"use strict";var e={};r.r(e),r.d(e,{hasBrowserEnv:()=>Rn,hasStandardBrowserEnv:()=>Ln,hasStandardBrowserWebWorkerEnv:()=>Bn});var t,i=r(7565),o=r.t(i,2),s=r(6501);function a(){return a=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a.apply(this,arguments)}!function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"}(t||(t={}));const l="popstate";function c(e){return void 0===e&&(e={}),g((function(e,t){let{pathname:n,search:r,hash:i}=e.location;return f("",{pathname:n,search:r,hash:i},t.state&&t.state.usr||null,t.state&&t.state.key||"default")}),(function(e,t){return"string"===typeof t?t:p(t)}),null,e)}function u(e,t){if(!1===e||null===e||"undefined"===typeof e)throw new Error(t)}function d(e,t){if(!e){"undefined"!==typeof console&&console.warn(t);try{throw new Error(t)}catch(n){}}}function h(e,t){return{usr:e.state,key:e.key,idx:t}}function f(e,t,n,r){return void 0===n&&(n=null),a({pathname:"string"===typeof e?e:e.pathname,search:"",hash:""},"string"===typeof t?m(t):t,{state:n,key:t&&t.key||r||Math.random().toString(36).substr(2,8)})}function p(e){let{pathname:t="/",search:n="",hash:r=""}=e;return n&&"?"!==n&&(t+="?"===n.charAt(0)?n:"?"+n),r&&"#"!==r&&(t+="#"===r.charAt(0)?r:"#"+r),t}function m(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function g(e,n,r,i){void 0===i&&(i={});let{window:o=document.defaultView,v5Compat:s=!1}=i,c=o.history,d=t.Pop,m=null,g=v();function v(){return(c.state||{idx:null}).idx}function y(){d=t.Pop;let e=v(),n=null==e?null:e-g;g=e,m&&m({action:d,location:w.location,delta:n})}function b(e){let t="null"!==o.location.origin?o.location.origin:o.location.href,n="string"===typeof e?e:p(e);return n=n.replace(/ $/,"%20"),u(t,"No window.location.(origin|href) available to create URL for href: "+n),new URL(n,t)}null==g&&(g=0,c.replaceState(a({},c.state,{idx:g}),""));let w={get action(){return d},get location(){return e(o,c)},listen(e){if(m)throw new Error("A history only accepts one active listener");return o.addEventListener(l,y),m=e,()=>{o.removeEventListener(l,y),m=null}},createHref:e=>n(o,e),createURL:b,encodeLocation(e){let t=b(e);return{pathname:t.pathname,search:t.search,hash:t.hash}},push:function(e,n){d=t.Push;let i=f(w.location,e,n);r&&r(i,e),g=v()+1;let a=h(i,g),l=w.createHref(i);try{c.pushState(a,"",l)}catch(u){if(u instanceof DOMException&&"DataCloneError"===u.name)throw u;o.location.assign(l)}s&&m&&m({action:d,location:w.location,delta:1})},replace:function(e,n){d=t.Replace;let i=f(w.location,e,n);r&&r(i,e),g=v();let o=h(i,g),a=w.createHref(i);c.replaceState(o,"",a),s&&m&&m({action:d,location:w.location,delta:0})},go:e=>c.go(e)};return w}var v;!function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"}(v||(v={}));const y=new Set(["lazy","caseSensitive","path","id","index","children"]);function b(e,t,n,r){return void 0===n&&(n=[]),void 0===r&&(r={}),e.map(((e,i)=>{let o=[...n,i],s="string"===typeof e.id?e.id:o.join("-");if(u(!0!==e.index||!e.children,"Cannot specify children on an index route"),u(!r[s],'Found a route id collision on id "'+s+"\".  Route id's must be globally unique within Data Router usages"),function(e){return!0===e.index}(e)){let n=a({},e,t(e),{id:s});return r[s]=n,n}{let n=a({},e,t(e),{id:s,children:void 0});return r[s]=n,e.children&&(n.children=b(e.children,t,o,r)),n}}))}function w(e,t,n){void 0===n&&(n="/");let r=P(("string"===typeof t?m(t):t).pathname||"/",n);if(null==r)return null;let i=A(e);!function(e){e.sort(((e,t)=>e.score!==t.score?t.score-e.score:function(e,t){let n=e.length===t.length&&e.slice(0,-1).every(((e,n)=>e===t[n]));return n?e[e.length-1]-t[t.length-1]:0}(e.routesMeta.map((e=>e.childrenIndex)),t.routesMeta.map((e=>e.childrenIndex)))))}(i);let o=null;for(let s=0;null==o&&s<i.length;++s){let e=j(r);o=I(i[s],e)}return o}function A(e,t,n,r){void 0===t&&(t=[]),void 0===n&&(n=[]),void 0===r&&(r="");let i=(e,i,o)=>{let s={relativePath:void 0===o?e.path||"":o,caseSensitive:!0===e.caseSensitive,childrenIndex:i,route:e};s.relativePath.startsWith("/")&&(u(s.relativePath.startsWith(r),'Absolute route path "'+s.relativePath+'" nested under path "'+r+'" is not valid. An absolute child route path must start with the combined path of all its parent routes.'),s.relativePath=s.relativePath.slice(r.length));let a=U([r,s.relativePath]),l=n.concat(s);e.children&&e.children.length>0&&(u(!0!==e.index,'Index routes must not have child routes. Please remove all child routes from route path "'+a+'".'),A(e.children,t,l,a)),(null!=e.path||e.index)&&t.push({path:a,score:O(a,e.index),routesMeta:l})};return e.forEach(((e,t)=>{var n;if(""!==e.path&&null!=(n=e.path)&&n.includes("?"))for(let r of _(e.path))i(e,t,r);else i(e,t)})),t}function _(e){let t=e.split("/");if(0===t.length)return[];let[n,...r]=t,i=n.endsWith("?"),o=n.replace(/\?$/,"");if(0===r.length)return i?[o,""]:[o];let s=_(r.join("/")),a=[];return a.push(...s.map((e=>""===e?o:[o,e].join("/")))),i&&a.push(...s),a.map((t=>e.startsWith("/")&&""===t?"/":t))}const x=/^:[\w-]+$/,S=3,k=2,E=1,C=10,T=-2,N=e=>"*"===e;function O(e,t){let n=e.split("/"),r=n.length;return n.some(N)&&(r+=T),t&&(r+=k),n.filter((e=>!N(e))).reduce(((e,t)=>e+(x.test(t)?S:""===t?E:C)),r)}function I(e,t){let{routesMeta:n}=e,r={},i="/",o=[];for(let s=0;s<n.length;++s){let e=n[s],a=s===n.length-1,l="/"===i?t:t.slice(i.length)||"/",c=D({path:e.relativePath,caseSensitive:e.caseSensitive,end:a},l);if(!c)return null;Object.assign(r,c.params);let u=e.route;o.push({params:r,pathname:U([i,c.pathname]),pathnameBase:F(U([i,c.pathnameBase])),route:u}),"/"!==c.pathnameBase&&(i=U([i,c.pathnameBase]))}return o}function D(e,t){"string"===typeof e&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=function(e,t,n){void 0===t&&(t=!1);void 0===n&&(n=!0);d("*"===e||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were "'+e.replace(/\*$/,"/*")+'" because the `*` character must always follow a `/` in the pattern. To get rid of this warning, please change the route path to "'+e.replace(/\*$/,"/*")+'".');let r=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,((e,t,n)=>(r.push({paramName:t,isOptional:null!=n}),n?"/?([^\\/]+)?":"/([^\\/]+)")));e.endsWith("*")?(r.push({paramName:"*"}),i+="*"===e||"/*"===e?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":""!==e&&"/"!==e&&(i+="(?:(?=\\/|$))");let o=new RegExp(i,t?void 0:"i");return[o,r]}(e.path,e.caseSensitive,e.end),i=t.match(n);if(!i)return null;let o=i[0],s=o.replace(/(.)\/+$/,"$1"),a=i.slice(1);return{params:r.reduce(((e,t,n)=>{let{paramName:r,isOptional:i}=t;if("*"===r){let e=a[n]||"";s=o.slice(0,o.length-e.length).replace(/(.)\/+$/,"$1")}const l=a[n];return e[r]=i&&!l?void 0:(l||"").replace(/%2F/g,"/"),e}),{}),pathname:o,pathnameBase:s,pattern:e}}function j(e){try{return e.split("/").map((e=>decodeURIComponent(e).replace(/\//g,"%2F"))).join("/")}catch(t){return d(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent encoding ('+t+")."),e}}function P(e,t){if("/"===t)return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&"/"!==r?null:e.slice(n)||"/"}function R(e,t,n,r){return"Cannot include a '"+e+"' character in a manually specified `to."+t+"` field ["+JSON.stringify(r)+"].  Please separate it out to the `to."+n+'` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.'}function L(e){return e.filter(((e,t)=>0===t||e.route.path&&e.route.path.length>0))}function M(e,t){let n=L(e);return t?n.map(((t,n)=>n===e.length-1?t.pathname:t.pathnameBase)):n.map((e=>e.pathnameBase))}function B(e,t,n,r){let i;void 0===r&&(r=!1),"string"===typeof e?i=m(e):(i=a({},e),u(!i.pathname||!i.pathname.includes("?"),R("?","pathname","search",i)),u(!i.pathname||!i.pathname.includes("#"),R("#","pathname","hash",i)),u(!i.search||!i.search.includes("#"),R("#","search","hash",i)));let o,s=""===e||""===i.pathname,l=s?"/":i.pathname;if(null==l)o=n;else{let e=t.length-1;if(!r&&l.startsWith("..")){let t=l.split("/");for(;".."===t[0];)t.shift(),e-=1;i.pathname=t.join("/")}o=e>=0?t[e]:"/"}let c=function(e,t){void 0===t&&(t="/");let{pathname:n,search:r="",hash:i=""}="string"===typeof e?m(e):e,o=n?n.startsWith("/")?n:function(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach((e=>{".."===e?n.length>1&&n.pop():"."!==e&&n.push(e)})),n.length>1?n.join("/"):"/"}(n,t):t;return{pathname:o,search:V(r),hash:q(i)}}(i,o),d=l&&"/"!==l&&l.endsWith("/"),h=(s||"."===l)&&n.endsWith("/");return c.pathname.endsWith("/")||!d&&!h||(c.pathname+="/"),c}const U=e=>e.join("/").replace(/\/\/+/g,"/"),F=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),V=e=>e&&"?"!==e?e.startsWith("?")?e:"?"+e:"",q=e=>e&&"#"!==e?e.startsWith("#")?e:"#"+e:"";Error;class H{constructor(e,t,n,r){void 0===r&&(r=!1),this.status=e,this.statusText=t||"",this.internal=r,n instanceof Error?(this.data=n.toString(),this.error=n):this.data=n}}function z(e){return null!=e&&"number"===typeof e.status&&"string"===typeof e.statusText&&"boolean"===typeof e.internal&&"data"in e}const G=["post","put","patch","delete"],Y=new Set(G),W=["get",...G],K=new Set(W),Q=new Set([301,302,303,307,308]),J=new Set([307,308]),X={state:"idle",location:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},Z={state:"idle",data:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},$={state:"unblocked",proceed:void 0,reset:void 0,location:void 0},ee=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,te=e=>({hasErrorBoundary:Boolean(e.hasErrorBoundary)}),ne="remix-router-transitions";function re(e){const n=e.window?e.window:"undefined"!==typeof window?window:void 0,r="undefined"!==typeof n&&"undefined"!==typeof n.document&&"undefined"!==typeof n.document.createElement,i=!r;let o;if(u(e.routes.length>0,"You must provide a non-empty routes array to createRouter"),e.mapRouteProperties)o=e.mapRouteProperties;else if(e.detectErrorBoundary){let t=e.detectErrorBoundary;o=e=>({hasErrorBoundary:t(e)})}else o=te;let s,l,c={},h=b(e.routes,o,void 0,c),p=e.basename||"/",m=a({v7_fetcherPersist:!1,v7_normalizeFormMethod:!1,v7_partialHydration:!1,v7_prependBasename:!1,v7_relativeSplatPath:!1},e.future),g=null,y=new Set,A=null,_=null,x=null,S=null!=e.hydrationData,k=w(h,e.history.location,p),E=null;if(null==k){let t=we(404,{pathname:e.history.location.pathname}),{matches:n,route:r}=be(h);k=n,E={[r.id]:t}}let C,T=k.some((e=>e.route.lazy)),N=k.some((e=>e.route.loader));if(T)l=!1;else if(N)if(m.v7_partialHydration){let t=e.hydrationData?e.hydrationData.loaderData:null,n=e.hydrationData?e.hydrationData.errors:null,r=e=>!e.route.loader||!0!==e.route.loader.hydrate&&(t&&void 0!==t[e.route.id]||n&&void 0!==n[e.route.id]);if(n){let e=k.findIndex((e=>void 0!==n[e.route.id]));l=k.slice(0,e+1).every(r)}else l=k.every(r)}else l=null!=e.hydrationData;else l=!0;let O,I={historyAction:e.history.action,location:e.history.location,matches:k,initialized:l,navigation:X,restoreScrollPosition:null==e.hydrationData&&null,preventScrollReset:!1,revalidation:"idle",loaderData:e.hydrationData&&e.hydrationData.loaderData||{},actionData:e.hydrationData&&e.hydrationData.actionData||null,errors:e.hydrationData&&e.hydrationData.errors||E,fetchers:new Map,blockers:new Map},D=t.Pop,j=!1,R=!1,L=new Map,M=null,B=!1,U=!1,F=[],V=[],q=new Map,H=0,z=-1,G=new Map,Y=new Set,W=new Map,K=new Map,Q=new Set,re=new Map,se=new Map,le=!1;function ce(e,t){void 0===t&&(t={}),I=a({},I,e);let n=[],r=[];m.v7_fetcherPersist&&I.fetchers.forEach(((e,t)=>{"idle"===e.state&&(Q.has(t)?r.push(t):n.push(t))})),[...y].forEach((e=>e(I,{deletedFetchers:r,unstable_viewTransitionOpts:t.viewTransitionOpts,unstable_flushSync:!0===t.flushSync}))),m.v7_fetcherPersist&&(n.forEach((e=>I.fetchers.delete(e))),r.forEach((e=>Me(e))))}function ue(n,r,i){var o,l;let c,{flushSync:u}=void 0===i?{}:i,d=null!=I.actionData&&null!=I.navigation.formMethod&&Te(I.navigation.formMethod)&&"loading"===I.navigation.state&&!0!==(null==(o=n.state)?void 0:o._isRedirect);c=r.actionData?Object.keys(r.actionData).length>0?r.actionData:null:d?I.actionData:null;let f=r.loaderData?ve(I.loaderData,r.loaderData,r.matches||[],r.errors):I.loaderData,p=I.blockers;p.size>0&&(p=new Map(p),p.forEach(((e,t)=>p.set(t,$))));let m,g=!0===j||null!=I.navigation.formMethod&&Te(I.navigation.formMethod)&&!0!==(null==(l=n.state)?void 0:l._isRedirect);if(s&&(h=s,s=void 0),B||D===t.Pop||(D===t.Push?e.history.push(n,n.state):D===t.Replace&&e.history.replace(n,n.state)),D===t.Pop){let e=L.get(I.location.pathname);e&&e.has(n.pathname)?m={currentLocation:I.location,nextLocation:n}:L.has(n.pathname)&&(m={currentLocation:n,nextLocation:I.location})}else if(R){let e=L.get(I.location.pathname);e?e.add(n.pathname):(e=new Set([n.pathname]),L.set(I.location.pathname,e)),m={currentLocation:I.location,nextLocation:n}}ce(a({},r,{actionData:c,loaderData:f,historyAction:D,location:n,initialized:!0,navigation:X,revalidation:"idle",restoreScrollPosition:We(n,r.matches||I.matches),preventScrollReset:g,blockers:p}),{viewTransitionOpts:m,flushSync:!0===u}),D=t.Pop,j=!1,R=!1,B=!1,U=!1,F=[],V=[]}async function fe(n,r,i){O&&O.abort(),O=null,D=n,B=!0===(i&&i.startUninterruptedRevalidation),function(e,t){if(A&&x){let n=Ye(e,t);A[n]=x()}}(I.location,I.matches),j=!0===(i&&i.preventScrollReset),R=!0===(i&&i.enableViewTransition);let l=s||h,u=i&&i.overrideNavigation,d=w(l,r,p),f=!0===(i&&i.flushSync);if(!d){let e=we(404,{pathname:r.pathname}),{matches:t,route:n}=be(l);return Ge(),void ue(r,{matches:t,loaderData:{},errors:{[n.id]:e}},{flushSync:f})}if(I.initialized&&!U&&function(e,t){if(e.pathname!==t.pathname||e.search!==t.search)return!1;if(""===e.hash)return""!==t.hash;if(e.hash===t.hash)return!0;if(""!==t.hash)return!0;return!1}(I.location,r)&&!(i&&i.submission&&Te(i.submission.formMethod)))return void ue(r,{matches:d},{flushSync:f});O=new AbortController;let g,y,b=he(e.history,r,O.signal,i&&i.submission);if(i&&i.pendingError)y={[ye(d).route.id]:i.pendingError};else if(i&&i.submission&&Te(i.submission.formMethod)){let e=await async function(e,n,r,i,s){void 0===s&&(s={});_e();let a,l=function(e,t){let n={state:"submitting",location:e,formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text};return n}(n,r);ce({navigation:l},{flushSync:!0===s.flushSync});let u=De(i,n);if(u.route.action||u.route.lazy){if(a=await de("action",e,u,i,c,o,p,m.v7_relativeSplatPath),e.signal.aborted)return{shortCircuited:!0}}else a={type:v.error,error:we(405,{method:e.method,pathname:n.pathname,routeId:u.route.id})};if(ke(a)){let e;return e=s&&null!=s.replace?s.replace:a.location===I.location.pathname+I.location.search,await pe(I,a,{submission:r,replace:e}),{shortCircuited:!0}}if(Se(a)){let e=ye(i,u.route.id);return!0!==(s&&s.replace)&&(D=t.Push),{pendingActionData:{},pendingActionError:{[e.route.id]:a.error}}}if(xe(a))throw we(400,{type:"defer-action"});return{pendingActionData:{[u.route.id]:a.data}}}(b,r,i.submission,d,{replace:i.replace,flushSync:f});if(e.shortCircuited)return;g=e.pendingActionData,y=e.pendingActionError,u=Pe(r,i.submission),f=!1,b=new Request(b.url,{signal:b.signal})}let{shortCircuited:_,loaderData:S,errors:k}=await async function(t,n,r,i,o,l,c,u,d,f,g){let v=i||Pe(n,o),y=o||l||je(v),b=s||h,[w,A]=ae(e.history,I,r,y,n,m.v7_partialHydration&&!0===u,U,F,V,Q,W,Y,b,p,f,g);if(Ge((e=>!(r&&r.some((t=>t.route.id===e)))||w&&w.some((t=>t.route.id===e)))),z=++H,0===w.length&&0===A.length){let e=Fe();return ue(n,a({matches:r,loaderData:{},errors:g||null},f?{actionData:f}:{},e?{fetchers:new Map(I.fetchers)}:{}),{flushSync:d}),{shortCircuited:!0}}if(!B&&(!m.v7_partialHydration||!u)){A.forEach((e=>{let t=I.fetchers.get(e.key),n=Re(void 0,t?t.data:void 0);I.fetchers.set(e.key,n)}));let e=f||I.actionData;ce(a({navigation:v},e?0===Object.keys(e).length?{actionData:null}:{actionData:e}:{},A.length>0?{fetchers:new Map(I.fetchers)}:{}),{flushSync:d})}A.forEach((e=>{q.has(e.key)&&Be(e.key),e.controller&&q.set(e.key,e.controller)}));let _=()=>A.forEach((e=>Be(e.key)));O&&O.signal.addEventListener("abort",_);let{results:x,loaderResults:S,fetcherResults:k}=await me(I.matches,r,w,A,t);if(t.signal.aborted)return{shortCircuited:!0};O&&O.signal.removeEventListener("abort",_);A.forEach((e=>q.delete(e.key)));let E=Ae(x);if(E){if(E.idx>=w.length){let e=A[E.idx-w.length].key;Y.add(e)}return await pe(I,E.result,{replace:c}),{shortCircuited:!0}}let{loaderData:C,errors:T}=ge(I,r,w,S,g,A,k,re);re.forEach(((e,t)=>{e.subscribe((n=>{(n||e.done)&&re.delete(t)}))})),m.v7_partialHydration&&u&&I.errors&&Object.entries(I.errors).filter((e=>{let[t]=e;return!w.some((e=>e.route.id===t))})).forEach((e=>{let[t,n]=e;T=Object.assign(T||{},{[t]:n})}));let N=Fe(),D=Ve(z),j=N||D||A.length>0;return a({loaderData:C,errors:T},j?{fetchers:new Map(I.fetchers)}:{})}(b,r,d,u,i&&i.submission,i&&i.fetcherSubmission,i&&i.replace,i&&!0===i.initialHydration,f,g,y);_||(O=null,ue(r,a({matches:d},g?{actionData:g}:{},{loaderData:S,errors:k})))}async function pe(i,o,s){let{submission:l,fetcherSubmission:c,replace:d}=void 0===s?{}:s;o.revalidate&&(U=!0);let h=f(i.location,o.location,{_isRedirect:!0});if(u(h,"Expected a location on the redirect navigation"),r){let t=!1;if(o.reloadDocument)t=!0;else if(ee.test(o.location)){const r=e.history.createURL(o.location);t=r.origin!==n.location.origin||null==P(r.pathname,p)}if(t)return void(d?n.location.replace(o.location):n.location.assign(o.location))}O=null;let m=!0===d?t.Replace:t.Push,{formMethod:g,formAction:v,formEncType:y}=i.navigation;!l&&!c&&g&&v&&y&&(l=je(i.navigation));let b=l||c;if(J.has(o.status)&&b&&Te(b.formMethod))await fe(m,h,{submission:a({},b,{formAction:o.location}),preventScrollReset:j});else{let e=Pe(h,l);await fe(m,h,{overrideNavigation:e,fetcherSubmission:c,preventScrollReset:j})}}async function me(t,n,r,i,s){let a=await Promise.all([...r.map((e=>de("loader",s,e,n,c,o,p,m.v7_relativeSplatPath))),...i.map((t=>{if(t.matches&&t.match&&t.controller)return de("loader",he(e.history,t.path,t.controller.signal),t.match,t.matches,c,o,p,m.v7_relativeSplatPath);return{type:v.error,error:we(404,{pathname:t.path})}}))]),l=a.slice(0,r.length),u=a.slice(r.length);return await Promise.all([Ne(t,r,l,l.map((()=>s.signal)),!1,I.loaderData),Ne(t,i.map((e=>e.match)),u,i.map((e=>e.controller?e.controller.signal:null)),!0)]),{results:a,loaderResults:l,fetcherResults:u}}function _e(){U=!0,F.push(...Ge()),W.forEach(((e,t)=>{q.has(t)&&(V.push(t),Be(t))}))}function Ee(e,t,n){void 0===n&&(n={}),I.fetchers.set(e,t),ce({fetchers:new Map(I.fetchers)},{flushSync:!0===(n&&n.flushSync)})}function Ce(e,t,n,r){void 0===r&&(r={});let i=ye(I.matches,t);Me(e),ce({errors:{[i.route.id]:n},fetchers:new Map(I.fetchers)},{flushSync:!0===(r&&r.flushSync)})}function Ie(e){return m.v7_fetcherPersist&&(K.set(e,(K.get(e)||0)+1),Q.has(e)&&Q.delete(e)),I.fetchers.get(e)||Z}function Me(e){let t=I.fetchers.get(e);!q.has(e)||t&&"loading"===t.state&&G.has(e)||Be(e),W.delete(e),G.delete(e),Y.delete(e),Q.delete(e),I.fetchers.delete(e)}function Be(e){let t=q.get(e);u(t,"Expected fetch controller: "+e),t.abort(),q.delete(e)}function Ue(e){for(let t of e){let e=Le(Ie(t).data);I.fetchers.set(t,e)}}function Fe(){let e=[],t=!1;for(let n of Y){let r=I.fetchers.get(n);u(r,"Expected fetcher: "+n),"loading"===r.state&&(Y.delete(n),e.push(n),t=!0)}return Ue(e),t}function Ve(e){let t=[];for(let[n,r]of G)if(r<e){let e=I.fetchers.get(n);u(e,"Expected fetcher: "+n),"loading"===e.state&&(Be(n),G.delete(n),t.push(n))}return Ue(t),t.length>0}function qe(e){I.blockers.delete(e),se.delete(e)}function He(e,t){let n=I.blockers.get(e)||$;u("unblocked"===n.state&&"blocked"===t.state||"blocked"===n.state&&"blocked"===t.state||"blocked"===n.state&&"proceeding"===t.state||"blocked"===n.state&&"unblocked"===t.state||"proceeding"===n.state&&"unblocked"===t.state,"Invalid blocker state transition: "+n.state+" -> "+t.state);let r=new Map(I.blockers);r.set(e,t),ce({blockers:r})}function ze(e){let{currentLocation:t,nextLocation:n,historyAction:r}=e;if(0===se.size)return;se.size>1&&d(!1,"A router only supports one blocker at a time");let i=Array.from(se.entries()),[o,s]=i[i.length-1],a=I.blockers.get(o);return a&&"proceeding"===a.state?void 0:s({currentLocation:t,nextLocation:n,historyAction:r})?o:void 0}function Ge(e){let t=[];return re.forEach(((n,r)=>{e&&!e(r)||(n.cancel(),t.push(r),re.delete(r))})),t}function Ye(e,t){if(_){return _(e,t.map((e=>function(e,t){let{route:n,pathname:r,params:i}=e;return{id:n.id,pathname:r,params:i,data:t[n.id],handle:n.handle}}(e,I.loaderData))))||e.key}return e.key}function We(e,t){if(A){let n=Ye(e,t),r=A[n];if("number"===typeof r)return r}return null}return C={get basename(){return p},get future(){return m},get state(){return I},get routes(){return h},get window(){return n},initialize:function(){if(g=e.history.listen((t=>{let{action:n,location:r,delta:i}=t;if(le)return void(le=!1);d(0===se.size||null!=i,"You are trying to use a blocker on a POP navigation to a location that was not created by @remix-run/router. This will fail silently in production. This can happen if you are navigating outside the router via `window.history.pushState`/`window.location.hash` instead of using router navigation APIs.  This can also happen if you are using createHashRouter and the user manually changes the URL.");let o=ze({currentLocation:I.location,nextLocation:r,historyAction:n});return o&&null!=i?(le=!0,e.history.go(-1*i),void He(o,{state:"blocked",location:r,proceed(){He(o,{state:"proceeding",proceed:void 0,reset:void 0,location:r}),e.history.go(i)},reset(){let e=new Map(I.blockers);e.set(o,$),ce({blockers:e})}})):fe(n,r)})),r){!function(e,t){try{let n=e.sessionStorage.getItem(ne);if(n){let e=JSON.parse(n);for(let[n,r]of Object.entries(e||{}))r&&Array.isArray(r)&&t.set(n,new Set(r||[]))}}catch(n){}}(n,L);let e=()=>function(e,t){if(t.size>0){let r={};for(let[e,n]of t)r[e]=[...n];try{e.sessionStorage.setItem(ne,JSON.stringify(r))}catch(n){d(!1,"Failed to save applied view transitions in sessionStorage ("+n+").")}}}(n,L);n.addEventListener("pagehide",e),M=()=>n.removeEventListener("pagehide",e)}return I.initialized||fe(t.Pop,I.location,{initialHydration:!0}),C},subscribe:function(e){return y.add(e),()=>y.delete(e)},enableScrollRestoration:function(e,t,n){if(A=e,x=t,_=n||null,!S&&I.navigation===X){S=!0;let e=We(I.location,I.matches);null!=e&&ce({restoreScrollPosition:e})}return()=>{A=null,x=null,_=null}},navigate:async function n(r,i){if("number"===typeof r)return void e.history.go(r);let o=ie(I.location,I.matches,p,m.v7_prependBasename,r,m.v7_relativeSplatPath,null==i?void 0:i.fromRouteId,null==i?void 0:i.relative),{path:s,submission:l,error:c}=oe(m.v7_normalizeFormMethod,!1,o,i),u=I.location,d=f(I.location,s,i&&i.state);d=a({},d,e.history.encodeLocation(d));let h=i&&null!=i.replace?i.replace:void 0,g=t.Push;!0===h?g=t.Replace:!1===h||null!=l&&Te(l.formMethod)&&l.formAction===I.location.pathname+I.location.search&&(g=t.Replace);let v=i&&"preventScrollReset"in i?!0===i.preventScrollReset:void 0,y=!0===(i&&i.unstable_flushSync),b=ze({currentLocation:u,nextLocation:d,historyAction:g});if(!b)return await fe(g,d,{submission:l,pendingError:c,preventScrollReset:v,replace:i&&i.replace,enableViewTransition:i&&i.unstable_viewTransition,flushSync:y});He(b,{state:"blocked",location:d,proceed(){He(b,{state:"proceeding",proceed:void 0,reset:void 0,location:d}),n(r,i)},reset(){let e=new Map(I.blockers);e.set(b,$),ce({blockers:e})}})},fetch:function(t,n,r,a){if(i)throw new Error("router.fetch() was called during the server render, but it shouldn't be. You are likely calling a useFetcher() method in the body of your component. Try moving it to a useEffect or a callback.");q.has(t)&&Be(t);let l=!0===(a&&a.unstable_flushSync),d=s||h,f=ie(I.location,I.matches,p,m.v7_prependBasename,r,m.v7_relativeSplatPath,n,null==a?void 0:a.relative),g=w(d,f,p);if(!g)return void Ce(t,n,we(404,{pathname:f}),{flushSync:l});let{path:v,submission:y,error:b}=oe(m.v7_normalizeFormMethod,!0,f,a);if(b)return void Ce(t,n,b,{flushSync:l});let A=De(g,v);j=!0===(a&&a.preventScrollReset),y&&Te(y.formMethod)?async function(t,n,r,i,a,l,d){if(_e(),W.delete(t),!i.route.action&&!i.route.lazy){let e=we(405,{method:d.formMethod,pathname:r,routeId:n});return void Ce(t,n,e,{flushSync:l})}let f=I.fetchers.get(t);Ee(t,function(e,t){let n={state:"submitting",formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text,data:t?t.data:void 0};return n}(d,f),{flushSync:l});let g=new AbortController,v=he(e.history,r,g.signal,d);q.set(t,g);let y=H,b=await de("action",v,i,a,c,o,p,m.v7_relativeSplatPath);if(v.signal.aborted)return void(q.get(t)===g&&q.delete(t));if(m.v7_fetcherPersist&&Q.has(t)){if(ke(b)||Se(b))return void Ee(t,Le(void 0))}else{if(ke(b))return q.delete(t),z>y?void Ee(t,Le(void 0)):(Y.add(t),Ee(t,Re(d)),pe(I,b,{fetcherSubmission:d}));if(Se(b))return void Ce(t,n,b.error)}if(xe(b))throw we(400,{type:"defer-action"});let A=I.navigation.location||I.location,_=he(e.history,A,g.signal),x=s||h,S="idle"!==I.navigation.state?w(x,I.navigation.location,p):I.matches;u(S,"Didn't find any matches after fetcher action");let k=++H;G.set(t,k);let E=Re(d,b.data);I.fetchers.set(t,E);let[C,T]=ae(e.history,I,S,d,A,!1,U,F,V,Q,W,Y,x,p,{[i.route.id]:b.data},void 0);T.filter((e=>e.key!==t)).forEach((e=>{let t=e.key,n=I.fetchers.get(t),r=Re(void 0,n?n.data:void 0);I.fetchers.set(t,r),q.has(t)&&Be(t),e.controller&&q.set(t,e.controller)})),ce({fetchers:new Map(I.fetchers)});let N=()=>T.forEach((e=>Be(e.key)));g.signal.addEventListener("abort",N);let{results:j,loaderResults:P,fetcherResults:R}=await me(I.matches,S,C,T,_);if(g.signal.aborted)return;g.signal.removeEventListener("abort",N),G.delete(t),q.delete(t),T.forEach((e=>q.delete(e.key)));let L=Ae(j);if(L){if(L.idx>=C.length){let e=T[L.idx-C.length].key;Y.add(e)}return pe(I,L.result)}let{loaderData:M,errors:B}=ge(I,I.matches,C,P,void 0,T,R,re);if(I.fetchers.has(t)){let e=Le(b.data);I.fetchers.set(t,e)}Ve(k),"loading"===I.navigation.state&&k>z?(u(D,"Expected pending action"),O&&O.abort(),ue(I.navigation.location,{matches:S,loaderData:M,errors:B,fetchers:new Map(I.fetchers)})):(ce({errors:B,loaderData:ve(I.loaderData,M,S,B),fetchers:new Map(I.fetchers)}),U=!1)}(t,n,v,A,g,l,y):(W.set(t,{routeId:n,path:v}),async function(t,n,r,i,s,a,l){let d=I.fetchers.get(t);Ee(t,Re(l,d?d.data:void 0),{flushSync:a});let h=new AbortController,f=he(e.history,r,h.signal);q.set(t,h);let g=H,v=await de("loader",f,i,s,c,o,p,m.v7_relativeSplatPath);xe(v)&&(v=await Oe(v,f.signal,!0)||v);q.get(t)===h&&q.delete(t);if(f.signal.aborted)return;if(Q.has(t))return void Ee(t,Le(void 0));if(ke(v))return z>g?void Ee(t,Le(void 0)):(Y.add(t),void await pe(I,v));if(Se(v))return void Ce(t,n,v.error);u(!xe(v),"Unhandled fetcher deferred data"),Ee(t,Le(v.data))}(t,n,v,A,g,l,y))},revalidate:function(){_e(),ce({revalidation:"loading"}),"submitting"!==I.navigation.state&&("idle"!==I.navigation.state?fe(D||I.historyAction,I.navigation.location,{overrideNavigation:I.navigation}):fe(I.historyAction,I.location,{startUninterruptedRevalidation:!0}))},createHref:t=>e.history.createHref(t),encodeLocation:t=>e.history.encodeLocation(t),getFetcher:Ie,deleteFetcher:function(e){if(m.v7_fetcherPersist){let t=(K.get(e)||0)-1;t<=0?(K.delete(e),Q.add(e)):K.set(e,t)}else Me(e);ce({fetchers:new Map(I.fetchers)})},dispose:function(){g&&g(),M&&M(),y.clear(),O&&O.abort(),I.fetchers.forEach(((e,t)=>Me(t))),I.blockers.forEach(((e,t)=>qe(t)))},getBlocker:function(e,t){let n=I.blockers.get(e)||$;return se.get(e)!==t&&se.set(e,t),n},deleteBlocker:qe,_internalFetchControllers:q,_internalActiveDeferreds:re,_internalSetRoutes:function(e){c={},s=b(e,o,void 0,c)}},C}Symbol("deferred");function ie(e,t,n,r,i,o,s,a){let l,c;if(s){l=[];for(let e of t)if(l.push(e),e.route.id===s){c=e;break}}else l=t,c=t[t.length-1];let u=B(i||".",M(l,o),P(e.pathname,n)||e.pathname,"path"===a);return null==i&&(u.search=e.search,u.hash=e.hash),null!=i&&""!==i&&"."!==i||!c||!c.route.index||Ie(u.search)||(u.search=u.search?u.search.replace(/^\?/,"?index&"):"?index"),r&&"/"!==n&&(u.pathname="/"===u.pathname?n:U([n,u.pathname])),p(u)}function oe(e,t,n,r){if(!r||!function(e){return null!=e&&("formData"in e&&null!=e.formData||"body"in e&&void 0!==e.body)}(r))return{path:n};if(r.formMethod&&!Ce(r.formMethod))return{path:n,error:we(405,{method:r.formMethod})};let i,o,s=()=>({path:n,error:we(400,{type:"invalid-body"})}),a=r.formMethod||"get",l=e?a.toUpperCase():a.toLowerCase(),c=_e(n);if(void 0!==r.body){if("text/plain"===r.formEncType){if(!Te(l))return s();let e="string"===typeof r.body?r.body:r.body instanceof FormData||r.body instanceof URLSearchParams?Array.from(r.body.entries()).reduce(((e,t)=>{let[n,r]=t;return""+e+n+"="+r+"\n"}),""):String(r.body);return{path:n,submission:{formMethod:l,formAction:c,formEncType:r.formEncType,formData:void 0,json:void 0,text:e}}}if("application/json"===r.formEncType){if(!Te(l))return s();try{let e="string"===typeof r.body?JSON.parse(r.body):r.body;return{path:n,submission:{formMethod:l,formAction:c,formEncType:r.formEncType,formData:void 0,json:e,text:void 0}}}catch(f){return s()}}}if(u("function"===typeof FormData,"FormData is not available in this environment"),r.formData)i=fe(r.formData),o=r.formData;else if(r.body instanceof FormData)i=fe(r.body),o=r.body;else if(r.body instanceof URLSearchParams)i=r.body,o=pe(i);else if(null==r.body)i=new URLSearchParams,o=new FormData;else try{i=new URLSearchParams(r.body),o=pe(i)}catch(f){return s()}let d={formMethod:l,formAction:c,formEncType:r&&r.formEncType||"application/x-www-form-urlencoded",formData:o,json:void 0,text:void 0};if(Te(d.formMethod))return{path:n,submission:d};let h=m(n);return t&&h.search&&Ie(h.search)&&i.append("index",""),h.search="?"+i,{path:p(h),submission:d}}function se(e,t){let n=e;if(t){let r=e.findIndex((e=>e.route.id===t));r>=0&&(n=e.slice(0,r))}return n}function ae(e,t,n,r,i,o,s,l,c,u,d,h,f,p,m,g){let v=g?Object.values(g)[0]:m?Object.values(m)[0]:void 0,y=e.createURL(t.location),b=e.createURL(i),A=g?Object.keys(g)[0]:void 0,_=se(n,A).filter(((e,n)=>{let{route:i}=e;if(i.lazy)return!0;if(null==i.loader)return!1;if(o)return!!i.loader.hydrate||void 0===t.loaderData[i.id]&&(!t.errors||void 0===t.errors[i.id]);if(function(e,t,n){let r=!t||n.route.id!==t.route.id,i=void 0===e[n.route.id];return r||i}(t.loaderData,t.matches[n],e)||l.some((t=>t===e.route.id)))return!0;let c=t.matches[n],u=e;return ce(e,a({currentUrl:y,currentParams:c.params,nextUrl:b,nextParams:u.params},r,{actionResult:v,defaultShouldRevalidate:s||y.pathname+y.search===b.pathname+b.search||y.search!==b.search||le(c,u)}))})),x=[];return d.forEach(((e,i)=>{if(o||!n.some((t=>t.route.id===e.routeId))||u.has(i))return;let l=w(f,e.path,p);if(!l)return void x.push({key:i,routeId:e.routeId,path:e.path,matches:null,match:null,controller:null});let d=t.fetchers.get(i),m=De(l,e.path),g=!1;g=!h.has(i)&&(!!c.includes(i)||(d&&"idle"!==d.state&&void 0===d.data?s:ce(m,a({currentUrl:y,currentParams:t.matches[t.matches.length-1].params,nextUrl:b,nextParams:n[n.length-1].params},r,{actionResult:v,defaultShouldRevalidate:s})))),g&&x.push({key:i,routeId:e.routeId,path:e.path,matches:l,match:m,controller:new AbortController})})),[_,x]}function le(e,t){let n=e.route.path;return e.pathname!==t.pathname||null!=n&&n.endsWith("*")&&e.params["*"]!==t.params["*"]}function ce(e,t){if(e.route.shouldRevalidate){let n=e.route.shouldRevalidate(t);if("boolean"===typeof n)return n}return t.defaultShouldRevalidate}async function ue(e,t,n){if(!e.lazy)return;let r=await e.lazy();if(!e.lazy)return;let i=n[e.id];u(i,"No route found in manifest");let o={};for(let s in r){let e=void 0!==i[s]&&"hasErrorBoundary"!==s;d(!e,'Route "'+i.id+'" has a static property "'+s+'" defined but its lazy function is also returning a value for this property. The lazy route property "'+s+'" will be ignored.'),e||y.has(s)||(o[s]=r[s])}Object.assign(i,o),Object.assign(i,a({},t(i),{lazy:void 0}))}async function de(e,t,n,r,i,o,s,a,l){let c,d,h;void 0===l&&(l={});let f=e=>{let r,i=new Promise(((e,t)=>r=t));return h=()=>r(),t.signal.addEventListener("abort",h),Promise.race([e({request:t,params:n.params,context:l.requestContext}),i])};try{let r=n.route[e];if(n.route.lazy)if(r){let e,t=await Promise.all([f(r).catch((t=>{e=t})),ue(n.route,o,i)]);if(e)throw e;d=t[0]}else{if(await ue(n.route,o,i),r=n.route[e],!r){if("action"===e){let e=new URL(t.url),r=e.pathname+e.search;throw we(405,{method:t.method,pathname:r,routeId:n.route.id})}return{type:v.data,data:void 0}}d=await f(r)}else{if(!r){let e=new URL(t.url);throw we(404,{pathname:e.pathname+e.search})}d=await f(r)}u(void 0!==d,"You defined "+("action"===e?"an action":"a loader")+' for route "'+n.route.id+"\" but didn't return anything from your `"+e+"` function. Please return a value or `null`.")}catch(g){c=v.error,d=g}finally{h&&t.signal.removeEventListener("abort",h)}if(Ee(d)){let e,i=d.status;if(Q.has(i)){let e=d.headers.get("Location");if(u(e,"Redirects returned/thrown from loaders/actions must have a Location header"),ee.test(e)){if(!l.isStaticRequest){let n=new URL(t.url),r=e.startsWith("//")?new URL(n.protocol+e):new URL(e),i=null!=P(r.pathname,s);r.origin===n.origin&&i&&(e=r.pathname+r.search+r.hash)}}else e=ie(new URL(t.url),r.slice(0,r.indexOf(n)+1),s,!0,e,a);if(l.isStaticRequest)throw d.headers.set("Location",e),d;return{type:v.redirect,status:i,location:e,revalidate:null!==d.headers.get("X-Remix-Revalidate"),reloadDocument:null!==d.headers.get("X-Remix-Reload-Document")}}if(l.isRouteRequest){throw{type:c===v.error?v.error:v.data,response:d}}try{let t=d.headers.get("Content-Type");e=t&&/\bapplication\/json\b/.test(t)?null==d.body?null:await d.json():await d.text()}catch(g){return{type:v.error,error:g}}return c===v.error?{type:c,error:new H(i,d.statusText,e),headers:d.headers}:{type:v.data,data:e,statusCode:d.status,headers:d.headers}}return c===v.error?{type:c,error:d}:function(e){let t=e;return t&&"object"===typeof t&&"object"===typeof t.data&&"function"===typeof t.subscribe&&"function"===typeof t.cancel&&"function"===typeof t.resolveData}(d)?{type:v.deferred,deferredData:d,statusCode:null==(p=d.init)?void 0:p.status,headers:(null==(m=d.init)?void 0:m.headers)&&new Headers(d.init.headers)}:{type:v.data,data:d};var p,m}function he(e,t,n,r){let i=e.createURL(_e(t)).toString(),o={signal:n};if(r&&Te(r.formMethod)){let{formMethod:e,formEncType:t}=r;o.method=e.toUpperCase(),"application/json"===t?(o.headers=new Headers({"Content-Type":t}),o.body=JSON.stringify(r.json)):"text/plain"===t?o.body=r.text:"application/x-www-form-urlencoded"===t&&r.formData?o.body=fe(r.formData):o.body=r.formData}return new Request(i,o)}function fe(e){let t=new URLSearchParams;for(let[n,r]of e.entries())t.append(n,"string"===typeof r?r:r.name);return t}function pe(e){let t=new FormData;for(let[n,r]of e.entries())t.append(n,r);return t}function me(e,t,n,r,i){let o,s={},a=null,l=!1,c={};return n.forEach(((n,d)=>{let h=t[d].route.id;if(u(!ke(n),"Cannot handle redirect results in processLoaderData"),Se(n)){let t=ye(e,h),i=n.error;r&&(i=Object.values(r)[0],r=void 0),a=a||{},null==a[t.route.id]&&(a[t.route.id]=i),s[h]=void 0,l||(l=!0,o=z(n.error)?n.error.status:500),n.headers&&(c[h]=n.headers)}else xe(n)?(i.set(h,n.deferredData),s[h]=n.deferredData.data):s[h]=n.data,null==n.statusCode||200===n.statusCode||l||(o=n.statusCode),n.headers&&(c[h]=n.headers)})),r&&(a=r,s[Object.keys(r)[0]]=void 0),{loaderData:s,errors:a,statusCode:o||200,loaderHeaders:c}}function ge(e,t,n,r,i,o,s,l){let{loaderData:c,errors:d}=me(t,n,r,i,l);for(let h=0;h<o.length;h++){let{key:t,match:n,controller:r}=o[h];u(void 0!==s&&void 0!==s[h],"Did not find corresponding fetcher result");let i=s[h];if(!r||!r.signal.aborted)if(Se(i)){let r=ye(e.matches,null==n?void 0:n.route.id);d&&d[r.route.id]||(d=a({},d,{[r.route.id]:i.error})),e.fetchers.delete(t)}else if(ke(i))u(!1,"Unhandled fetcher revalidation redirect");else if(xe(i))u(!1,"Unhandled fetcher deferred data");else{let n=Le(i.data);e.fetchers.set(t,n)}}return{loaderData:c,errors:d}}function ve(e,t,n,r){let i=a({},t);for(let o of n){let n=o.route.id;if(t.hasOwnProperty(n)?void 0!==t[n]&&(i[n]=t[n]):void 0!==e[n]&&o.route.loader&&(i[n]=e[n]),r&&r.hasOwnProperty(n))break}return i}function ye(e,t){return(t?e.slice(0,e.findIndex((e=>e.route.id===t))+1):[...e]).reverse().find((e=>!0===e.route.hasErrorBoundary))||e[0]}function be(e){let t=1===e.length?e[0]:e.find((e=>e.index||!e.path||"/"===e.path))||{id:"__shim-error-route__"};return{matches:[{params:{},pathname:"",pathnameBase:"",route:t}],route:t}}function we(e,t){let{pathname:n,routeId:r,method:i,type:o}=void 0===t?{}:t,s="Unknown Server Error",a="Unknown @remix-run/router error";return 400===e?(s="Bad Request",i&&n&&r?a="You made a "+i+' request to "'+n+'" but did not provide a `loader` for route "'+r+'", so there is no way to handle the request.':"defer-action"===o?a="defer() is not supported in actions":"invalid-body"===o&&(a="Unable to encode submission body")):403===e?(s="Forbidden",a='Route "'+r+'" does not match URL "'+n+'"'):404===e?(s="Not Found",a='No route matches URL "'+n+'"'):405===e&&(s="Method Not Allowed",i&&n&&r?a="You made a "+i.toUpperCase()+' request to "'+n+'" but did not provide an `action` for route "'+r+'", so there is no way to handle the request.':i&&(a='Invalid request method "'+i.toUpperCase()+'"')),new H(e||500,s,new Error(a),!0)}function Ae(e){for(let t=e.length-1;t>=0;t--){let n=e[t];if(ke(n))return{result:n,idx:t}}}function _e(e){return p(a({},"string"===typeof e?m(e):e,{hash:""}))}function xe(e){return e.type===v.deferred}function Se(e){return e.type===v.error}function ke(e){return(e&&e.type)===v.redirect}function Ee(e){return null!=e&&"number"===typeof e.status&&"string"===typeof e.statusText&&"object"===typeof e.headers&&"undefined"!==typeof e.body}function Ce(e){return K.has(e.toLowerCase())}function Te(e){return Y.has(e.toLowerCase())}async function Ne(e,t,n,r,i,o){for(let s=0;s<n.length;s++){let a=n[s],l=t[s];if(!l)continue;let c=e.find((e=>e.route.id===l.route.id)),d=null!=c&&!le(c,l)&&void 0!==(o&&o[l.route.id]);if(xe(a)&&(i||d)){let e=r[s];u(e,"Expected an AbortSignal for revalidating fetcher deferred result"),await Oe(a,e,i).then((e=>{e&&(n[s]=e||n[s])}))}}}async function Oe(e,t,n){if(void 0===n&&(n=!1),!await e.deferredData.resolveData(t)){if(n)try{return{type:v.data,data:e.deferredData.unwrappedData}}catch(r){return{type:v.error,error:r}}return{type:v.data,data:e.deferredData.data}}}function Ie(e){return new URLSearchParams(e).getAll("index").some((e=>""===e))}function De(e,t){let n="string"===typeof t?m(t).search:t.search;if(e[e.length-1].route.index&&Ie(n||""))return e[e.length-1];let r=L(e);return r[r.length-1]}function je(e){let{formMethod:t,formAction:n,formEncType:r,text:i,formData:o,json:s}=e;if(t&&n&&r)return null!=i?{formMethod:t,formAction:n,formEncType:r,formData:void 0,json:void 0,text:i}:null!=o?{formMethod:t,formAction:n,formEncType:r,formData:o,json:void 0,text:void 0}:void 0!==s?{formMethod:t,formAction:n,formEncType:r,formData:void 0,json:s,text:void 0}:void 0}function Pe(e,t){if(t){return{state:"loading",location:e,formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text}}return{state:"loading",location:e,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0}}function Re(e,t){if(e){return{state:"loading",formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text,data:t}}return{state:"loading",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:t}}function Le(e){return{state:"idle",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:e}}function Me(){return Me=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Me.apply(this,arguments)}const Be=i.createContext(null);const Ue=i.createContext(null);const Fe=i.createContext(null);const Ve=i.createContext(null);const qe=i.createContext({outlet:null,matches:[],isDataRoute:!1});const He=i.createContext(null);function ze(){return null!=i.useContext(Ve)}function Ge(){return ze()||u(!1),i.useContext(Ve).location}function Ye(e){i.useContext(Fe).static||i.useLayoutEffect(e)}function We(){let{isDataRoute:e}=i.useContext(qe);return e?function(){let{router:e}=it(nt.UseNavigateStable),t=st(rt.UseNavigateStable),n=i.useRef(!1);Ye((()=>{n.current=!0}));let r=i.useCallback((function(r,i){void 0===i&&(i={}),n.current&&("number"===typeof r?e.navigate(r):e.navigate(r,Me({fromRouteId:t},i)))}),[e,t]);return r}():function(){ze()||u(!1);let e=i.useContext(Be),{basename:t,future:n,navigator:r}=i.useContext(Fe),{matches:o}=i.useContext(qe),{pathname:s}=Ge(),a=JSON.stringify(M(o,n.v7_relativeSplatPath)),l=i.useRef(!1);Ye((()=>{l.current=!0}));let c=i.useCallback((function(n,i){if(void 0===i&&(i={}),!l.current)return;if("number"===typeof n)return void r.go(n);let o=B(n,JSON.parse(a),s,"path"===i.relative);null==e&&"/"!==t&&(o.pathname="/"===o.pathname?t:U([t,o.pathname])),(i.replace?r.replace:r.push)(o,i.state,i)}),[t,r,a,s,e]);return c}()}const Ke=i.createContext(null);function Qe(e,t){let{relative:n}=void 0===t?{}:t,{future:r}=i.useContext(Fe),{matches:o}=i.useContext(qe),{pathname:s}=Ge(),a=JSON.stringify(M(o,r.v7_relativeSplatPath));return i.useMemo((()=>B(e,JSON.parse(a),s,"path"===n)),[e,a,s,n])}function Je(e,n,r,o){ze()||u(!1);let{navigator:s}=i.useContext(Fe),{matches:a}=i.useContext(qe),l=a[a.length-1],c=l?l.params:{},d=(l&&l.pathname,l?l.pathnameBase:"/");l&&l.route;let h,f=Ge();if(n){var p;let e="string"===typeof n?m(n):n;"/"===d||(null==(p=e.pathname)?void 0:p.startsWith(d))||u(!1),h=e}else h=f;let g=h.pathname||"/",v=g;if("/"!==d){let e=d.replace(/^\//,"").split("/");v="/"+g.replace(/^\//,"").split("/").slice(e.length).join("/")}let y=w(e,{pathname:v});let b=tt(y&&y.map((e=>Object.assign({},e,{params:Object.assign({},c,e.params),pathname:U([d,s.encodeLocation?s.encodeLocation(e.pathname).pathname:e.pathname]),pathnameBase:"/"===e.pathnameBase?d:U([d,s.encodeLocation?s.encodeLocation(e.pathnameBase).pathname:e.pathnameBase])}))),a,r,o);return n&&b?i.createElement(Ve.Provider,{value:{location:Me({pathname:"/",search:"",hash:"",state:null,key:"default"},h),navigationType:t.Pop}},b):b}function Xe(){let e=function(){var e;let t=i.useContext(He),n=ot(rt.UseRouteError),r=st(rt.UseRouteError);if(void 0!==t)return t;return null==(e=n.errors)?void 0:e[r]}(),t=z(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,r="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:r};return i.createElement(i.Fragment,null,i.createElement("h2",null,"Unexpected Application Error!"),i.createElement("h3",{style:{fontStyle:"italic"}},t),n?i.createElement("pre",{style:o},n):null,null)}const Ze=i.createElement(Xe,null);class $e extends i.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||"idle"!==t.revalidation&&"idle"===e.revalidation?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:void 0!==e.error?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return void 0!==this.state.error?i.createElement(qe.Provider,{value:this.props.routeContext},i.createElement(He.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function et(e){let{routeContext:t,match:n,children:r}=e,o=i.useContext(Be);return o&&o.static&&o.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(o.staticContext._deepestRenderedBoundaryId=n.route.id),i.createElement(qe.Provider,{value:t},r)}function tt(e,t,n,r){var o;if(void 0===t&&(t=[]),void 0===n&&(n=null),void 0===r&&(r=null),null==e){var s;if(null==(s=n)||!s.errors)return null;e=n.matches}let a=e,l=null==(o=n)?void 0:o.errors;if(null!=l){let e=a.findIndex((e=>e.route.id&&(null==l?void 0:l[e.route.id])));e>=0||u(!1),a=a.slice(0,Math.min(a.length,e+1))}let c=!1,d=-1;if(n&&r&&r.v7_partialHydration)for(let i=0;i<a.length;i++){let e=a[i];if((e.route.HydrateFallback||e.route.hydrateFallbackElement)&&(d=i),e.route.id){let{loaderData:t,errors:r}=n,i=e.route.loader&&void 0===t[e.route.id]&&(!r||void 0===r[e.route.id]);if(e.route.lazy||i){c=!0,a=d>=0?a.slice(0,d+1):[a[0]];break}}}return a.reduceRight(((e,r,o)=>{let s,u=!1,h=null,f=null;var p;n&&(s=l&&r.route.id?l[r.route.id]:void 0,h=r.route.errorElement||Ze,c&&(d<0&&0===o?(p="route-fallback",!1||at[p]||(at[p]=!0),u=!0,f=null):d===o&&(u=!0,f=r.route.hydrateFallbackElement||null)));let m=t.concat(a.slice(0,o+1)),g=()=>{let t;return t=s?h:u?f:r.route.Component?i.createElement(r.route.Component,null):r.route.element?r.route.element:e,i.createElement(et,{match:r,routeContext:{outlet:e,matches:m,isDataRoute:null!=n},children:t})};return n&&(r.route.ErrorBoundary||r.route.errorElement||0===o)?i.createElement($e,{location:n.location,revalidation:n.revalidation,component:h,error:s,children:g(),routeContext:{outlet:null,matches:m,isDataRoute:!0}}):g()}),null)}var nt=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(nt||{}),rt=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(rt||{});function it(e){let t=i.useContext(Be);return t||u(!1),t}function ot(e){let t=i.useContext(Ue);return t||u(!1),t}function st(e){let t=function(e){let t=i.useContext(qe);return t||u(!1),t}(),n=t.matches[t.matches.length-1];return n.route.id||u(!1),n.route.id}const at={};o.startTransition;function lt(e){let{to:t,replace:n,state:r,relative:o}=e;ze()||u(!1);let{future:s,static:a}=i.useContext(Fe),{matches:l}=i.useContext(qe),{pathname:c}=Ge(),d=We(),h=B(t,M(l,s.v7_relativeSplatPath),c,"path"===o),f=JSON.stringify(h);return i.useEffect((()=>d(JSON.parse(f),{replace:n,state:r,relative:o})),[d,f,o,n,r]),null}function ct(e){return function(e){let t=i.useContext(qe).outlet;return t?i.createElement(Ke.Provider,{value:e},t):t}(e.context)}function ut(e){u(!1)}function dt(e){let{basename:n="/",children:r=null,location:o,navigationType:s=t.Pop,navigator:a,static:l=!1,future:c}=e;ze()&&u(!1);let d=n.replace(/^\/*/,"/"),h=i.useMemo((()=>({basename:d,navigator:a,static:l,future:Me({v7_relativeSplatPath:!1},c)})),[d,c,a,l]);"string"===typeof o&&(o=m(o));let{pathname:f="/",search:p="",hash:g="",state:v=null,key:y="default"}=o,b=i.useMemo((()=>{let e=P(f,d);return null==e?null:{location:{pathname:e,search:p,hash:g,state:v,key:y},navigationType:s}}),[d,f,p,g,v,y,s]);return null==b?null:i.createElement(Fe.Provider,{value:h},i.createElement(Ve.Provider,{children:r,value:b}))}function ht(e){let{children:t,location:n}=e;return Je(ft(t),n)}new Promise((()=>{}));i.Component;function ft(e,t){void 0===t&&(t=[]);let n=[];return i.Children.forEach(e,((e,r)=>{if(!i.isValidElement(e))return;let o=[...t,r];if(e.type===i.Fragment)return void n.push.apply(n,ft(e.props.children,o));e.type!==ut&&u(!1),e.props.index&&e.props.children&&u(!1);let s={id:e.props.id||o.join("-"),caseSensitive:e.props.caseSensitive,element:e.props.element,Component:e.props.Component,index:e.props.index,path:e.props.path,loader:e.props.loader,action:e.props.action,errorElement:e.props.errorElement,ErrorBoundary:e.props.ErrorBoundary,hasErrorBoundary:null!=e.props.ErrorBoundary||null!=e.props.errorElement,shouldRevalidate:e.props.shouldRevalidate,handle:e.props.handle,lazy:e.props.lazy};e.props.children&&(s.children=ft(e.props.children,o)),n.push(s)})),n}function pt(e){let t={hasErrorBoundary:null!=e.ErrorBoundary||null!=e.errorElement};return e.Component&&Object.assign(t,{element:i.createElement(e.Component),Component:void 0}),e.HydrateFallback&&Object.assign(t,{hydrateFallbackElement:i.createElement(e.HydrateFallback),HydrateFallback:void 0}),e.ErrorBoundary&&Object.assign(t,{errorElement:i.createElement(e.ErrorBoundary),ErrorBoundary:void 0}),t}var mt=r(6396),gt=r.t(mt,2);function vt(){return vt=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},vt.apply(this,arguments)}function yt(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);const bt=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","unstable_viewTransition"];try{window.__reactRouterVersion="6"}catch(IU){}function wt(){var e;let t=null==(e=window)?void 0:e.__staticRouterHydrationData;return t&&t.errors&&(t=vt({},t,{errors:At(t.errors)})),t}function At(e){if(!e)return null;let t=Object.entries(e),n={};for(let[r,i]of t)if(i&&"RouteErrorResponse"===i.__type)n[r]=new H(i.status,i.statusText,i.data,!0===i.internal);else if(i&&"Error"===i.__type){if(i.__subType){let e=window[i.__subType];if("function"===typeof e)try{let t=new e(i.message);t.stack="",n[r]=t}catch(IU){}}if(null==n[r]){let e=new Error(i.message);e.stack="",n[r]=e}}else n[r]=i;return n}const _t=i.createContext({isTransitioning:!1});const xt=i.createContext(new Map);const St=o.startTransition,kt=gt.flushSync;o.useId;function Et(e){kt?kt(e):e()}class Ct{constructor(){this.status="pending",this.promise=new Promise(((e,t)=>{this.resolve=t=>{"pending"===this.status&&(this.status="resolved",e(t))},this.reject=e=>{"pending"===this.status&&(this.status="rejected",t(e))}}))}}function Tt(e){let{fallbackElement:t,router:n,future:r}=e,[o,s]=i.useState(n.state),[a,l]=i.useState(),[c,u]=i.useState({isTransitioning:!1}),[d,h]=i.useState(),[f,p]=i.useState(),[m,g]=i.useState(),v=i.useRef(new Map),{v7_startTransition:y}=r||{},b=i.useCallback((e=>{y?function(e){St?St(e):e()}(e):e()}),[y]),w=i.useCallback(((e,t)=>{let{deletedFetchers:r,unstable_flushSync:i,unstable_viewTransitionOpts:o}=t;r.forEach((e=>v.current.delete(e))),e.fetchers.forEach(((e,t)=>{void 0!==e.data&&v.current.set(t,e.data)}));let a=null==n.window||"function"!==typeof n.window.document.startViewTransition;if(o&&!a){if(i){Et((()=>{f&&(d&&d.resolve(),f.skipTransition()),u({isTransitioning:!0,flushSync:!0,currentLocation:o.currentLocation,nextLocation:o.nextLocation})}));let t=n.window.document.startViewTransition((()=>{Et((()=>s(e)))}));return t.finished.finally((()=>{Et((()=>{h(void 0),p(void 0),l(void 0),u({isTransitioning:!1})}))})),void Et((()=>p(t)))}f?(d&&d.resolve(),f.skipTransition(),g({state:e,currentLocation:o.currentLocation,nextLocation:o.nextLocation})):(l(e),u({isTransitioning:!0,flushSync:!1,currentLocation:o.currentLocation,nextLocation:o.nextLocation}))}else i?Et((()=>s(e))):b((()=>s(e)))}),[n.window,f,d,v,b]);i.useLayoutEffect((()=>n.subscribe(w)),[n,w]),i.useEffect((()=>{c.isTransitioning&&!c.flushSync&&h(new Ct)}),[c]),i.useEffect((()=>{if(d&&a&&n.window){let e=a,t=d.promise,r=n.window.document.startViewTransition((async()=>{b((()=>s(e))),await t}));r.finished.finally((()=>{h(void 0),p(void 0),l(void 0),u({isTransitioning:!1})})),p(r)}}),[b,a,d,n.window]),i.useEffect((()=>{d&&a&&o.location.key===a.location.key&&d.resolve()}),[d,f,o.location,a]),i.useEffect((()=>{!c.isTransitioning&&m&&(l(m.state),u({isTransitioning:!0,flushSync:!1,currentLocation:m.currentLocation,nextLocation:m.nextLocation}),g(void 0))}),[c.isTransitioning,m]),i.useEffect((()=>{}),[]);let A=i.useMemo((()=>({createHref:n.createHref,encodeLocation:n.encodeLocation,go:e=>n.navigate(e),push:(e,t,r)=>n.navigate(e,{state:t,preventScrollReset:null==r?void 0:r.preventScrollReset}),replace:(e,t,r)=>n.navigate(e,{replace:!0,state:t,preventScrollReset:null==r?void 0:r.preventScrollReset})})),[n]),_=n.basename||"/",x=i.useMemo((()=>({router:n,navigator:A,static:!1,basename:_})),[n,A,_]);return i.createElement(i.Fragment,null,i.createElement(Be.Provider,{value:x},i.createElement(Ue.Provider,{value:o},i.createElement(xt.Provider,{value:v.current},i.createElement(_t.Provider,{value:c},i.createElement(dt,{basename:_,location:o.location,navigationType:o.historyAction,navigator:A,future:{v7_relativeSplatPath:n.future.v7_relativeSplatPath}},o.initialized||n.future.v7_partialHydration?i.createElement(Nt,{routes:n.routes,future:n.future,state:o}):t))))),null)}function Nt(e){let{routes:t,future:n,state:r}=e;return Je(t,void 0,r,n)}const Ot="undefined"!==typeof window&&"undefined"!==typeof window.document&&"undefined"!==typeof window.document.createElement,It=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Dt=i.forwardRef((function(e,t){let n,{onClick:r,relative:o,reloadDocument:s,replace:a,state:l,target:c,to:d,preventScrollReset:h,unstable_viewTransition:f}=e,m=yt(e,bt),{basename:g}=i.useContext(Fe),v=!1;if("string"===typeof d&&It.test(d)&&(n=d,Ot))try{let e=new URL(window.location.href),t=d.startsWith("//")?new URL(e.protocol+d):new URL(d),n=P(t.pathname,g);t.origin===e.origin&&null!=n?d=n+t.search+t.hash:v=!0}catch(IU){}let y=function(e,t){let{relative:n}=void 0===t?{}:t;ze()||u(!1);let{basename:r,navigator:o}=i.useContext(Fe),{hash:s,pathname:a,search:l}=Qe(e,{relative:n}),c=a;return"/"!==r&&(c="/"===a?r:U([r,a])),o.createHref({pathname:c,search:l,hash:s})}(d,{relative:o}),b=function(e,t){let{target:n,replace:r,state:o,preventScrollReset:s,relative:a,unstable_viewTransition:l}=void 0===t?{}:t,c=We(),u=Ge(),d=Qe(e,{relative:a});return i.useCallback((t=>{if(function(e,t){return 0===e.button&&(!t||"_self"===t)&&!function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}(e)}(t,n)){t.preventDefault();let n=void 0!==r?r:p(u)===p(d);c(e,{replace:n,state:o,preventScrollReset:s,relative:a,unstable_viewTransition:l})}}),[u,c,d,r,o,n,e,s,a,l])}(d,{replace:a,state:l,target:c,preventScrollReset:h,relative:o,unstable_viewTransition:f});return i.createElement("a",vt({},m,{href:n||y,onClick:v||s?r:function(e){r&&r(e),e.defaultPrevented||b(e)},ref:t,target:c}))}));var jt,Pt;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(jt||(jt={})),function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"}(Pt||(Pt={}));function Rt(e,t){return function(){return e.apply(t,arguments)}}const{toString:Lt}=Object.prototype,{getPrototypeOf:Mt}=Object,Bt=(Ut=Object.create(null),e=>{const t=Lt.call(e);return Ut[t]||(Ut[t]=t.slice(8,-1).toLowerCase())});var Ut;const Ft=e=>(e=e.toLowerCase(),t=>Bt(t)===e),Vt=e=>t=>typeof t===e,{isArray:qt}=Array,Ht=Vt("undefined");const zt=Ft("ArrayBuffer");const Gt=Vt("string"),Yt=Vt("function"),Wt=Vt("number"),Kt=e=>null!==e&&"object"===typeof e,Qt=e=>{if("object"!==Bt(e))return!1;const t=Mt(e);return(null===t||t===Object.prototype||null===Object.getPrototypeOf(t))&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},Jt=Ft("Date"),Xt=Ft("File"),Zt=Ft("Blob"),$t=Ft("FileList"),en=Ft("URLSearchParams");function tn(e,t){let n,r,{allOwnKeys:i=!1}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(null!==e&&"undefined"!==typeof e)if("object"!==typeof e&&(e=[e]),qt(e))for(n=0,r=e.length;n<r;n++)t.call(null,e[n],n,e);else{const r=i?Object.getOwnPropertyNames(e):Object.keys(e),o=r.length;let s;for(n=0;n<o;n++)s=r[n],t.call(null,e[s],s,e)}}function nn(e,t){t=t.toLowerCase();const n=Object.keys(e);let r,i=n.length;for(;i-- >0;)if(r=n[i],t===r.toLowerCase())return r;return null}const rn="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof self?self:"undefined"!==typeof window?window:global,on=e=>!Ht(e)&&e!==rn;const sn=(an="undefined"!==typeof Uint8Array&&Mt(Uint8Array),e=>an&&e instanceof an);var an;const ln=Ft("HTMLFormElement"),cn=(e=>{let{hasOwnProperty:t}=e;return(e,n)=>t.call(e,n)})(Object.prototype),un=Ft("RegExp"),dn=(e,t)=>{const n=Object.getOwnPropertyDescriptors(e),r={};tn(n,((n,i)=>{let o;!1!==(o=t(n,i,e))&&(r[i]=o||n)})),Object.defineProperties(e,r)},hn="abcdefghijklmnopqrstuvwxyz",fn="0123456789",pn={DIGIT:fn,ALPHA:hn,ALPHA_DIGIT:hn+hn.toUpperCase()+fn};const mn=Ft("AsyncFunction"),gn={isArray:qt,isArrayBuffer:zt,isBuffer:function(e){return null!==e&&!Ht(e)&&null!==e.constructor&&!Ht(e.constructor)&&Yt(e.constructor.isBuffer)&&e.constructor.isBuffer(e)},isFormData:e=>{let t;return e&&("function"===typeof FormData&&e instanceof FormData||Yt(e.append)&&("formdata"===(t=Bt(e))||"object"===t&&Yt(e.toString)&&"[object FormData]"===e.toString()))},isArrayBufferView:function(e){let t;return t="undefined"!==typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer&&zt(e.buffer),t},isString:Gt,isNumber:Wt,isBoolean:e=>!0===e||!1===e,isObject:Kt,isPlainObject:Qt,isUndefined:Ht,isDate:Jt,isFile:Xt,isBlob:Zt,isRegExp:un,isFunction:Yt,isStream:e=>Kt(e)&&Yt(e.pipe),isURLSearchParams:en,isTypedArray:sn,isFileList:$t,forEach:tn,merge:function e(){const{caseless:t}=on(this)&&this||{},n={},r=(r,i)=>{const o=t&&nn(n,i)||i;Qt(n[o])&&Qt(r)?n[o]=e(n[o],r):Qt(r)?n[o]=e({},r):qt(r)?n[o]=r.slice():n[o]=r};for(let i=0,o=arguments.length;i<o;i++)arguments[i]&&tn(arguments[i],r);return n},extend:function(e,t,n){let{allOwnKeys:r}=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return tn(t,((t,r)=>{n&&Yt(t)?e[r]=Rt(t,n):e[r]=t}),{allOwnKeys:r}),e},trim:e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,""),stripBOM:e=>(65279===e.charCodeAt(0)&&(e=e.slice(1)),e),inherits:(e,t,n,r)=>{e.prototype=Object.create(t.prototype,r),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),n&&Object.assign(e.prototype,n)},toFlatObject:(e,t,n,r)=>{let i,o,s;const a={};if(t=t||{},null==e)return t;do{for(i=Object.getOwnPropertyNames(e),o=i.length;o-- >0;)s=i[o],r&&!r(s,e,t)||a[s]||(t[s]=e[s],a[s]=!0);e=!1!==n&&Mt(e)}while(e&&(!n||n(e,t))&&e!==Object.prototype);return t},kindOf:Bt,kindOfTest:Ft,endsWith:(e,t,n)=>{e=String(e),(void 0===n||n>e.length)&&(n=e.length),n-=t.length;const r=e.indexOf(t,n);return-1!==r&&r===n},toArray:e=>{if(!e)return null;if(qt(e))return e;let t=e.length;if(!Wt(t))return null;const n=new Array(t);for(;t-- >0;)n[t]=e[t];return n},forEachEntry:(e,t)=>{const n=(e&&e[Symbol.iterator]).call(e);let r;for(;(r=n.next())&&!r.done;){const n=r.value;t.call(e,n[0],n[1])}},matchAll:(e,t)=>{let n;const r=[];for(;null!==(n=e.exec(t));)r.push(n);return r},isHTMLForm:ln,hasOwnProperty:cn,hasOwnProp:cn,reduceDescriptors:dn,freezeMethods:e=>{dn(e,((t,n)=>{if(Yt(e)&&-1!==["arguments","caller","callee"].indexOf(n))return!1;const r=e[n];Yt(r)&&(t.enumerable=!1,"writable"in t?t.writable=!1:t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")}))}))},toObjectSet:(e,t)=>{const n={},r=e=>{e.forEach((e=>{n[e]=!0}))};return qt(e)?r(e):r(String(e).split(t)),n},toCamelCase:e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,(function(e,t,n){return t.toUpperCase()+n})),noop:()=>{},toFiniteNumber:(e,t)=>(e=+e,Number.isFinite(e)?e:t),findKey:nn,global:rn,isContextDefined:on,ALPHABET:pn,generateString:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:16,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:pn.ALPHA_DIGIT,n="";const{length:r}=t;for(;e--;)n+=t[Math.random()*r|0];return n},isSpecCompliantForm:function(e){return!!(e&&Yt(e.append)&&"FormData"===e[Symbol.toStringTag]&&e[Symbol.iterator])},toJSONObject:e=>{const t=new Array(10),n=(e,r)=>{if(Kt(e)){if(t.indexOf(e)>=0)return;if(!("toJSON"in e)){t[r]=e;const i=qt(e)?[]:{};return tn(e,((e,t)=>{const o=n(e,r+1);!Ht(o)&&(i[t]=o)})),t[r]=void 0,i}}return e};return n(e,0)},isAsyncFn:mn,isThenable:e=>e&&(Kt(e)||Yt(e))&&Yt(e.then)&&Yt(e.catch)};function vn(e,t,n,r,i){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=(new Error).stack,this.message=e,this.name="AxiosError",t&&(this.code=t),n&&(this.config=n),r&&(this.request=r),i&&(this.response=i)}gn.inherits(vn,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:gn.toJSONObject(this.config),code:this.code,status:this.response&&this.response.status?this.response.status:null}}});const yn=vn.prototype,bn={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach((e=>{bn[e]={value:e}})),Object.defineProperties(vn,bn),Object.defineProperty(yn,"isAxiosError",{value:!0}),vn.from=(e,t,n,r,i,o)=>{const s=Object.create(yn);return gn.toFlatObject(e,s,(function(e){return e!==Error.prototype}),(e=>"isAxiosError"!==e)),vn.call(s,e.message,t,n,r,i),s.cause=e,s.name=e.name,o&&Object.assign(s,o),s};const wn=vn;function An(e){return gn.isPlainObject(e)||gn.isArray(e)}function _n(e){return gn.endsWith(e,"[]")?e.slice(0,-2):e}function xn(e,t,n){return e?e.concat(t).map((function(e,t){return e=_n(e),!n&&t?"["+e+"]":e})).join(n?".":""):t}const Sn=gn.toFlatObject(gn,{},null,(function(e){return/^is[A-Z]/.test(e)}));const kn=function(e,t,n){if(!gn.isObject(e))throw new TypeError("target must be an object");t=t||new FormData;const r=(n=gn.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,(function(e,t){return!gn.isUndefined(t[e])}))).metaTokens,i=n.visitor||c,o=n.dots,s=n.indexes,a=(n.Blob||"undefined"!==typeof Blob&&Blob)&&gn.isSpecCompliantForm(t);if(!gn.isFunction(i))throw new TypeError("visitor must be a function");function l(e){if(null===e)return"";if(gn.isDate(e))return e.toISOString();if(!a&&gn.isBlob(e))throw new wn("Blob is not supported. Use a Buffer instead.");return gn.isArrayBuffer(e)||gn.isTypedArray(e)?a&&"function"===typeof Blob?new Blob([e]):Buffer.from(e):e}function c(e,n,i){let a=e;if(e&&!i&&"object"===typeof e)if(gn.endsWith(n,"{}"))n=r?n:n.slice(0,-2),e=JSON.stringify(e);else if(gn.isArray(e)&&function(e){return gn.isArray(e)&&!e.some(An)}(e)||(gn.isFileList(e)||gn.endsWith(n,"[]"))&&(a=gn.toArray(e)))return n=_n(n),a.forEach((function(e,r){!gn.isUndefined(e)&&null!==e&&t.append(!0===s?xn([n],r,o):null===s?n:n+"[]",l(e))})),!1;return!!An(e)||(t.append(xn(i,n,o),l(e)),!1)}const u=[],d=Object.assign(Sn,{defaultVisitor:c,convertValue:l,isVisitable:An});if(!gn.isObject(e))throw new TypeError("data must be an object");return function e(n,r){if(!gn.isUndefined(n)){if(-1!==u.indexOf(n))throw Error("Circular reference detected in "+r.join("."));u.push(n),gn.forEach(n,(function(n,o){!0===(!(gn.isUndefined(n)||null===n)&&i.call(t,n,gn.isString(o)?o.trim():o,r,d))&&e(n,r?r.concat(o):[o])})),u.pop()}}(e),t};function En(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,(function(e){return t[e]}))}function Cn(e,t){this._pairs=[],e&&kn(e,this,t)}const Tn=Cn.prototype;Tn.append=function(e,t){this._pairs.push([e,t])},Tn.toString=function(e){const t=e?function(t){return e.call(this,t,En)}:En;return this._pairs.map((function(e){return t(e[0])+"="+t(e[1])}),"").join("&")};const Nn=Cn;function On(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function In(e,t,n){if(!t)return e;const r=n&&n.encode||On,i=n&&n.serialize;let o;if(o=i?i(t,n):gn.isURLSearchParams(t)?t.toString():new Nn(t,n).toString(r),o){const t=e.indexOf("#");-1!==t&&(e=e.slice(0,t)),e+=(-1===e.indexOf("?")?"?":"&")+o}return e}const Dn=class{constructor(){this.handlers=[]}use(e,t,n){return this.handlers.push({fulfilled:e,rejected:t,synchronous:!!n&&n.synchronous,runWhen:n?n.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){gn.forEach(this.handlers,(function(t){null!==t&&e(t)}))}},jn={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},Pn={isBrowser:!0,classes:{URLSearchParams:"undefined"!==typeof URLSearchParams?URLSearchParams:Nn,FormData:"undefined"!==typeof FormData?FormData:null,Blob:"undefined"!==typeof Blob?Blob:null},protocols:["http","https","file","blob","url","data"]},Rn="undefined"!==typeof window&&"undefined"!==typeof document,Ln=(Mn="undefined"!==typeof navigator&&navigator.product,Rn&&["ReactNative","NativeScript","NS"].indexOf(Mn)<0);var Mn;const Bn="undefined"!==typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&"function"===typeof self.importScripts,Un={...e,...Pn};const Fn=function(e){function t(e,n,r,i){let o=e[i++];if("__proto__"===o)return!0;const s=Number.isFinite(+o),a=i>=e.length;if(o=!o&&gn.isArray(r)?r.length:o,a)return gn.hasOwnProp(r,o)?r[o]=[r[o],n]:r[o]=n,!s;r[o]&&gn.isObject(r[o])||(r[o]=[]);return t(e,n,r[o],i)&&gn.isArray(r[o])&&(r[o]=function(e){const t={},n=Object.keys(e);let r;const i=n.length;let o;for(r=0;r<i;r++)o=n[r],t[o]=e[o];return t}(r[o])),!s}if(gn.isFormData(e)&&gn.isFunction(e.entries)){const n={};return gn.forEachEntry(e,((e,r)=>{t(function(e){return gn.matchAll(/\w+|\[(\w*)]/g,e).map((e=>"[]"===e[0]?"":e[1]||e[0]))}(e),r,n,0)})),n}return null};const Vn={transitional:jn,adapter:["xhr","http"],transformRequest:[function(e,t){const n=t.getContentType()||"",r=n.indexOf("application/json")>-1,i=gn.isObject(e);i&&gn.isHTMLForm(e)&&(e=new FormData(e));if(gn.isFormData(e))return r?JSON.stringify(Fn(e)):e;if(gn.isArrayBuffer(e)||gn.isBuffer(e)||gn.isStream(e)||gn.isFile(e)||gn.isBlob(e))return e;if(gn.isArrayBufferView(e))return e.buffer;if(gn.isURLSearchParams(e))return t.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let o;if(i){if(n.indexOf("application/x-www-form-urlencoded")>-1)return function(e,t){return kn(e,new Un.classes.URLSearchParams,Object.assign({visitor:function(e,t,n,r){return Un.isNode&&gn.isBuffer(e)?(this.append(t,e.toString("base64")),!1):r.defaultVisitor.apply(this,arguments)}},t))}(e,this.formSerializer).toString();if((o=gn.isFileList(e))||n.indexOf("multipart/form-data")>-1){const t=this.env&&this.env.FormData;return kn(o?{"files[]":e}:e,t&&new t,this.formSerializer)}}return i||r?(t.setContentType("application/json",!1),function(e,t,n){if(gn.isString(e))try{return(t||JSON.parse)(e),gn.trim(e)}catch(IU){if("SyntaxError"!==IU.name)throw IU}return(n||JSON.stringify)(e)}(e)):e}],transformResponse:[function(e){const t=this.transitional||Vn.transitional,n=t&&t.forcedJSONParsing,r="json"===this.responseType;if(e&&gn.isString(e)&&(n&&!this.responseType||r)){const n=!(t&&t.silentJSONParsing)&&r;try{return JSON.parse(e)}catch(IU){if(n){if("SyntaxError"===IU.name)throw wn.from(IU,wn.ERR_BAD_RESPONSE,this,null,this.response);throw IU}}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Un.classes.FormData,Blob:Un.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};gn.forEach(["delete","get","head","post","put","patch"],(e=>{Vn.headers[e]={}}));const qn=Vn,Hn=gn.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),zn=Symbol("internals");function Gn(e){return e&&String(e).trim().toLowerCase()}function Yn(e){return!1===e||null==e?e:gn.isArray(e)?e.map(Yn):String(e)}function Wn(e,t,n,r,i){return gn.isFunction(r)?r.call(this,t,n):(i&&(t=n),gn.isString(t)?gn.isString(r)?-1!==t.indexOf(r):gn.isRegExp(r)?r.test(t):void 0:void 0)}class Kn{constructor(e){e&&this.set(e)}set(e,t,n){const r=this;function i(e,t,n){const i=Gn(t);if(!i)throw new Error("header name must be a non-empty string");const o=gn.findKey(r,i);(!o||void 0===r[o]||!0===n||void 0===n&&!1!==r[o])&&(r[o||t]=Yn(e))}const o=(e,t)=>gn.forEach(e,((e,n)=>i(e,n,t)));return gn.isPlainObject(e)||e instanceof this.constructor?o(e,t):gn.isString(e)&&(e=e.trim())&&!/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim())?o((e=>{const t={};let n,r,i;return e&&e.split("\n").forEach((function(e){i=e.indexOf(":"),n=e.substring(0,i).trim().toLowerCase(),r=e.substring(i+1).trim(),!n||t[n]&&Hn[n]||("set-cookie"===n?t[n]?t[n].push(r):t[n]=[r]:t[n]=t[n]?t[n]+", "+r:r)})),t})(e),t):null!=e&&i(t,e,n),this}get(e,t){if(e=Gn(e)){const n=gn.findKey(this,e);if(n){const e=this[n];if(!t)return e;if(!0===t)return function(e){const t=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let r;for(;r=n.exec(e);)t[r[1]]=r[2];return t}(e);if(gn.isFunction(t))return t.call(this,e,n);if(gn.isRegExp(t))return t.exec(e);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,t){if(e=Gn(e)){const n=gn.findKey(this,e);return!(!n||void 0===this[n]||t&&!Wn(0,this[n],n,t))}return!1}delete(e,t){const n=this;let r=!1;function i(e){if(e=Gn(e)){const i=gn.findKey(n,e);!i||t&&!Wn(0,n[i],i,t)||(delete n[i],r=!0)}}return gn.isArray(e)?e.forEach(i):i(e),r}clear(e){const t=Object.keys(this);let n=t.length,r=!1;for(;n--;){const i=t[n];e&&!Wn(0,this[i],i,e,!0)||(delete this[i],r=!0)}return r}normalize(e){const t=this,n={};return gn.forEach(this,((r,i)=>{const o=gn.findKey(n,i);if(o)return t[o]=Yn(r),void delete t[i];const s=e?function(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,((e,t,n)=>t.toUpperCase()+n))}(i):String(i).trim();s!==i&&delete t[i],t[s]=Yn(r),n[s]=!0})),this}concat(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.constructor.concat(this,...t)}toJSON(e){const t=Object.create(null);return gn.forEach(this,((n,r)=>{null!=n&&!1!==n&&(t[r]=e&&gn.isArray(n)?n.join(", "):n)})),t}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map((e=>{let[t,n]=e;return t+": "+n})).join("\n")}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e){const t=new this(e);for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];return r.forEach((e=>t.set(e))),t}static accessor(e){const t=(this[zn]=this[zn]={accessors:{}}).accessors,n=this.prototype;function r(e){const r=Gn(e);t[r]||(!function(e,t){const n=gn.toCamelCase(" "+t);["get","set","has"].forEach((r=>{Object.defineProperty(e,r+n,{value:function(e,n,i){return this[r].call(this,t,e,n,i)},configurable:!0})}))}(n,e),t[r]=!0)}return gn.isArray(e)?e.forEach(r):r(e),this}}Kn.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]),gn.reduceDescriptors(Kn.prototype,((e,t)=>{let{value:n}=e,r=t[0].toUpperCase()+t.slice(1);return{get:()=>n,set(e){this[r]=e}}})),gn.freezeMethods(Kn);const Qn=Kn;function Jn(e,t){const n=this||qn,r=t||n,i=Qn.from(r.headers);let o=r.data;return gn.forEach(e,(function(e){o=e.call(n,o,i.normalize(),t?t.status:void 0)})),i.normalize(),o}function Xn(e){return!(!e||!e.__CANCEL__)}function Zn(e,t,n){wn.call(this,null==e?"canceled":e,wn.ERR_CANCELED,t,n),this.name="CanceledError"}gn.inherits(Zn,wn,{__CANCEL__:!0});const $n=Zn;const er=Un.hasStandardBrowserEnv?{write(e,t,n,r,i,o){const s=[e+"="+encodeURIComponent(t)];gn.isNumber(n)&&s.push("expires="+new Date(n).toGMTString()),gn.isString(r)&&s.push("path="+r),gn.isString(i)&&s.push("domain="+i),!0===o&&s.push("secure"),document.cookie=s.join("; ")},read(e){const t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove(e){this.write(e,"",Date.now()-864e5)}}:{write(){},read:()=>null,remove(){}};function tr(e,t){return e&&!/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)?function(e,t){return t?e.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):e}(e,t):t}const nr=Un.hasStandardBrowserEnv?function(){const e=/(msie|trident)/i.test(navigator.userAgent),t=document.createElement("a");let n;function r(n){let r=n;return e&&(t.setAttribute("href",r),r=t.href),t.setAttribute("href",r),{href:t.href,protocol:t.protocol?t.protocol.replace(/:$/,""):"",host:t.host,search:t.search?t.search.replace(/^\?/,""):"",hash:t.hash?t.hash.replace(/^#/,""):"",hostname:t.hostname,port:t.port,pathname:"/"===t.pathname.charAt(0)?t.pathname:"/"+t.pathname}}return n=r(window.location.href),function(e){const t=gn.isString(e)?r(e):e;return t.protocol===n.protocol&&t.host===n.host}}():function(){return!0};const rr=function(e,t){e=e||10;const n=new Array(e),r=new Array(e);let i,o=0,s=0;return t=void 0!==t?t:1e3,function(a){const l=Date.now(),c=r[s];i||(i=l),n[o]=a,r[o]=l;let u=s,d=0;for(;u!==o;)d+=n[u++],u%=e;if(o=(o+1)%e,o===s&&(s=(s+1)%e),l-i<t)return;const h=c&&l-c;return h?Math.round(1e3*d/h):void 0}};function ir(e,t){let n=0;const r=rr(50,250);return i=>{const o=i.loaded,s=i.lengthComputable?i.total:void 0,a=o-n,l=r(a);n=o;const c={loaded:o,total:s,progress:s?o/s:void 0,bytes:a,rate:l||void 0,estimated:l&&s&&o<=s?(s-o)/l:void 0,event:i};c[t?"download":"upload"]=!0,e(c)}}const or="undefined"!==typeof XMLHttpRequest&&function(e){return new Promise((function(t,n){let r=e.data;const i=Qn.from(e.headers).normalize();let o,s,{responseType:a,withXSRFToken:l}=e;function c(){e.cancelToken&&e.cancelToken.unsubscribe(o),e.signal&&e.signal.removeEventListener("abort",o)}if(gn.isFormData(r))if(Un.hasStandardBrowserEnv||Un.hasStandardBrowserWebWorkerEnv)i.setContentType(!1);else if(!1!==(s=i.getContentType())){const[e,...t]=s?s.split(";").map((e=>e.trim())).filter(Boolean):[];i.setContentType([e||"multipart/form-data",...t].join("; "))}let u=new XMLHttpRequest;if(e.auth){const t=e.auth.username||"",n=e.auth.password?unescape(encodeURIComponent(e.auth.password)):"";i.set("Authorization","Basic "+btoa(t+":"+n))}const d=tr(e.baseURL,e.url);function h(){if(!u)return;const r=Qn.from("getAllResponseHeaders"in u&&u.getAllResponseHeaders());!function(e,t,n){const r=n.config.validateStatus;n.status&&r&&!r(n.status)?t(new wn("Request failed with status code "+n.status,[wn.ERR_BAD_REQUEST,wn.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n)):e(n)}((function(e){t(e),c()}),(function(e){n(e),c()}),{data:a&&"text"!==a&&"json"!==a?u.response:u.responseText,status:u.status,statusText:u.statusText,headers:r,config:e,request:u}),u=null}if(u.open(e.method.toUpperCase(),In(d,e.params,e.paramsSerializer),!0),u.timeout=e.timeout,"onloadend"in u?u.onloadend=h:u.onreadystatechange=function(){u&&4===u.readyState&&(0!==u.status||u.responseURL&&0===u.responseURL.indexOf("file:"))&&setTimeout(h)},u.onabort=function(){u&&(n(new wn("Request aborted",wn.ECONNABORTED,e,u)),u=null)},u.onerror=function(){n(new wn("Network Error",wn.ERR_NETWORK,e,u)),u=null},u.ontimeout=function(){let t=e.timeout?"timeout of "+e.timeout+"ms exceeded":"timeout exceeded";const r=e.transitional||jn;e.timeoutErrorMessage&&(t=e.timeoutErrorMessage),n(new wn(t,r.clarifyTimeoutError?wn.ETIMEDOUT:wn.ECONNABORTED,e,u)),u=null},Un.hasStandardBrowserEnv&&(l&&gn.isFunction(l)&&(l=l(e)),l||!1!==l&&nr(d))){const t=e.xsrfHeaderName&&e.xsrfCookieName&&er.read(e.xsrfCookieName);t&&i.set(e.xsrfHeaderName,t)}void 0===r&&i.setContentType(null),"setRequestHeader"in u&&gn.forEach(i.toJSON(),(function(e,t){u.setRequestHeader(t,e)})),gn.isUndefined(e.withCredentials)||(u.withCredentials=!!e.withCredentials),a&&"json"!==a&&(u.responseType=e.responseType),"function"===typeof e.onDownloadProgress&&u.addEventListener("progress",ir(e.onDownloadProgress,!0)),"function"===typeof e.onUploadProgress&&u.upload&&u.upload.addEventListener("progress",ir(e.onUploadProgress)),(e.cancelToken||e.signal)&&(o=t=>{u&&(n(!t||t.type?new $n(null,e,u):t),u.abort(),u=null)},e.cancelToken&&e.cancelToken.subscribe(o),e.signal&&(e.signal.aborted?o():e.signal.addEventListener("abort",o)));const f=function(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}(d);f&&-1===Un.protocols.indexOf(f)?n(new wn("Unsupported protocol "+f+":",wn.ERR_BAD_REQUEST,e)):u.send(r||null)}))},sr={http:null,xhr:or};gn.forEach(sr,((e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch(IU){}Object.defineProperty(e,"adapterName",{value:t})}}));const ar=e=>"- ".concat(e),lr=e=>gn.isFunction(e)||null===e||!1===e,cr=e=>{e=gn.isArray(e)?e:[e];const{length:t}=e;let n,r;const i={};for(let o=0;o<t;o++){let t;if(n=e[o],r=n,!lr(n)&&(r=sr[(t=String(n)).toLowerCase()],void 0===r))throw new wn("Unknown adapter '".concat(t,"'"));if(r)break;i[t||"#"+o]=r}if(!r){const e=Object.entries(i).map((e=>{let[t,n]=e;return"adapter ".concat(t," ")+(!1===n?"is not supported by the environment":"is not available in the build")}));let n=t?e.length>1?"since :\n"+e.map(ar).join("\n"):" "+ar(e[0]):"as no adapter specified";throw new wn("There is no suitable adapter to dispatch the request "+n,"ERR_NOT_SUPPORT")}return r};function ur(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new $n(null,e)}function dr(e){ur(e),e.headers=Qn.from(e.headers),e.data=Jn.call(e,e.transformRequest),-1!==["post","put","patch"].indexOf(e.method)&&e.headers.setContentType("application/x-www-form-urlencoded",!1);return cr(e.adapter||qn.adapter)(e).then((function(t){return ur(e),t.data=Jn.call(e,e.transformResponse,t),t.headers=Qn.from(t.headers),t}),(function(t){return Xn(t)||(ur(e),t&&t.response&&(t.response.data=Jn.call(e,e.transformResponse,t.response),t.response.headers=Qn.from(t.response.headers))),Promise.reject(t)}))}const hr=e=>e instanceof Qn?{...e}:e;function fr(e,t){t=t||{};const n={};function r(e,t,n){return gn.isPlainObject(e)&&gn.isPlainObject(t)?gn.merge.call({caseless:n},e,t):gn.isPlainObject(t)?gn.merge({},t):gn.isArray(t)?t.slice():t}function i(e,t,n){return gn.isUndefined(t)?gn.isUndefined(e)?void 0:r(void 0,e,n):r(e,t,n)}function o(e,t){if(!gn.isUndefined(t))return r(void 0,t)}function s(e,t){return gn.isUndefined(t)?gn.isUndefined(e)?void 0:r(void 0,e):r(void 0,t)}function a(n,i,o){return o in t?r(n,i):o in e?r(void 0,n):void 0}const l={url:o,method:o,data:o,baseURL:s,transformRequest:s,transformResponse:s,paramsSerializer:s,timeout:s,timeoutMessage:s,withCredentials:s,withXSRFToken:s,adapter:s,responseType:s,xsrfCookieName:s,xsrfHeaderName:s,onUploadProgress:s,onDownloadProgress:s,decompress:s,maxContentLength:s,maxBodyLength:s,beforeRedirect:s,transport:s,httpAgent:s,httpsAgent:s,cancelToken:s,socketPath:s,responseEncoding:s,validateStatus:a,headers:(e,t)=>i(hr(e),hr(t),!0)};return gn.forEach(Object.keys(Object.assign({},e,t)),(function(r){const o=l[r]||i,s=o(e[r],t[r],r);gn.isUndefined(s)&&o!==a||(n[r]=s)})),n}const pr="1.6.8",mr={};["object","boolean","number","function","string","symbol"].forEach(((e,t)=>{mr[e]=function(n){return typeof n===e||"a"+(t<1?"n ":" ")+e}}));const gr={};mr.transitional=function(e,t,n){function r(e,t){return"[Axios v1.6.8] Transitional option '"+e+"'"+t+(n?". "+n:"")}return(n,i,o)=>{if(!1===e)throw new wn(r(i," has been removed"+(t?" in "+t:"")),wn.ERR_DEPRECATED);return t&&!gr[i]&&(gr[i]=!0,console.warn(r(i," has been deprecated since v"+t+" and will be removed in the near future"))),!e||e(n,i,o)}};const vr={assertOptions:function(e,t,n){if("object"!==typeof e)throw new wn("options must be an object",wn.ERR_BAD_OPTION_VALUE);const r=Object.keys(e);let i=r.length;for(;i-- >0;){const o=r[i],s=t[o];if(s){const t=e[o],n=void 0===t||s(t,o,e);if(!0!==n)throw new wn("option "+o+" must be "+n,wn.ERR_BAD_OPTION_VALUE)}else if(!0!==n)throw new wn("Unknown option "+o,wn.ERR_BAD_OPTION)}},validators:mr},yr=vr.validators;class br{constructor(e){this.defaults=e,this.interceptors={request:new Dn,response:new Dn}}async request(e,t){try{return await this._request(e,t)}catch(n){if(n instanceof Error){let e;Error.captureStackTrace?Error.captureStackTrace(e={}):e=new Error;const t=e.stack?e.stack.replace(/^.+\n/,""):"";n.stack?t&&!String(n.stack).endsWith(t.replace(/^.+\n.+\n/,""))&&(n.stack+="\n"+t):n.stack=t}throw n}}_request(e,t){"string"===typeof e?(t=t||{}).url=e:t=e||{},t=fr(this.defaults,t);const{transitional:n,paramsSerializer:r,headers:i}=t;void 0!==n&&vr.assertOptions(n,{silentJSONParsing:yr.transitional(yr.boolean),forcedJSONParsing:yr.transitional(yr.boolean),clarifyTimeoutError:yr.transitional(yr.boolean)},!1),null!=r&&(gn.isFunction(r)?t.paramsSerializer={serialize:r}:vr.assertOptions(r,{encode:yr.function,serialize:yr.function},!0)),t.method=(t.method||this.defaults.method||"get").toLowerCase();let o=i&&gn.merge(i.common,i[t.method]);i&&gn.forEach(["delete","get","head","post","put","patch","common"],(e=>{delete i[e]})),t.headers=Qn.concat(o,i);const s=[];let a=!0;this.interceptors.request.forEach((function(e){"function"===typeof e.runWhen&&!1===e.runWhen(t)||(a=a&&e.synchronous,s.unshift(e.fulfilled,e.rejected))}));const l=[];let c;this.interceptors.response.forEach((function(e){l.push(e.fulfilled,e.rejected)}));let u,d=0;if(!a){const e=[dr.bind(this),void 0];for(e.unshift.apply(e,s),e.push.apply(e,l),u=e.length,c=Promise.resolve(t);d<u;)c=c.then(e[d++],e[d++]);return c}u=s.length;let h=t;for(d=0;d<u;){const e=s[d++],t=s[d++];try{h=e(h)}catch(f){t.call(this,f);break}}try{c=dr.call(this,h)}catch(f){return Promise.reject(f)}for(d=0,u=l.length;d<u;)c=c.then(l[d++],l[d++]);return c}getUri(e){return In(tr((e=fr(this.defaults,e)).baseURL,e.url),e.params,e.paramsSerializer)}}gn.forEach(["delete","get","head","options"],(function(e){br.prototype[e]=function(t,n){return this.request(fr(n||{},{method:e,url:t,data:(n||{}).data}))}})),gn.forEach(["post","put","patch"],(function(e){function t(t){return function(n,r,i){return this.request(fr(i||{},{method:e,headers:t?{"Content-Type":"multipart/form-data"}:{},url:n,data:r}))}}br.prototype[e]=t(),br.prototype[e+"Form"]=t(!0)}));const wr=br;class Ar{constructor(e){if("function"!==typeof e)throw new TypeError("executor must be a function.");let t;this.promise=new Promise((function(e){t=e}));const n=this;this.promise.then((e=>{if(!n._listeners)return;let t=n._listeners.length;for(;t-- >0;)n._listeners[t](e);n._listeners=null})),this.promise.then=e=>{let t;const r=new Promise((e=>{n.subscribe(e),t=e})).then(e);return r.cancel=function(){n.unsubscribe(t)},r},e((function(e,r,i){n.reason||(n.reason=new $n(e,r,i),t(n.reason))}))}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){this.reason?e(this.reason):this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const t=this._listeners.indexOf(e);-1!==t&&this._listeners.splice(t,1)}static source(){let e;return{token:new Ar((function(t){e=t})),cancel:e}}}const _r=Ar;const xr={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(xr).forEach((e=>{let[t,n]=e;xr[n]=t}));const Sr=xr;const kr=function e(t){const n=new wr(t),r=Rt(wr.prototype.request,n);return gn.extend(r,wr.prototype,n,{allOwnKeys:!0}),gn.extend(r,n,null,{allOwnKeys:!0}),r.create=function(n){return e(fr(t,n))},r}(qn);kr.Axios=wr,kr.CanceledError=$n,kr.CancelToken=_r,kr.isCancel=Xn,kr.VERSION=pr,kr.toFormData=kn,kr.AxiosError=wn,kr.Cancel=kr.CanceledError,kr.all=function(e){return Promise.all(e)},kr.spread=function(e){return function(t){return e.apply(null,t)}},kr.isAxiosError=function(e){return gn.isObject(e)&&!0===e.isAxiosError},kr.mergeConfig=fr,kr.AxiosHeaders=Qn,kr.formToJSON=e=>Fn(gn.isHTMLForm(e)?new FormData(e):e),kr.getAdapter=cr,kr.HttpStatusCode=Sr,kr.default=kr;const Er=kr;var Cr=r(3163),Tr=r.n(Cr),Nr=r(7929);const Or=["xxl","xl","lg","md","sm","xs"],Ir="xs",Dr=i.createContext({prefixes:{},breakpoints:Or,minBreakpoint:Ir}),{Consumer:jr,Provider:Pr}=Dr;function Rr(e,t){const{prefixes:n}=(0,i.useContext)(Dr);return e||n[t]||t}function Lr(){const{breakpoints:e}=(0,i.useContext)(Dr);return e}function Mr(){const{minBreakpoint:e}=(0,i.useContext)(Dr);return e}function Br(){const{dir:e}=(0,i.useContext)(Dr);return"rtl"===e}const Ur=i.forwardRef(((e,t)=>{let{bsPrefix:n,fluid:r=!1,as:i="div",className:o,...s}=e;const a=Rr(n,"container"),l="string"===typeof r?"-".concat(r):"-fluid";return(0,Nr.jsx)(i,{ref:t,...s,className:Tr()(o,r?"".concat(a).concat(l):a)})}));Ur.displayName="Container";const Fr=Ur,Vr=["as","disabled"];function qr(e){let{tagName:t,disabled:n,href:r,target:i,rel:o,role:s,onClick:a,tabIndex:l=0,type:c}=e;t||(t=null!=r||null!=i||null!=o?"a":"button");const u={tagName:t};if("button"===t)return[{type:c||"button",disabled:n},u];const d=e=>{(n||"a"===t&&function(e){return!e||"#"===e.trim()}(r))&&e.preventDefault(),n?e.stopPropagation():null==a||a(e)};return"a"===t&&(r||(r="#"),n&&(r=void 0)),[{role:null!=s?s:"button",disabled:void 0,tabIndex:n?void 0:l,href:r,target:"a"===t?i:void 0,"aria-disabled":n||void 0,rel:"a"===t?o:void 0,onClick:d,onKeyDown:e=>{" "===e.key&&(e.preventDefault(),d(e))}},u]}const Hr=i.forwardRef(((e,t)=>{let{as:n,disabled:r}=e,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,Vr);const[o,{tagName:s}]=qr(Object.assign({tagName:n,disabled:r},i));return(0,Nr.jsx)(s,Object.assign({},i,o,{ref:t}))}));Hr.displayName="Button";const zr=Hr,Gr=i.forwardRef(((e,t)=>{let{as:n,bsPrefix:r,variant:i="primary",size:o,active:s=!1,disabled:a=!1,className:l,...c}=e;const u=Rr(r,"btn"),[d,{tagName:h}]=qr({tagName:n,disabled:a,...c}),f=h;return(0,Nr.jsx)(f,{...d,...c,ref:t,disabled:a,className:Tr()(l,u,s&&"active",i&&"".concat(u,"-").concat(i),o&&"".concat(u,"-").concat(o),c.href&&a&&"disabled")})}));Gr.displayName="Button";const Yr=Gr,Wr=r.p+"static/media/message.0cbf51bed8cfc51f3076.png",Kr=r.p+"static/media/telephone.4cdd0d6901a678584ea5.png",Qr=r.p+"static/media/user.c920752422c11377083e.png",Jr=()=>{const[e,t]=(0,i.useState)({username:"",email:"",password:"",role:0,phone:"",firstName:"",lastName:""}),[n,r]=(0,i.useState)(null),o=We(),s=e=>{t((t=>({...t,[e.target.name]:e.target.value})))};return(0,Nr.jsx)(Fr,{className:"auth",children:(0,Nr.jsxs)("div",{className:"authDiv",children:[(0,Nr.jsx)("h1",{children:"Registreringsformul\xe4r"}),(0,Nr.jsxs)("form",{children:[(0,Nr.jsxs)("div",{children:[(0,Nr.jsx)("label",{children:(0,Nr.jsx)("img",{src:Qr,alt:"",style:{width:"15px",height:"15px"}})}),(0,Nr.jsx)("span",{children:(0,Nr.jsx)("input",{required:!0,type:"text",placeholder:"Anv\xe4ndarnamn",name:"username",onChange:s})})]}),(0,Nr.jsxs)("div",{children:[(0,Nr.jsx)("label",{children:"F\xf6rnamn"}),(0,Nr.jsx)("span",{children:(0,Nr.jsx)("input",{required:!0,type:"text",placeholder:"skriv in ditt f\xf6rnamn",name:"firstName",onChange:s})})]}),(0,Nr.jsxs)("div",{children:[(0,Nr.jsx)("label",{children:"Efternamn"}),(0,Nr.jsx)("span",{children:(0,Nr.jsx)("input",{required:!0,type:"text",placeholder:"Skriv in ditt efternamn",name:"lastName",onChange:s})})]}),(0,Nr.jsxs)("div",{children:[(0,Nr.jsx)("label",{children:(0,Nr.jsx)("img",{src:Wr,alt:"",style:{width:"15px",height:"15px"}})}),(0,Nr.jsx)("span",{children:(0,Nr.jsx)("input",{required:!0,type:"email",placeholder:"e-post",name:"email",onChange:s})})]}),(0,Nr.jsxs)("div",{children:[(0,Nr.jsx)("label",{children:(0,Nr.jsx)("img",{src:Kr,alt:"",style:{width:"15px",height:"15px"}})}),(0,Nr.jsx)("span",{children:(0,Nr.jsx)("input",{required:!0,type:"number",placeholder:"telefonnummer",name:"phone",onChange:s})})]}),(0,Nr.jsxs)("div",{children:[(0,Nr.jsx)("label",{children:(0,Nr.jsx)("img",{src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAgAAAAIACAYAAAD0eNT6AAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAAOxAAADsQBlSsOGwAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAACAASURBVHic7d15tF5Vmefx780ISZgJIFAQkDDIrNKIUoCCDKXSlkhRguBQlloWrVWWQnWX1YKNCuKEVLViSamA0IKK7VhMigNqZAwoNBBJQAIkAUNCSAhJ7u0/9ptFCjPc+96zz3PO2d/PWntddMF9nvPeM/zeM+wDkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRpAwaiG5A0KpsCOwM7AlsBW/Z+rh5bA1v0/t2JwKTeP08Bxvf+eQWwpPfPS4HlvX9eCDwOPLGWMReYAzxV/SJJqoMBQGq+bYD9gL2AXYBppIP+NNIBP9IfSEFg9ZgN3APcCSyIakrShhkApOYYB+wLHADsQzro70cKAG00D7iLFAbuAmb2fq6MbEpSYgCQ4mwCHAwcCryk93Pz0I7yexq4A/g5cBPwC9IlBUk1MwBI9ZkMHAEc1/u5FzAmsJ8mGATuBm4Eftj7uTSwH6kYBgApr12Bo4DX9X5uFNtO460EZgDfBa4HbgOGQjuSJGkYBoD/AnySdFPckGNUYzZwPnDQCP4GkiTVZm/gLOA+4g+aXR0PAheQ7pXw7KUkKcyOwP8Efkf8wbG0MQv4ELDDBv9KkiRVYCzpWv6VpAl0og+EpY9VwHXAiTw3sZEkSZXZGfg48CjxBz3H2scjwMd6fytJkkblQOAS/LbfprGK9BTBIWv5e0qStE5jSI/tXUf8wcwxuvFz0uWBsUiStA7jgLfhnfxdHPcCb+n9jSVJAtI3/hNJB4noA5Uj75gNvBPPCEhS0VYf+O8h/sDkqHfcDZyGQUCSinMs6c100QciR+yYCbwaSVLn7U56hj/6wONo1riONJujJKljtgDOBZYTf7BxNHM8C1wEbI0kqfXGAO8BHif+AONox1gAvAtf1SxJrTUd+DHxBxRHO8dNwIuQJLXGeOBM4BniDyKOdo9nSZeOJiJJarSXA78l/sDh6Na4DzgCSVLjTATOJ80DH32wcHRzrALOAyYgSWqEvYDbiD9AOMoYdwH7IkkKM0Ca1nUJ8QcFR1ljGfA+0jooSarRtsAPiD8QOMoe3wWmIkmqxUuBB4nf+TscQ8DDwCFILeOLMNQ27wS+AWwZ3YjUsynwZuApYEZwL5LUORsBFxP/bc/hWN+4FJiE1ALewKI22BX4JnBAdCMNNx+YAzwCPEGa/viJ3ljUG5Amt3n6ef/tZJ57vG2z3tiKNC/+Vr2xA7AzsE2uBeiI24ATSH8LqbEMAGq6Q4D/izdarbaENNHRnaTH0WaR7oeYTbozvQ6TgGm9sRuwD7Af6W16U2rqoenmA8fjJQE1mAFATXYicAnp9H+JlgO3AL/sjTtIB/qhyKbWY4B0tmZ/0oyMhwAvodxpdJeR7g34VnQjktQmZ1DerH7LgGuBD5IOoF04cE4kLcsZwHWU936GVcD7R/0pSlIBxgFfIH7HXde4H/gc8GeUcfPYZOA1wIWkZY/+/Osa/4pPXUnSOk0kXe+P3lnnHvcC55BOlZfuAOCjpJftRP9dco9v0Y2zOpJUqcmk09/RO+lcYy7wMTzor88BpFfvPkL83yvX+A/KONMjScMyBfgR8Tvnqscq0nXvE4HxlX1a3TcGOAq4kvTIYvTfserxU9LkQZJUtC2Bm4nfKVc5HgM+DGxf4edUqh2As4B5xP9dqxwzcDZLSQWbSnqePXpnXNX4DfBXeJ03h42Ad5DmQIj+O1c1ZpImWpKkomwB3E78TriK8VPgGJxXow4DwHHAz4n/u1cxbgU2r/QTkqQGmwz8jPid72jHL4HXVfzZaPgOBX5C/HpQxXq0ScWfjSQ1zsbAj4nf6Y5m3Ez6FqpmeA3pm3T0ejGacQPlzngpqQATgO8Rv7Ptd8wlvY54TNUfjEZtgPS0xYPEryf9jmvw/hFJHTSG9FhX9E62n/E0cDbp0oWabQppYqGlxK83/Ywr8F4SSR3zCeJ3rv2MbwN/kuHzUF7TgO8Sv/70Mz5W/cchSTHeQfxOdaTjMeC0HB+GavU64GHi16eRjr/J8WFIUp2OBVYQv0Md7hgkvYJ4qxwfhkJsDlxE+ttGr1/DHc8CR+f4MCSpDgcAi4nfmQ53PII73S47DniU+PVsuGMRsG+WT0KSMtoGeIj4nehwx9U4K1sJpgLfIX59G+6Yg+ulpBYZR3te7rOEdI+CyvJu0tMd0evfcMZ1wNg8H4MkVeuTxO80hzPuA/bJ9Bmo+fYE7iZ+PRzO8MkASY33etpxs9V3cA52pSl4v0H8+rihMQi8MdNnIEmjtgfpxqXoneX6xkrS62WdzU+rDQBnktaN6PVzfWMx8KJMn4Ek9W0ScA/xO8kN7UCdw1/r8lrgKeLX0/WNu0jv05CkxvgC8TvH9Y25wIuzLb26Yj+a//TK57ItvSSN0HE0+7r/ncBO2ZZeXbM9cBvx6+26xiDpbIUkhdoOmE/8TnFd43p817pGblOa/Sjro6S5NiQpxADNfr3v9/F6qfo3kTRBVPR6vK7xA3xzoKQgpxO/E1zXuBIYn2/RVYgJNPsxwXfnW3RJWrudae4d01/FmdNUnbGkF0RFr9drG4uAHfMtuiT9sabOp34VHvxVvTHA14hfv9c2vp9xuSXpPzmF+J3e2sbVpPcQSDmMJV1ail7P1zZOzLjckgTAVsA84nd4zx/Xkm7aknKaQPrGHb2+P388CmyRcbklqZHXQn+Kd/urPpOAm4hf758/vpRzoSWV7Qjid3LPH/cCW2ZcZmlttgbuJ379X3MMAi/PudCSyjQGuIX4ndya43Fges6FltbjhTRvEqxb8UVXkir218Tv3NYcy/DbjuIdSloXo7eHNcdbsi6xpKJsCjxG/I5tzfGmrEssDd+pxG8Pa465wJSsSyypGOcRv1Nbc3w67+JKI3Yh8dvFmuOcvIsrqQS7As8Qv0NbPX6CU/yqecbTrCcDlpFm65SkvjXpsb9HSa9qlZpoO9Lp9+jtZPW4OO/iSuqyPYGVxO/Ihnp9/GnexZVG7ZXAKuK3lyFgBbBb3sWV1FVXEL8TWz3+V+ZllapyLvHby+rx1czLKqmD9qY532Ruwev+ao/xwAzit5sh0pmzvfIurqSuaco70JcAu2deVqlqu9Gc12VfnnlZJXXI/qRpRaN3XEPAuzIvq5TL3xK//QyRzuTtnXlZJXXEZcTvtIaAG4GBvIsqZTMG+Bnx29EQ8O+Zl1VSB+wALCd+h/UMXrtU++1BM6YKXg68IPOyqmV8aYSe772kd55H+whwT3QT0ijdS5pJM9oE4PToJiQ11xRgIfHfVu7Eu/7VHROBu4nfrp4AJmdeVkkt9T7id1JDwFG5F1Sq2ZHEb1dDeBZA0lqMAX5H/A7q6twLKgX5HvHb1yy89CvpeY4lfue0HJiee0GlILvRjBtsX517QSW1SxMm/mnCzVJSTp8hfjv7evallNQa2xD/zWQhsHnuBZWCbQksInZbWw5Mzb2gaj6vBQngrcQ/+vdp4MngHqTc/gB8NriHCcCpwT1IaojoR5QeBzbNvpRSM2xGCgKR29w9OMumVLzDiN0RDQH/PftSSs3yz8Rvd6/IvpSSGu0LxO6EFpAmIJJKsinxZwH+NftSSmqsccA8YndCZ+VeSKmhPkbstjeftA+QVKCjid0BPQNsl30ppWbanvinb16VfSnVWD4FULYTg+tfBjwW3IMU5RHgiuAeovcBkgKMI50CjPz2sV/2pZSabR9gkLhtcAFeBpCKcwyxB//r8y+i1Ao/InZb9OVbhfISQLleH1z/34LrS00RvS1E7wsk1SzyzX+Pk96RLiltCwuI2x4fyL+IaiLPAJRpT2DXwPpfJd39LCltC5cH1t+F9KZCFcYAUKZjg+v/e3B9qWm+FFw/ep8gqSY/JO504801LJ/URrcTt11+r4blU8N4BqA8GwOHB9a/MrC21GRXBdY+Au/LkTov8vG/QdL1Rkl/bDfits0h4Mj8i6gm8QxAef40sPbNwOzA+lKTzSJdBogSuW9QAANAeV4eWDvyFKfUBpHbSOS+QVJm44CniDvFuHv+RZRa7UXEbZ+LgLH5F1FShJcSt3NxshFpeB4kbjs9oIblU0N4CaAskaf4fhhYW2qTawJrexmgIAaAskRu3JE7NalNIreVVwTWlpTRLGJOKy4HNqlh+aQu2AxYQcy2el8NyyepZlOAVcTsVG6qYfmkLplBzLa6CphUw/KpAbwEUI59ift7GwCkkYnaZsYAewfVVs0MAOXYN7D2LwJrS20Uuc1E7itUIwNAOSI36l8F1pbayACg7AwA5YjaqGcBjwXVltrqEWBOUO39guqqZgaAcuwTVPeWoLpS2/06qK5nAAphACjDVr0RYWZQXant7gqqO5X0KKI6zgBQhmmBtaN2YlLbRW470wJrqyYGgDJMC6xtAJD685vA2tMCa6smBoAyTAuquwj4fVBtqe1mA0uCak8LqqsaGQDKsFNQ3btJs4tJGrlB4J6g2tOC6qpGBoAy7BJUd3ZQXakrorahnYPqqkYGgDJEnQF4MKiu1BVzgupOC6qrGhkAyrBdUN05QXWlrogK0dsG1VWNDABl2CKo7pygulJXzAmqGzVviGpkAOi+TYEJQbW9BCCNzpyguhNJrxBXhxkAum/rwNrzAmtLXRC5DXkWoOMMAN0XtRGvJM0DIKl/C0mPA0YwAHScAaD7ojbiP+AcANJoDZJCQAQDQMcZALov6gbAPwTVlbrmiaC6WwbVVU0MAN23cVDdx4PqSl0TFQA2CqqrmhgAui/qCYCngupKXbM4qO7EoLqqiQGg+6I24uVBdaWueTaobtSXB9XEANB9URtx1E5L6pqoMO0ZgI4zAHSfAUBqt6htyQDQcQaA7osKAF4CkKoRtS15CaDjDADdNz6o7oqgulLXeA+AsjAAdN9AUF0nAZKqETUTYNS+QzUxAEiSVCADgCRJBTIASJJUIAOAJEkFMgBIklQgA4AkSQUyAEiSVCADgCRJBTIASJJUIAOAJEkFMgBIklQgA4AkSQUyAEiSVCADgCRJBTIASJJUIAOAJEkFMgBIklQgA4AkSQUyAEiSVCADgCRJBTIASJJUIAOAJEkFMgBIklQgA4AkSQUyAEiSVCADgCRJBTIASJJUIAOAJEkFMgBIklQgA4AkSQUyAEiSVCADgCRJBTIASJJUIAOAJEkFMgBIklQgA4AkSQUyAEiSVCADgCRJBTIASJJUIAOAJEkFMgBIklQgA4AkSQUyAEiSVCADgCRJBTIASJJUIAOAJEkFMgBIklQgA4AkSQUyAEiSVCADgCRJBTIASJJUIAOAJEkFMgBIklQgA4AkSQUyAEiSVCADgCRJBTIASJJUIAOAJEkFGhfdgLLYGJgEbAZsHdTDVOAlQbWlLpkaVHdrYFdgEbAUWBbUhzIZiG5AfdsZOBiY3hu7kzbWbSObktRZQ8A84AHgPuD+3pgBPBTYl/pkAGiPHYCjgcN7Y1poN5L0nNnAT4EfA9cBj8S2o+EwADTbZsB/BU4EjsVLNpKabxD4JXAV8DXg8dh2tC4GgGZ6CXAG6eA/MbgXSerXM8C3gfOB24J70fMYAJrlUOBM4DX4t5HULTcB5wHfjW5EiQeZZjgAuJAUACSpy34KvBeYGd1I6ZwHINbmwAXALXjwl1SGw0iXAy4BtgrupWieAYhzAvB54p7xlaRo84F3A1dHN1IizwDUbyPSt/5v4MFfUtm2Ab5FOhswKbiX4ngGoF57AF8H9o9uRJIa5g7gJNIkQ6qBAaA+LwO+h9e8JGldngSOB34W3UgJvARQj+OBH+HBX5LWZ3PSTIJvjG6kBGOjGyjAXwGXAROiG5GkFhgHvAGYC9we3EunGQDyehPwZfycJWkkxpDOnM7G+QKy8R6AfI4Evo9T+UpSv1aQgsB/RDfSRQaAPA4iXfOfEt2IJLXcUuAo0guGVCEDQPWmkh5n2T66EUnqiLmkKdN9s2CFfAqgWgPAxXjwl6Qq7UCaLMgvrRXy5rRqnQn8bXQTktRB04Gn8FJAZUxT1XkJacUcH92IJHXUCuBgfDywEl4CqMYY4F/w4C9JOY0HLsJjVyX8EKvxdtJUv5KkvA4CTotuogu8BDB6WwD34pv9JKku80kvV3syupE28ybA0fsI8OroJiSpIJN7P28I7aLlPAMwOpsBD/Z+SpLqsxjYGc8C9M17AEbnv+HBX5IibAq8O7qJNvMMQP82Ir2oYrvoRiSpUPOAXYBl0Y20kWcA+veXePCXpEjbAidGN9FWBoD+vTm6AUkSp0Q30FZeAujP9sBDtOMpisXAqugmJLXOWNJ19qZbBewIPBbdSNuMi26gpU6ieQf/xcCPgWuAGaRrYwuAZyObktRqE0hznGxLmuzsaOBVwCaRTT3PWNI++YLoRlSGm4ChhoyHgdOBiVmXWJKSjUhPQM0lfv+3evws6xJLPVNI36qjV/hngQ+RNkZJqtvGwDnAIPH7w+U8NzmQlM3RxK/sC4HDcy+oJA3DG0iv6Y3eLx6Ve0G7xqcARi76wLsEOAb4SXAfkgTwLeDPSK/qjRS9b1YBfkZsyn1j/kWUpBH7G2L3jX4pUnYLiVvBr6ph+SSpX98mbv/4RA3Lp4JNJW7lXgXsm38RJalve5P2VVH7yS3zL2J3eA/AyEwPrH0VcFdgfUnakN8C3wysv3tg7dYxAIxMZAD4WmBtSRquywNr7xZYu3UMACOzU1DdFcCNQbUlaSR+RNwTAdOC6raSAWBkoqa//BXpOVtJarrFwK+DajdpiuLGMwCMzJSguvcH1ZWkfswKqhu1j24lA8DIRK1cC4LqSlI/5gXVNQCMgAFgZAwAkrRhUfssLwGMgAFgZCYE1V0aVFeS+vF0UN2ofXQrGQAkSSqQAUCSpAIZACRJKpABQJKkAhkAJEkqkAFAkqQCGQAkSSqQAUCSpAIZACRJKpABQJKkAhkAJEkqkAFAkqQCGQAkSSqQAUCSpAIZACRJKpABQJKkAhkAJEkqkAFAkqQCGQAkSSqQAUCSpAIZACRJKpABQJKkAhkAJEkqkAFAkqQCGQAkSSqQAUCSpAIZACRJKpABQJKkAhkAJEkq0LjoBiRlMQDsCExfY/wJsDkwqTc27/27TwJLe2Mh8HvgfmBW7+fDwFCNvUuqgQFA6oaxwJ7AK4CjgCOBLSv63UuAXwHXAzcBM4AVFf1uSUEMAFJ7jQVeCZwM/DnPfaOv2hRSqDiq978XAlcDXwNuBAYz1ZWUkfcASO3zQuBTwEPAdcDbyHfwX5stgLcDN5AuF3yq15OkFjEASO2xH3AJ8P+A9wPbx7YDpB7eD9wHfBc4KLYdScNlAJCabz/gh8BM4FSaeeluDPBa0v0BPwD2iW1H0oYYAKTm2gw4F7gZODa4l+EaAI4DbgcuIC2DpAYyAEjNdApwL3AmMCG4l36MA95LulzxpuBeJK2FAUBqlinApcBlwLbBvVRhO+By0r0LU4J7kbQGA4DUHHuTnrd/c3QjGZwK3AIcEN2IpMQAIDXDm4BbSSGgq/YAfgmcFN2IJAOA1ASnk075T4xupAYbAVcA/xDdiFQ6A4AUZwA4C7iQsrbFAeCTpCccBoJ7kYrVxOeJpVKcT9nfhM8kTWf8wehGpBKV9K1DapIzKPvgv9oHekNSzQwAUv3eTDr9reQTpPcZSKqRAUCq1xHAl/Ha95oGgIuAw6IbkUpiAJDqM5V0t7/33vyx8aQJg7aObkQqhQFAqscA8CVgh+hGGmwH0oyBnh2RamAAkOrxfuD46CZa4Djg76KbkEpgAJDy2wk4O7qJFvkoMC26CanrDABSfhcAk6ObaJGNSRMFScrIACDl9Wrg9dFNtNAJpMsBkjIxAEj5jCVN86v+fIr0GUrKwAAg5fMXpDfgqT97AW+IbkLqKgOAlI9T3I7eP+FjgVIWBgApj+OAF0c30QH7k+6jkFQxA4CUx/ujG+gQz6RIGRgApOptD7wyuokOORJnUJQqZwCQqncy3r1epTHASdFNSF3jS0mk6p0c3cA63A9cB8wCFgCP9/7/rUkvKtqNdL19ekh363cK8OnoJqQuMQBI1doTODC6iTX8gXTgvByYPcz/ZhfSAffvgS0z9TVSLwZ2B+6LbkTqCi8BSNU6KrqBnmeAD5MO5h9l+Ad/ev/uOb3/9mxgReXd9acpn63UCQYAqVqHRzcAPAi8DPgIsHgUv2cxcBbpssCC0bc1ak34bKXOMABI1RkADgvu4QHgUGBmhb/zJ8BBwMMV/s5+HI6TAkmVMQBI1dkL2Caw/iLgWPIcqB8kTcv7TIbfPVzb4tTKUmUMAFJ1omf+ex/pTv9cbgb+LuPvH47oz1jqDAOAVJ3dA2vfDVxaQ50vAffUUGddmviIotRKBgCpOpEHp7OAwRrqrCLdXBjFACBVxAAgVSfq4DQP+GaN9a4k7qmAyLMsUqcYAKTq7BpU9zrq+fa/2mCvZoSoz1jqHAOAVI0BYLOg2tcG1IwKAJsH1ZU6xwAgVWMScdvTHQE1bw+oCeklS5OCakudYgCQqrFJYO15ATXnB9RcbUpgbakzDABSNaIOSoOkF/7UbQH13newJgOAVAEDgFSNCUF1lwMrA+quBJ4NqAuwUVBdqVMMAFI1oqbI3RiYHFB3E+IOxEuD6kqdYgCQqhF5UIp4/0DkOw8MAFIFDABSNSIPStsXUnM1A4BUAQOAVI2ngGVBtY8IqPnKgJqQDv5LgmpLnWIAkKoxRJ7X8A7H0YXUBHgoqK7UOQYAqTpRB6dDqPea/HbAwTXWW9Pvg+pKnWMAkKozJ6jueOCMGuudAYyrsd6a5gTVlTrHACBVZ2Zg7fdQz415LwDeXUOddYmagljqHAOAVJ3bAmtvDHyevNv0GOCLvVpRIj9jqVMMAFJ1ZgKrAusfD3w44+//CPDajL9/Q1YCdwbWlzrFACBVZwnx31D/GfhAxb9zgHTd/39U/HtH6hbiHrWUOscAIFXrmuD6A8D5wNeo5rW5k4DLgfN6vztS9GcrdYoBQKrWtdEN9JwM3Au8j/7m7B8PvLP3O/6ywr5GwwAgVcgAIFXrl6RX5TbBjsBnSQfxT5Im71nfDXwbA8cAnwJ+B1zU+x1NMB+4OboJqUuinuWVumol8HXg9OhG1rAT8A+98SxpMp35PBdUpgLbkg72Ua813pAriHntsdRZBgCpepfSrACwpgnAC3ujTS6JbkDqGi8BSNX7NXB3dBMdchfxT1dInWMAkPL4THQDHeJnKWVgAJDyuBR4NLqJDphHuv4vqWIGACmP5cCF0U10wGeAZ6KbkLrIACDl81l8fe1ozMUQJWVjAJDyWQacHd1Ei/0TsDS6CamrDABSXl8h9jXBbXUb6T4KSZkYAKS8VgFvA1ZEN9IiK0nTEA9GNyJ1mQFAyu920lS8Gp5zgVujm5C6zgAg1eNsfJf9cMwEzoluQiqBAUCqx3LgBODJ6EYa7EnSZ7Q8uhGpBAYAqT6zgFOBoehGGmgIeDvpLYSSamAAkOr1PdLjbfrPzgSujm5CKokBQKrfx4FPRzfRIBcC50c3IZXGACDF+CC+4hbgy8D7opuQSmQAkGIMAm8FLgjuI9LngXfgPRFSCAOAFGcI+HvgvOhGAnwUeA9O9iOFMQBIsYaAfyQ9HbAsuJc6LCd96/9QdCNS6QwAUjNcBhwKPBTdSEZzgcOBi6MbkWQAkJrkNuAguvk43DeBA4EZ0Y1ISgwAUrPMB94A/AXwRHAvVXgSeBfwRmBBcC+S1mAAkJrpKmAP4HOkNwq2zSDpdb57Al8M7kXSWhgApOZ6gvSM/IuBa4N7GYlrgAOA04B5wb1IWgcDgNR8dwLHkK6hX0ozzwgMkqY5fhlwLHBXbDuSNsQAILXHHaRv1S8izR3wSGw7QOrhPNKp/tfhTX5SaxgApPa5jzR3wE6k1+dGOaHXwz8C9wf2IakPBgCpvVYBNwTWv4FmXo6QNAwGAEmSCmQAkCSpQAYASZIKZACQJKlABgBJkgpkAJAkqUAGAEmSCmQAkCSpQAYASZIKZACQJKlABgBJkgpkAJAkqUAGAEmSCmQAkCSpQAYASZIKZACQJKlABgBJkgpkAJAkqUAGAEmSCmQAkCSpQAYASZIKZACQJKlABgBJkgpkAJAkqUAGAEmSCmQAkCSpQAYASZIKZACQJKlABgBJkgpkAJAkqUAGAEmSCmQAkNptsNDakkbJACC12xLg2YC6z/ZqS2opA4DUbkPA4wF15/dqS2opA4DUfvMLqSmpQgYAqf1+HVBzRkBNSRUyAEjtd20hNSVVyAAgtd8NwIoa6z0L/LjGepIyMABI7fck8JUa610MLKqxnqQMDABSN5xDPY8DLgc+XkMdSZkZAKRueAj4ZA11PgH8voY6kjIzAEjd8c/ADzL+/muBszP+fkk1MgBI3TEIvBm4LcPvvhU4CViV4XdLCmAAkLplIfAKqr0p8ArgMNLNhpI6wgAgdc8zwNuAtwCzR/F7HgBOA04GllbQl6QGMQBI3XUJsAfw16Tn9ofzlMDqZ/zfAewJXJqtO0mhxkU3ICmrFcCXemMycATwQmAqsF3v33kMWAD8DrgReLruJiXVzwAgleNp4PvRTUhqBi8BSJJUIAOAJEkFMgBIklQgA4AkSQUyAEiSVCADgCRJBTIASJJUIAOAJEkFMgBIklQgA4AkSQUyAEiSVCADgCRJBTIASJJUIAOAJEkFMgBIklQgA4AkSQUyAEiSVCADgCRJBTIASJJUIAOAJEkFMgBIklQgA4AkSQUyAEiSVCADgCRJBTIASJJUIAOAJEkFMgBIklQgA4AkSQUyAEiSVCADwMg8E1R386C6ktSPLYLqLguq20oGgJFZElR3alBdSerHNkF1nwqq20oGgJExAEjShkUFgKh9dCsZAEYmKl3uF1RXkvoRtc/yDMAIGABGZlFQ3X2BFwTVlqSR2AF4tnZjHgAABANJREFUUVDtqH10KxkARuaBoLoDwNFBtSVpJI4m7bMiRO2jVYADgaGg8Ysalk+SRutXxO0nvVyqbKYAg8St3MfkX0RJ6ttrids/DgKT8y+iSvYIcSv4rcCE/IsoSSM2EbiDuP3jw/kXsVu8B2Dkbg+s/WLgc4H1JWld/gXYP7B+5L5ZhTiDuIS7epyefSklafjeS/x+8QPZl1LFO5j4FX0IuAgYn3lZJWl9xgLnEr8/HAJemnlZJcYBi4lf2YeAH+Fdr5Ji7A/cSPx+cIj0/P/YrEsr9XyH+BV+9VgFXEk6M+E9HZJyGgO8DLiK2Ceinj++nXOhuypqsoa2OwW4LLqJtXgcuB6YAcwHHiWdrZCkfmxKmoV0G9KB/yhgq9CO1u5k4IroJtrGANCfycBjpHkBJElxnga27f3UCHjKuD9Pky4DSJJifQsP/n0xAPTv0ugGJEmNvBzbCl4C6N8AcCewT3QjklSou0hPIwxFN9JGngHo3xBwfnQTklSw1XMQqA+eARid8cD9wM7RjUhSYWYDuwMroxtpK88AjM4K4BPRTUhSgc7Fg/+oeAZg9MYBtxD7EgxJKslvgAMxAIyKZwBGbyXp5Txeh5Kk/IZI+1wP/qNkAKjGz3EWKkmqw6XAT6Kb6AIvAVRnO9JjgVOjG5GkjppPegHavOhGusAzANV5DDiN9IIMSVK1BoFT8eBfGV+fWK1ZpPcDvCK6EUnqmHOBL0Y30SVeAqjeeNL1qUOiG5GkjrgJOAJv/KuUASCPrUk3Bu4R3Ygktdws4FA89V85A0A+u5BS6wuiG5GklnqEdEl1TnAfneRNgPnMBo4DFkU3IkkttIi0D50T3EdnGQDymgkcSXp0RZI0PPOAV5EerVYmXgKoxy7ANcD06EYkqeFmA8eQXrSmjDwDUI/ZwGHA7dGNSFKD3Up6gsqDfw2cB6A+S4CvApsCBwf3IklNcylwAvBkdCOl8BJAjD8HLga2iG5EkoItBt4F/J/oRkrjJYAYVwMvBa6PbkSSAl0HHIAH/xAGgDgPAK8GjgceDO5Fkuo0F3gLcDTpHikF8B6AePcB/0Z6x/WBwMTYdiQpm8XAJ4CTgFuCeyme9wA0y6bA24AzcQZBSd2xAPjfwAXAwuBe1GMAaKZJwFt746DQTiSpf78GvtIby0I70R8xADTf7sDJwCnAbsG9SNKG3Adc3hs+z99gBoB22Z70YoyjSDcQ7hLbjiTxKOntp9eTXoD229h2NFwGgHbblvTK4emkswPTSXMLbAZsAkwmXU6QpH48DSwFniK9nGch6Vv96nEvvutEkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiR11/8HjzeEGUTFKyoAAAAASUVORK5CYII=",alt:"",style:{width:"15px",height:"15px"}})}),(0,Nr.jsx)("span",{children:(0,Nr.jsx)("input",{required:!0,type:"password ",placeholder:"L\xf6senord",name:"password",onChange:s})})]}),(0,Nr.jsx)(Yr,{onClick:async t=>{t.preventDefault();try{await Er.post("".concat("https://jaktharry-app-130a026cb2e4.herokuapp.com","/api/auth/register"),e),o("/Login")}catch(n){r(n.response.data)}},children:"Registrera"}),n&&(0,Nr.jsx)("p",{children:n}),(0,Nr.jsxs)("span",{children:["Har du ett konto?.. ",(0,Nr.jsx)(Dt,{to:"/Login",children:"Logga in"})]})]})]})})},Xr=(0,i.createContext)(),Zr=e=>{let{children:t}=e;const[n,r]=(0,i.useState)(JSON.parse(localStorage.getItem("user")||null));return(0,i.useEffect)((()=>{const e=setInterval((async()=>{try{n&&n.id&&(await Er.put("".concat("https://jaktharry-app-130a026cb2e4.herokuapp.com","/api/users/update-last-activity/").concat(n.id)),r((e=>({...e,lastActivity:(new Date).toISOString()}))))}catch(e){console.error("Error updating last activity:",e.message)}}),6e4);return()=>clearInterval(e)}),[n]),(0,i.useEffect)((()=>{localStorage.setItem("user",JSON.stringify(n))}),[n]),(0,Nr.jsx)(Xr.Provider,{value:{currentUser:n,login:async e=>{try{const t=await Er.post("".concat("https://jaktharry-app-130a026cb2e4.herokuapp.com","/api/auth/login"),e);t.data&&t.data.token?(r(t.data),localStorage.setItem("accessToken",t.data.token)):console.error("Login failed: Unexpected response format")}catch(t){console.error("Login failed:",t.message)}},logout:async e=>{await Er.post("".concat("https://jaktharry-app-130a026cb2e4.herokuapp.com","/api/auth/logout")),localStorage.removeItem("accessToken"),r(null)}},children:t})},$r=()=>{const[e,t]=(0,i.useState)({username:"",password:""}),[n,r]=(0,i.useState)(null),o=We(),{login:s}=(0,i.useContext)(Xr),a=e=>{t((t=>({...t,[e.target.name]:e.target.value})))};return(0,Nr.jsxs)(Fr,{className:"auth",children:[(0,Nr.jsx)("h1",{children:"Logga in"}),(0,Nr.jsxs)("form",{children:[(0,Nr.jsx)("input",{required:!0,type:"text",placeholder:"Anv\xe4ndarnamn ",name:"username",onChange:a}),(0,Nr.jsx)("input",{required:!0,type:"password ",placeholder:"L\xf6senord",name:"password",onChange:a}),(0,Nr.jsx)(Yr,{onClick:async t=>{t.preventDefault();try{await s(e),o("/")}catch(n){r(n.response.data)}},children:"Logga in"}),n&&(0,Nr.jsx)("p",{children:n}),(0,Nr.jsxs)("span",{children:["Har du inget konto?.. ",(0,Nr.jsx)(Dt,{to:"/register",children:"Registrera"})]})]}),(0,Nr.jsx)(Dt,{className:"HemClass nav-link",to:"/",children:"G\xe5 hem .."})]})};var ei=r(5041),ti=r.n(ei),ni=r(5944),ri=r.n(ni);r(9664);const ii=["StockholmCentrala","Hallstavik","HaningeTyres\xf6","Liding\xf6","M\xe4lar\xf6","Norrort","Norrt\xe4ljeNorra","Norrt\xe4ljeS\xf6dra","Nyn\xe4shamn","Rimbo","SolnaSundbyberg","S\xf6derort","S\xf6dert\xe4lje","UpplandsBro","Wermd\xf6Nacka","V\xe4sbySollentunaJ\xe4rf\xe4lla","V\xe4sterort","\xd6ster\xe5kerVaxholm"],oi=()=>{ri().locale("sv");const e=Ge().state,{currentUser:t}=(0,i.useContext)(Xr),[n,r]=(0,i.useState)((null===e||void 0===e?void 0:e.title)||""),[o,s]=(0,i.useState)((null===e||void 0===e?void 0:e.desc)||""),[a,l]=(0,i.useState)((null===e||void 0===e?void 0:e.text)||""),[c,u]=(0,i.useState)((null===e||void 0===e?void 0:e.img)||""),[d,h]=(0,i.useState)((null===e||void 0===e?void 0:e.cat)||""),[f,p]=(0,i.useState)(null!==e&&void 0!==e&&e.adminDate?ri()(e.adminDate).format("YYYY-MM-DD"):""),[m,g]=(0,i.useState)(null!==e&&void 0!==e&&e.deadline?ri()(e.deadline).format("YYYY-MM-DD"):""),[v,y]=(0,i.useState)((null===e||void 0===e?void 0:e.price)||0),[b,w]=(0,i.useState)((null===e||void 0===e?void 0:e.spots)||20),[A,_]=(0,i.useState)((null===e||void 0===e?void 0:e.status)||"closed"),x=We();Er.defaults.withCredentials=!0;const[S,k]=(0,i.useState)(""),[E,C]=(0,i.useState)([]);(0,i.useEffect)((()=>{if(2===t.role){const e="".concat("https://jaktharry-app-130a026cb2e4.herokuapp.com","/api/moderators/krestar/").concat(t.id),n=async()=>{try{const t=await Er.get(e);console.log(t.data),C(t.data)}catch(S){console.error("Error fetching data:",S)}};n()}}),[t]);return t?(0,Nr.jsxs)("div",{className:"add",children:[(0,Nr.jsxs)("div",{className:"content",children:[(0,Nr.jsx)("input",{type:"text",value:n,placeholder:"Ange titel",onChange:e=>r(e.target.value)}),(0,Nr.jsx)("hr",{}),(0,Nr.jsx)("div",{className:"editorContainer1",children:(0,Nr.jsx)(ti(),{className:"editor",placeholder:"Beskrivning av nyheterna",theme:"snow",value:o,onChange:s})}),(0,Nr.jsx)("hr",{}),(0,Nr.jsx)("div",{className:"editorContainer2",children:(0,Nr.jsx)(ti(),{className:"editor",placeholder:"Nyhetsdetaljer",theme:"snow",value:a,onChange:l})})]}),(0,Nr.jsx)("div",{className:"menu",children:(0,Nr.jsxs)("div",{className:"item",children:[(0,Nr.jsx)("h1",{children:"Ange bildl\xe4nken"}),(0,Nr.jsx)("input",{type:"text",value:c,placeholder:"Image URL",onChange:e=>u(e.target.value)}),(0,Nr.jsx)("hr",{}),(0,Nr.jsxs)("div",{className:"item",children:[(0,Nr.jsx)("h1",{children:"Category"}),2===t.role?(0,Nr.jsx)("div",{children:Object.entries(E).map((e=>{let[t,n]=e;return null!==n&&(0,Nr.jsxs)("div",{className:"cat",children:[(0,Nr.jsx)("input",{type:"radio",checked:d===t,name:"Krets",value:n,id:t,onChange:e=>h(e.target.value)}),(0,Nr.jsx)("label",{htmlFor:t,children:n})]},t)}))}):(0,Nr.jsxs)("div",{children:[(0,Nr.jsxs)("div",{className:"cat",children:[(0,Nr.jsx)("input",{type:"radio",checked:"riks"===d,name:"cat",value:"riks",id:"riks",onChange:e=>h(e.target.value)}),(0,Nr.jsx)("label",{htmlFor:"riks",children:"Riks"})]}),(0,Nr.jsxs)("div",{className:"cat",children:[(0,Nr.jsx)("input",{type:"radio",checked:"lans"===d,name:"cat",value:"lans",id:"lans",onChange:e=>h(e.target.value)}),(0,Nr.jsx)("label",{htmlFor:"lans",children:"L\xe4ns"})]}),(0,Nr.jsxs)("div",{className:"cat",children:[(0,Nr.jsx)("input",{type:"radio",checked:"lokalt"===d,name:"cat",value:"lokalt",id:"lokalt",onChange:e=>h(e.target.value)}),(0,Nr.jsx)("label",{htmlFor:"lokalt",children:"Lokalt"})]}),(0,Nr.jsxs)("div",{className:"cat",children:[(0,Nr.jsx)("input",{type:"radio",checked:"open"===d,name:"cat",value:"open",id:"open",onChange:e=>h(e.target.value)}),(0,Nr.jsx)("label",{htmlFor:"open",children:"\xf6ppen"})]}),(0,Nr.jsxs)("div",{className:"cat",children:[(0,Nr.jsx)("input",{type:"radio",name:"cat",checked:"kretsar"===d,value:"kretsar",id:"kretsar",onChange:e=>h(e.target.value)}),(0,Nr.jsx)("label",{htmlFor:"kretsar",children:"Kretsar"})]}),"kretsar"===d&&(0,Nr.jsxs)("div",{children:[(0,Nr.jsx)("h6",{className:"mt-3",children:"V\xe4lj Kretsar-kategori:"}),ii.map(((e,t)=>(0,Nr.jsxs)("div",{className:"ps-4",children:[(0,Nr.jsx)("input",{type:"radio",name:"cat",checked:d===e,value:e,id:e,onChange:e=>h(e.target.value)}),(0,Nr.jsx)("label",{htmlFor:e,children:e})]},t)))]})]}),(0,Nr.jsxs)("div",{className:"cat",children:[(0,Nr.jsx)("input",{type:"radio",checked:"aktiviteter"===d,name:"cat",value:"aktiviteter",id:"aktiviteter",onChange:e=>h(e.target.value)}),(0,Nr.jsx)("label",{htmlFor:"aktiviteter",children:"Aktiviteter"})]}),"aktiviteter"===d&&(0,Nr.jsxs)("div",{className:"activity-details",children:[(0,Nr.jsx)("hr",{}),(0,Nr.jsxs)("div",{className:"status-input",children:[(0,Nr.jsx)("label",{htmlFor:"status",children:"Aktivitetsstatus"})," ",(0,Nr.jsx)("br",{}),(0,Nr.jsxs)("select",{id:"status",value:A,onChange:e=>_(e.target.value),className:"form-control1",children:[(0,Nr.jsx)("option",{value:"open",children:"\xf6ppen"}),(0,Nr.jsx)("option",{value:"closed",children:"st\xe4ngd"})]})]}),(0,Nr.jsx)("label",{htmlFor:"status",children:"Aktivitetsdatum"}),(0,Nr.jsx)("br",{}),(0,Nr.jsx)("input",{type:"date",id:"adminDate",placeholder:"Datum f\xf6r aktivitet",value:ri()(f).format("YYYY-MM-DD"),className:"form-control",onChange:e=>{p(e.target.value)},min:(new Date).toISOString().split("T")[0]}),(0,Nr.jsx)("label",{htmlFor:"status",children:"Sista anm\xe4lningsdagen"}),(0,Nr.jsx)("br",{}),(0,Nr.jsx)("input",{type:"date",id:"deadline",placeholder:"Sista anm\xe4lningsdagen",value:ri()(m).format("YYYY-MM-DD"),className:"form-control",onChange:e=>g(e.target.value),min:(new Date).toISOString().split("T")[0],max:ri()(f).format("YYYY-MM-DD")}),(0,Nr.jsx)("label",{htmlFor:"status",children:"Pris (kr)"}),(0,Nr.jsx)("br",{}),(0,Nr.jsx)("input",{type:"number",placeholder:"Pris",value:v,onChange:e=>y(e.target.value),className:"form-control1"}),(0,Nr.jsx)("br",{}),(0,Nr.jsx)("label",{htmlFor:"status",children:"Spots"})," ",(0,Nr.jsx)("br",{}),(0,Nr.jsx)("input",{type:"number",placeholder:"Spots",value:b,onChange:e=>w(e.target.value),className:"form-control1"}),S&&(0,Nr.jsx)("p",{className:"error-message",children:S})," "]})]}),(0,Nr.jsx)("div",{className:"item2",children:(0,Nr.jsx)(Yr,{onClick:async t=>{t.preventDefault();const r=f&&ri()(f,"YYYY-MM-DD",!0).isValid()?ri()(f).format("YYYY-MM-DD"):ri()().format("YYYY-MM-DD"),i=m&&ri()(m,"YYYY-MM-DD",!0).isValid()?ri()(m).format("YYYY-MM-DD"):ri()().format("YYYY-MM-DD");console.log("Selected cat:",d);try{const t=localStorage.getItem("accessToken"),s={Authorization:"Bearer ".concat(t)};e&&e.postId?(await Er.put("".concat("https://jaktharry-app-130a026cb2e4.herokuapp.com","/api/posts/").concat(e.postId),{title:n,desc:o,text:a,cat:d,img:c},{headers:s}),"aktiviteter"===d&&await Er.put("".concat("https://jaktharry-app-130a026cb2e4.herokuapp.com","/api/posts/updateActDetails/").concat(e.postId),{status:A,adminDate:r,deadline:i,price:v,spots:b},{headers:s})):await Er.post("".concat("https://jaktharry-app-130a026cb2e4.herokuapp.com","/api/posts/"),{title:n,desc:o,text:a,cat:d,img:c,spots:b||10,price:v||0,adminDate:r,deadline:i,status:A,date:ri()(Date.now()).format("YYYY-MM-DD HH:mm:ss")},{headers:s}),x("/")}catch(s){k(s.message),console.log(s)}},children:"Publicera"})}),(0,Nr.jsx)("div",{className:"menu"})]})})]}):(0,Nr.jsxs)("div",{className:"wadd",children:[(0,Nr.jsx)("img",{src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAgAAAAIACAYAAAD0eNT6AAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAALEwAACxMBAJqcGAAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAB42SURBVHic7d179G93Xd/55zkJuUC4RkPAIHcQQqhQ0AooAeU21sV4idXKRXTZKrXjYKuts6ZTegFaa+3U1tbi1LFa1IIVKThcBRwua6qlLEXQCCKKdXEXJEACOcn8sU/kJDmX3+93vr/v57v3fjzW+ixyLr/v9xVyzu/92p+9v3sfCRjl/Ory6v7VvY6vy6qLT1hHq9tV5w1JCJzOB6q3VedU51YXVhdUx6qPVB89vj5UXV39ZvXe6sYRYW/pyOgAsBJHm4b9Y6pHVQ+rHtj0TQNYj09Wv129tfp/qjdVnxsRRAGAw/OF1VOOrydWdxkbB9hBf1a9pnpp9Z+r67b1xgoAbNZdqm+svrl6XNPWIMBefKT66eqF1bsP+80UADh7R6rHVt/VNPzPHxsHmLkbq1dW/3v19sN6EwUADu786unVc6oHD84CLM8N1Yurv1e9Z9MvrgDA/t22+t7q+6u7Ds4CLN/nqh9rKgKf2dSLKgCwd7epnl39UAY/sH2/Vz2r6RMEZ80FSrA3V1avaNryv2hsFGClLm4qAHeo3th0v4EDswMAp3dp9cPV0/L3Bdgdb2m66PiDB30B39Dg5M6pvqf6x9UdB2cBOJn3VU+tfusgX6wAwK3drfq5pm1/gF12TdNOwGv2+4VHN58FZu1xTff2vnJwDoC9uKj6L9XX7vcLFQCYnFM9t3pt0w4AwFycX72k+pr9fJFTAFCXNN1s47GjgwCchU83PXfkLXv5zQoAa3ev6tXVAwbnANiEj1aPrP7gTL/RKQDW7PKmR3Ea/sBSXFz9UtMdS0/LjYBYq69sOt9/yeggABt2aXXvpiJwSgoAa/R11cuq248OAnBIrmi6dfBvn+o3uAaAtXlc02M2PbIXWLqPNp3qPOndAu0AsCYPrV6Ve/kD63Db6h7VL57sFxUA1uL+TQ/PuHhwDoBtekj1G9W7b/kLTgGwBnev3tx0UQzA2ryj+tLqhhN/0g4AS3dB9avVg0YHARjkrtW7qnee+JPuA8DS/cvqYaNDAAz2j6pzT/wJBYAl+5bqr40OAbADHtD01MA/5xQAS3W/6uX5uB/ATe5U/exNP3ARIEt0fvXW6uGjgwDskBubPhH1++UUAMv0vAx/gFs6Uj3rxB/Akjy0elu3uNgFgKr+qLpn2QFgWY5UP5bhD3AqX1w9uBQAluVZ1WNHhwDYcU8snwJgOe5S/XJ1u9FBAGbgRXYAWIp/XH3h6BAAM/BV1XkuAmQJ7lVdXZ03OAfAXDzEDgBL8NwMf4D9eLACwNzdp/q20SEAZuZBCgBz95x87A9gvx7kGgDm7M5NN7W4aHQQgJl5qx0A5uw7MvwBDuIOCgBz9p2jAwDM1O0VAObqsdWDRocAmKk7uHiKuXrG6ABb8NHq3dU11Z8OzsLn3b/60tEh4CzdwUWAzNF51QeaLgJckg9Wv1i9vnpT9eGxcTjB/apvrq7K8Gch7AAwR09oWcP/TdU/q15ZXT84C593n+qvNA39hw3OAhunADBHTx0dYEPeWf3N6g2jg/DnLqy+sekC08c2PWIagB3x/urGGa/rq79f3WbT/8dwYHdu+m/y0cb/+bCsrSw7AMzNFdVlo0OchY9V35Sj/l1xh+rvVN97/J9hNRQA5ubxowOchT+unlS9a3QQOlo9s3p+dengLDCEAsDcPHp0gAP6cPXV1e+NDkL3r/5D9RWjg8BIbgTE3DxqdIADuLb62gz/0Y5U3129PcMf7AAwK190fM3N91e/MTrEyl1U/XTTFf5ACgDz8tDRAQ7gVdW/HR1i5e5dvazpAlLgOAWAOZnbN/Brmz7nzziPaLrB0heMDgK7xjUAzMnlowPs009V7xkdYsUeU70uwx9Oyg4Ac3Kv0QH24fqm2/syxmOrX6luNzoI7Co7AMzJvUcH2IfXVO8bHWKlHlK9NMMfTksBYC7Oqe4+OsQ+/MfRAVbqXtWrW9bDouBQeNAFc3FJ0+Ny5+DGprwfGR1kZS6o3lI9fHQQmAM7AMzFXUYH2Id3ZPiP8OMZ/rBnCgBzcfHoAPvwW6MDrNAzq+8YHQLmRAFgLm47OsA+XD06wMp8UfV/jg4Bc6MAMBfnjw6wDx8eHWBlfry60+gQMDcKAHNx3ugA+3DN6AArclX11NEhYI4UAObinNEB9uGzowOsxHnV80eHgLlSAIC5+t7qfqNDwFwpAMAcXVj93dEhYM4UAGCOnlV94egQMGcKADA351TPGR0C5k4BAObmiTn3D2dNAQDm5umjA8ASKADAnNwhn/uHjVAAgDn5y83rttCwsxQAYE6eMjoALIUCAMzF0aYLAIENUACAubiiumR0CFgKBQCYi0eODgBLogAAc/EXRweAJVEAgLn40tEBYEkUAGAu7jM6ACyJAgDMwYV5+A9slAIAzMEXV0dGh4AlUQCAObh4dABYGgUAmAO3/4UNUwCAObhwdABYGgWAuTg2OsA+zCnrXJw/OgAsjQLAXHxqdIB9+OToAAvkAkDYMAWAufj46AD7MKeswEopAMzFu0cH2IffHx0A4EwUAObiY9WHRofYgw80ZQXYaQoAc/Lm0QH24E2jAwDshQLAnPzq6AB7MIeMAAoAs/KL1edGhziN66tfHh0CYC8UAObkQ9WrRoc4jV+pPjg6BMBeKADMzY+MDnAau5wN4GYUAObm/63eMDrESbymeVykCFApAMzT32y3rgX4bPW/jg4BsB8KAHP0zuoFo0Oc4B9VvzM6BMB+KADM1T+s3jg6RPW66vmjQwDslwLAXB2rvqmxR97vqv5KdcPADAAHogAwZx+tnly9Z8B7v/v4e7vtLzBLCgBz90fVo6v/tsX3/PXj7/n+Lb4nwEYpACzBh6rHVD+2hff62erK6sNbeC+AQ6MAsBTXVd9XPb7DuS7gPdVTqmdUnzmE1wfYKgWApXlD9bDq2dX7NvB6f1D99erydvs2xAD7ogCwRNdV/7a6X/U/VS9qf1v2H2ra6n9ydf/qhU03+wFYjHNHB2DrblM9oLrb8R9fWH2q6Wj5/e3WHfbO1rHqlcfXkeoh1RVN//6XVhcd/33XVB+orq7e0XSjoRu3HRZgmxSA5Tunelx1VfWo6oFNJeBkjlW/23Rf+9c03Wjn2sOPuBU3Ng33d4wOAgCH6ZLqh5u2vm884Ppg9Q+qu245O9zSVR38z7FlWSdfLMwdmwb/NW3uD8m1Tbe7vXCL/x5wIgXAsja8XAS4LF9Z/Wb1A9XtNvi651c/1LR9/tUbfF0ABlEAluPvN30E7p6H+B73bbo24DmH+B4AbIECMH9Hqn9dPbfpgr/DdrT60erHt/R+ABwCBWDejlQ/Wf2NAe/97KbPyisBADOkAMzbD1TfOfD9v7X6+XycFGB2FID5urJ63ugQTVdn/1xKAMCsKADzdLum7fddGbpXVT+T0wEAs6EAzNMPVpeNDnELTgcAzIgCMD+XVX97dIhTsBMAMBMKwPw8u7rt6BCnYScAYAYUgHk5t3rm6BB74MJAgB2nAMzLk6u7jw6xR04HAOwwBWBenjg6wD45HQCwoxSAeXn06AAH4HQAwA5SAObjttVDR4c4IKcDAHaMAjAf92jeR9FOBwDsEAVgPu4yOsAGOB0AsCMUgPm4eHSADVECAHaAAjAfF44OsEFKAMBgCgCjKAEAAykAjKQEAAyiADCaEgAwgALALlACALZMAWBXKAEAW6QAsEuUAIAtUQDYNUoAwBYoAOwiJQDgkCkA7ColAOAQKQDsMiUA4JAoAOw6JQDgECgAzIESALBhCgBzoQQAbJACwJwoAQAbogAwN0oAwAYoAMyREgBwlhQA5koJADgLCgBzpgQAHJACwNwpAQAHoACwBEoAwD4pACyFEgCwDwoAS6IEAOyRAsDSKAEAe6AAsERKAMAZKAAslRIAcBoKAEumBACcggLA0ikBACehALAGSgDALSgArIUSAHACBYA1UQIAjlMAWBslACAFgHVSAoDVUwBYKyUAWDUFgDVTAoDVUgBYOyUAWCUFAJQAYIUUAJgoAcCqKADweUoAsBoKANycEgCsggIAt6YEAIunAMDJKQHAoikAcGpKALBYCgCcnhIALJICAGemBACLowDA3igBwKIoALB3SgCwGAoA7I8SACyCAgD7pwQAs6cAwMEoAcCsKQBwcEoAMFsKAJwdJQCYJQUAzp4SAMyOAgCboQQAs6IAwOYoAcBsKACwWUoAMAsKAGyeEgDsPAUADocSAOw0BQAOjxIA7CwFAA6XEgDsJAUADp8SAOwcBQC2QwkAdooCANujBAA7QwGA7VICgJ1wNt+EjlQPqR5fPbJ6YHXP6rbV7c4+GizWVdX11dOrY4OzACt1kAJw9+qvNX3zus9m48BqfOvx/1UCgCH2UwAurZ5bfXt1/mGEgZVRAoBh9lIAjlTfUz2/uuPhxoHVUQKAIc5UAO5c/d/VU7eQBdZKCQC27nQF4G7Vq6qHbikLrNm3Nv19/KtNFwgCHKpTFYAvqt5c3Wt7UWD1rqo+03SdzY1jowBLd7L7ANy5enWGP4zwjOqfjg4BLN8tC8CR6t9Xlw/IAkx+oOlUAMChuWUB+J7q60cEAW7m3zTdWAvgUJxYAO5aPW9UEOBm7lj96OgQwHKdWAD+QXWnUUGAW/mG6srRIYBluqkAXFo9c2QQ4KT+t9EBgGW6qQB8d3XByCDAST0hF+UCh+Bo05X/TxsdBDglnwgANu5odUV139FBgFP6htEBgOU5Wj1udAjgtL6k6dbcABtztHrk6BDAGX3Z6ADAshytHjg6BHBG9x8dAFiWo9U9RocAzshdAYGNOlrdfnQI4Iz8PQU26mh1/ugQwBm5TwewUUerT40OAZzRNaMDAMtytPr46BDAGf3p6ADAshytfn90COCM3jM6ALAsR6t3jQ4BnNHvjA4ALMvR6i2jQwCndV31G6NDAMtytHp9dcPoIMApvaX6zOgQwLIcrT5YvXFwDuDUfmF0AGB5jh7/3/8wNAVwKp+q/vPoEMDy3FQAfr76w5FBgJP6yepjo0MAy3NTAfhc9U9HBgFu5VPVj4wOASzT0RP++YXV20cFAW7ledX/GB0CWKYTC8Cx6ruaPnIEjPW26p+PDgEs19Fb/Pht1Q+MCAL8uU9U31J9dnQQYLluWQCq/lX1L7cdBKimoX9Vbv0LHLKTFYCq769+dptBgK6vnla9dnQQYPlOVQBuqJ6ZK5BhW24a/i8ZHQRYh1MVgKobm64H+IY8MhgO07Hq26v/NDgHsCKnKwA3eWn1kJwSgMNwrGm37UWjgwDrspcCUNNnkZ9RXVm97tDSwLpcX31bhj8wwF4LwE1+rXpC9eDqBdW7Np4I1uGmc/62/YEhjmzgNS6tHlk9sLpndVF1uw28Ljd3WfUVo0OwEYb//l1VvXh0CFiSczfwGh+oXn58cXiuSgFYAhf8ATthv6cAgINzwR+wMxQA2A7DH9gpCgAcPsMf2DkKABwuwx/YSQoAHB7DH9hZCgAcDsMf2GkKAGye4Q/sPAUANsvwB2ZBAYDNMfyB2VAAYDMMf2BWFAA4e4Y/MDsKAJwdwx+YJQUADs7wB2ZLAYCDMfyBWVMAYP8Mf2D2FADYH8MfWAQFAPbO8AcWQwGAvTH8gUVRAODMDH9gcRQAOD3DH1gkBQBOzfAHFksBgJMz/IFFUwDg1gx/YPEUALg5wx9YBQUAPs/wB1ZDAYCJ4Q+sigIAhj+wQgoAa2f4A6ukALBmhj+wWgoAa2X4A6umALBGhj+wegoAa2P4A6QAsC6GP8BxCgBrYfgDnEABYA0Mf4BbUABYOsMf4CQUAJbsWPXtGf4At6IAsFQ3Df//ODgHwE5SAFgiwx/gDBQAlsbwB9gDBYAlMfwB9kgBYCkMf4B9UABYAsMfYJ8UAObO8Ac4AAWAOTP8AQ5IAWCuDH+As6AAMEeGP8BZUgCYG8MfYAMUAObE8AfYEAWAuTD8ATZIAWAODH+ADVMA2HWGP8AhUADYZYY/wCFRANhVhj/AIVIA2EWGP8AhUwDYNYY/wBYoAOwSwx9gSxQAdoXhD7BFCgC7wPAH2DIFgNEMf4ABFABGMvwBBlEAGMXwBxjo3NEB2LMbRwfYoOurp1e/MDoIwFrZAZiPT4wOsCHHqmdl+AMMpQDMx0dHB9gA2/4AO8IpgPmYewGw7Q+wQ+wAzMf7m+9pANv+ADtGAZiPG6r/b3SIA7DtD7CDFIB5eevoAPt0ffW0DH+AnaMAzMsvjQ6wD7b9AXaYAjAvv13919Eh9sC2P8COUwDm5ydHBziDY9n2B9h5CsD8/Gz1e6NDnMJNR/62/QF2nAIwP5+t/s7oECdh2x9gRhSAefrl6lWjQ5zAtj/AzCgA8/Vt1ftGh8i2P8AsKQDz9bHqW5pOCYziyB9gphSAefuv1TdW1w547881DX9H/gAzpADM3yuqJ1ef3OJ7frJ6aoY/wGwpAMvwa9Vjq9/dwnu9t/qK6pVbeC8ADokCsBxvr/5i9e+qGw/h9Y9V/6L6C9U7D+H1AdgiBWBZPl19d/XI6lc29Jo3Vq+pvrz6/uqaDb0uAAMpAMv0tuovNw3tF1YfPsBrfKzptsNXVE86/poALMSR0QHYinOqr2o6d39FdXl12Qm//rnqD4+vd1Svrv5b07Y/7IKrqhePDgFLcu7oAGzFseoNx9caXVg9qnpc9ZDqgdVdq4uO//o11Qerq5sK0Buqtzbm45UAwFl6dPXT1Z81Xcuwn/WJ6qeadk0Y76r2/9/QsqzTL1icr2z6aOSm/pK8oWkHgXEUAMva8HIRIEty56Yj/l9ruuZhU66s3lz9++qOG3xdgGEUAJbiy6r/Xj2zw7m49Uj1Hcff4xGH8PoAW6UAsARfV72xutcW3us+TbsB37CF9wI4NAoAc/dN1S81Xem/LedX/6n6+i2+J8BGKQDM2eOaHkU84uOs51Y/12avNQDYGgWAubq0aQCfPzDDBdVLqrsPzABwIAoAc3SkafhfOjpIdUnTJw8AZkUBYI6e3rT9vyueUH3L6BAA+6EAMDcXVC8YHeIkfrg6b3QIgL1SAJibZ7Wb59zv0XQPAoBZUACYm2ePDnAa3zc6AMBeKQDMySOanua3qy6vvnR0CIC9UACYk6eODrAHc8gIoAAwK7t05f+pzCEjgALAbBytHj46xB48Mn+vgBnwjYq5uGfbvd//Qd22umx0CIAzUQCYi3uMDrAPXzw6AMCZKADMxe1HB9iHOWUFVkoBYC7msP1/k9uNDgBwJgoAc3FkdIB9mFNWYKUUAABYIQUAAFZIAQCAFVIAAGCFFAAAWCEFAABWSAEAgBVSAABghRQAAFghBQAAVkgBAIAVUgAAYIUUAABYIQUAAFZIAQCAFVIAAGCFFAAAWCEFAABWSAEAgBVSAABghRQAAFghBQAAVkgBAIAVUgAAYIUUAABYIQUAAFZIAQCAFVIAAGCFFAAAWCEFAABWSAEAgBVSAABghRQAAFghBQAAVkgBAIAVUgAAYIUUAABYIQUAAFZIAQCAFVIAAGCFFAAAWCEFgLk4NjrAPpw3OgDAmSgAzMVnRwfYh4tGBwA4EwWAubhudIB9uGR0AIAzUQCYi0+PDrAPDxgdAOBMFADm4qOjA+zDQ0cHADgTBYC5mFMBuKL6gtEhAE5HAWAuPtZ8PglwpHrS6BAAp6MAMBfHqv8xOsQ+PG10AIDTUQCYk/eNDrAPT6juPToEwKkoAMzJH4wOsA/nVD84OgTAqSgAzMm7RgfYp2flI4HAjlIAmJPfGh1gn86v/vXoEAAnowAwJ3MrADVdC/C9o0MA3JICwJz8SfXHo0McwI9UXz46BMCJFADm5q2jAxzA+dUrqi8ZHQTgJgoAc/OW0QEO6Auq11WXjw4CUAoA8/P60QHOwhdVb6q+ZnQQAAWAufnt6v2jQ5yFO1evrv5hdd7gLMCKKQDM0StHBzhLR6u/V/1m9cTBWYCVUgCYo5eNDrAhX9K0G/CW6n+ubjM2DrAmCgBz9NqmpwMuxaOqlzY97OgnqquqS4cmAhbvyOgAcED/V/Wdo0Mcsj+t3lN9ovp4dePYOENdVn3F6BCwJAoAc/VV1a+NDgEwVwoAc/bO6sGjQwDM0TmjA8BZuKB60ugQAHNkB4A5u1PTPQEuGh0EYG7sADBn11Z3rf7S6CAAc2MHgLm7V/Xu6tzBOQBmxQ4Ac/fxphLwsME5AGbFDgBLcM/q93JvfYA9swPAEnyi6VqALxsdBGAu7ACwFHesfqe62+ggAHNgB4CluK76SNNDdQA4AzsALMmR6vXVlYNzAOw8BYClubx6ex6tC3BaTgGwNB+ubl89enQQgF1mB4AlOr96a/Xw0UEAdpUCwFLdt3pb06cDALiFo6MDwCH5/eq7RocA2FWuAWDJ3lVdWj1idBCAXeMUAEt3QfWWXA8AcDNOAbB011ZPbnpWAADH2QFgLe5XvbnpmQEAa3ejHQDW4j3VE5seHwywdtcqAKzJb1Vf33RaAGDNPq0AsDZvrL65+szgHAAjKQCs0subTgf86eggAIN8RAFgrd5cPaZ6/+ggAAP8kQLAmr2r+srq6tFBALbsDxUA1u4Pm3YCXj86CMAWvVcBgPpI9TXV362ODc4CsA3/3Y2A4OaurF5U3X1wDoDDckN1JzsAcHNvbHpuwOsG5wA4LL9bfVIBgFv7YPWk6n+prhmcBWDTfrU8DAhO5YbqX1WXV68YnAVgk15VHgYEe/WU6kerLxkdBOAsXFtdnDsBwp69snpo9TeqPxmcBeCgXlF9upwCgP34XPVvmh4t/JwUAWB+fuamf3AKAA7uvOqvVn+resjgLABn8qHqsqaDGTsAcBY+W/10dUX1iOqF1adGBgI4jZ/o+PAvOwCwaXeqvr7pkcNfXd1mbByAarr4755NuwCVAgCH6eKmxw4/pem+ApeMjQOs2L+rvvvEn1AAYDuOVA+qHt308KGHNX2k0A4BcNg+0/T95o9O/EkFAMa5TVMpuH917+Prsqadg5vWudWF1QWDMgLz90+qH7rlTyoAwBxcVb14dAiYoQ9VD6g+cctf8CkAAFiu7+skw78UAABYqldUv3CqX1QAAGB5PlL99dP9BgUAAJblhuppneF25QoAACzL/1G9+ky/SQEAgOX4+eoFe/mNCgAALMMbqmc1nQI4IwUAAObv16unVtft9QsUAACYtzdVT6g+uZ8vUgAAYL5eWT25+rP9fqECAADz9MKmbf9PH+SLz91sFgDgkF1XPbv6qbN5EQUAAObjndXTq7ef7Qs5BQAAu+/6psf6PrwNDP+yAwAAu+4NTU/1e8cmX9QOAADspndU31g9vg0P/7IDAAC75jeq51cvq248rDdRAABgvE9Wv1z9TPW6bbyhAgAAY1xbvap6SfVfqmu2+eYKAABsz7VNR/gvaTri3/cd/DZFAQDm4NjoAHAWTjzSf3n7vGf/YVEAgDnY6tYobMDOHOmfigIAzMFOHDHBGVxXvbYdHvonUgCAOVAA2FWzGvonUgCAOZjNN1VW4drq1X3+nP4s/3weGR0AYA/OqT5VnT86CKs12yP9U7EDAMzBseq91YNGB2FVFjf0T6QAAHNxdQoAh2/RQ/9ECgAwF1ePDsBiLeKc/n4pAMBc/ProACzKao70T8VFgMBc3KX6cB5jzsGtfuifSAEA5uRt1cNHh2BWDP1TcAoAmJPXpwBwZob+HtgBAObkMdWbRodgJxn6+6QAAHNypHp3dd/RQdgJhj7Aijy3utFa7bq26aN6z6juEAdmBwCYm/s27QL4/rUeq/ycPgC39vLGH4lajvQB2LIvb/yAsgx9AAZ4XeMHlmXoA7Blj2388LIOtj7TdNX+t2XoA3AAL278MLP2tk480r/jyf5jsl2uogXm7G7V72Sg7KoTP6f/suoTY+MAsCR/q/FHt5YjfQC27NzqrY0ffGtezukDMMQ9qo80fhCuaTnSB2AnfG11Q+MH45KXoQ/ATnpB44fk0pbtfQB23pHqpxo/NOe+HOkDMDvnVC9t/BCd2zL0AZi921ZvbPxQ3fX1mabP5z8t2/sALMT5uVPgyZYjfQAW75zqJxo/dEcvQx+A1TlS/WD1ucYP4m0u2/sAUH1Z9d7GD2ZH+gCwZRc3HRWPHtSO9AFggK+r/qDxw9uRPgBs2e2qf9I0TEcPdEf6ALBll1TPbXpW/egh70gfALbsC6vnVX/S+KHvSB8Atuyc6inVi6pPZ3ufhToyOgDADruo+qrq8cfXX6iObuB1r6/eUf1q9drqTU0lALZGAQDYuztXD60eUD3w+Lpb0/n5i05Yn2y68dDHqw9Wf1y9v7q6envT8L92y9nhZv5/7xfdQxkSZHgAAAAASUVORK5CYII=",alt:"Hero Bild",className:"imgClass"}),(0,Nr.jsx)("h1",{children:"V\xe4nligen .. Logga in f\xf6r att skriva"}),(0,Nr.jsx)(Dt,{to:"/login",className:"link linkclass",children:"login >> "})]})};var si=r(7359),ai=r.n(si);const li=r.p+"static/media/star-outline.b410fa67ca2a2df4a5d58c413b36261d.svg";const ci=r.p+"static/media/star.14167e335b3383a9fc087be3d59a035c.svg";const ui=r.p+"static/media/star-half.1fb90c36e1903990706e0303d8bda1cd.svg";var di={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const hi=((e,t)=>{const n=(0,i.forwardRef)(((n,r)=>{let{color:o="currentColor",size:s=24,strokeWidth:a=2,absoluteStrokeWidth:l,className:c="",children:u,...d}=n;return(0,i.createElement)("svg",{ref:r,...di,width:s,height:s,stroke:o,strokeWidth:l?24*Number(a)/Number(s):a,className:["lucide","lucide-".concat((h=e,h.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase())),c].join(" "),...d},[...t.map((e=>{let[t,n]=e;return(0,i.createElement)(t,n)})),...Array.isArray(u)?u:[u]]);var h}));return n.displayName="".concat(e),n})("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]]),fi=Array(5).fill(0).map((e=>li)),pi=e=>{let{disabled:t,userId:n,post:r,initUserHasRated:o}=e;const s=We(),[a,l]=(0,i.useState)(fi),[c,u]=(0,i.useState)(t),[d,h]=(0,i.useState)(""),[f,p]=(0,i.useState)(!1),[m,g]=(0,i.useState)(!1),[v,y]=(0,i.useState)(0),{currentUser:b}=(0,i.useContext)(Xr),[w,A]=(0,i.useState)(null),[_,x]=(0,i.useState)(null);(0,i.useEffect)((()=>{r.postId&&null!==b&&void 0!==b&&b.id&&(async()=>{try{if(r.postId&&b.id){const{data:e}=await Er.get("".concat("https://jaktharry-app-130a026cb2e4.herokuapp.com","/api/posts/getRating/").concat(r.postId),{params:{userId:b.id}});e?A(e):(A(null),console.log("No rating found for the post."));const{data:t}=await Er.get("".concat("https://jaktharry-app-130a026cb2e4.herokuapp.com","/api/posts/getAverageRating/").concat(r.postId));t?x(t):(x(null),console.log("No average rating found for the post."))}}catch(e){console.log("Error fetching ratings:",e),h(e.message||"Error fetching ratings")}})()}),[r,b.id]),(0,i.useEffect)((()=>{null!==r&&void 0!==r&&r.averageRating&&x({averageRating:r.averageRating||r.avg_rating,totalLength:r.totalLength,usersRated:r.usersRated})}),[r]);const S=async e=>{try{if(null===b||void 0===b||!b.id)return s("/login");const t={postId:r.postId,rating:e,userId:b.id};p(!0),await Er.put("".concat("https://jaktharry-app-130a026cb2e4.herokuapp.com","/api/posts/rate/").concat(t.postId),t),h("rating submitted successfully"),console.log(d),p(!1),p(e),setTimeout((()=>{h("")}),3e3)}catch(t){h(t.message||"Error submitting rating"),p(!1)}};return(0,i.useEffect)((()=>{if(u(t||f||m),r.avg_rating){const e=Math.floor(r.avg_rating),t=Array(e).fill(0).map((e=>ci));r.avg_rating<5&&r.avg_rating%2!==0&&t.push(ui);const n=t.length,i=[...t,...Array(5-n).fill(0).map((e=>li))];l(i)}}),[t,f,r,m]),(0,i.useEffect)((()=>{if(null!==r&&void 0!==r&&r.postId&&n&&o){(async()=>{try{const e=await Er.get("".concat("https://jaktharry-app-130a026cb2e4.herokuapp.com","/api/posts/getRating/").concat(r.postId),{params:{userId:n}}),{status:t}=e.data;g(t)}catch(e){h("Error processing rating")}})()}}),[r.postId,n,o]),(0,Nr.jsx)("div",{className:"star-rating",style:{marginBottom:10},children:a.map(((e,t)=>(0,Nr.jsx)(hi,{onMouseOver:()=>y(t+1),onClick:e=>{e.stopPropagation(),e.preventDefault(),(e=>{!c&&w&&(x((t=>({...t,averageRating:null!==t&&void 0!==t&&t.averageRating?(e+(null===t||void 0===t?void 0:t.averageRating))/((null===t||void 0===t?void 0:t.totalLength)+1):e}))),u(!0),S(e))})(t+1)},style:{cursor:"pointer",color:"#FDCC0D"},fill:_&&t<(null===_||void 0===_?void 0:_.averageRating)?"#FDCC0D":v<=t?"none":"#FDCC0D",strokeWidth:2,onMouseLeave:()=>y(0)},t)))})},mi=()=>{const[e,t]=(0,i.useState)([]),{currentUser:n}=(0,i.useContext)(Xr),r=Ge().search,o=We();ri().locale("sv");const[s,a]=(0,i.useState)([]),l=(0,i.useRef)([]),c=(0,i.useRef)({current:10}),u=(t,n)=>{const r=e.slice(t,n);a((e=>[...e,...r])),l.current=[...l.current,...r]};(0,i.useEffect)((()=>{(async()=>{try{const e="".concat("https://jaktharry-app-130a026cb2e4.herokuapp.com","/api/posts").concat(r),n=(await Er.get(e)).data.sort(((e,t)=>new Date(t.date)-new Date(e.date)));t(n),l.current=n.slice(0,10),a(l.current)}catch(e){console.error("Error fetching data:",e)}})()}),[r]);const d=(e,t)=>{const n=e.indexOf(".",e.indexOf(".")+1),r=-1!==n?e.substring(0,n+1):e;return r+(e.length>r.length?" mer...":"")};(0,i.useEffect)((()=>{u(0,10)}),[n]);return(0,Nr.jsxs)(Fr,{className:"home",children:[(0,Nr.jsx)("div",{className:"posts",children:s.map((e=>{return(0,Nr.jsxs)("div",{className:"post",children:[(0,Nr.jsx)("div",{className:"img",children:(0,Nr.jsx)("img",{src:e.img,alt:""})}),(0,Nr.jsx)("div",{className:"content",children:(0,Nr.jsxs)(Dt,{className:"link",to:"/post/".concat(e.postId),children:[(0,Nr.jsx)("h1",{children:e.title}),(0,Nr.jsx)("p",{className:"DateClass",children:ri()(e.date).calendar()}),(0,Nr.jsx)("p",{dangerouslySetInnerHTML:(t=d(e.desc),{__html:ai().sanitize(t)})}),n&&n.id&&(0,Nr.jsx)(pi,{userId:n.id,post:e}),(0,Nr.jsx)(Yr,{onClick:()=>{return t=e.postId,o("/post/".concat(t)),void window.scrollTo(0,0);var t},children:"L\xe4s mer"})]})})]},e.postId);var t}))}),(0,Nr.jsx)("div",{className:"mt-5 me-5 text-end",children:(0,Nr.jsx)("button",{className:"btn btn-dark",onClick:()=>{u(c.current.current,c.current.current+10),c.current.current+=10},children:"Load more"})})]})},gi=e=>{let{cat:t}=e;const[n,r]=(0,i.useState)([]),o=We();(0,i.useEffect)((()=>{(async()=>{try{const e=await Er.get("".concat("https://jaktharry-app-130a026cb2e4.herokuapp.com","/api/posts/?cat=").concat(t));r(e.data)}catch(e){console.log(e)}})()}),[t]);return(0,Nr.jsxs)(Fr,{className:"menu",children:[(0,Nr.jsx)("h1",{children:"Andra nyheter som du kan gilla"}),n.map((e=>(0,Nr.jsxs)("div",{className:"post",children:[(0,Nr.jsx)("div",{className:"img",children:(0,Nr.jsx)("img",{src:e.img,alt:""})}),(0,Nr.jsx)("h3",{children:e.title}),(0,Nr.jsx)(Yr,{onClick:()=>{return t=e.postId,o("/post/".concat(t)),void window.scrollTo(0,0);var t},children:"L\xe4s mer"})]},e.postId)))]})},vi=i.forwardRef(((e,t)=>{let{className:n,bsPrefix:r,as:i="div",...o}=e;return r=Rr(r,"card-body"),(0,Nr.jsx)(i,{ref:t,className:Tr()(n,r),...o})}));vi.displayName="CardBody";const yi=vi,bi=i.forwardRef(((e,t)=>{let{className:n,bsPrefix:r,as:i="div",...o}=e;return r=Rr(r,"card-footer"),(0,Nr.jsx)(i,{ref:t,className:Tr()(n,r),...o})}));bi.displayName="CardFooter";const wi=bi,Ai=i.createContext(null);Ai.displayName="CardHeaderContext";const _i=Ai,xi=i.forwardRef(((e,t)=>{let{bsPrefix:n,className:r,as:o="div",...s}=e;const a=Rr(n,"card-header"),l=(0,i.useMemo)((()=>({cardHeaderBsPrefix:a})),[a]);return(0,Nr.jsx)(_i.Provider,{value:l,children:(0,Nr.jsx)(o,{ref:t,...s,className:Tr()(r,a)})})}));xi.displayName="CardHeader";const Si=xi,ki=i.forwardRef(((e,t)=>{let{bsPrefix:n,className:r,variant:i,as:o="img",...s}=e;const a=Rr(n,"card-img");return(0,Nr.jsx)(o,{ref:t,className:Tr()(i?"".concat(a,"-").concat(i):a,r),...s})}));ki.displayName="CardImg";const Ei=ki,Ci=i.forwardRef(((e,t)=>{let{className:n,bsPrefix:r,as:i="div",...o}=e;return r=Rr(r,"card-img-overlay"),(0,Nr.jsx)(i,{ref:t,className:Tr()(n,r),...o})}));Ci.displayName="CardImgOverlay";const Ti=Ci,Ni=i.forwardRef(((e,t)=>{let{className:n,bsPrefix:r,as:i="a",...o}=e;return r=Rr(r,"card-link"),(0,Nr.jsx)(i,{ref:t,className:Tr()(n,r),...o})}));Ni.displayName="CardLink";const Oi=Ni,Ii=e=>i.forwardRef(((t,n)=>(0,Nr.jsx)("div",{...t,ref:n,className:Tr()(t.className,e)}))),Di=Ii("h6"),ji=i.forwardRef(((e,t)=>{let{className:n,bsPrefix:r,as:i=Di,...o}=e;return r=Rr(r,"card-subtitle"),(0,Nr.jsx)(i,{ref:t,className:Tr()(n,r),...o})}));ji.displayName="CardSubtitle";const Pi=ji,Ri=i.forwardRef(((e,t)=>{let{className:n,bsPrefix:r,as:i="p",...o}=e;return r=Rr(r,"card-text"),(0,Nr.jsx)(i,{ref:t,className:Tr()(n,r),...o})}));Ri.displayName="CardText";const Li=Ri,Mi=Ii("h5"),Bi=i.forwardRef(((e,t)=>{let{className:n,bsPrefix:r,as:i=Mi,...o}=e;return r=Rr(r,"card-title"),(0,Nr.jsx)(i,{ref:t,className:Tr()(n,r),...o})}));Bi.displayName="CardTitle";const Ui=Bi,Fi=i.forwardRef(((e,t)=>{let{bsPrefix:n,className:r,bg:i,text:o,border:s,body:a=!1,children:l,as:c="div",...u}=e;const d=Rr(n,"card");return(0,Nr.jsx)(c,{ref:t,...u,className:Tr()(r,d,i&&"bg-".concat(i),o&&"text-".concat(o),s&&"border-".concat(s)),children:a?(0,Nr.jsx)(yi,{children:l}):l})}));Fi.displayName="Card";const Vi=Object.assign(Fi,{Img:Ei,Title:Ui,Subtitle:Pi,Body:yi,Link:Oi,Text:Li,Header:Si,Footer:wi,ImgOverlay:Ti});function qi(){const e=(0,i.useRef)(!0),t=(0,i.useRef)((()=>e.current));return(0,i.useEffect)((()=>(e.current=!0,()=>{e.current=!1})),[]),t.current}function Hi(e){const t=function(e){const t=(0,i.useRef)(e);return t.current=e,t}(e);(0,i.useEffect)((()=>()=>t.current()),[])}const zi=2**31-1;function Gi(e,t,n){const r=n-Date.now();e.current=r<=zi?setTimeout(t,r):setTimeout((()=>Gi(e,t,n)),zi)}function Yi(){const e=qi(),t=(0,i.useRef)();return Hi((()=>clearTimeout(t.current))),(0,i.useMemo)((()=>{const n=()=>clearTimeout(t.current);return{set:function(r){let i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;e()&&(n(),i<=zi?t.current=setTimeout(r,i):Gi(t,r,Date.now()+i))},clear:n,handleRef:t}}),[])}function Wi(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}function Ki(e,t){return Ki=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Ki(e,t)}const Qi=!1,Ji=i.createContext(null);var Xi="unmounted",Zi="exited",$i="entering",eo="entered",to="exiting",no=function(e){var t,n;function r(t,n){var r;r=e.call(this,t,n)||this;var i,o=n&&!n.isMounting?t.enter:t.appear;return r.appearStatus=null,t.in?o?(i=Zi,r.appearStatus=$i):i=eo:i=t.unmountOnExit||t.mountOnEnter?Xi:Zi,r.state={status:i},r.nextCallback=null,r}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,Ki(t,n),r.getDerivedStateFromProps=function(e,t){return e.in&&t.status===Xi?{status:Zi}:null};var o=r.prototype;return o.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},o.componentDidUpdate=function(e){var t=null;if(e!==this.props){var n=this.state.status;this.props.in?n!==$i&&n!==eo&&(t=$i):n!==$i&&n!==eo||(t=to)}this.updateStatus(!1,t)},o.componentWillUnmount=function(){this.cancelNextCallback()},o.getTimeouts=function(){var e,t,n,r=this.props.timeout;return e=t=n=r,null!=r&&"number"!==typeof r&&(e=r.exit,t=r.enter,n=void 0!==r.appear?r.appear:t),{exit:e,enter:t,appear:n}},o.updateStatus=function(e,t){if(void 0===e&&(e=!1),null!==t)if(this.cancelNextCallback(),t===$i){if(this.props.unmountOnExit||this.props.mountOnEnter){var n=this.props.nodeRef?this.props.nodeRef.current:mt.findDOMNode(this);n&&function(e){e.scrollTop}(n)}this.performEnter(e)}else this.performExit();else this.props.unmountOnExit&&this.state.status===Zi&&this.setState({status:Xi})},o.performEnter=function(e){var t=this,n=this.props.enter,r=this.context?this.context.isMounting:e,i=this.props.nodeRef?[r]:[mt.findDOMNode(this),r],o=i[0],s=i[1],a=this.getTimeouts(),l=r?a.appear:a.enter;!e&&!n||Qi?this.safeSetState({status:eo},(function(){t.props.onEntered(o)})):(this.props.onEnter(o,s),this.safeSetState({status:$i},(function(){t.props.onEntering(o,s),t.onTransitionEnd(l,(function(){t.safeSetState({status:eo},(function(){t.props.onEntered(o,s)}))}))})))},o.performExit=function(){var e=this,t=this.props.exit,n=this.getTimeouts(),r=this.props.nodeRef?void 0:mt.findDOMNode(this);t&&!Qi?(this.props.onExit(r),this.safeSetState({status:to},(function(){e.props.onExiting(r),e.onTransitionEnd(n.exit,(function(){e.safeSetState({status:Zi},(function(){e.props.onExited(r)}))}))}))):this.safeSetState({status:Zi},(function(){e.props.onExited(r)}))},o.cancelNextCallback=function(){null!==this.nextCallback&&(this.nextCallback.cancel(),this.nextCallback=null)},o.safeSetState=function(e,t){t=this.setNextCallback(t),this.setState(e,t)},o.setNextCallback=function(e){var t=this,n=!0;return this.nextCallback=function(r){n&&(n=!1,t.nextCallback=null,e(r))},this.nextCallback.cancel=function(){n=!1},this.nextCallback},o.onTransitionEnd=function(e,t){this.setNextCallback(t);var n=this.props.nodeRef?this.props.nodeRef.current:mt.findDOMNode(this),r=null==e&&!this.props.addEndListener;if(n&&!r){if(this.props.addEndListener){var i=this.props.nodeRef?[this.nextCallback]:[n,this.nextCallback],o=i[0],s=i[1];this.props.addEndListener(o,s)}null!=e&&setTimeout(this.nextCallback,e)}else setTimeout(this.nextCallback,0)},o.render=function(){var e=this.state.status;if(e===Xi)return null;var t=this.props,n=t.children,r=(t.in,t.mountOnEnter,t.unmountOnExit,t.appear,t.enter,t.exit,t.timeout,t.addEndListener,t.onEnter,t.onEntering,t.onEntered,t.onExit,t.onExiting,t.onExited,t.nodeRef,Wi(t,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]));return i.createElement(Ji.Provider,{value:null},"function"===typeof n?n(e,r):i.cloneElement(i.Children.only(n),r))},r}(i.Component);function ro(){}no.contextType=Ji,no.propTypes={},no.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:ro,onEntering:ro,onEntered:ro,onExit:ro,onExiting:ro,onExited:ro},no.UNMOUNTED=Xi,no.EXITED=Zi,no.ENTERING=$i,no.ENTERED=eo,no.EXITING=to;const io=no;function oo(e){return e&&e.ownerDocument||document}function so(e,t){return function(e){var t=oo(e);return t&&t.defaultView||window}(e).getComputedStyle(e,t)}var ao=/([A-Z])/g;var lo=/^ms-/;function co(e){return function(e){return e.replace(ao,"-$1").toLowerCase()}(e).replace(lo,"-ms-")}var uo=/^((translate|rotate|scale)(X|Y|Z|3d)?|matrix(3d)?|perspective|skew(X|Y)?)$/i;const ho=function(e,t){var n="",r="";if("string"===typeof t)return e.style.getPropertyValue(co(t))||so(e).getPropertyValue(co(t));Object.keys(t).forEach((function(i){var o=t[i];o||0===o?!function(e){return!(!e||!uo.test(e))}(i)?n+=co(i)+": "+o+";":r+=i+"("+o+") ":e.style.removeProperty(co(i))})),r&&(n+="transform: "+r+";"),e.style.cssText+=";"+n},fo=!("undefined"===typeof window||!window.document||!window.document.createElement);var po=!1,mo=!1;try{var go={get passive(){return po=!0},get once(){return mo=po=!0}};fo&&(window.addEventListener("test",go,go),window.removeEventListener("test",go,!0))}catch(IU){}const vo=function(e,t,n,r){if(r&&"boolean"!==typeof r&&!mo){var i=r.once,o=r.capture,s=n;!mo&&i&&(s=n.__once||function e(r){this.removeEventListener(t,e,o),n.call(this,r)},n.__once=s),e.addEventListener(t,s,po?r:o)}e.addEventListener(t,n,r)};const yo=function(e,t,n,r){var i=r&&"boolean"!==typeof r?r.capture:r;e.removeEventListener(t,n,i),n.__once&&e.removeEventListener(t,n.__once,i)};const bo=function(e,t,n,r){return vo(e,t,n,r),function(){yo(e,t,n,r)}};function wo(e,t,n){void 0===n&&(n=5);var r=!1,i=setTimeout((function(){r||function(e,t,n,r){if(void 0===n&&(n=!1),void 0===r&&(r=!0),e){var i=document.createEvent("HTMLEvents");i.initEvent(t,n,r),e.dispatchEvent(i)}}(e,"transitionend",!0)}),t+n),o=bo(e,"transitionend",(function(){r=!0}),{once:!0});return function(){clearTimeout(i),o()}}function Ao(e,t,n,r){null==n&&(n=function(e){var t=ho(e,"transitionDuration")||"",n=-1===t.indexOf("ms")?1e3:1;return parseFloat(t)*n}(e)||0);var i=wo(e,n,r),o=bo(e,"transitionend",t);return function(){i(),o()}}function _o(e,t){const n=ho(e,t)||"",r=-1===n.indexOf("ms")?1e3:1;return parseFloat(n)*r}function xo(e,t){const n=_o(e,"transitionDuration"),r=_o(e,"transitionDelay"),i=Ao(e,(n=>{n.target===e&&(i(),t(n))}),n+r)}function So(e){e.offsetHeight}const ko=e=>e&&"function"!==typeof e?t=>{e.current=t}:e;const Eo=function(e,t){return(0,i.useMemo)((()=>function(e,t){const n=ko(e),r=ko(t);return e=>{n&&n(e),r&&r(e)}}(e,t)),[e,t])};const Co=i.forwardRef(((e,t)=>{let{onEnter:n,onEntering:r,onEntered:o,onExit:s,onExiting:a,onExited:l,addEndListener:c,children:u,childRef:d,...h}=e;const f=(0,i.useRef)(null),p=Eo(f,d),m=e=>{var t;p((t=e)&&"setState"in t?mt.findDOMNode(t):null!=t?t:null)},g=e=>t=>{e&&f.current&&e(f.current,t)},v=(0,i.useCallback)(g(n),[n]),y=(0,i.useCallback)(g(r),[r]),b=(0,i.useCallback)(g(o),[o]),w=(0,i.useCallback)(g(s),[s]),A=(0,i.useCallback)(g(a),[a]),_=(0,i.useCallback)(g(l),[l]),x=(0,i.useCallback)(g(c),[c]);return(0,Nr.jsx)(io,{ref:t,...h,onEnter:v,onEntered:b,onEntering:y,onExit:w,onExited:_,onExiting:A,addEndListener:x,nodeRef:f,children:"function"===typeof u?(e,t)=>u(e,{...t,ref:m}):i.cloneElement(u,{ref:m})})})),To=Co,No={[$i]:"show",[eo]:"show"},Oo=i.forwardRef(((e,t)=>{let{className:n,children:r,transitionClasses:o={},onEnter:s,...a}=e;const l={in:!1,timeout:300,mountOnEnter:!1,unmountOnExit:!1,appear:!1,...a},c=(0,i.useCallback)(((e,t)=>{So(e),null==s||s(e,t)}),[s]);return(0,Nr.jsx)(To,{ref:t,addEndListener:xo,...l,onEnter:c,childRef:r.ref,children:(e,t)=>i.cloneElement(r,{...t,className:Tr()("fade",n,r.props.className,No[e],o[e])})})}));Oo.displayName="Fade";const Io=Oo,Do={[$i]:"showing",[to]:"showing show"},jo=i.forwardRef(((e,t)=>(0,Nr.jsx)(Io,{...e,ref:t,transitionClasses:Do})));jo.displayName="ToastFade";const Po=jo;const Ro=function(e){const t=(0,i.useRef)(e);return(0,i.useEffect)((()=>{t.current=e}),[e]),t};function Lo(e){const t=Ro(e);return(0,i.useCallback)((function(){return t.current&&t.current(...arguments)}),[t])}var Mo=r(8967),Bo=r.n(Mo);const Uo={"aria-label":Bo().string,onClick:Bo().func,variant:Bo().oneOf(["white"])},Fo=i.forwardRef(((e,t)=>{let{className:n,variant:r,"aria-label":i="Close",...o}=e;return(0,Nr.jsx)("button",{ref:t,type:"button",className:Tr()("btn-close",r&&"btn-close-".concat(r),n),"aria-label":i,...o})}));Fo.displayName="CloseButton",Fo.propTypes=Uo;const Vo=Fo,qo=i.createContext({onClose(){}}),Ho=i.forwardRef(((e,t)=>{let{bsPrefix:n,closeLabel:r="Close",closeVariant:o,closeButton:s=!0,className:a,children:l,...c}=e;n=Rr(n,"toast-header");const u=(0,i.useContext)(qo),d=Lo((e=>{null==u||null==u.onClose||u.onClose(e)}));return(0,Nr.jsxs)("div",{ref:t,...c,className:Tr()(n,a),children:[l,s&&(0,Nr.jsx)(Vo,{"aria-label":r,variant:o,onClick:d,"data-dismiss":"toast"})]})}));Ho.displayName="ToastHeader";const zo=Ho,Go=i.forwardRef(((e,t)=>{let{className:n,bsPrefix:r,as:i="div",...o}=e;return r=Rr(r,"toast-body"),(0,Nr.jsx)(i,{ref:t,className:Tr()(n,r),...o})}));Go.displayName="ToastBody";const Yo=Go,Wo=i.forwardRef(((e,t)=>{let{bsPrefix:n,className:r,transition:o=Po,show:s=!0,animation:a=!0,delay:l=5e3,autohide:c=!1,onClose:u,onEntered:d,onExit:h,onExiting:f,onEnter:p,onEntering:m,onExited:g,bg:v,...y}=e;n=Rr(n,"toast");const b=(0,i.useRef)(l),w=(0,i.useRef)(u);(0,i.useEffect)((()=>{b.current=l,w.current=u}),[l,u]);const A=Yi(),_=!(!c||!s),x=(0,i.useCallback)((()=>{_&&(null==w.current||w.current())}),[_]);(0,i.useEffect)((()=>{A.set(x,b.current)}),[A,x]);const S=(0,i.useMemo)((()=>({onClose:u})),[u]),k=!(!o||!a),E=(0,Nr.jsx)("div",{...y,ref:t,className:Tr()(n,r,v&&"bg-".concat(v),!k&&(s?"show":"hide")),role:"alert","aria-live":"assertive","aria-atomic":"true"});return(0,Nr.jsx)(qo.Provider,{value:S,children:k&&o?(0,Nr.jsx)(o,{in:s,onEnter:p,onEntering:m,onEntered:d,onExit:h,onExiting:f,onExited:g,unmountOnExit:!0,children:E}):E})}));Wo.displayName="Toast";const Ko=Object.assign(Wo,{Body:Yo,Header:zo});var Qo;function Jo(e){if((!Qo&&0!==Qo||e)&&fo){var t=document.createElement("div");t.style.position="absolute",t.style.top="-9999px",t.style.width="50px",t.style.height="50px",t.style.overflow="scroll",document.body.appendChild(t),Qo=t.offsetWidth-t.clientWidth,document.body.removeChild(t)}return Qo}function Xo(){return(0,i.useState)(null)}function Zo(e){void 0===e&&(e=oo());try{var t=e.activeElement;return t&&t.nodeName?t:null}catch(IU){return e.body}}function $o(e,t){return e.contains?e.contains(t):e.compareDocumentPosition?e===t||!!(16&e.compareDocumentPosition(t)):void 0}function es(e){const t=(0,i.useRef)(null);return(0,i.useEffect)((()=>{t.current=e})),t.current}const ts="data-rr-ui-";function ns(e){return"".concat(ts).concat(e)}const rs=ns("modal-open");const is=class{constructor(){let{ownerDocument:e,handleContainerOverflow:t=!0,isRTL:n=!1}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.handleContainerOverflow=t,this.isRTL=n,this.modals=[],this.ownerDocument=e}getScrollbarWidth(){return function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:document;const t=e.defaultView;return Math.abs(t.innerWidth-e.documentElement.clientWidth)}(this.ownerDocument)}getElement(){return(this.ownerDocument||document).body}setModalAttributes(e){}removeModalAttributes(e){}setContainerStyle(e){const t={overflow:"hidden"},n=this.isRTL?"paddingLeft":"paddingRight",r=this.getElement();e.style={overflow:r.style.overflow,[n]:r.style[n]},e.scrollBarWidth&&(t[n]="".concat(parseInt(ho(r,n)||"0",10)+e.scrollBarWidth,"px")),r.setAttribute(rs,""),ho(r,t)}reset(){[...this.modals].forEach((e=>this.remove(e)))}removeContainerStyle(e){const t=this.getElement();t.removeAttribute(rs),Object.assign(t.style,e.style)}add(e){let t=this.modals.indexOf(e);return-1!==t?t:(t=this.modals.length,this.modals.push(e),this.setModalAttributes(e),0!==t||(this.state={scrollBarWidth:this.getScrollbarWidth(),style:{}},this.handleContainerOverflow&&this.setContainerStyle(this.state)),t)}remove(e){const t=this.modals.indexOf(e);-1!==t&&(this.modals.splice(t,1),!this.modals.length&&this.handleContainerOverflow&&this.removeContainerStyle(this.state),this.removeModalAttributes(e))}isTopModal(e){return!!this.modals.length&&this.modals[this.modals.length-1]===e}},os=(0,i.createContext)(fo?window:void 0);os.Provider;function ss(){return(0,i.useContext)(os)}const as=(e,t)=>fo?null==e?(t||oo()).body:("function"===typeof e&&(e=e()),e&&"current"in e&&(e=e.current),e&&("nodeType"in e||e.getBoundingClientRect)?e:null):null;const ls="undefined"!==typeof r.g&&r.g.navigator&&"ReactNative"===r.g.navigator.product,cs="undefined"!==typeof document||ls?i.useLayoutEffect:i.useEffect;const us=function(e){let{children:t,in:n,onExited:r,mountOnEnter:o,unmountOnExit:s}=e;const a=(0,i.useRef)(null),l=(0,i.useRef)(n),c=Lo(r);(0,i.useEffect)((()=>{n?l.current=!0:c(a.current)}),[n,c]);const u=Eo(a,t.ref),d=(0,i.cloneElement)(t,{ref:u});return n?d:s||!l.current&&o?null:d},ds=["onEnter","onEntering","onEntered","onExit","onExiting","onExited","addEndListener","children"];function hs(e){let{onEnter:t,onEntering:n,onEntered:r,onExit:o,onExiting:s,onExited:a,addEndListener:l,children:c}=e,u=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,ds);const d=(0,i.useRef)(null),h=Eo(d,"function"===typeof c?null:c.ref),f=e=>t=>{e&&d.current&&e(d.current,t)},p=(0,i.useCallback)(f(t),[t]),m=(0,i.useCallback)(f(n),[n]),g=(0,i.useCallback)(f(r),[r]),v=(0,i.useCallback)(f(o),[o]),y=(0,i.useCallback)(f(s),[s]),b=(0,i.useCallback)(f(a),[a]),w=(0,i.useCallback)(f(l),[l]);return Object.assign({},u,{nodeRef:d},t&&{onEnter:p},n&&{onEntering:m},r&&{onEntered:g},o&&{onExit:v},s&&{onExiting:y},a&&{onExited:b},l&&{addEndListener:w},{children:"function"===typeof c?(e,t)=>c(e,Object.assign({},t,{ref:h})):(0,i.cloneElement)(c,{ref:h})})}const fs=["component"];const ps=i.forwardRef(((e,t)=>{let{component:n}=e;const r=hs(function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,fs));return(0,Nr.jsx)(n,Object.assign({ref:t},r))})),ms=ps;function gs(e){let{children:t,in:n,onExited:r,onEntered:o,transition:s}=e;const[a,l]=(0,i.useState)(!n);n&&a&&l(!1);const c=function(e){let{in:t,onTransition:n}=e;const r=(0,i.useRef)(null),o=(0,i.useRef)(!0),s=Lo(n);return cs((()=>{if(!r.current)return;let e=!1;return s({in:t,element:r.current,initial:o.current,isStale:()=>e}),()=>{e=!0}}),[t,s]),cs((()=>(o.current=!1,()=>{o.current=!0})),[]),r}({in:!!n,onTransition:e=>{Promise.resolve(s(e)).then((()=>{e.isStale()||(e.in?null==o||o(e.element,e.initial):(l(!0),null==r||r(e.element)))}),(t=>{throw e.in||l(!0),t}))}}),u=Eo(c,t.ref);return a&&!n?null:(0,i.cloneElement)(t,{ref:u})}function vs(e,t,n){return e?(0,Nr.jsx)(ms,Object.assign({},n,{component:e})):t?(0,Nr.jsx)(gs,Object.assign({},n,{transition:t})):(0,Nr.jsx)(us,Object.assign({},n))}const ys=["show","role","className","style","children","backdrop","keyboard","onBackdropClick","onEscapeKeyDown","transition","runTransition","backdropTransition","runBackdropTransition","autoFocus","enforceFocus","restoreFocus","restoreFocusOptions","renderDialog","renderBackdrop","manager","container","onShow","onHide","onExit","onExited","onExiting","onEnter","onEntering","onEntered"];let bs;function ws(e){const t=ss(),n=e||function(e){return bs||(bs=new is({ownerDocument:null==e?void 0:e.document})),bs}(t),r=(0,i.useRef)({dialog:null,backdrop:null});return Object.assign(r.current,{add:()=>n.add(r.current),remove:()=>n.remove(r.current),isTopModal:()=>n.isTopModal(r.current),setDialogRef:(0,i.useCallback)((e=>{r.current.dialog=e}),[]),setBackdropRef:(0,i.useCallback)((e=>{r.current.backdrop=e}),[])})}const As=(0,i.forwardRef)(((e,t)=>{let{show:n=!1,role:r="dialog",className:o,style:s,children:a,backdrop:l=!0,keyboard:c=!0,onBackdropClick:u,onEscapeKeyDown:d,transition:h,runTransition:f,backdropTransition:p,runBackdropTransition:m,autoFocus:g=!0,enforceFocus:v=!0,restoreFocus:y=!0,restoreFocusOptions:b,renderDialog:w,renderBackdrop:A=(e=>(0,Nr.jsx)("div",Object.assign({},e))),manager:_,container:x,onShow:S,onHide:k=(()=>{}),onExit:E,onExited:C,onExiting:T,onEnter:N,onEntering:O,onEntered:I}=e,D=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,ys);const j=ss(),P=function(e,t){const n=ss(),[r,o]=(0,i.useState)((()=>as(e,null==n?void 0:n.document)));if(!r){const t=as(e);t&&o(t)}return(0,i.useEffect)((()=>{t&&r&&t(r)}),[t,r]),(0,i.useEffect)((()=>{const t=as(e);t!==r&&o(t)}),[e,r]),r}(x),R=ws(_),L=qi(),M=es(n),[B,U]=(0,i.useState)(!n),F=(0,i.useRef)(null);(0,i.useImperativeHandle)(t,(()=>R),[R]),fo&&!M&&n&&(F.current=Zo(null==j?void 0:j.document)),n&&B&&U(!1);const V=Lo((()=>{if(R.add(),W.current=bo(document,"keydown",G),Y.current=bo(document,"focus",(()=>setTimeout(H)),!0),S&&S(),g){var e,t;const n=Zo(null!=(e=null==(t=R.dialog)?void 0:t.ownerDocument)?e:null==j?void 0:j.document);R.dialog&&n&&!$o(R.dialog,n)&&(F.current=n,R.dialog.focus())}})),q=Lo((()=>{var e;(R.remove(),null==W.current||W.current(),null==Y.current||Y.current(),y)&&(null==(e=F.current)||null==e.focus||e.focus(b),F.current=null)}));(0,i.useEffect)((()=>{n&&P&&V()}),[n,P,V]),(0,i.useEffect)((()=>{B&&q()}),[B,q]),Hi((()=>{q()}));const H=Lo((()=>{if(!v||!L()||!R.isTopModal())return;const e=Zo(null==j?void 0:j.document);R.dialog&&e&&!$o(R.dialog,e)&&R.dialog.focus()})),z=Lo((e=>{e.target===e.currentTarget&&(null==u||u(e),!0===l&&k())})),G=Lo((e=>{c&&function(e){return"Escape"===e.code||27===e.keyCode}(e)&&R.isTopModal()&&(null==d||d(e),e.defaultPrevented||k())})),Y=(0,i.useRef)(),W=(0,i.useRef)();if(!P)return null;const K=Object.assign({role:r,ref:R.setDialogRef,"aria-modal":"dialog"===r||void 0},D,{style:s,className:o,tabIndex:-1});let Q=w?w(K):(0,Nr.jsx)("div",Object.assign({},K,{children:i.cloneElement(a,{role:"document"})}));Q=vs(h,f,{unmountOnExit:!0,mountOnEnter:!0,appear:!0,in:!!n,onExit:E,onExiting:T,onExited:function(){U(!0),null==C||C(...arguments)},onEnter:N,onEntering:O,onEntered:I,children:Q});let J=null;return l&&(J=A({ref:R.setBackdropRef,onClick:z}),J=vs(p,m,{in:!!n,appear:!0,mountOnEnter:!0,unmountOnExit:!0,children:J})),(0,Nr.jsx)(Nr.Fragment,{children:mt.createPortal((0,Nr.jsxs)(Nr.Fragment,{children:[J,Q]}),P)})}));As.displayName="Modal";const _s=Object.assign(As,{Manager:is});var xs=Function.prototype.bind.call(Function.prototype.call,[].slice);function Ss(e,t){return xs(e.querySelectorAll(t))}function ks(e,t){return e.replace(new RegExp("(^|\\s)"+t+"(?:\\s|$)","g"),"$1").replace(/\s+/g," ").replace(/^\s*|\s*$/g,"")}const Es=".fixed-top, .fixed-bottom, .is-fixed, .sticky-top",Cs=".sticky-top",Ts=".navbar-toggler";class Ns extends is{adjustAndStore(e,t,n){const r=t.style[e];t.dataset[e]=r,ho(t,{[e]:"".concat(parseFloat(ho(t,e))+n,"px")})}restore(e,t){const n=t.dataset[e];void 0!==n&&(delete t.dataset[e],ho(t,{[e]:n}))}setContainerStyle(e){super.setContainerStyle(e);const t=this.getElement();var n,r;if(r="modal-open",(n=t).classList?n.classList.add(r):function(e,t){return e.classList?!!t&&e.classList.contains(t):-1!==(" "+(e.className.baseVal||e.className)+" ").indexOf(" "+t+" ")}(n,r)||("string"===typeof n.className?n.className=n.className+" "+r:n.setAttribute("class",(n.className&&n.className.baseVal||"")+" "+r)),!e.scrollBarWidth)return;const i=this.isRTL?"paddingLeft":"paddingRight",o=this.isRTL?"marginLeft":"marginRight";Ss(t,Es).forEach((t=>this.adjustAndStore(i,t,e.scrollBarWidth))),Ss(t,Cs).forEach((t=>this.adjustAndStore(o,t,-e.scrollBarWidth))),Ss(t,Ts).forEach((t=>this.adjustAndStore(o,t,e.scrollBarWidth)))}removeContainerStyle(e){super.removeContainerStyle(e);const t=this.getElement();var n,r;r="modal-open",(n=t).classList?n.classList.remove(r):"string"===typeof n.className?n.className=ks(n.className,r):n.setAttribute("class",ks(n.className&&n.className.baseVal||"",r));const i=this.isRTL?"paddingLeft":"paddingRight",o=this.isRTL?"marginLeft":"marginRight";Ss(t,Es).forEach((e=>this.restore(i,e))),Ss(t,Cs).forEach((e=>this.restore(o,e))),Ss(t,Ts).forEach((e=>this.restore(o,e)))}}let Os;function Is(e){return Os||(Os=new Ns(e)),Os}const Ds=Ns,js=i.forwardRef(((e,t)=>{let{className:n,bsPrefix:r,as:i="div",...o}=e;return r=Rr(r,"modal-body"),(0,Nr.jsx)(i,{ref:t,className:Tr()(n,r),...o})}));js.displayName="ModalBody";const Ps=js,Rs=i.createContext({onHide(){}}),Ls=i.forwardRef(((e,t)=>{let{bsPrefix:n,className:r,contentClassName:i,centered:o,size:s,fullscreen:a,children:l,scrollable:c,...u}=e;n=Rr(n,"modal");const d="".concat(n,"-dialog"),h="string"===typeof a?"".concat(n,"-fullscreen-").concat(a):"".concat(n,"-fullscreen");return(0,Nr.jsx)("div",{...u,ref:t,className:Tr()(d,r,s&&"".concat(n,"-").concat(s),o&&"".concat(d,"-centered"),c&&"".concat(d,"-scrollable"),a&&h),children:(0,Nr.jsx)("div",{className:Tr()("".concat(n,"-content"),i),children:l})})}));Ls.displayName="ModalDialog";const Ms=Ls,Bs=i.forwardRef(((e,t)=>{let{className:n,bsPrefix:r,as:i="div",...o}=e;return r=Rr(r,"modal-footer"),(0,Nr.jsx)(i,{ref:t,className:Tr()(n,r),...o})}));Bs.displayName="ModalFooter";const Us=Bs,Fs=i.forwardRef(((e,t)=>{let{closeLabel:n="Close",closeVariant:r,closeButton:o=!1,onHide:s,children:a,...l}=e;const c=(0,i.useContext)(Rs),u=Lo((()=>{null==c||c.onHide(),null==s||s()}));return(0,Nr.jsxs)("div",{ref:t,...l,children:[a,o&&(0,Nr.jsx)(Vo,{"aria-label":n,variant:r,onClick:u})]})})),Vs=Fs,qs=i.forwardRef(((e,t)=>{let{bsPrefix:n,className:r,closeLabel:i="Close",closeButton:o=!1,...s}=e;return n=Rr(n,"modal-header"),(0,Nr.jsx)(Vs,{ref:t,...s,className:Tr()(r,n),closeLabel:i,closeButton:o})}));qs.displayName="ModalHeader";const Hs=qs,zs=Ii("h4"),Gs=i.forwardRef(((e,t)=>{let{className:n,bsPrefix:r,as:i=zs,...o}=e;return r=Rr(r,"modal-title"),(0,Nr.jsx)(i,{ref:t,className:Tr()(n,r),...o})}));Gs.displayName="ModalTitle";const Ys=Gs;function Ws(e){return(0,Nr.jsx)(Io,{...e,timeout:null})}function Ks(e){return(0,Nr.jsx)(Io,{...e,timeout:null})}const Qs=i.forwardRef(((e,t)=>{let{bsPrefix:n,className:r,style:o,dialogClassName:s,contentClassName:a,children:l,dialogAs:c=Ms,"data-bs-theme":u,"aria-labelledby":d,"aria-describedby":h,"aria-label":f,show:p=!1,animation:m=!0,backdrop:g=!0,keyboard:v=!0,onEscapeKeyDown:y,onShow:b,onHide:w,container:A,autoFocus:_=!0,enforceFocus:x=!0,restoreFocus:S=!0,restoreFocusOptions:k,onEntered:E,onExit:C,onExiting:T,onEnter:N,onEntering:O,onExited:I,backdropClassName:D,manager:j,...P}=e;const[R,L]=(0,i.useState)({}),[M,B]=(0,i.useState)(!1),U=(0,i.useRef)(!1),F=(0,i.useRef)(!1),V=(0,i.useRef)(null),[q,H]=Xo(),z=Eo(t,H),G=Lo(w),Y=Br();n=Rr(n,"modal");const W=(0,i.useMemo)((()=>({onHide:G})),[G]);function K(){return j||Is({isRTL:Y})}function Q(e){if(!fo)return;const t=K().getScrollbarWidth()>0,n=e.scrollHeight>oo(e).documentElement.clientHeight;L({paddingRight:t&&!n?Jo():void 0,paddingLeft:!t&&n?Jo():void 0})}const J=Lo((()=>{q&&Q(q.dialog)}));Hi((()=>{yo(window,"resize",J),null==V.current||V.current()}));const X=()=>{U.current=!0},Z=e=>{U.current&&q&&e.target===q.dialog&&(F.current=!0),U.current=!1},$=()=>{B(!0),V.current=Ao(q.dialog,(()=>{B(!1)}))},ee=e=>{"static"!==g?F.current||e.target!==e.currentTarget?F.current=!1:null==w||w():(e=>{e.target===e.currentTarget&&$()})(e)},te=(0,i.useCallback)((e=>(0,Nr.jsx)("div",{...e,className:Tr()("".concat(n,"-backdrop"),D,!m&&"show")})),[m,D,n]),ne={...o,...R};ne.display="block";return(0,Nr.jsx)(Rs.Provider,{value:W,children:(0,Nr.jsx)(_s,{show:p,ref:z,backdrop:g,container:A,keyboard:!0,autoFocus:_,enforceFocus:x,restoreFocus:S,restoreFocusOptions:k,onEscapeKeyDown:e=>{v?null==y||y(e):(e.preventDefault(),"static"===g&&$())},onShow:b,onHide:w,onEnter:(e,t)=>{e&&Q(e),null==N||N(e,t)},onEntering:(e,t)=>{null==O||O(e,t),vo(window,"resize",J)},onEntered:E,onExit:e=>{null==V.current||V.current(),null==C||C(e)},onExiting:T,onExited:e=>{e&&(e.style.display=""),null==I||I(e),yo(window,"resize",J)},manager:K(),transition:m?Ws:void 0,backdropTransition:m?Ks:void 0,renderBackdrop:te,renderDialog:e=>(0,Nr.jsx)("div",{role:"dialog",...e,style:ne,className:Tr()(r,n,M&&"".concat(n,"-static"),!m&&"show"),onClick:g?ee:void 0,onMouseUp:Z,"data-bs-theme":u,"aria-label":f,"aria-labelledby":d,"aria-describedby":h,children:(0,Nr.jsx)(c,{...P,onMouseDown:X,className:s,contentClassName:a,children:l})})})})}));Qs.displayName="Modal";const Js=Object.assign(Qs,{Body:Ps,Header:Hs,Title:Ys,Footer:Us,Dialog:Ms,TRANSITION_DURATION:300,BACKDROP_TRANSITION_DURATION:150}),Xs=r.p+"static/media/fast-forward.71f60e8e7bd6adaa95ba.gif",Zs=r.p+"static/media/verify.59b1bfc5471006450fe3.png",$s=()=>{ri().locale("sv");const[e,t]=(0,i.useState)({}),[n,r]=(0,i.useState)(""),[o,s]=(0,i.useState)(""),[a,l]=(0,i.useState)(""),[c,u]=(0,i.useState)(!1),[d,h]=(0,i.useState)(!1),[f,p]=(0,i.useState)(!1),m=Ge(),g=We(),[v,y]=(0,i.useState)(!1),b=m.pathname.split("/")[2],{currentUser:w}=(0,i.useContext)(Xr);Er.defaults.withCredentials=!0;const[A,_]=(0,i.useState)(!1),[x,S]=(0,i.useState)(0);(0,i.useEffect)((()=>{(async()=>{try{const e=await Er.get("".concat("https://jaktharry-app-130a026cb2e4.herokuapp.com","/api/posts/getEntries/").concat(b));S(e.data)}catch(e){console.log(e.message)}})(),(async()=>{try{const e=await Er.get("".concat("https://jaktharry-app-130a026cb2e4.herokuapp.com","/api/posts/").concat(b));t(e.data)}catch(d){console.log(d)}})(),(async()=>{const e={userId:w.id,activityToReg:b};try{const t=await C(e);u(t)}catch(d){console.error("Error checking registration status:",d)}})()}),[b,w.id]);const k=e.text?(e=>{const t=e.split("."),n=[];for(let r=0;r<t.length;r+=4){const e=t.slice(r,r+4).join(".");n.push(e)}return n})(e.text):[];(0,i.useEffect)((()=>{(async()=>{try{const e=await Er.get("".concat("https://jaktharry-app-130a026cb2e4.herokuapp.com","/api/comments/get/").concat(b));l(e.data)}catch(d){console.log(d)}})()}),[b,o]);const E=()=>{y(!v)},C=async e=>{try{return(await Er.get("".concat("https://jaktharry-app-130a026cb2e4.herokuapp.com","/api/posts/signup/status"),{params:e})).data.exists}catch(d){return console.error("Error checking if user post exists:",d),!1}};return(0,Nr.jsxs)(Fr,{className:"single",children:[(0,Nr.jsxs)("div",{className:"content",children:[(0,Nr.jsxs)("div",{children:[(0,Nr.jsx)("div",{className:"img",children:(0,Nr.jsx)("img",{src:e.img,alt:""})}),w&&(0,Nr.jsxs)("div",{className:"user",children:[e.userImage&&(0,Nr.jsx)("img",{src:e.userImage,alt:""}),(0,Nr.jsxs)("div",{className:"info",children:[(0,Nr.jsx)("span",{children:e.username}),(0,Nr.jsx)("p",{children:ri()(e.date).calendar()})]}),w.id===e.uid||1===w.role?(0,Nr.jsxs)("div",{className:"edit",children:[(0,Nr.jsx)(Dt,{to:"/write?edit=2",state:e,onClick:()=>{const t={...e,id:e.postId};g("/write",{state:{currentUser:w,...t}})},children:(0,Nr.jsx)("img",{src:"https://logowik.com/content/uploads/images/888_edit.jpg",alt:""})}),(0,Nr.jsx)("img",{onClick:()=>(async e=>{try{if(!window.confirm("Are you sure you want to delete this post?"))return;const t=localStorage.getItem("accessToken"),n={Authorization:"Bearer ".concat(t)},r="".concat("https://jaktharry-app-130a026cb2e4.herokuapp.com","/api/posts/").concat(e.postId);await Er.delete(r,{headers:n}),g("/")}catch(d){console.error("Error deleting post:",d)}})(e),src:"https://cdn.iconscout.com/icon/free/png-256/free-delete-2902143-2411575.png",alt:""})]}):null]}),(0,Nr.jsx)("h1",{children:e.title}),w&&w.id&&(0,Nr.jsx)(pi,{userId:w.id,post:e}),(0,Nr.jsx)("p",{className:"descP",dangerouslySetInnerHTML:{__html:ai().sanitize(e.desc)}}),k.map(((e,t)=>(0,Nr.jsx)("p",{dangerouslySetInnerHTML:{__html:ai().sanitize(e.replace(/\n/g,"<br />"))}},t)))]}),"aktiviteter"===e.cat&&"open"===e.status&&(0,Nr.jsxs)("div",{className:"row",children:[(0,Nr.jsxs)("div",{className:"col-7 border border-1 border-warning py-4 ms-2 text-start gap-2 text-success",children:[(0,Nr.jsxs)("p",{className:"pris-button",children:[(0,Nr.jsx)("b",{children:" Pris "}),": ",(0,Nr.jsx)("span",{className:"text-danger",children:e.price})," kr"]}),(0,Nr.jsxs)("p",{children:[(0,Nr.jsx)("b",{children:"Aktivitet \xe4ger rum i: "}),": ",ri()(e.adminDate).format("dddd, LL")]}),(0,Nr.jsxs)("p",{children:[(0,Nr.jsx)("b",{children:"Sista anm\xe4lningsdatum "}),": ",ri()(e.deadline).format("dddd, LL")]}),(0,Nr.jsxs)("p",{children:[(0,Nr.jsx)("b",{children:"Kvot"}),": Det finns"," ",e.spots?e.spots-x:"obegr\xe4nsat"," platser kvar av ",e.spots||"obegr\xe4nsat"," platser"]})]}),(0,Nr.jsxs)("div",{className:"textClass col-4 m-auto",children:[e.total<e.spots&&!c&&(0,Nr.jsxs)("div",{children:[(0,Nr.jsx)("img",{src:Xs,alt:""}),(0,Nr.jsx)(Yr,{onClick:()=>{E()},className:"BtnClass",disabled:A,children:A?"V\xe4nta...":"Delta i aktiviteten"})]}),c&&(0,Nr.jsxs)("div",{className:"textClass text-center",children:[(0,Nr.jsx)("img",{src:Zs,alt:""}),(0,Nr.jsx)("h5",{className:"",children:"Du \xe4r registrerad f\xf6r denna aktivitet"}),(0,Nr.jsxs)("p",{className:"text-center text-dark",children:[(0,Nr.jsx)("small",{children:" F\xf6r att avbryta skicka e-post till admin"}),(0,Nr.jsx)(Dt,{children:(0,Nr.jsx)("span",{children:(0,Nr.jsx)("img",{src:Wr,alt:"",style:{width:"20px",height:"20px"}})})})]})]}),e.total>=e.spots&&!c&&(0,Nr.jsxs)("div",{className:"textClass text-center",children:[(0,Nr.jsx)("img",{src:Zs,alt:""}),(0,Nr.jsx)("h5",{className:"",children:"Alla platser f\xf6r denna aktivitet \xe4r tagna"})]})]})]}),w&&(0,Nr.jsxs)(Nr.Fragment,{children:[(0,Nr.jsxs)("div",{style:{marginTop:"20px"},children:[(0,Nr.jsx)("h5",{className:"CommClass",children:"Posta en kommentar"}),(0,Nr.jsx)("form",{onSubmit:e=>(async(e,t)=>{t.preventDefault();try{const n=t.target.elements.newscomment.value;r(n);const i=localStorage.getItem("accessToken"),o={Authorization:"Bearer ".concat(i)},a={postId:e,comment:n,uid:w.id,date:ri()(Date.now()).format("YYYY-MM-DD HH:mm:ss")},l=await Er.post("".concat("https://jaktharry-app-130a026cb2e4.herokuapp.com","/api/comments/add"),a,{headers:o});s(l),p(!0),t.target.elements.newscomment.value=""}catch(d){h("Urnauthorized User Please login!!"),console.log("Error in Adding Comments",d)}r(""),console.log(n)})(b,e),children:(0,Nr.jsxs)("div",{className:"comment-section",children:[(0,Nr.jsx)("textarea",{name:"newscomment",id:"newscomment",cols:"26",placeholder:"G\xe5 med i diskussionen..."}),(0,Nr.jsxs)("div",{children:[(0,Nr.jsx)("div",{style:{color:"red",padding:"4px"},children:d}),(0,Nr.jsx)(Yr,{className:"BtnClass",type:"submit",variant:"primary",children:"Add a Comment"})]})]})})]}),(0,Nr.jsx)(Vi,{style:{width:"100%",border:"0px"},children:(0,Nr.jsx)(Vi.Body,{children:0===a.length?(0,Nr.jsx)("div",{children:(0,Nr.jsx)(Vi.Title,{className:"CommClass",children:"No Comments on this Post"})}):(0,Nr.jsxs)(Nr.Fragment,{children:[(0,Nr.jsx)(Vi.Title,{className:"text-dark",children:"Tidigare kommentarer .."}),a&&a.filter((e=>"show"===e.Visibility)).map(((e,t)=>(0,Nr.jsxs)("div",{className:"comment-box",children:[(0,Nr.jsx)("hr",{}),(0,Nr.jsxs)("div",{className:"user",children:[(0,Nr.jsx)("img",{src:e.userImage,alt:""}),(0,Nr.jsxs)("div",{className:"info",children:[(0,Nr.jsx)("span",{children:e.userName}),(0,Nr.jsx)("p",{children:ri()(e.commentDate).calendar()})]})]}),(0,Nr.jsx)(Vi.Text,{className:"bg-light p-4",children:e.comments})]},t)))]})})})]})]}),(0,Nr.jsx)(gi,{cat:e.cat}),(0,Nr.jsxs)(Ko,{onClose:()=>p(!1),show:f,delay:3e3,autohide:!0,style:{position:"fixed",bottom:"20px",left:"20px",zIndex:9999,backgroundColor:"#0B5ED7",color:"white"},children:[(0,Nr.jsx)(Ko.Header,{children:(0,Nr.jsx)("strong",{className:"me-auto",children:"Success"})}),(0,Nr.jsx)(Ko.Body,{children:"Your comment has been successfully submitted!"})]}),(0,Nr.jsxs)(Js,{show:v,onHide:E,dialogClassName:"custom-modal",children:[(0,Nr.jsx)(Js.Header,{closeButton:!0,className:"bg-warning",children:(0,Nr.jsx)(Js.Title,{children:(0,Nr.jsx)("span",{children:"Registreringsformul\xe4r"})})}),(0,Nr.jsxs)(Js.Body,{children:[(0,Nr.jsxs)("div",{className:"mb-3",children:[(0,Nr.jsx)("strong",{children:"Medlemsnr:"})," ",w.membershipNo]}),(0,Nr.jsxs)("div",{className:"mb-3",children:[(0,Nr.jsx)("strong",{children:"Namn:"})," ",(0,Nr.jsx)("span",{children:w.firstName})," \xa0",(0,Nr.jsx)("span",{children:w.lastName})]}),(0,Nr.jsxs)("div",{className:"mb-3",children:[(0,Nr.jsx)("strong",{children:"E-post:"})," ",w.email]}),(0,Nr.jsxs)("div",{className:"mb-3",children:[(0,Nr.jsx)("strong",{children:"Telefon:"})," 0",w.phone]}),(0,Nr.jsxs)("div",{className:"mb-3",children:[(0,Nr.jsx)("strong",{children:"Aktivitet: "}),e.title]}),(0,Nr.jsx)(Yr,{variant:"primary",onClick:t=>(async(t,n,r)=>{if(r.preventDefault(),w)if(e.total<e.spots)try{const r=localStorage.getItem("accessToken"),i={Authorization:"Bearer ".concat(r)};_(!0);const o={userId:n,activityToReg:t};if(await C(o))console.error("User already signed up for this post"),window.alert("Du \xe4r redan registrerad f\xf6r denna aktivitet");else{await Er.post("".concat("https://jaktharry-app-130a026cb2e4.herokuapp.com","/api/posts/signup"),o,{headers:i}),u(!0),window.alert("Perfect ... Du \xe4r registrerad f\xf6r denna aktivitet");const n={activityToUpdate:t,NewTotal:e.total+1};await Er.put("".concat("https://jaktharry-app-130a026cb2e4.herokuapp.com","/api/posts/totalUpdate"),n,{headers:i}),y(!1)}}catch(d){console.error("Error signing up for activity:",d)}finally{_(!1)}else console.error("No place to register"),window.alert("Alla platser f\xf6r denna aktivitet \xe4r tagna.");else window.confirm("Login to sign the activity")&&g("/login")})(b,w.id,t),className:"btn-dark mt-4",children:"Registrera"})]})]})]})},ea=r.p+"static/media/JaktHarryLogo.2ecc3d5269413774a6cd.png",ta=()=>(0,Nr.jsxs)("footer",{children:[(0,Nr.jsx)("img",{src:ea,alt:""}),(0,Nr.jsxs)("span",{children:["Copyright \xa9 2024, ",(0,Nr.jsx)("b",{children:"JaktHarry"}),"."]})]});var na=r(3361),ra=r.n(na);const ia=Er.create({baseURL:"https://jaktharry-app-130a026cb2e4.herokuapp.com"});ia.interceptors.request.use((e=>{const t=localStorage.getItem("accessToken");return t&&(e.headers.Authorization="Bearer ".concat(t)),e}),(function(e){return Promise.reject(e)}));const oa=ia,sa=e=>{let{profileImg:t,onAvatarUpdate:n}=e;const[r,o]=(0,i.useState)(t),[s,a]=(0,i.useState)(null),[l,c]=(0,i.useState)(!1),[u,d]=(0,i.useState)(!1);return(0,Nr.jsxs)(Nr.Fragment,{children:[(0,Nr.jsx)("div",{className:"user-avi",role:"button",onClick:()=>d(!0),style:{backgroundImage:"url(".concat(r||"",")")}}),(0,Nr.jsxs)(Js,{show:u,keyboard:!1,children:[(0,Nr.jsx)(Js.Body,{children:(0,Nr.jsx)(ra(),{label:"V\xe4lj en ny profilbild",width:460,height:300,onCrop:async e=>{a(await async function(e,t){const n=await fetch(e),r=await n.blob();return new File([r],t,{type:"image/png"})}(e,"profilePic"))},onClose:()=>a(null)})}),(0,Nr.jsxs)(Js.Footer,{children:[(0,Nr.jsx)(Yr,{variant:"secondary",disabled:l,onClick:()=>{a(null),d(!1)},children:"St\xe4nga"}),(0,Nr.jsx)(Yr,{variant:"primary",onClick:async()=>{if(!s)return;const e=new FormData;e.append("profilePic",s),c(!0);try{const t=await oa.put("/api/users/update-profile-pic",e,{headers:{"Content-Type":"multipart/form-data"}});o(t.data.data),n(r),d(!1)}catch(t){console.error("Error uploading file:",t)}c(!1)},disabled:null==s||l,children:"Spara \xe4ndringar"})]})]})]})},aa=e=>{let{post:t={},onButtonClick:n}=e;return(0,Nr.jsxs)("div",{className:"post-card w-100",children:[t.img&&(0,Nr.jsx)("div",{className:"post-image",style:{backgroundImage:"url(".concat(t.img,")")}}),(0,Nr.jsx)("div",{className:"post-content",children:(0,Nr.jsxs)("h6",{children:["# ",t.postId,(0,Nr.jsxs)("span",{children:[" ",(0,Nr.jsxs)("strong",{children:["- ",t.title]})]})]})}),(0,Nr.jsx)("div",{children:(0,Nr.jsx)(Yr,{className:"btn btn-dark",size:"sm",href:"/post/".concat(t.postId),children:"Mer info"})})]})},la=i.forwardRef(((e,t)=>{let{bsPrefix:n,className:r,as:i="div",...o}=e;const s=Rr(n,"row"),a=Lr(),l=Mr(),c="".concat(s,"-cols"),u=[];return a.forEach((e=>{const t=o[e];let n;delete o[e],null!=t&&"object"===typeof t?({cols:n}=t):n=t;const r=e!==l?"-".concat(e):"";null!=n&&u.push("".concat(c).concat(r,"-").concat(n))})),(0,Nr.jsx)(i,{ref:t,...o,className:Tr()(r,s,...u)})}));la.displayName="Row";const ca=la;const ua=i.forwardRef(((e,t)=>{const[{className:n,...r},{as:i="div",bsPrefix:o,spans:s}]=function(e){let{as:t,bsPrefix:n,className:r,...i}=e;n=Rr(n,"col");const o=Lr(),s=Mr(),a=[],l=[];return o.forEach((e=>{const t=i[e];let r,o,c;delete i[e],"object"===typeof t&&null!=t?({span:r,offset:o,order:c}=t):r=t;const u=e!==s?"-".concat(e):"";r&&a.push(!0===r?"".concat(n).concat(u):"".concat(n).concat(u,"-").concat(r)),null!=c&&l.push("order".concat(u,"-").concat(c)),null!=o&&l.push("offset".concat(u,"-").concat(o))})),[{...i,className:Tr()(r,...a,...l)},{as:t,bsPrefix:n,spans:a}]}(e);return(0,Nr.jsx)(i,{...r,ref:t,className:Tr()(n,!s.length&&o)})}));ua.displayName="Col";const da=ua,ha=e=>{let{user:t}=e;return(0,Nr.jsxs)("div",{className:"mt-5",children:[(0,Nr.jsx)("h5",{children:"Intressanta nyheter: "}),(0,Nr.jsxs)("p",{className:"m-4 border-1 border p-2 w-75",children:[(0,Nr.jsx)("span",{className:"mt-1 px-5",children:"Cat1"}),(0,Nr.jsx)("span",{className:"mt-1 px-5",children:"Cat2"}),(0,Nr.jsx)("span",{className:"mt-1 px-5 text-end",children:(0,Nr.jsx)("button",{className:"btn btn-outline-success",children:"\xc4ndring av intresse"})})]})]})},fa=()=>{const{currentUser:e}=(0,i.useContext)(Xr),[t,n]=(0,i.useState)([]),r=async e=>{let t=!1;try{const t="/api/users/post-signups/".concat(e);await oa.delete(t)}catch(n){t=!0,console.error("Error unsubscribing activtiy:",n)}t||await o()},o=async e=>{const t=e.id;console.log("------------");try{if(t){const e="".concat("https://jaktharry-app-130a026cb2e4.herokuapp.com","/api/users/user-activity?userId=").concat(t),r=(await Er.get(e)).data.data;r.length>0&&n(r)}}catch(r){console.error("Error fetching data:",r)}};return(0,i.useEffect)((()=>{console.log("1111111111111"),e&&o(e)}),[e]),(0,Nr.jsxs)("div",{className:"user-profile-pg w-100",children:[(0,Nr.jsxs)("div",{className:"row mt-5 mx-auto w-75 bg-light",children:[(0,Nr.jsx)("div",{className:"allChildrenCenter d-flex justify-content-center align-items-center col col-4",children:(0,Nr.jsx)(sa,{profileImg:e.img,onAvatarUpdate:t=>{const n={...e,img:t};localStorage.setItem("user",JSON.stringify(n))}})}),(0,Nr.jsxs)("div",{className:"userInfo col col-6 mx-4",children:[(0,Nr.jsxs)("p",{className:"text-start  mt-3",style:{fontSize:"15px"},children:[(0,Nr.jsx)("strong",{children:"Anv\xe4ndarnamn: "}),(0,Nr.jsxs)("span",{children:[" ... ",e.firstName," ",e.lastName]})]}),(0,Nr.jsxs)("p",{className:"text-start",style:{fontSize:"15px"},children:[(0,Nr.jsx)("strong",{children:"E-post: "}),e.email]}),(0,Nr.jsxs)("p",{className:"text-start",style:{fontSize:"15px"},children:[(0,Nr.jsx)("strong",{children:"Telefon: "}),"0",e.phone]}),(0,Nr.jsxs)("p",{className:"text-start",style:{fontSize:"15px"},children:[(0,Nr.jsx)("strong",{children:"Medlemsnr: "}),"#",e.membershipNo]}),(0,Nr.jsx)("div",{className:"allChildrenCenter my-3",children:(0,Nr.jsx)(Dt,{to:"/update-password",className:"btn btn-danger btn-sm",children:"Uppdatera ditt l\xf6senord"})})]})]}),(0,Nr.jsx)(ha,{cat:e}),(0,Nr.jsxs)("div",{className:"user-post-signups mt-5",children:[(0,Nr.jsx)("h5",{children:"Aktiviteter som du registrerat dig i"}),t.length>0?(0,Nr.jsx)(Fr,{className:"m-3",children:(0,Nr.jsx)(ca,{xs:1,sm:1,children:t.map(((e,t)=>(0,Nr.jsx)(da,{children:(0,Nr.jsx)(aa,{post:e,onButtonClick:r})},t)))})}):(0,Nr.jsx)("h6",{className:"text-center",children:"Inga prenumerationer hittades!"})]})]})},pa=()=>{const e=We(),[t,n]=(0,i.useState)(""),[r,o]=(0,i.useState)(""),[s,a]=(0,i.useState)(""),[l,c]=(0,i.useState)(""),[u,d]=(0,i.useState)(!1);return(0,Nr.jsxs)("div",{className:"password-update-form-container",children:[(0,Nr.jsx)("h2",{children:"L\xf6senord Uppdatering"}),l&&(0,Nr.jsx)("p",{className:"message",children:l}),(0,Nr.jsxs)("form",{onSubmit:async i=>{if(i.preventDefault(),r===s){d(!0);try{const i={oldPassword:t,newPassword:r,confirmPassword:s};await oa.put("/api/users/update-password",i),c("L\xf6senordet har uppdaterats"),n(""),o(""),a(""),e("/")}catch(u){var l;c((null===u||void 0===u||null===(l=u.response)||void 0===l?void 0:l.data)||"Det gick inte att uppdatera ditt l\xf6senord"),d(!1)}}else c("New password and confirm password must match")},children:[(0,Nr.jsxs)("div",{className:"form-group",children:[(0,Nr.jsx)("label",{htmlFor:"oldPassword",children:"Gammalt l\xf6senord :"}),(0,Nr.jsx)("input",{type:"password",id:"oldPassword",value:t,onChange:e=>n(e.target.value),required:!0})]}),(0,Nr.jsxs)("div",{className:"form-group",children:[(0,Nr.jsx)("label",{htmlFor:"newPassword",children:"Nytt l\xf6senord :"}),(0,Nr.jsx)("input",{type:"password",id:"newPassword",value:r,onChange:e=>o(e.target.value),required:!0})]}),(0,Nr.jsxs)("div",{className:"form-group",children:[(0,Nr.jsx)("label",{htmlFor:"confirmPassword",children:"Bekr\xe4fta l\xf6senord :"}),(0,Nr.jsx)("input",{type:"password",id:"confirmPassword",value:s,onChange:e=>a(e.target.value),required:!0})]}),(0,Nr.jsx)(Yr,{type:"submit",disabled:u,children:"Uppdatera l\xf6senord"})]})]})},ma=r.p+"static/media/adsett.4be1d9df42b23ac58690.png",ga=r.p+"static/media/admin.833cf8f564b999a6a8b2.png",va=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return null!=e?String(e):t||null},ya=i.createContext(null);function ba(){return ba=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ba.apply(this,arguments)}r(3778);function wa(e){return"default"+e.charAt(0).toUpperCase()+e.substr(1)}function Aa(e){var t=function(e,t){if("object"!==typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===typeof t?t:String(t)}function _a(e,t){return Object.keys(t).reduce((function(n,r){var o,s=n,a=s[wa(r)],l=s[r],c=Wi(s,[wa(r),r].map(Aa)),u=t[r],d=function(e,t,n){var r=(0,i.useRef)(void 0!==e),o=(0,i.useState)(t),s=o[0],a=o[1],l=void 0!==e,c=r.current;return r.current=l,!l&&c&&s!==t&&a(t),[l?e:s,(0,i.useCallback)((function(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),i=1;i<t;i++)r[i-1]=arguments[i];n&&n.apply(void 0,[e].concat(r)),a(e)}),[n])]}(l,a,e[u]),h=d[0],f=d[1];return ba({},c,((o={})[r]=h,o[u]=f,o))}),e)}function xa(){var e=this.constructor.getDerivedStateFromProps(this.props,this.state);null!==e&&void 0!==e&&this.setState(e)}function Sa(e){this.setState(function(t){var n=this.constructor.getDerivedStateFromProps(e,t);return null!==n&&void 0!==n?n:null}.bind(this))}function ka(e,t){try{var n=this.props,r=this.state;this.props=e,this.state=t,this.__reactInternalSnapshotFlag=!0,this.__reactInternalSnapshot=this.getSnapshotBeforeUpdate(n,r)}finally{this.props=n,this.state=r}}xa.__suppressDeprecationWarning=!0,Sa.__suppressDeprecationWarning=!0,ka.__suppressDeprecationWarning=!0;const Ea=i.forwardRef(((e,t)=>{let{bsPrefix:n,className:r,as:i,...o}=e;n=Rr(n,"navbar-brand");const s=i||(o.href?"a":"span");return(0,Nr.jsx)(s,{...o,ref:t,className:Tr()(r,n)})}));Ea.displayName="NavbarBrand";const Ca=Ea;const Ta=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.filter((e=>null!=e)).reduce(((e,t)=>{if("function"!==typeof t)throw new Error("Invalid Argument Type, must only provide functions, undefined, or null.");return null===e?t:function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];e.apply(this,r),t.apply(this,r)}}),null)},Na={height:["marginTop","marginBottom"],width:["marginLeft","marginRight"]};function Oa(e,t){const n=t["offset".concat(e[0].toUpperCase()).concat(e.slice(1))],r=Na[e];return n+parseInt(ho(t,r[0]),10)+parseInt(ho(t,r[1]),10)}const Ia={[Zi]:"collapse",[to]:"collapsing",[$i]:"collapsing",[eo]:"collapse show"},Da=i.forwardRef(((e,t)=>{let{onEnter:n,onEntering:r,onEntered:o,onExit:s,onExiting:a,className:l,children:c,dimension:u="height",in:d=!1,timeout:h=300,mountOnEnter:f=!1,unmountOnExit:p=!1,appear:m=!1,getDimensionValue:g=Oa,...v}=e;const y="function"===typeof u?u():u,b=(0,i.useMemo)((()=>Ta((e=>{e.style[y]="0"}),n)),[y,n]),w=(0,i.useMemo)((()=>Ta((e=>{const t="scroll".concat(y[0].toUpperCase()).concat(y.slice(1));e.style[y]="".concat(e[t],"px")}),r)),[y,r]),A=(0,i.useMemo)((()=>Ta((e=>{e.style[y]=null}),o)),[y,o]),_=(0,i.useMemo)((()=>Ta((e=>{e.style[y]="".concat(g(y,e),"px"),So(e)}),s)),[s,g,y]),x=(0,i.useMemo)((()=>Ta((e=>{e.style[y]=null}),a)),[y,a]);return(0,Nr.jsx)(To,{ref:t,addEndListener:xo,...v,"aria-expanded":v.role?d:null,onEnter:b,onEntering:w,onEntered:A,onExit:_,onExiting:x,childRef:c.ref,in:d,timeout:h,mountOnEnter:f,unmountOnExit:p,appear:m,children:(e,t)=>i.cloneElement(c,{...t,className:Tr()(l,c.props.className,Ia[e],"width"===y&&"collapse-horizontal")})})})),ja=Da,Pa=i.createContext(null);Pa.displayName="NavbarContext";const Ra=Pa,La=i.forwardRef(((e,t)=>{let{children:n,bsPrefix:r,...o}=e;r=Rr(r,"navbar-collapse");const s=(0,i.useContext)(Ra);return(0,Nr.jsx)(ja,{in:!(!s||!s.expanded),...o,children:(0,Nr.jsx)("div",{ref:t,className:r,children:n})})}));La.displayName="NavbarCollapse";const Ma=La,Ba=i.forwardRef(((e,t)=>{let{bsPrefix:n,className:r,children:o,label:s="Toggle navigation",as:a="button",onClick:l,...c}=e;n=Rr(n,"navbar-toggler");const{onToggle:u,expanded:d}=(0,i.useContext)(Ra)||{},h=Lo((e=>{l&&l(e),u&&u()}));return"button"===a&&(c.type="button"),(0,Nr.jsx)(a,{...c,ref:t,onClick:h,"aria-label":s,className:Tr()(r,n,!d&&"collapsed"),children:o||(0,Nr.jsx)("span",{className:"".concat(n,"-icon")})})}));Ba.displayName="NavbarToggle";const Ua=Ba,Fa=new WeakMap,Va=(e,t)=>{if(!e||!t)return;const n=Fa.get(t)||new Map;Fa.set(t,n);let r=n.get(e);return r||(r=t.matchMedia(e),r.refCount=0,n.set(r.media,r)),r};function qa(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"undefined"===typeof window?void 0:window;const n=Va(e,t),[r,o]=(0,i.useState)((()=>!!n&&n.matches));return cs((()=>{let n=Va(e,t);if(!n)return o(!1);let r=Fa.get(t);const i=()=>{o(n.matches)};return n.refCount++,n.addListener(i),i(),()=>{n.removeListener(i),n.refCount--,n.refCount<=0&&(null==r||r.delete(n.media)),n=void 0}}),[e]),r}const Ha=function(e){const t=Object.keys(e);function n(e,t){return e===t?t:e?"".concat(e," and ").concat(t):t}function r(n){const r=function(e){return t[Math.min(t.indexOf(e)+1,t.length-1)]}(n);let i=e[r];return i="number"===typeof i?"".concat(i-.2,"px"):"calc(".concat(i," - 0.2px)"),"(max-width: ".concat(i,")")}return function(t,o,s){let a;"object"===typeof t?(a=t,s=o,o=!0):(o=o||!0,a={[t]:o});let l=(0,i.useMemo)((()=>Object.entries(a).reduce(((t,i)=>{let[o,s]=i;return"up"!==s&&!0!==s||(t=n(t,function(t){let n=e[t];return"number"===typeof n&&(n="".concat(n,"px")),"(min-width: ".concat(n,")")}(o))),"down"!==s&&!0!==s||(t=n(t,r(o))),t}),"")),[JSON.stringify(a)]);return qa(l,s)}}({xs:0,sm:576,md:768,lg:992,xl:1200,xxl:1400}),za=Ha,Ga=i.forwardRef(((e,t)=>{let{className:n,bsPrefix:r,as:i="div",...o}=e;return r=Rr(r,"offcanvas-body"),(0,Nr.jsx)(i,{ref:t,className:Tr()(n,r),...o})}));Ga.displayName="OffcanvasBody";const Ya=Ga,Wa={[$i]:"show",[eo]:"show"},Ka=i.forwardRef(((e,t)=>{let{bsPrefix:n,className:r,children:o,in:s=!1,mountOnEnter:a=!1,unmountOnExit:l=!1,appear:c=!1,...u}=e;return n=Rr(n,"offcanvas"),(0,Nr.jsx)(To,{ref:t,addEndListener:xo,in:s,mountOnEnter:a,unmountOnExit:l,appear:c,...u,childRef:o.ref,children:(e,t)=>i.cloneElement(o,{...t,className:Tr()(r,o.props.className,(e===$i||e===to)&&"".concat(n,"-toggling"),Wa[e])})})}));Ka.displayName="OffcanvasToggling";const Qa=Ka,Ja=i.forwardRef(((e,t)=>{let{bsPrefix:n,className:r,closeLabel:i="Close",closeButton:o=!1,...s}=e;return n=Rr(n,"offcanvas-header"),(0,Nr.jsx)(Vs,{ref:t,...s,className:Tr()(r,n),closeLabel:i,closeButton:o})}));Ja.displayName="OffcanvasHeader";const Xa=Ja,Za=Ii("h5"),$a=i.forwardRef(((e,t)=>{let{className:n,bsPrefix:r,as:i=Za,...o}=e;return r=Rr(r,"offcanvas-title"),(0,Nr.jsx)(i,{ref:t,className:Tr()(n,r),...o})}));$a.displayName="OffcanvasTitle";const el=$a;function tl(e){return(0,Nr.jsx)(Qa,{...e})}function nl(e){return(0,Nr.jsx)(Io,{...e})}const rl=i.forwardRef(((e,t)=>{let{bsPrefix:n,className:r,children:o,"aria-labelledby":s,placement:a="start",responsive:l,show:c=!1,backdrop:u=!0,keyboard:d=!0,scroll:h=!1,onEscapeKeyDown:f,onShow:p,onHide:m,container:g,autoFocus:v=!0,enforceFocus:y=!0,restoreFocus:b=!0,restoreFocusOptions:w,onEntered:A,onExit:_,onExiting:x,onEnter:S,onEntering:k,onExited:E,backdropClassName:C,manager:T,renderStaticNode:N=!1,...O}=e;const I=(0,i.useRef)();n=Rr(n,"offcanvas");const{onToggle:D}=(0,i.useContext)(Ra)||{},[j,P]=(0,i.useState)(!1),R=za(l||"xs","up");(0,i.useEffect)((()=>{P(l?c&&!R:c)}),[c,l,R]);const L=Lo((()=>{null==D||D(),null==m||m()})),M=(0,i.useMemo)((()=>({onHide:L})),[L]);const B=(0,i.useCallback)((e=>(0,Nr.jsx)("div",{...e,className:Tr()("".concat(n,"-backdrop"),C)})),[C,n]),U=e=>(0,Nr.jsx)("div",{...e,...O,className:Tr()(r,l?"".concat(n,"-").concat(l):n,"".concat(n,"-").concat(a)),"aria-labelledby":s,children:o});return(0,Nr.jsxs)(Nr.Fragment,{children:[!j&&(l||N)&&U({}),(0,Nr.jsx)(Rs.Provider,{value:M,children:(0,Nr.jsx)(_s,{show:j,ref:t,backdrop:u,container:g,keyboard:d,autoFocus:v,enforceFocus:y&&!h,restoreFocus:b,restoreFocusOptions:w,onEscapeKeyDown:f,onShow:p,onHide:L,onEnter:function(e){e&&(e.style.visibility="visible");for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];null==S||S(e,...n)},onEntering:k,onEntered:A,onExit:_,onExiting:x,onExited:function(e){e&&(e.style.visibility="");for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];null==E||E(...n)},manager:T||(h?(I.current||(I.current=new Ds({handleContainerOverflow:!1})),I.current):Is()),transition:tl,backdropTransition:nl,renderBackdrop:B,renderDialog:U})})]})}));rl.displayName="Offcanvas";const il=Object.assign(rl,{Body:Ya,Header:Xa,Title:el}),ol=i.forwardRef(((e,t)=>{const n=(0,i.useContext)(Ra);return(0,Nr.jsx)(il,{ref:t,show:!(null==n||!n.expanded),...e,renderStaticNode:!0})}));ol.displayName="NavbarOffcanvas";const sl=ol,al=i.forwardRef(((e,t)=>{let{className:n,bsPrefix:r,as:i="span",...o}=e;return r=Rr(r,"navbar-text"),(0,Nr.jsx)(i,{ref:t,className:Tr()(n,r),...o})}));al.displayName="NavbarText";const ll=al,cl=i.forwardRef(((e,t)=>{const{bsPrefix:n,expand:r=!0,variant:o="light",bg:s,fixed:a,sticky:l,className:c,as:u="nav",expanded:d,onToggle:h,onSelect:f,collapseOnSelect:p=!1,...m}=_a(e,{expanded:"onToggle"}),g=Rr(n,"navbar"),v=(0,i.useCallback)((function(){null==f||f(...arguments),p&&d&&(null==h||h(!1))}),[f,p,d,h]);void 0===m.role&&"nav"!==u&&(m.role="navigation");let y="".concat(g,"-expand");"string"===typeof r&&(y="".concat(y,"-").concat(r));const b=(0,i.useMemo)((()=>({onToggle:()=>null==h?void 0:h(!d),bsPrefix:g,expanded:!!d,expand:r})),[g,d,r,h]);return(0,Nr.jsx)(Ra.Provider,{value:b,children:(0,Nr.jsx)(ya.Provider,{value:v,children:(0,Nr.jsx)(u,{ref:t,...m,className:Tr()(c,g,r&&y,o&&"".concat(g,"-").concat(o),s&&"bg-".concat(s),l&&"sticky-".concat(l),a&&"fixed-".concat(a))})})})}));cl.displayName="Navbar";const ul=Object.assign(cl,{Brand:Ca,Collapse:Ma,Offcanvas:sl,Text:ll,Toggle:Ua});r(3319);function dl(){const[,e]=(0,i.useReducer)((e=>!e),!1);return e}const hl=i.createContext(null);hl.displayName="NavContext";const fl=hl,pl=i.createContext(null),ml=["as","active","eventKey"];function gl(e){let{key:t,onClick:n,active:r,id:o,role:s,disabled:a}=e;const l=(0,i.useContext)(ya),c=(0,i.useContext)(fl),u=(0,i.useContext)(pl);let d=r;const h={role:s};if(c){s||"tablist"!==c.role||(h.role="tab");const e=c.getControllerId(null!=t?t:null),n=c.getControlledId(null!=t?t:null);h[ns("event-key")]=t,h.id=e||o,d=null==r&&null!=t?c.activeKey===t:r,!d&&(null!=u&&u.unmountOnExit||null!=u&&u.mountOnEnter)||(h["aria-controls"]=n)}return"tab"===h.role&&(h["aria-selected"]=d,d||(h.tabIndex=-1),a&&(h.tabIndex=-1,h["aria-disabled"]=!0)),h.onClick=Lo((e=>{a||(null==n||n(e),null!=t&&l&&!e.isPropagationStopped()&&l(t,e))})),[h,{isActive:d}]}const vl=i.forwardRef(((e,t)=>{let{as:n=zr,active:r,eventKey:i}=e,o=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,ml);const[s,a]=gl(Object.assign({key:va(i,o.href),active:r},o));return s[ns("active")]=a.isActive,(0,Nr.jsx)(n,Object.assign({},o,s,{ref:t}))}));vl.displayName="NavItem";const yl=vl,bl=["as","onSelect","activeKey","role","onKeyDown"];const wl=()=>{},Al=ns("event-key"),_l=i.forwardRef(((e,t)=>{let{as:n="div",onSelect:r,activeKey:o,role:s,onKeyDown:a}=e,l=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,bl);const c=dl(),u=(0,i.useRef)(!1),d=(0,i.useContext)(ya),h=(0,i.useContext)(pl);let f,p;h&&(s=s||"tablist",o=h.activeKey,f=h.getControlledId,p=h.getControllerId);const m=(0,i.useRef)(null),g=e=>{const t=m.current;if(!t)return null;const n=Ss(t,"[".concat(Al,"]:not([aria-disabled=true])")),r=t.querySelector("[aria-selected=true]");if(!r||r!==document.activeElement)return null;const i=n.indexOf(r);if(-1===i)return null;let o=i+e;return o>=n.length&&(o=0),o<0&&(o=n.length-1),n[o]},v=(e,t)=>{null!=e&&(null==r||r(e,t),null==d||d(e,t))};(0,i.useEffect)((()=>{if(m.current&&u.current){const e=m.current.querySelector("[".concat(Al,"][aria-selected=true]"));null==e||e.focus()}u.current=!1}));const y=Eo(t,m);return(0,Nr.jsx)(ya.Provider,{value:v,children:(0,Nr.jsx)(fl.Provider,{value:{role:s,activeKey:va(o),getControlledId:f||wl,getControllerId:p||wl},children:(0,Nr.jsx)(n,Object.assign({},l,{onKeyDown:e=>{if(null==a||a(e),!h)return;let t;switch(e.key){case"ArrowLeft":case"ArrowUp":t=g(-1);break;case"ArrowRight":case"ArrowDown":t=g(1);break;default:return}var n;t&&(e.preventDefault(),v(t.dataset[(n="EventKey","".concat("rrUi").concat(n))]||null,e),u.current=!0,c())},ref:y,role:s}))})})}));_l.displayName="Nav";const xl=Object.assign(_l,{Item:yl}),Sl=i.forwardRef(((e,t)=>{let{className:n,bsPrefix:r,as:i="div",...o}=e;return r=Rr(r,"nav-item"),(0,Nr.jsx)(i,{ref:t,className:Tr()(n,r),...o})}));Sl.displayName="NavItem";const kl=Sl;new WeakMap;const El=["onKeyDown"];const Cl=i.forwardRef(((e,t)=>{let{onKeyDown:n}=e,r=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,El);const[i]=qr(Object.assign({tagName:"a"},r)),o=Lo((e=>{i.onKeyDown(e),null==n||n(e)}));return(s=r.href)&&"#"!==s.trim()&&"button"!==r.role?(0,Nr.jsx)("a",Object.assign({ref:t},r,{onKeyDown:n})):(0,Nr.jsx)("a",Object.assign({ref:t},r,i,{onKeyDown:o}));var s}));Cl.displayName="Anchor";const Tl=Cl,Nl=i.forwardRef(((e,t)=>{let{bsPrefix:n,className:r,as:i=Tl,active:o,eventKey:s,disabled:a=!1,...l}=e;n=Rr(n,"nav-link");const[c,u]=gl({key:va(s,l.href),active:o,disabled:a,...l});return(0,Nr.jsx)(i,{...l,...c,ref:t,disabled:a,className:Tr()(r,n,a&&"disabled",u.isActive&&"active")})}));Nl.displayName="NavLink";const Ol=Nl,Il=i.forwardRef(((e,t)=>{const{as:n="div",bsPrefix:r,variant:o,fill:s=!1,justify:a=!1,navbar:l,navbarScroll:c,className:u,activeKey:d,...h}=_a(e,{activeKey:"onSelect"}),f=Rr(r,"nav");let p,m,g=!1;const v=(0,i.useContext)(Ra),y=(0,i.useContext)(_i);return v?(p=v.bsPrefix,g=null==l||l):y&&({cardHeaderBsPrefix:m}=y),(0,Nr.jsx)(xl,{as:n,ref:t,activeKey:d,className:Tr()(u,{[f]:!g,["".concat(p,"-nav")]:g,["".concat(p,"-nav-scroll")]:g&&c,["".concat(m,"-").concat(o)]:!!m,["".concat(f,"-").concat(o)]:!!o,["".concat(f,"-fill")]:s,["".concat(f,"-justified")]:a}),...h})}));Il.displayName="Nav";const Dl=Object.assign(Il,{Item:kl,Link:Ol});function jl(e,t,n){const r=(0,i.useRef)(void 0!==e),[o,s]=(0,i.useState)(t),a=void 0!==e,l=r.current;return r.current=a,!a&&l&&o!==t&&s(t),[a?e:o,(0,i.useCallback)((function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];const[i,...o]=t;let a=null==n?void 0:n(i,...o);return s(i),a}),[n])]}const Pl=i.createContext(null);var Rl=Object.prototype.hasOwnProperty;function Ll(e,t,n){for(n of e.keys())if(Ml(n,t))return n}function Ml(e,t){var n,r,i;if(e===t)return!0;if(e&&t&&(n=e.constructor)===t.constructor){if(n===Date)return e.getTime()===t.getTime();if(n===RegExp)return e.toString()===t.toString();if(n===Array){if((r=e.length)===t.length)for(;r--&&Ml(e[r],t[r]););return-1===r}if(n===Set){if(e.size!==t.size)return!1;for(r of e){if((i=r)&&"object"===typeof i&&!(i=Ll(t,i)))return!1;if(!t.has(i))return!1}return!0}if(n===Map){if(e.size!==t.size)return!1;for(r of e){if((i=r[0])&&"object"===typeof i&&!(i=Ll(t,i)))return!1;if(!Ml(r[1],t.get(i)))return!1}return!0}if(n===ArrayBuffer)e=new Uint8Array(e),t=new Uint8Array(t);else if(n===DataView){if((r=e.byteLength)===t.byteLength)for(;r--&&e.getInt8(r)===t.getInt8(r););return-1===r}if(ArrayBuffer.isView(e)){if((r=e.byteLength)===t.byteLength)for(;r--&&e[r]===t[r];);return-1===r}if(!n||"object"===typeof e){for(n in r=0,e){if(Rl.call(e,n)&&++r&&!Rl.call(t,n))return!1;if(!(n in t)||!Ml(e[n],t[n]))return!1}return Object.keys(t).length===r}}return e!==e&&t!==t}const Bl=function(e){const t=qi();return[e[0],(0,i.useCallback)((n=>{if(t())return e[1](n)}),[t,e[1]])]};function Ul(e){return e.split("-")[0]}function Fl(e){if(null==e)return window;if("[object Window]"!==e.toString()){var t=e.ownerDocument;return t&&t.defaultView||window}return e}function Vl(e){return e instanceof Fl(e).Element||e instanceof Element}function ql(e){return e instanceof Fl(e).HTMLElement||e instanceof HTMLElement}function Hl(e){return"undefined"!==typeof ShadowRoot&&(e instanceof Fl(e).ShadowRoot||e instanceof ShadowRoot)}var zl=Math.max,Gl=Math.min,Yl=Math.round;function Wl(){var e=navigator.userAgentData;return null!=e&&e.brands&&Array.isArray(e.brands)?e.brands.map((function(e){return e.brand+"/"+e.version})).join(" "):navigator.userAgent}function Kl(){return!/^((?!chrome|android).)*safari/i.test(Wl())}function Ql(e,t,n){void 0===t&&(t=!1),void 0===n&&(n=!1);var r=e.getBoundingClientRect(),i=1,o=1;t&&ql(e)&&(i=e.offsetWidth>0&&Yl(r.width)/e.offsetWidth||1,o=e.offsetHeight>0&&Yl(r.height)/e.offsetHeight||1);var s=(Vl(e)?Fl(e):window).visualViewport,a=!Kl()&&n,l=(r.left+(a&&s?s.offsetLeft:0))/i,c=(r.top+(a&&s?s.offsetTop:0))/o,u=r.width/i,d=r.height/o;return{width:u,height:d,top:c,right:l+u,bottom:c+d,left:l,x:l,y:c}}function Jl(e){var t=Ql(e),n=e.offsetWidth,r=e.offsetHeight;return Math.abs(t.width-n)<=1&&(n=t.width),Math.abs(t.height-r)<=1&&(r=t.height),{x:e.offsetLeft,y:e.offsetTop,width:n,height:r}}function Xl(e,t){var n=t.getRootNode&&t.getRootNode();if(e.contains(t))return!0;if(n&&Hl(n)){var r=t;do{if(r&&e.isSameNode(r))return!0;r=r.parentNode||r.host}while(r)}return!1}function Zl(e){return e?(e.nodeName||"").toLowerCase():null}function $l(e){return Fl(e).getComputedStyle(e)}function ec(e){return["table","td","th"].indexOf(Zl(e))>=0}function tc(e){return((Vl(e)?e.ownerDocument:e.document)||window.document).documentElement}function nc(e){return"html"===Zl(e)?e:e.assignedSlot||e.parentNode||(Hl(e)?e.host:null)||tc(e)}function rc(e){return ql(e)&&"fixed"!==$l(e).position?e.offsetParent:null}function ic(e){for(var t=Fl(e),n=rc(e);n&&ec(n)&&"static"===$l(n).position;)n=rc(n);return n&&("html"===Zl(n)||"body"===Zl(n)&&"static"===$l(n).position)?t:n||function(e){var t=/firefox/i.test(Wl());if(/Trident/i.test(Wl())&&ql(e)&&"fixed"===$l(e).position)return null;var n=nc(e);for(Hl(n)&&(n=n.host);ql(n)&&["html","body"].indexOf(Zl(n))<0;){var r=$l(n);if("none"!==r.transform||"none"!==r.perspective||"paint"===r.contain||-1!==["transform","perspective"].indexOf(r.willChange)||t&&"filter"===r.willChange||t&&r.filter&&"none"!==r.filter)return n;n=n.parentNode}return null}(e)||t}function oc(e){return["top","bottom"].indexOf(e)>=0?"x":"y"}function sc(e,t,n){return zl(e,Gl(t,n))}function ac(e){return Object.assign({},{top:0,right:0,bottom:0,left:0},e)}function lc(e,t){return t.reduce((function(t,n){return t[n]=e,t}),{})}var cc="top",uc="bottom",dc="right",hc="left",fc="auto",pc=[cc,uc,dc,hc],mc="start",gc="end",vc="clippingParents",yc="viewport",bc="popper",wc="reference",Ac=pc.reduce((function(e,t){return e.concat([t+"-"+mc,t+"-"+gc])}),[]),_c=[].concat(pc,[fc]).reduce((function(e,t){return e.concat([t,t+"-"+mc,t+"-"+gc])}),[]),xc=["beforeRead","read","afterRead","beforeMain","main","afterMain","beforeWrite","write","afterWrite"];const Sc={name:"arrow",enabled:!0,phase:"main",fn:function(e){var t,n=e.state,r=e.name,i=e.options,o=n.elements.arrow,s=n.modifiersData.popperOffsets,a=Ul(n.placement),l=oc(a),c=[hc,dc].indexOf(a)>=0?"height":"width";if(o&&s){var u=function(e,t){return ac("number"!==typeof(e="function"===typeof e?e(Object.assign({},t.rects,{placement:t.placement})):e)?e:lc(e,pc))}(i.padding,n),d=Jl(o),h="y"===l?cc:hc,f="y"===l?uc:dc,p=n.rects.reference[c]+n.rects.reference[l]-s[l]-n.rects.popper[c],m=s[l]-n.rects.reference[l],g=ic(o),v=g?"y"===l?g.clientHeight||0:g.clientWidth||0:0,y=p/2-m/2,b=u[h],w=v-d[c]-u[f],A=v/2-d[c]/2+y,_=sc(b,A,w),x=l;n.modifiersData[r]=((t={})[x]=_,t.centerOffset=_-A,t)}},effect:function(e){var t=e.state,n=e.options.element,r=void 0===n?"[data-popper-arrow]":n;null!=r&&("string"!==typeof r||(r=t.elements.popper.querySelector(r)))&&Xl(t.elements.popper,r)&&(t.elements.arrow=r)},requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function kc(e){return e.split("-")[1]}var Ec={top:"auto",right:"auto",bottom:"auto",left:"auto"};function Cc(e){var t,n=e.popper,r=e.popperRect,i=e.placement,o=e.variation,s=e.offsets,a=e.position,l=e.gpuAcceleration,c=e.adaptive,u=e.roundOffsets,d=e.isFixed,h=s.x,f=void 0===h?0:h,p=s.y,m=void 0===p?0:p,g="function"===typeof u?u({x:f,y:m}):{x:f,y:m};f=g.x,m=g.y;var v=s.hasOwnProperty("x"),y=s.hasOwnProperty("y"),b=hc,w=cc,A=window;if(c){var _=ic(n),x="clientHeight",S="clientWidth";if(_===Fl(n)&&"static"!==$l(_=tc(n)).position&&"absolute"===a&&(x="scrollHeight",S="scrollWidth"),i===cc||(i===hc||i===dc)&&o===gc)w=uc,m-=(d&&_===A&&A.visualViewport?A.visualViewport.height:_[x])-r.height,m*=l?1:-1;if(i===hc||(i===cc||i===uc)&&o===gc)b=dc,f-=(d&&_===A&&A.visualViewport?A.visualViewport.width:_[S])-r.width,f*=l?1:-1}var k,E=Object.assign({position:a},c&&Ec),C=!0===u?function(e,t){var n=e.x,r=e.y,i=t.devicePixelRatio||1;return{x:Yl(n*i)/i||0,y:Yl(r*i)/i||0}}({x:f,y:m},Fl(n)):{x:f,y:m};return f=C.x,m=C.y,l?Object.assign({},E,((k={})[w]=y?"0":"",k[b]=v?"0":"",k.transform=(A.devicePixelRatio||1)<=1?"translate("+f+"px, "+m+"px)":"translate3d("+f+"px, "+m+"px, 0)",k)):Object.assign({},E,((t={})[w]=y?m+"px":"",t[b]=v?f+"px":"",t.transform="",t))}const Tc={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:function(e){var t=e.state,n=e.options,r=n.gpuAcceleration,i=void 0===r||r,o=n.adaptive,s=void 0===o||o,a=n.roundOffsets,l=void 0===a||a,c={placement:Ul(t.placement),variation:kc(t.placement),popper:t.elements.popper,popperRect:t.rects.popper,gpuAcceleration:i,isFixed:"fixed"===t.options.strategy};null!=t.modifiersData.popperOffsets&&(t.styles.popper=Object.assign({},t.styles.popper,Cc(Object.assign({},c,{offsets:t.modifiersData.popperOffsets,position:t.options.strategy,adaptive:s,roundOffsets:l})))),null!=t.modifiersData.arrow&&(t.styles.arrow=Object.assign({},t.styles.arrow,Cc(Object.assign({},c,{offsets:t.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:l})))),t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-placement":t.placement})},data:{}};var Nc={passive:!0};const Oc={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:function(e){var t=e.state,n=e.instance,r=e.options,i=r.scroll,o=void 0===i||i,s=r.resize,a=void 0===s||s,l=Fl(t.elements.popper),c=[].concat(t.scrollParents.reference,t.scrollParents.popper);return o&&c.forEach((function(e){e.addEventListener("scroll",n.update,Nc)})),a&&l.addEventListener("resize",n.update,Nc),function(){o&&c.forEach((function(e){e.removeEventListener("scroll",n.update,Nc)})),a&&l.removeEventListener("resize",n.update,Nc)}},data:{}};var Ic={left:"right",right:"left",bottom:"top",top:"bottom"};function Dc(e){return e.replace(/left|right|bottom|top/g,(function(e){return Ic[e]}))}var jc={start:"end",end:"start"};function Pc(e){return e.replace(/start|end/g,(function(e){return jc[e]}))}function Rc(e){var t=Fl(e);return{scrollLeft:t.pageXOffset,scrollTop:t.pageYOffset}}function Lc(e){return Ql(tc(e)).left+Rc(e).scrollLeft}function Mc(e){var t=$l(e),n=t.overflow,r=t.overflowX,i=t.overflowY;return/auto|scroll|overlay|hidden/.test(n+i+r)}function Bc(e){return["html","body","#document"].indexOf(Zl(e))>=0?e.ownerDocument.body:ql(e)&&Mc(e)?e:Bc(nc(e))}function Uc(e,t){var n;void 0===t&&(t=[]);var r=Bc(e),i=r===(null==(n=e.ownerDocument)?void 0:n.body),o=Fl(r),s=i?[o].concat(o.visualViewport||[],Mc(r)?r:[]):r,a=t.concat(s);return i?a:a.concat(Uc(nc(s)))}function Fc(e){return Object.assign({},e,{left:e.x,top:e.y,right:e.x+e.width,bottom:e.y+e.height})}function Vc(e,t,n){return t===yc?Fc(function(e,t){var n=Fl(e),r=tc(e),i=n.visualViewport,o=r.clientWidth,s=r.clientHeight,a=0,l=0;if(i){o=i.width,s=i.height;var c=Kl();(c||!c&&"fixed"===t)&&(a=i.offsetLeft,l=i.offsetTop)}return{width:o,height:s,x:a+Lc(e),y:l}}(e,n)):Vl(t)?function(e,t){var n=Ql(e,!1,"fixed"===t);return n.top=n.top+e.clientTop,n.left=n.left+e.clientLeft,n.bottom=n.top+e.clientHeight,n.right=n.left+e.clientWidth,n.width=e.clientWidth,n.height=e.clientHeight,n.x=n.left,n.y=n.top,n}(t,n):Fc(function(e){var t,n=tc(e),r=Rc(e),i=null==(t=e.ownerDocument)?void 0:t.body,o=zl(n.scrollWidth,n.clientWidth,i?i.scrollWidth:0,i?i.clientWidth:0),s=zl(n.scrollHeight,n.clientHeight,i?i.scrollHeight:0,i?i.clientHeight:0),a=-r.scrollLeft+Lc(e),l=-r.scrollTop;return"rtl"===$l(i||n).direction&&(a+=zl(n.clientWidth,i?i.clientWidth:0)-o),{width:o,height:s,x:a,y:l}}(tc(e)))}function qc(e,t,n,r){var i="clippingParents"===t?function(e){var t=Uc(nc(e)),n=["absolute","fixed"].indexOf($l(e).position)>=0&&ql(e)?ic(e):e;return Vl(n)?t.filter((function(e){return Vl(e)&&Xl(e,n)&&"body"!==Zl(e)})):[]}(e):[].concat(t),o=[].concat(i,[n]),s=o[0],a=o.reduce((function(t,n){var i=Vc(e,n,r);return t.top=zl(i.top,t.top),t.right=Gl(i.right,t.right),t.bottom=Gl(i.bottom,t.bottom),t.left=zl(i.left,t.left),t}),Vc(e,s,r));return a.width=a.right-a.left,a.height=a.bottom-a.top,a.x=a.left,a.y=a.top,a}function Hc(e){var t,n=e.reference,r=e.element,i=e.placement,o=i?Ul(i):null,s=i?kc(i):null,a=n.x+n.width/2-r.width/2,l=n.y+n.height/2-r.height/2;switch(o){case cc:t={x:a,y:n.y-r.height};break;case uc:t={x:a,y:n.y+n.height};break;case dc:t={x:n.x+n.width,y:l};break;case hc:t={x:n.x-r.width,y:l};break;default:t={x:n.x,y:n.y}}var c=o?oc(o):null;if(null!=c){var u="y"===c?"height":"width";switch(s){case mc:t[c]=t[c]-(n[u]/2-r[u]/2);break;case gc:t[c]=t[c]+(n[u]/2-r[u]/2)}}return t}function zc(e,t){void 0===t&&(t={});var n=t,r=n.placement,i=void 0===r?e.placement:r,o=n.strategy,s=void 0===o?e.strategy:o,a=n.boundary,l=void 0===a?vc:a,c=n.rootBoundary,u=void 0===c?yc:c,d=n.elementContext,h=void 0===d?bc:d,f=n.altBoundary,p=void 0!==f&&f,m=n.padding,g=void 0===m?0:m,v=ac("number"!==typeof g?g:lc(g,pc)),y=h===bc?wc:bc,b=e.rects.popper,w=e.elements[p?y:h],A=qc(Vl(w)?w:w.contextElement||tc(e.elements.popper),l,u,s),_=Ql(e.elements.reference),x=Hc({reference:_,element:b,strategy:"absolute",placement:i}),S=Fc(Object.assign({},b,x)),k=h===bc?S:_,E={top:A.top-k.top+v.top,bottom:k.bottom-A.bottom+v.bottom,left:A.left-k.left+v.left,right:k.right-A.right+v.right},C=e.modifiersData.offset;if(h===bc&&C){var T=C[i];Object.keys(E).forEach((function(e){var t=[dc,uc].indexOf(e)>=0?1:-1,n=[cc,uc].indexOf(e)>=0?"y":"x";E[e]+=T[n]*t}))}return E}const Gc={name:"flip",enabled:!0,phase:"main",fn:function(e){var t=e.state,n=e.options,r=e.name;if(!t.modifiersData[r]._skip){for(var i=n.mainAxis,o=void 0===i||i,s=n.altAxis,a=void 0===s||s,l=n.fallbackPlacements,c=n.padding,u=n.boundary,d=n.rootBoundary,h=n.altBoundary,f=n.flipVariations,p=void 0===f||f,m=n.allowedAutoPlacements,g=t.options.placement,v=Ul(g),y=l||(v===g||!p?[Dc(g)]:function(e){if(Ul(e)===fc)return[];var t=Dc(e);return[Pc(e),t,Pc(t)]}(g)),b=[g].concat(y).reduce((function(e,n){return e.concat(Ul(n)===fc?function(e,t){void 0===t&&(t={});var n=t,r=n.placement,i=n.boundary,o=n.rootBoundary,s=n.padding,a=n.flipVariations,l=n.allowedAutoPlacements,c=void 0===l?_c:l,u=kc(r),d=u?a?Ac:Ac.filter((function(e){return kc(e)===u})):pc,h=d.filter((function(e){return c.indexOf(e)>=0}));0===h.length&&(h=d);var f=h.reduce((function(t,n){return t[n]=zc(e,{placement:n,boundary:i,rootBoundary:o,padding:s})[Ul(n)],t}),{});return Object.keys(f).sort((function(e,t){return f[e]-f[t]}))}(t,{placement:n,boundary:u,rootBoundary:d,padding:c,flipVariations:p,allowedAutoPlacements:m}):n)}),[]),w=t.rects.reference,A=t.rects.popper,_=new Map,x=!0,S=b[0],k=0;k<b.length;k++){var E=b[k],C=Ul(E),T=kc(E)===mc,N=[cc,uc].indexOf(C)>=0,O=N?"width":"height",I=zc(t,{placement:E,boundary:u,rootBoundary:d,altBoundary:h,padding:c}),D=N?T?dc:hc:T?uc:cc;w[O]>A[O]&&(D=Dc(D));var j=Dc(D),P=[];if(o&&P.push(I[C]<=0),a&&P.push(I[D]<=0,I[j]<=0),P.every((function(e){return e}))){S=E,x=!1;break}_.set(E,P)}if(x)for(var R=function(e){var t=b.find((function(t){var n=_.get(t);if(n)return n.slice(0,e).every((function(e){return e}))}));if(t)return S=t,"break"},L=p?3:1;L>0;L--){if("break"===R(L))break}t.placement!==S&&(t.modifiersData[r]._skip=!0,t.placement=S,t.reset=!0)}},requiresIfExists:["offset"],data:{_skip:!1}};function Yc(e,t,n){return void 0===n&&(n={x:0,y:0}),{top:e.top-t.height-n.y,right:e.right-t.width+n.x,bottom:e.bottom-t.height+n.y,left:e.left-t.width-n.x}}function Wc(e){return[cc,dc,uc,hc].some((function(t){return e[t]>=0}))}const Kc={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:function(e){var t=e.state,n=e.options,r=e.name,i=n.offset,o=void 0===i?[0,0]:i,s=_c.reduce((function(e,n){return e[n]=function(e,t,n){var r=Ul(e),i=[hc,cc].indexOf(r)>=0?-1:1,o="function"===typeof n?n(Object.assign({},t,{placement:e})):n,s=o[0],a=o[1];return s=s||0,a=(a||0)*i,[hc,dc].indexOf(r)>=0?{x:a,y:s}:{x:s,y:a}}(n,t.rects,o),e}),{}),a=s[t.placement],l=a.x,c=a.y;null!=t.modifiersData.popperOffsets&&(t.modifiersData.popperOffsets.x+=l,t.modifiersData.popperOffsets.y+=c),t.modifiersData[r]=s}};const Qc={name:"preventOverflow",enabled:!0,phase:"main",fn:function(e){var t=e.state,n=e.options,r=e.name,i=n.mainAxis,o=void 0===i||i,s=n.altAxis,a=void 0!==s&&s,l=n.boundary,c=n.rootBoundary,u=n.altBoundary,d=n.padding,h=n.tether,f=void 0===h||h,p=n.tetherOffset,m=void 0===p?0:p,g=zc(t,{boundary:l,rootBoundary:c,padding:d,altBoundary:u}),v=Ul(t.placement),y=kc(t.placement),b=!y,w=oc(v),A="x"===w?"y":"x",_=t.modifiersData.popperOffsets,x=t.rects.reference,S=t.rects.popper,k="function"===typeof m?m(Object.assign({},t.rects,{placement:t.placement})):m,E="number"===typeof k?{mainAxis:k,altAxis:k}:Object.assign({mainAxis:0,altAxis:0},k),C=t.modifiersData.offset?t.modifiersData.offset[t.placement]:null,T={x:0,y:0};if(_){if(o){var N,O="y"===w?cc:hc,I="y"===w?uc:dc,D="y"===w?"height":"width",j=_[w],P=j+g[O],R=j-g[I],L=f?-S[D]/2:0,M=y===mc?x[D]:S[D],B=y===mc?-S[D]:-x[D],U=t.elements.arrow,F=f&&U?Jl(U):{width:0,height:0},V=t.modifiersData["arrow#persistent"]?t.modifiersData["arrow#persistent"].padding:{top:0,right:0,bottom:0,left:0},q=V[O],H=V[I],z=sc(0,x[D],F[D]),G=b?x[D]/2-L-z-q-E.mainAxis:M-z-q-E.mainAxis,Y=b?-x[D]/2+L+z+H+E.mainAxis:B+z+H+E.mainAxis,W=t.elements.arrow&&ic(t.elements.arrow),K=W?"y"===w?W.clientTop||0:W.clientLeft||0:0,Q=null!=(N=null==C?void 0:C[w])?N:0,J=j+Y-Q,X=sc(f?Gl(P,j+G-Q-K):P,j,f?zl(R,J):R);_[w]=X,T[w]=X-j}if(a){var Z,$="x"===w?cc:hc,ee="x"===w?uc:dc,te=_[A],ne="y"===A?"height":"width",re=te+g[$],ie=te-g[ee],oe=-1!==[cc,hc].indexOf(v),se=null!=(Z=null==C?void 0:C[A])?Z:0,ae=oe?re:te-x[ne]-S[ne]-se+E.altAxis,le=oe?te+x[ne]+S[ne]-se-E.altAxis:ie,ce=f&&oe?function(e,t,n){var r=sc(e,t,n);return r>n?n:r}(ae,te,le):sc(f?ae:re,te,f?le:ie);_[A]=ce,T[A]=ce-te}t.modifiersData[r]=T}},requiresIfExists:["offset"]};function Jc(e,t,n){void 0===n&&(n=!1);var r=ql(t),i=ql(t)&&function(e){var t=e.getBoundingClientRect(),n=Yl(t.width)/e.offsetWidth||1,r=Yl(t.height)/e.offsetHeight||1;return 1!==n||1!==r}(t),o=tc(t),s=Ql(e,i,n),a={scrollLeft:0,scrollTop:0},l={x:0,y:0};return(r||!r&&!n)&&(("body"!==Zl(t)||Mc(o))&&(a=function(e){return e!==Fl(e)&&ql(e)?{scrollLeft:(t=e).scrollLeft,scrollTop:t.scrollTop}:Rc(e);var t}(t)),ql(t)?((l=Ql(t,!0)).x+=t.clientLeft,l.y+=t.clientTop):o&&(l.x=Lc(o))),{x:s.left+a.scrollLeft-l.x,y:s.top+a.scrollTop-l.y,width:s.width,height:s.height}}function Xc(e){var t=new Map,n=new Set,r=[];function i(e){n.add(e.name),[].concat(e.requires||[],e.requiresIfExists||[]).forEach((function(e){if(!n.has(e)){var r=t.get(e);r&&i(r)}})),r.push(e)}return e.forEach((function(e){t.set(e.name,e)})),e.forEach((function(e){n.has(e.name)||i(e)})),r}function Zc(e){var t;return function(){return t||(t=new Promise((function(n){Promise.resolve().then((function(){t=void 0,n(e())}))}))),t}}var $c={placement:"bottom",modifiers:[],strategy:"absolute"};function eu(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return!t.some((function(e){return!(e&&"function"===typeof e.getBoundingClientRect)}))}function tu(e){void 0===e&&(e={});var t=e,n=t.defaultModifiers,r=void 0===n?[]:n,i=t.defaultOptions,o=void 0===i?$c:i;return function(e,t,n){void 0===n&&(n=o);var i={placement:"bottom",orderedModifiers:[],options:Object.assign({},$c,o),modifiersData:{},elements:{reference:e,popper:t},attributes:{},styles:{}},s=[],a=!1,l={state:i,setOptions:function(n){var a="function"===typeof n?n(i.options):n;c(),i.options=Object.assign({},o,i.options,a),i.scrollParents={reference:Vl(e)?Uc(e):e.contextElement?Uc(e.contextElement):[],popper:Uc(t)};var u=function(e){var t=Xc(e);return xc.reduce((function(e,n){return e.concat(t.filter((function(e){return e.phase===n})))}),[])}(function(e){var t=e.reduce((function(e,t){var n=e[t.name];return e[t.name]=n?Object.assign({},n,t,{options:Object.assign({},n.options,t.options),data:Object.assign({},n.data,t.data)}):t,e}),{});return Object.keys(t).map((function(e){return t[e]}))}([].concat(r,i.options.modifiers)));return i.orderedModifiers=u.filter((function(e){return e.enabled})),i.orderedModifiers.forEach((function(e){var t=e.name,n=e.options,r=void 0===n?{}:n,o=e.effect;if("function"===typeof o){var a=o({state:i,name:t,instance:l,options:r}),c=function(){};s.push(a||c)}})),l.update()},forceUpdate:function(){if(!a){var e=i.elements,t=e.reference,n=e.popper;if(eu(t,n)){i.rects={reference:Jc(t,ic(n),"fixed"===i.options.strategy),popper:Jl(n)},i.reset=!1,i.placement=i.options.placement,i.orderedModifiers.forEach((function(e){return i.modifiersData[e.name]=Object.assign({},e.data)}));for(var r=0;r<i.orderedModifiers.length;r++)if(!0!==i.reset){var o=i.orderedModifiers[r],s=o.fn,c=o.options,u=void 0===c?{}:c,d=o.name;"function"===typeof s&&(i=s({state:i,options:u,name:d,instance:l})||i)}else i.reset=!1,r=-1}}},update:Zc((function(){return new Promise((function(e){l.forceUpdate(),e(i)}))})),destroy:function(){c(),a=!0}};if(!eu(e,t))return l;function c(){s.forEach((function(e){return e()})),s=[]}return l.setOptions(n).then((function(e){!a&&n.onFirstUpdate&&n.onFirstUpdate(e)})),l}}const nu=tu({defaultModifiers:[{name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:function(e){var t=e.state,n=e.name,r=t.rects.reference,i=t.rects.popper,o=t.modifiersData.preventOverflow,s=zc(t,{elementContext:"reference"}),a=zc(t,{altBoundary:!0}),l=Yc(s,r),c=Yc(a,i,o),u=Wc(l),d=Wc(c);t.modifiersData[n]={referenceClippingOffsets:l,popperEscapeOffsets:c,isReferenceHidden:u,hasPopperEscaped:d},t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-reference-hidden":u,"data-popper-escaped":d})}},{name:"popperOffsets",enabled:!0,phase:"read",fn:function(e){var t=e.state,n=e.name;t.modifiersData[n]=Hc({reference:t.rects.reference,element:t.rects.popper,strategy:"absolute",placement:t.placement})},data:{}},Tc,Oc,Kc,Gc,Qc,Sc]}),ru=["enabled","placement","strategy","modifiers"];const iu={name:"applyStyles",enabled:!1,phase:"afterWrite",fn:()=>{}},ou={name:"ariaDescribedBy",enabled:!0,phase:"afterWrite",effect:e=>{let{state:t}=e;return()=>{const{reference:e,popper:n}=t.elements;if("removeAttribute"in e){const t=(e.getAttribute("aria-describedby")||"").split(",").filter((e=>e.trim()!==n.id));t.length?e.setAttribute("aria-describedby",t.join(",")):e.removeAttribute("aria-describedby")}}},fn:e=>{let{state:t}=e;var n;const{popper:r,reference:i}=t.elements,o=null==(n=r.getAttribute("role"))?void 0:n.toLowerCase();if(r.id&&"tooltip"===o&&"setAttribute"in i){const e=i.getAttribute("aria-describedby");if(e&&-1!==e.split(",").indexOf(r.id))return;i.setAttribute("aria-describedby",e?"".concat(e,",").concat(r.id):r.id)}}},su=[];const au=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},{enabled:r=!0,placement:o="bottom",strategy:s="absolute",modifiers:a=su}=n,l=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(n,ru);const c=(0,i.useRef)(a),u=(0,i.useRef)(),d=(0,i.useCallback)((()=>{var e;null==(e=u.current)||e.update()}),[]),h=(0,i.useCallback)((()=>{var e;null==(e=u.current)||e.forceUpdate()}),[]),[f,p]=Bl((0,i.useState)({placement:o,update:d,forceUpdate:h,attributes:{},styles:{popper:{},arrow:{}}})),m=(0,i.useMemo)((()=>({name:"updateStateModifier",enabled:!0,phase:"write",requires:["computeStyles"],fn:e=>{let{state:t}=e;const n={},r={};Object.keys(t.elements).forEach((e=>{n[e]=t.styles[e],r[e]=t.attributes[e]})),p({state:t,styles:n,attributes:r,update:d,forceUpdate:h,placement:t.placement})}})),[d,h,p]),g=(0,i.useMemo)((()=>(Ml(c.current,a)||(c.current=a),c.current)),[a]);return(0,i.useEffect)((()=>{u.current&&r&&u.current.setOptions({placement:o,strategy:s,modifiers:[...g,m,iu]})}),[s,o,m,r,g]),(0,i.useEffect)((()=>{if(r&&null!=e&&null!=t)return u.current=nu(e,t,Object.assign({},l,{placement:o,strategy:s,modifiers:[...g,ou,m]})),()=>{null!=u.current&&(u.current.destroy(),u.current=void 0,p((e=>Object.assign({},e,{attributes:{},styles:{popper:{}}}))))}}),[r,e,t]),f};var lu=r(1534),cu=r.n(lu);const uu=()=>{};const du=e=>e&&("current"in e?e.current:e),hu={click:"mousedown",mouseup:"mousedown",pointerup:"pointerdown"};const fu=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:uu,{disabled:n,clickTrigger:r="click"}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const o=(0,i.useRef)(!1),s=(0,i.useRef)(!1),a=(0,i.useCallback)((t=>{const n=du(e);var r;cu()(!!n,"ClickOutside captured a close event but does not have a ref to compare it to. useClickOutside(), should be passed a ref that resolves to a DOM node"),o.current=!n||!!((r=t).metaKey||r.altKey||r.ctrlKey||r.shiftKey)||!function(e){return 0===e.button}(t)||!!$o(n,t.target)||s.current,s.current=!1}),[e]),l=Lo((t=>{const n=du(e);n&&$o(n,t.target)&&(s.current=!0)})),c=Lo((e=>{o.current||t(e)}));(0,i.useEffect)((()=>{var t,i;if(n||null==e)return;const o=oo(du(e)),s=o.defaultView||window;let u=null!=(t=s.event)?t:null==(i=s.parent)?void 0:i.event,d=null;hu[r]&&(d=bo(o,hu[r],l,!0));const h=bo(o,r,a,!0),f=bo(o,r,(e=>{e!==u?c(e):u=void 0}));let p=[];return"ontouchstart"in o.documentElement&&(p=[].slice.call(o.body.children).map((e=>bo(e,"mousemove",uu)))),()=>{null==d||d(),h(),f(),p.forEach((e=>e()))}}),[e,n,r,a,l,c])};function pu(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Array.isArray(e)?e:Object.keys(e).map((t=>(e[t].name=t,e[t])))}function mu(e){let{enabled:t,enableEvents:n,placement:r,flip:i,offset:o,fixed:s,containerPadding:a,arrowElement:l,popperConfig:c={}}=e;var u,d,h,f,p;const m=function(e){const t={};return Array.isArray(e)?(null==e||e.forEach((e=>{t[e.name]=e})),t):e||t}(c.modifiers);return Object.assign({},c,{placement:r,enabled:t,strategy:s?"fixed":c.strategy,modifiers:pu(Object.assign({},m,{eventListeners:{enabled:n,options:null==(u=m.eventListeners)?void 0:u.options},preventOverflow:Object.assign({},m.preventOverflow,{options:a?Object.assign({padding:a},null==(d=m.preventOverflow)?void 0:d.options):null==(h=m.preventOverflow)?void 0:h.options}),offset:{options:Object.assign({offset:o},null==(f=m.offset)?void 0:f.options)},arrow:Object.assign({},m.arrow,{enabled:!!l,options:Object.assign({},null==(p=m.arrow)?void 0:p.options,{element:l})}),flip:Object.assign({enabled:!!i},m.flip)}))})}const gu=["children"];const vu=()=>{};function yu(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const t=(0,i.useContext)(Pl),[n,r]=Xo(),o=(0,i.useRef)(!1),{flip:s,offset:a,rootCloseEvent:l,fixed:c=!1,placement:u,popperConfig:d={},enableEventListeners:h=!0,usePopper:f=!!t}=e,p=null==(null==t?void 0:t.show)?!!e.show:t.show;p&&!o.current&&(o.current=!0);const{placement:m,setMenu:g,menuElement:v,toggleElement:y}=t||{},b=au(y,v,mu({placement:u||m||"bottom-start",enabled:f,enableEvents:null==h?p:h,offset:a,flip:s,fixed:c,arrowElement:n,popperConfig:d})),w=Object.assign({ref:g||vu,"aria-labelledby":null==y?void 0:y.id},b.attributes.popper,{style:b.styles.popper}),A={show:p,placement:m,hasShown:o.current,toggle:null==t?void 0:t.toggle,popper:f?b:null,arrowProps:f?Object.assign({ref:r},b.attributes.arrow,{style:b.styles.arrow}):{}};return fu(v,(e=>{null==t||t.toggle(!1,e)}),{clickTrigger:l,disabled:!p}),[w,A]}function bu(e){let{children:t}=e,n=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,gu);const[r,i]=yu(n);return(0,Nr.jsx)(Nr.Fragment,{children:t(r,i)})}bu.displayName="DropdownMenu",bu.defaultProps={usePopper:!0};const wu=bu,Au={prefix:String(Math.round(1e10*Math.random())),current:0},_u=i.createContext(Au),xu=i.createContext(!1);let Su=Boolean("undefined"!==typeof window&&window.document&&window.document.createElement),ku=new WeakMap;function Eu(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=(0,i.useContext)(_u),n=(0,i.useRef)(null);if(null===n.current&&!e){var r,o;let e=null===(o=i.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED)||void 0===o||null===(r=o.ReactCurrentOwner)||void 0===r?void 0:r.current;if(e){let n=ku.get(e);null==n?ku.set(e,{id:t.current,state:e.memoizedState}):e.memoizedState!==n.state&&(t.current=n.id,ku.delete(e))}n.current=++t.current}return n.current}const Cu="function"===typeof i.useId?function(e){let t=i.useId(),[n]=(0,i.useState)("function"===typeof i.useSyncExternalStore?i.useSyncExternalStore(Ou,Tu,Nu):(0,i.useContext)(xu)),r=n?"react-aria":"react-aria".concat(Au.prefix);return e||"".concat(r,"-").concat(t)}:function(e){let t=(0,i.useContext)(_u);t!==Au||Su||console.warn("When server rendering, you must wrap your application in an <SSRProvider> to ensure consistent ids are generated between the client and server.");let n=Eu(!!e),r="react-aria".concat(t.prefix);return e||"".concat(r,"-").concat(n)};function Tu(){return!1}function Nu(){return!0}function Ou(e){return()=>{}}const Iu=e=>{var t;return"menu"===(null==(t=e.getAttribute("role"))?void 0:t.toLowerCase())},Du=()=>{};function ju(){const e=Cu(),{show:t=!1,toggle:n=Du,setToggle:r,menuElement:o}=(0,i.useContext)(Pl)||{},s=(0,i.useCallback)((e=>{n(!t,e)}),[t,n]),a={id:e,ref:r||Du,onClick:s,"aria-expanded":!!t};return o&&Iu(o)&&(a["aria-haspopup"]=!0),[a,{show:t,toggle:n}]}function Pu(e){let{children:t}=e;const[n,r]=ju();return(0,Nr.jsx)(Nr.Fragment,{children:t(n,r)})}Pu.displayName="DropdownToggle";const Ru=Pu,Lu=["eventKey","disabled","onClick","active","as"];function Mu(e){let{key:t,href:n,active:r,disabled:o,onClick:s}=e;const a=(0,i.useContext)(ya),l=(0,i.useContext)(fl),{activeKey:c}=l||{},u=va(t,n),d=null==r&&null!=t?va(c)===u:r;return[{onClick:Lo((e=>{o||(null==s||s(e),a&&!e.isPropagationStopped()&&a(u,e))})),"aria-disabled":o||void 0,"aria-selected":d,[ns("dropdown-item")]:""},{isActive:d}]}const Bu=i.forwardRef(((e,t)=>{let{eventKey:n,disabled:r,onClick:i,active:o,as:s=zr}=e,a=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,Lu);const[l]=Mu({key:n,href:a.href,disabled:r,onClick:i,active:o});return(0,Nr.jsx)(s,Object.assign({},a,{ref:t},l))}));Bu.displayName="DropdownItem";const Uu=Bu;function Fu(){const e=dl(),t=(0,i.useRef)(null),n=(0,i.useCallback)((n=>{t.current=n,e()}),[e]);return[t,n]}function Vu(e){let{defaultShow:t,show:n,onSelect:r,onToggle:o,itemSelector:s="* [".concat(ns("dropdown-item"),"]"),focusFirstItemOnShow:a,placement:l="bottom-start",children:c}=e;const u=ss(),[d,h]=jl(n,t,o),[f,p]=Fu(),m=f.current,[g,v]=Fu(),y=g.current,b=es(d),w=(0,i.useRef)(null),A=(0,i.useRef)(!1),_=(0,i.useContext)(ya),x=(0,i.useCallback)((function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null==t?void 0:t.type;h(e,{originalEvent:t,source:n})}),[h]),S=Lo(((e,t)=>{null==r||r(e,t),x(!1,t,"select"),t.isPropagationStopped()||null==_||_(e,t)})),k=(0,i.useMemo)((()=>({toggle:x,placement:l,show:d,menuElement:m,toggleElement:y,setMenu:p,setToggle:v})),[x,l,d,m,y,p,v]);m&&b&&!d&&(A.current=m.contains(m.ownerDocument.activeElement));const E=Lo((()=>{y&&y.focus&&y.focus()})),C=Lo((()=>{const e=w.current;let t=a;if(null==t&&(t=!(!f.current||!Iu(f.current))&&"keyboard"),!1===t||"keyboard"===t&&!/^key.+$/.test(e))return;const n=Ss(f.current,s)[0];n&&n.focus&&n.focus()}));(0,i.useEffect)((()=>{d?C():A.current&&(A.current=!1,E())}),[d,A,E,C]),(0,i.useEffect)((()=>{w.current=null}));const T=(e,t)=>{if(!f.current)return null;const n=Ss(f.current,s);let r=n.indexOf(e)+t;return r=Math.max(0,Math.min(r,n.length)),n[r]};return function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const o=Lo(n);(0,i.useEffect)((()=>{const n="function"===typeof e?e():e;return n.addEventListener(t,o,r),()=>n.removeEventListener(t,o,r)}),[e])}((0,i.useCallback)((()=>u.document),[u]),"keydown",(e=>{var t,n;const{key:r}=e,i=e.target,o=null==(t=f.current)?void 0:t.contains(i),s=null==(n=g.current)?void 0:n.contains(i);if(/input|textarea/i.test(i.tagName)&&(" "===r||"Escape"!==r&&o||"Escape"===r&&"search"===i.type))return;if(!o&&!s)return;if("Tab"===r&&(!f.current||!d))return;w.current=e.type;const a={originalEvent:e,source:e.type};switch(r){case"ArrowUp":{const t=T(i,-1);return t&&t.focus&&t.focus(),void e.preventDefault()}case"ArrowDown":if(e.preventDefault(),d){const e=T(i,1);e&&e.focus&&e.focus()}else h(!0,a);return;case"Tab":vo(i.ownerDocument,"keyup",(e=>{var t;("Tab"!==e.key||e.target)&&null!=(t=f.current)&&t.contains(e.target)||h(!1,a)}),{once:!0});break;case"Escape":"Escape"===r&&(e.preventDefault(),e.stopPropagation()),h(!1,a)}})),(0,Nr.jsx)(ya.Provider,{value:S,children:(0,Nr.jsx)(Pl.Provider,{value:k,children:c})})}Vu.displayName="Dropdown",Vu.Menu=wu,Vu.Toggle=Ru,Vu.Item=Uu;const qu=Vu,Hu=i.createContext({});Hu.displayName="DropdownContext";const zu=Hu,Gu=i.forwardRef(((e,t)=>{let{className:n,bsPrefix:r,as:i="hr",role:o="separator",...s}=e;return r=Rr(r,"dropdown-divider"),(0,Nr.jsx)(i,{ref:t,className:Tr()(n,r),role:o,...s})}));Gu.displayName="DropdownDivider";const Yu=Gu,Wu=i.forwardRef(((e,t)=>{let{className:n,bsPrefix:r,as:i="div",role:o="heading",...s}=e;return r=Rr(r,"dropdown-header"),(0,Nr.jsx)(i,{ref:t,className:Tr()(n,r),role:o,...s})}));Wu.displayName="DropdownHeader";const Ku=Wu,Qu=i.forwardRef(((e,t)=>{let{bsPrefix:n,className:r,eventKey:i,disabled:o=!1,onClick:s,active:a,as:l=Tl,...c}=e;const u=Rr(n,"dropdown-item"),[d,h]=Mu({key:i,href:c.href,disabled:o,onClick:s,active:a});return(0,Nr.jsx)(l,{...c,...d,ref:t,className:Tr()(r,u,h.isActive&&"active",o&&"disabled")})}));Qu.displayName="DropdownItem";const Ju=Qu,Xu=i.forwardRef(((e,t)=>{let{className:n,bsPrefix:r,as:i="span",...o}=e;return r=Rr(r,"dropdown-item-text"),(0,Nr.jsx)(i,{ref:t,className:Tr()(n,r),...o})}));Xu.displayName="DropdownItemText";const Zu=Xu,$u=i.createContext(null);$u.displayName="InputGroupContext";const ed=$u;function td(e,t){return e}function nd(e,t,n){let r=e?n?"bottom-start":"bottom-end":n?"bottom-end":"bottom-start";return"up"===t?r=e?n?"top-start":"top-end":n?"top-end":"top-start":"end"===t?r=e?n?"left-end":"right-end":n?"left-start":"right-start":"start"===t?r=e?n?"right-end":"left-end":n?"right-start":"left-start":"down-centered"===t?r="bottom":"up-centered"===t&&(r="top"),r}const rd=i.forwardRef(((e,t)=>{let{bsPrefix:n,className:r,align:o,rootCloseEvent:s,flip:a=!0,show:l,renderOnMount:c,as:u="div",popperConfig:d,variant:h,...f}=e,p=!1;const m=(0,i.useContext)(Ra),g=Rr(n,"dropdown-menu"),{align:v,drop:y,isRTL:b}=(0,i.useContext)(zu);o=o||v;const w=(0,i.useContext)(ed),A=[];if(o)if("object"===typeof o){const e=Object.keys(o);if(e.length){const t=e[0],n=o[t];p="start"===n,A.push("".concat(g,"-").concat(t,"-").concat(n))}}else"end"===o&&(p=!0);const _=nd(p,y,b),[x,{hasShown:S,popper:k,show:E,toggle:C}]=yu({flip:a,rootCloseEvent:s,show:l,usePopper:!m&&0===A.length,offset:[0,2],popperConfig:d,placement:_});if(x.ref=Eo(td(t),x.ref),cs((()=>{E&&(null==k||k.update())}),[E]),!S&&!c&&!w)return null;"string"!==typeof u&&(x.show=E,x.close=()=>null==C?void 0:C(!1),x.align=o);let T=f.style;return null!=k&&k.placement&&(T={...f.style,...x.style},f["x-placement"]=k.placement),(0,Nr.jsx)(u,{...f,...x,style:T,...(A.length||m)&&{"data-bs-popper":"static"},className:Tr()(r,g,E&&"show",p&&"".concat(g,"-end"),h&&"".concat(g,"-").concat(h),...A)})}));rd.displayName="DropdownMenu";const id=rd,od=i.forwardRef(((e,t)=>{let{bsPrefix:n,split:r,className:o,childBsPrefix:s,as:a=Yr,...l}=e;const c=Rr(n,"dropdown-toggle"),u=(0,i.useContext)(Pl);void 0!==s&&(l.bsPrefix=s);const[d]=ju();return d.ref=Eo(d.ref,td(t)),(0,Nr.jsx)(a,{className:Tr()(o,c,r&&"".concat(c,"-split"),(null==u?void 0:u.show)&&"show"),...d,...l})}));od.displayName="DropdownToggle";const sd=od,ad=i.forwardRef(((e,t)=>{const{bsPrefix:n,drop:r="down",show:o,className:s,align:a="start",onSelect:l,onToggle:c,focusFirstItemOnShow:u,as:d="div",navbar:h,autoClose:f=!0,...p}=_a(e,{show:"onToggle"}),m=(0,i.useContext)(ed),g=Rr(n,"dropdown"),v=Br(),y=Lo(((e,t)=>{var n,r;var i;(null==(n=t.originalEvent)||null==(r=n.target)?void 0:r.classList.contains("dropdown-toggle"))&&"mousedown"===t.source||(t.originalEvent.currentTarget!==document||"keydown"===t.source&&"Escape"!==t.originalEvent.key||(t.source="rootClose"),i=t.source,(!1===f?"click"===i:"inside"===f?"rootClose"!==i:"outside"!==f||"select"!==i)&&(null==c||c(e,t)))})),b=nd("end"===a,r,v),w=(0,i.useMemo)((()=>({align:a,drop:r,isRTL:v})),[a,r,v]),A={down:g,"down-centered":"".concat(g,"-center"),up:"dropup","up-centered":"dropup-center dropup",end:"dropend",start:"dropstart"};return(0,Nr.jsx)(zu.Provider,{value:w,children:(0,Nr.jsx)(qu,{placement:b,show:o,onSelect:l,onToggle:y,focusFirstItemOnShow:u,itemSelector:".".concat(g,"-item:not(.disabled):not(:disabled)"),children:m?p.children:(0,Nr.jsx)(d,{...p,ref:t,className:Tr()(s,o&&"show",A[r])})})})}));ad.displayName="Dropdown";const ld=Object.assign(ad,{Toggle:sd,Menu:id,Item:Ju,ItemText:Zu,Divider:Yu,Header:Ku}),cd=i.forwardRef(((e,t)=>{let{id:n,title:r,children:i,bsPrefix:o,className:s,rootCloseEvent:a,menuRole:l,disabled:c,active:u,renderMenuOnMount:d,menuVariant:h,...f}=e;const p=Rr(void 0,"nav-item");return(0,Nr.jsxs)(ld,{ref:t,...f,className:Tr()(s,p),children:[(0,Nr.jsx)(ld.Toggle,{id:n,eventKey:null,active:u,disabled:c,childBsPrefix:o,as:Ol,children:r}),(0,Nr.jsx)(ld.Menu,{role:l,renderOnMount:d,rootCloseEvent:a,variant:h,children:i})]})}));cd.displayName="NavDropdown";const ud=Object.assign(cd,{Item:ld.Item,ItemText:ld.ItemText,Divider:ld.Divider,Header:ld.Header});var dd=function(e){const t=new Error(e);if(void 0===t.stack)try{throw t}catch(n){}return t};var hd=function(e){return!!e&&"function"===typeof e.then};var fd=function(e,t){if(null!=e)return e;throw dd(null!==t&&void 0!==t?t:"Got unexpected null or undefined")};function pd(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class md{getValue(){throw dd("BaseLoadable")}toPromise(){throw dd("BaseLoadable")}valueMaybe(){throw dd("BaseLoadable")}valueOrThrow(){throw dd('Loadable expected value, but in "'.concat(this.state,'" state'))}promiseMaybe(){throw dd("BaseLoadable")}promiseOrThrow(){throw dd('Loadable expected promise, but in "'.concat(this.state,'" state'))}errorMaybe(){throw dd("BaseLoadable")}errorOrThrow(){throw dd('Loadable expected error, but in "'.concat(this.state,'" state'))}is(e){return e.state===this.state&&e.contents===this.contents}map(e){throw dd("BaseLoadable")}}class gd extends md{constructor(e){super(),pd(this,"state","hasValue"),pd(this,"contents",void 0),this.contents=e}getValue(){return this.contents}toPromise(){return Promise.resolve(this.contents)}valueMaybe(){return this.contents}valueOrThrow(){return this.contents}promiseMaybe(){}errorMaybe(){}map(e){try{const t=e(this.contents);return hd(t)?Ad(t):Sd(t)?t:bd(t)}catch(IU){return hd(IU)?Ad(IU.next((()=>this.map(e)))):wd(IU)}}}class vd extends md{constructor(e){super(),pd(this,"state","hasError"),pd(this,"contents",void 0),this.contents=e}getValue(){throw this.contents}toPromise(){return Promise.reject(this.contents)}valueMaybe(){}promiseMaybe(){}errorMaybe(){return this.contents}errorOrThrow(){return this.contents}map(e){return this}}class yd extends md{constructor(e){super(),pd(this,"state","loading"),pd(this,"contents",void 0),this.contents=e}getValue(){throw this.contents}toPromise(){return this.contents}valueMaybe(){}promiseMaybe(){return this.contents}promiseOrThrow(){return this.contents}errorMaybe(){}map(e){return Ad(this.contents.then((t=>{const n=e(t);if(Sd(n)){const e=n;switch(e.state){case"hasValue":case"loading":return e.contents;case"hasError":throw e.contents}}return n})).catch((t=>{if(hd(t))return t.then((()=>this.map(e).contents));throw t})))}}function bd(e){return Object.freeze(new gd(e))}function wd(e){return Object.freeze(new vd(e))}function Ad(e){return Object.freeze(new yd(e))}function _d(){return Object.freeze(new yd(new Promise((()=>{}))))}function xd(e){const t=(Array.isArray(e)?e:Object.getOwnPropertyNames(e).map((t=>e[t]))).map((e=>Sd(e)?e:hd(e)?Ad(e):bd(e))),n=function(e){return e.every((e=>"hasValue"===e.state))?bd(e.map((e=>e.contents))):e.some((e=>"hasError"===e.state))?wd(fd(e.find((e=>"hasError"===e.state)),"Invalid loadable passed to loadableAll").contents):Ad(Promise.all(e.map((e=>e.contents))))}(t);return Array.isArray(e)?n:n.map((t=>Object.getOwnPropertyNames(e).reduce(((e,n,r)=>({...e,[n]:t[r]})),{})))}function Sd(e){return e instanceof md}const kd={of:e=>hd(e)?Ad(e):Sd(e)?e:bd(e),error:e=>wd(e),loading:()=>_d(),all:xd,isLoadable:Sd};var Ed={loadableWithValue:bd,loadableWithError:wd,loadableWithPromise:Ad,loadableLoading:_d,loadableAll:xd,isLoadable:Sd,RecoilLoadable:kd},Cd=Ed.loadableWithValue,Td=Ed.loadableWithError,Nd=Ed.loadableWithPromise,Od=Ed.loadableLoading,Id=Ed.loadableAll,Dd=Ed.isLoadable,jd=Ed.RecoilLoadable,Pd=Object.freeze({__proto__:null,loadableWithValue:Cd,loadableWithError:Td,loadableWithPromise:Nd,loadableLoading:Od,loadableAll:Id,isLoadable:Dd,RecoilLoadable:jd});const Rd={RECOIL_DUPLICATE_ATOM_KEY_CHECKING_ENABLED:!0,RECOIL_GKS_ENABLED:new Set(["recoil_hamt_2020","recoil_sync_external_store","recoil_suppress_rerender_in_callback","recoil_memory_managament_2020"])};!function(){var e;"undefined"!==typeof process&&null!=(null===(e=process)||void 0===e?void 0:{NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_API_URL:"https://jaktharry-app-130a026cb2e4.herokuapp.com"})&&(function(e,t){var n,r;const i=null===(n={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_API_URL:"https://jaktharry-app-130a026cb2e4.herokuapp.com"}[e])||void 0===n||null===(r=n.toLowerCase())||void 0===r?void 0:r.trim();if(null==i||""===i)return;if(!["true","false"].includes(i))throw dd("process.env.".concat(e," value must be 'true', 'false', or empty: ").concat(i));t("true"===i)}("RECOIL_DUPLICATE_ATOM_KEY_CHECKING_ENABLED",(e=>{Rd.RECOIL_DUPLICATE_ATOM_KEY_CHECKING_ENABLED=e})),function(e,t){var n;const r=null===(n={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_API_URL:"https://jaktharry-app-130a026cb2e4.herokuapp.com"}[e])||void 0===n?void 0:n.trim();null!=r&&""!==r&&t(r.split(/\s*,\s*|\s+/))}("RECOIL_GKS_ENABLED",(e=>{e.forEach((e=>{Rd.RECOIL_GKS_ENABLED.add(e)}))})))}();var Ld=Rd;function Md(e){return Ld.RECOIL_GKS_ENABLED.has(e)}Md.setPass=e=>{Ld.RECOIL_GKS_ENABLED.add(e)},Md.setFail=e=>{Ld.RECOIL_GKS_ENABLED.delete(e)},Md.clear=()=>{Ld.RECOIL_GKS_ENABLED.clear()};var Bd=Md;var Ud,Fd,Vd,qd=function(e,t){let{error:n}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return null};const Hd=null!==(Ud=i.createMutableSource)&&void 0!==Ud?Ud:i.unstable_createMutableSource,zd=null!==(Fd=i.useMutableSource)&&void 0!==Fd?Fd:i.unstable_useMutableSource,Gd=null!==(Vd=i.useSyncExternalStore)&&void 0!==Vd?Vd:i.unstable_useSyncExternalStore;let Yd=!1;var Wd={createMutableSource:Hd,useMutableSource:zd,useSyncExternalStore:Gd,currentRendererSupportsUseSyncExternalStore:function(){var e;const{ReactCurrentDispatcher:t,ReactCurrentOwner:n}=i.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,r=null!=(null!==(e=null===t||void 0===t?void 0:t.current)&&void 0!==e?e:n.currentDispatcher).useSyncExternalStore;return!Gd||r||Yd||(Yd=!0,qd("A React renderer without React 18+ API support is being used with React 18+.")),r},reactMode:function(){return Bd("recoil_transition_support")?{mode:"TRANSITION_SUPPORT",early:!0,concurrent:!0}:Bd("recoil_sync_external_store")&&null!=Gd?{mode:"SYNC_EXTERNAL_STORE",early:!0,concurrent:!1}:Bd("recoil_mutable_source")&&null!=zd&&"undefined"!==typeof window&&!window.$disableRecoilValueMutableSource_TEMP_HACK_DO_NOT_USE?Bd("recoil_suppress_rerender_in_callback")?{mode:"MUTABLE_SOURCE",early:!0,concurrent:!0}:{mode:"MUTABLE_SOURCE",early:!1,concurrent:!1}:Bd("recoil_suppress_rerender_in_callback")?{mode:"LEGACY",early:!0,concurrent:!1}:{mode:"LEGACY",early:!1,concurrent:!1}},isFastRefreshEnabled:function(){return!1}};class Kd{constructor(e){pd(this,"key",void 0),this.key=e}toJSON(){return{key:this.key}}}class Qd extends Kd{}class Jd extends Kd{}var Xd={AbstractRecoilValue:Kd,RecoilState:Qd,RecoilValueReadOnly:Jd,isRecoilValue:function(e){return e instanceof Qd||e instanceof Jd}},Zd=Xd.AbstractRecoilValue,$d=Xd.RecoilState,eh=Xd.RecoilValueReadOnly,th=Xd.isRecoilValue,nh=Object.freeze({__proto__:null,AbstractRecoilValue:Zd,RecoilState:$d,RecoilValueReadOnly:eh,isRecoilValue:th});var rh=function(e){};var ih=function(e,t){return function*(){let n=0;for(const r of e)yield t(r,n++)}()};const{isFastRefreshEnabled:oh}=Wd;class sh{}const ah=new sh,lh=new Map,ch=new Map;class uh extends Error{}const dh=new Map;function hh(e){return dh.get(e)}var fh={nodes:lh,recoilValues:ch,registerNode:function(e){Ld.RECOIL_DUPLICATE_ATOM_KEY_CHECKING_ENABLED&&function(e){if(lh.has(e)){const t='Duplicate atom key "'.concat(e,'". This is a FATAL ERROR in\n      production. But it is safe to ignore this warning if it occurred because of\n      hot module replacement.');console.warn(t)}}(e.key),lh.set(e.key,e);const t=null==e.set?new nh.RecoilValueReadOnly(e.key):new nh.RecoilState(e.key);return ch.set(e.key,t),t},getNode:function(e){const t=lh.get(e);if(null==t)throw new uh('Missing definition for RecoilValue: "'.concat(e,'""'));return t},getNodeMaybe:function(e){return lh.get(e)},deleteNodeConfigIfPossible:function(e){var t;if(!Bd("recoil_memory_managament_2020"))return;const n=lh.get(e);var r;null!==n&&void 0!==n&&null!==(t=n.shouldDeleteConfigOnRelease)&&void 0!==t&&t.call(n)&&(lh.delete(e),null===(r=hh(e))||void 0===r||r(),dh.delete(e))},setConfigDeletionHandler:function(e,t){Bd("recoil_memory_managament_2020")&&(void 0===t?dh.delete(e):dh.set(e,t))},getConfigDeletionHandler:hh,recoilValuesForKeys:function(e){return ih(e,(e=>fd(ch.get(e))))},NodeMissingError:uh,DefaultValue:sh,DEFAULT_VALUE:ah};var ph={enqueueExecution:function(e,t){t()}};var mh,gh,vh=(mh=function(e){var t="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n={},r=Math.pow(2,5),i=r-1,o=r/2,s=r/4,a={},l=function(e){return function(){return e}},c=n.hash=function(e){var n="undefined"===typeof e?"undefined":t(e);if("number"===n)return e;"string"!==n&&(e+="");for(var r=0,i=0,o=e.length;i<o;++i)r=(r<<5)-r+e.charCodeAt(i)|0;return r},u=function(e,t){return t>>>e&i},d=function(e){return 1<<e},h=function(e,t){return function(e){return e=(e=(858993459&(e-=e>>1&1431655765))+(e>>2&858993459))+(e>>4)&252645135,127&(e+=e>>8)+(e>>16)}(e&t-1)},f=function(e,t,n,r){var i=r;if(!e){var o=r.length;i=new Array(o);for(var s=0;s<o;++s)i[s]=r[s]}return i[t]=n,i},p=function(e,t,n){var r=n.length-1,i=0,o=0,s=n;if(e)i=o=t;else for(s=new Array(r);i<t;)s[o++]=n[i++];for(++i;i<=r;)s[o++]=n[i++];return e&&(s.length=r),s},m={__hamt_isEmpty:!0},g=function(e){return e===m||e&&e.__hamt_isEmpty},v=function(e,t,n,r){return{type:1,edit:e,hash:t,key:n,value:r,_modify:x}},y=function(e,t,n){return{type:2,edit:e,hash:t,children:n,_modify:S}},b=function(e,t,n){return{type:3,edit:e,mask:t,children:n,_modify:k}},w=function(e,t,n){return{type:4,edit:e,size:t,children:n,_modify:E}},A=function e(t,n,r,i,o,s){if(r===o)return y(t,r,[s,i]);var a=u(n,r),l=u(n,o);return b(t,d(a)|d(l),a===l?[e(t,n+5,r,i,o,s)]:a<l?[i,s]:[s,i])},_=function(e,t){return e===t.edit},x=function(e,t,n,r,i,o,s){if(t(o,this.key)){var l=r(this.value);return l===this.value?this:l===a?(--s.value,m):_(e,this)?(this.value=l,this):v(e,i,o,l)}var c=r();return c===a?this:(++s.value,A(e,n,this.hash,this,i,v(e,i,o,c)))},S=function(e,t,n,r,i,o,s){if(i===this.hash){var l=function(e,t,n,r,i,o,s,l){for(var c=i.length,u=0;u<c;++u){var d=i[u];if(n(s,d.key)){var h=d.value,m=o(h);return m===h?i:m===a?(--l.value,p(e,u,i)):f(e,u,v(t,r,s,m),i)}}var g=o();return g===a?i:(++l.value,f(e,c,v(t,r,s,g),i))}(_(e,this),e,t,this.hash,this.children,r,o,s);return l===this.children?this:l.length>1?y(e,this.hash,l):l[0]}var c=r();return c===a?this:(++s.value,A(e,n,this.hash,this,i,v(e,i,o,c)))},k=function(e,t,n,r,i,s,a){var l=this.mask,c=this.children,v=u(n,i),y=d(v),A=h(l,y),x=l&y,S=x?c[A]:m,k=S._modify(e,t,n+5,r,i,s,a);if(S===k)return this;var E,C=_(e,this),T=l,N=void 0;if(x&&g(k)){if(!(T&=~y))return m;if(c.length<=2&&((E=c[1^A])===m||1===E.type||2===E.type))return c[1^A];N=p(C,A,c)}else if(x||g(k))N=f(C,A,k,c);else{if(c.length>=o)return function(e,t,n,r,i){for(var o=[],s=r,a=0,l=0;s;++l)1&s&&(o[l]=i[a++]),s>>>=1;return o[t]=n,w(e,a+1,o)}(e,v,k,l,c);T|=y,N=function(e,t,n,r){var i=r.length;if(e){for(var o=i;o>=t;)r[o--]=r[o];return r[t]=n,r}for(var s=0,a=0,l=new Array(i+1);s<t;)l[a++]=r[s++];for(l[t]=n;s<i;)l[++a]=r[s++];return l}(C,A,k,c)}return C?(this.mask=T,this.children=N,this):b(e,T,N)},E=function(e,t,n,r,i,o,a){var l=this.size,c=this.children,d=u(n,i),h=c[d],p=(h||m)._modify(e,t,n+5,r,i,o,a);if(h===p)return this;var v=_(e,this),y=void 0;if(g(h)&&!g(p))++l,y=f(v,d,p,c);else if(!g(h)&&g(p)){if(--l<=s)return function(e,t,n,r){for(var i=new Array(t-1),o=0,s=0,a=0,l=r.length;a<l;++a)if(a!==n){var c=r[a];c&&!g(c)&&(i[o++]=c,s|=1<<a)}return b(e,s,i)}(e,l,d,c);y=f(v,d,m,c)}else y=f(v,d,p,c);return v?(this.size=l,this.children=y,this):w(e,l,y)};function C(e,t,n,r,i){this._editable=e,this._edit=t,this._config=n,this._root=r,this._size=i}m._modify=function(e,t,n,r,i,o,s){var l=r();return l===a?m:(++s.value,v(e,i,o,l))},C.prototype.setTree=function(e,t){return this._editable?(this._root=e,this._size=t,this):e===this._root?this:new C(this._editable,this._edit,this._config,e,t)};var T=n.tryGetHash=function(e,t,n,r){for(var i=r._root,o=0,s=r._config.keyEq;;)switch(i.type){case 1:return s(n,i.key)?i.value:e;case 2:if(t===i.hash)for(var a=i.children,l=0,c=a.length;l<c;++l){var f=a[l];if(s(n,f.key))return f.value}return e;case 3:var p=u(o,t),m=d(p);if(i.mask&m){i=i.children[h(i.mask,m)],o+=5;break}return e;case 4:if(i=i.children[u(o,t)]){o+=5;break}return e;default:return e}};C.prototype.tryGetHash=function(e,t,n){return T(e,t,n,this)};var N=n.tryGet=function(e,t,n){return T(e,n._config.hash(t),t,n)};C.prototype.tryGet=function(e,t){return N(e,t,this)};var O=n.getHash=function(e,t,n){return T(void 0,e,t,n)};C.prototype.getHash=function(e,t){return O(e,t,this)},n.get=function(e,t){return T(void 0,t._config.hash(e),e,t)},C.prototype.get=function(e,t){return N(t,e,this)};var I=n.has=function(e,t,n){return T(a,e,t,n)!==a};C.prototype.hasHash=function(e,t){return I(e,t,this)};var D=n.has=function(e,t){return I(t._config.hash(e),e,t)};C.prototype.has=function(e){return D(e,this)};var j=function(e,t){return e===t};n.make=function(e){return new C(0,0,{keyEq:e&&e.keyEq||j,hash:e&&e.hash||c},m,0)},n.empty=n.make();var P=n.isEmpty=function(e){return e&&!!g(e._root)};C.prototype.isEmpty=function(){return P(this)};var R=n.modifyHash=function(e,t,n,r){var i={value:r._size},o=r._root._modify(r._editable?r._edit:NaN,r._config.keyEq,0,e,t,n,i);return r.setTree(o,i.value)};C.prototype.modifyHash=function(e,t,n){return R(n,e,t,this)};var L=n.modify=function(e,t,n){return R(e,n._config.hash(t),t,n)};C.prototype.modify=function(e,t){return L(t,e,this)};var M=n.setHash=function(e,t,n,r){return R(l(n),e,t,r)};C.prototype.setHash=function(e,t,n){return M(e,t,n,this)};var B=n.set=function(e,t,n){return M(n._config.hash(e),e,t,n)};C.prototype.set=function(e,t){return B(e,t,this)};var U=l(a),F=n.removeHash=function(e,t,n){return R(U,e,t,n)};C.prototype.removeHash=C.prototype.deleteHash=function(e,t){return F(e,t,this)};var V=n.remove=function(e,t){return F(t._config.hash(e),e,t)};C.prototype.remove=C.prototype.delete=function(e){return V(e,this)};var q=n.beginMutation=function(e){return new C(e._editable+1,e._edit+1,e._config,e._root,e._size)};C.prototype.beginMutation=function(){return q(this)};var H=n.endMutation=function(e){return e._editable=e._editable&&e._editable-1,e};C.prototype.endMutation=function(){return H(this)};var z=n.mutate=function(e,t){var n=q(t);return e(n),H(n)};C.prototype.mutate=function(e){return z(e,this)};var G=function(e){return e&&Y(e[0],e[1],e[2],e[3],e[4])},Y=function(e,t,n,r,i){for(;n<e;){var o=t[n++];if(o&&!g(o))return W(o,r,[e,t,n,r,i])}return G(i)},W=function(e,t,n){switch(e.type){case 1:return{value:t(e),rest:n};case 2:case 4:case 3:var r=e.children;return Y(r.length,r,0,t,n);default:return G(n)}},K={done:!0};function Q(e){this.v=e}Q.prototype.next=function(){if(!this.v)return K;var e=this.v;return this.v=G(e.rest),e},Q.prototype[Symbol.iterator]=function(){return this};var J=function(e,t){return new Q(W(e._root,t))},X=function(e){return[e.key,e.value]},Z=n.entries=function(e){return J(e,X)};C.prototype.entries=C.prototype[Symbol.iterator]=function(){return Z(this)};var $=function(e){return e.key},ee=n.keys=function(e){return J(e,$)};C.prototype.keys=function(){return ee(this)};var te=function(e){return e.value},ne=n.values=C.prototype.values=function(e){return J(e,te)};C.prototype.values=function(){return ne(this)};var re=n.fold=function(e,t,n){var r=n._root;if(1===r.type)return e(t,r.value,r.key);for(var i=[r.children],o=void 0;o=i.pop();)for(var s=0,a=o.length;s<a;){var l=o[s++];l&&l.type&&(1===l.type?t=e(t,l.value,l.key):i.push(l.children))}return t};C.prototype.fold=function(e,t){return re(e,t,this)};var ie=n.forEach=function(e,t){return re((function(n,r,i){return e(r,i,t)}),null,t)};C.prototype.forEach=function(e){return ie(e,this)};var oe=n.count=function(e){return e._size};C.prototype.count=function(){return oe(this)},Object.defineProperty(C.prototype,"size",{get:C.prototype.count}),e.exports?e.exports=n:(void 0).hamt=n},mh(gh={exports:{}},gh.exports),gh.exports);class yh{constructor(e){pd(this,"_map",void 0),this._map=new Map(null===e||void 0===e?void 0:e.entries())}keys(){return this._map.keys()}entries(){return this._map.entries()}get(e){return this._map.get(e)}has(e){return this._map.has(e)}set(e,t){return this._map.set(e,t),this}delete(e){return this._map.delete(e),this}clone(){return wh(this)}toMap(){return new Map(this._map)}}class bh{constructor(e){if(pd(this,"_hamt",vh.empty.beginMutation()),e instanceof bh){const t=e._hamt.endMutation();e._hamt=t.beginMutation(),this._hamt=t.beginMutation()}else if(e)for(const[t,n]of e.entries())this._hamt.set(t,n)}keys(){return this._hamt.keys()}entries(){return this._hamt.entries()}get(e){return this._hamt.get(e)}has(e){return this._hamt.has(e)}set(e,t){return this._hamt.set(e,t),this}delete(e){return this._hamt.delete(e),this}clone(){return wh(this)}toMap(){return new Map(this._hamt)}}function wh(e){return Bd("recoil_hamt_2020")?new bh(e):new yh(e)}var Ah=wh,_h=Object.freeze({__proto__:null,persistentMap:Ah});var xh=function(e){const t=new Set;for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];e:for(const o of e){for(const e of r)if(e.has(o))continue e;t.add(o)}return t};var Sh=function(e,t){const n=new Map;return e.forEach(((e,r)=>{n.set(r,t(e,r))})),n};function kh(e,t,n,r){const{nodeDeps:i,nodeToNodeSubscriptions:o}=n,s=i.get(e);if(s&&r&&s!==r.nodeDeps.get(e))return;i.set(e,t);const a=null==s?t:xh(t,s);for(const l of a){o.has(l)||o.set(l,new Set);fd(o.get(l)).add(e)}if(s){const n=xh(s,t);for(const t of n){if(!o.has(t))return;const n=fd(o.get(t));n.delete(e),0===n.size&&o.delete(t)}}}var Eh={cloneGraph:function(e){return{nodeDeps:Sh(e.nodeDeps,(e=>new Set(e))),nodeToNodeSubscriptions:Sh(e.nodeToNodeSubscriptions,(e=>new Set(e)))}},graph:function(){return{nodeDeps:new Map,nodeToNodeSubscriptions:new Map}},saveDepsToStore:function(e,t,n,r){var i,o,s,a;const l=n.getState();r!==l.currentTree.version&&r!==(null===(i=l.nextTree)||void 0===i?void 0:i.version)&&r!==(null===(o=l.previousTree)||void 0===o?void 0:o.version)&&qd("Tried to save dependencies to a discarded tree");const c=n.getGraph(r);if(kh(e,t,c),r===(null===(s=l.previousTree)||void 0===s?void 0:s.version)){kh(e,t,n.getGraph(l.currentTree.version),c)}if(r===(null===(a=l.previousTree)||void 0===a?void 0:a.version)||r===l.currentTree.version){var u;const r=null===(u=l.nextTree)||void 0===u?void 0:u.version;if(void 0!==r){kh(e,t,n.getGraph(r),c)}}}};let Ch=0;let Th=0;let Nh=0;var Oh={getNextTreeStateVersion:()=>Ch++,getNextStoreID:()=>Th++,getNextComponentID:()=>Nh++};const{persistentMap:Ih}=_h,{graph:Dh}=Eh,{getNextTreeStateVersion:jh}=Oh;function Ph(){const e=jh();return{version:e,stateID:e,transactionMetadata:{},dirtyAtoms:new Set,atomValues:Ih(),nonvalidatedAtoms:Ih()}}var Rh={makeEmptyTreeState:Ph,makeEmptyStoreState:function(){const e=Ph();return{currentTree:e,nextTree:null,previousTree:null,commitDepth:0,knownAtoms:new Set,knownSelectors:new Set,transactionSubscriptions:new Map,nodeTransactionSubscriptions:new Map,nodeToComponentSubscriptions:new Map,queuedComponentCallbacks_DEPRECATED:[],suspendedComponentResolvers:new Set,graphsByVersion:(new Map).set(e.version,Dh()),retention:{referenceCounts:new Map,nodesRetainedByZone:new Map,retainablesToCheckForRelease:new Set},nodeCleanupFunctions:new Map}},getNextTreeStateVersion:jh};class Lh{}var Mh={RetentionZone:Lh,retentionZone:function(){return new Lh}};var Bh={setByAddingToSet:function(e,t){const n=new Set(e);return n.add(t),n},setByDeletingFromSet:function(e,t){const n=new Set(e);return n.delete(t),n},mapBySettingInMap:function(e,t,n){const r=new Map(e);return r.set(t,n),r},mapByUpdatingInMap:function(e,t,n){const r=new Map(e);return r.set(t,n(r.get(t))),r},mapByDeletingFromMap:function(e,t){const n=new Map(e);return n.delete(t),n},mapByDeletingMultipleFromMap:function(e,t){const n=new Map(e);return t.forEach((e=>n.delete(e))),n}};var Uh=function*(e,t){let n=0;for(const r of e)t(r,n++)&&(yield r)};var Fh=function(e,t){return new Proxy(e,{get:(e,n)=>(!(n in e)&&n in t&&(e[n]=t[n]()),e[n]),ownKeys:e=>Object.keys(e)})};const{getNode:Vh,getNodeMaybe:qh,recoilValuesForKeys:Hh}=fh,{RetentionZone:zh}=Mh,{setByAddingToSet:Gh}=Bh,Yh=Object.freeze(new Set);class Wh extends Error{}function Kh(e,t,n,r){const i=e.getState();if(i.nodeCleanupFunctions.has(n))return;const o=Vh(n),s=function(e,t,n){if(!Bd("recoil_memory_managament_2020"))return()=>{};const{nodesRetainedByZone:r}=e.getState().retention;function i(e){let n=r.get(e);n||r.set(e,n=new Set),n.add(t)}if(n instanceof zh)i(n);else if(Array.isArray(n))for(const o of n)i(o);return()=>{if(!Bd("recoil_memory_managament_2020"))return;const{retention:r}=e.getState();function i(e){const n=r.nodesRetainedByZone.get(e);null===n||void 0===n||n.delete(t),n&&0===n.size&&r.nodesRetainedByZone.delete(e)}if(n instanceof zh)i(n);else if(Array.isArray(n))for(const e of n)i(e)}}(e,n,o.retainedBy),a=o.init(e,t,r);i.nodeCleanupFunctions.set(n,(()=>{a(),s()}))}function Qh(e,t,n){return Vh(n).peek(e,t)}function Jh(e,t,n){const r=new Set,i=Array.from(n),o=e.getGraph(t.version);for(let a=i.pop();a;a=i.pop()){var s;r.add(a);const e=null!==(s=o.nodeToNodeSubscriptions.get(a))&&void 0!==s?s:Yh;for(const t of e)r.has(t)||i.push(t)}return r}var Xh={getNodeLoadable:function(e,t,n){return Kh(e,t,n,"get"),Vh(n).get(e,t)},peekNodeLoadable:Qh,setNodeValue:function(e,t,n,r){const i=Vh(n);if(null==i.set)throw new Wh("Attempt to set read-only RecoilValue: ".concat(n));const o=i.set;return Kh(e,t,n,"set"),o(e,t,r)},initializeNode:function(e,t,n){Kh(e,e.getState().currentTree,t,n)},cleanUpNode:function(e,t){var n;const r=e.getState();null===(n=r.nodeCleanupFunctions.get(t))||void 0===n||n(),r.nodeCleanupFunctions.delete(t)},setUnvalidatedAtomValue_DEPRECATED:function(e,t,n){var r;const i=qh(t);return null===i||void 0===i||null===(r=i.invalidate)||void 0===r||r.call(i,e),{...e,atomValues:e.atomValues.clone().delete(t),nonvalidatedAtoms:e.nonvalidatedAtoms.clone().set(t,n),dirtyAtoms:Gh(e.dirtyAtoms,t)}},peekNodeInfo:function(e,t,n){const r=e.getState(),i=e.getGraph(t.version),o=Vh(n).nodeType;return Fh({type:o},{loadable:()=>Qh(e,t,n),isActive:()=>r.knownAtoms.has(n)||r.knownSelectors.has(n),isSet:()=>"selector"!==o&&t.atomValues.has(n),isModified:()=>t.dirtyAtoms.has(n),deps:()=>{var e;return Hh(null!==(e=i.nodeDeps.get(n))&&void 0!==e?e:[])},subscribers:()=>{var i,o;return{nodes:Hh(Uh(Jh(e,t,new Set([n])),(e=>e!==n))),components:ih(null!==(i=null===(o=r.nodeToComponentSubscriptions.get(n))||void 0===o?void 0:o.values())&&void 0!==i?i:[],(e=>{let[t]=e;return{name:t}}))}}})},getDownstreamNodes:Jh};let Zh=null;var $h={setInvalidateMemoizedSnapshot:function(e){Zh=e},invalidateMemoizedSnapshot:function(){var e;null===(e=Zh)||void 0===e||e()}};const{getDownstreamNodes:ef,getNodeLoadable:tf,setNodeValue:nf}=Xh,{getNextComponentID:rf}=Oh,{getNode:of,getNodeMaybe:sf}=fh,{DefaultValue:af}=fh,{reactMode:lf}=Wd,{AbstractRecoilValue:cf,RecoilState:uf,RecoilValueReadOnly:df,isRecoilValue:hf}=nh,{invalidateMemoizedSnapshot:ff}=$h;function pf(e,t,n){if("set"===n.type){const{recoilValue:r,valueOrUpdater:i}=n,o=function(e,t,n,r){let{key:i}=n;if("function"===typeof r){const n=tf(e,t,i);if("loading"===n.state){const e='Tried to set atom or selector "'.concat(i,'" using an updater function while the current state is pending, this is not currently supported.');throw qd(e),dd(e)}if("hasError"===n.state)throw n.contents;return r(n.contents)}return r}(e,t,r,i),s=nf(e,t,r.key,o);for(const[e,n]of s.entries())mf(t,e,n)}else if("setLoadable"===n.type){const{recoilValue:{key:e},loadable:r}=n;mf(t,e,r)}else if("markModified"===n.type){const{recoilValue:{key:e}}=n;t.dirtyAtoms.add(e)}else if("setUnvalidated"===n.type){var r;const{recoilValue:{key:e},unvalidatedValue:i}=n,o=sf(e);null===o||void 0===o||null===(r=o.invalidate)||void 0===r||r.call(o,t),t.atomValues.delete(e),t.nonvalidatedAtoms.set(e,i),t.dirtyAtoms.add(e)}else qd("Unknown action ".concat(n.type))}function mf(e,t,n){"hasValue"===n.state&&n.contents instanceof af?e.atomValues.delete(t):e.atomValues.set(t,n),e.dirtyAtoms.add(t),e.nonvalidatedAtoms.delete(t)}function gf(e,t){e.replaceState((n=>{const r=bf(n);for(const i of t)pf(e,r,i);return wf(e,r),ff(),r}))}function vf(e,t){if(yf.length){const n=yf[yf.length-1];let r=n.get(e);r||n.set(e,r=[]),r.push(t)}else gf(e,[t])}const yf=[];function bf(e){return{...e,atomValues:e.atomValues.clone(),nonvalidatedAtoms:e.nonvalidatedAtoms.clone(),dirtyAtoms:new Set(e.dirtyAtoms)}}function wf(e,t){const n=ef(e,t,t.dirtyAtoms);for(const o of n){var r,i;null===(r=sf(o))||void 0===r||null===(i=r.invalidate)||void 0===i||i.call(r,t)}}function Af(e,t,n){vf(e,{type:"set",recoilValue:t,valueOrUpdater:n})}var _f={RecoilValueReadOnly:df,AbstractRecoilValue:cf,RecoilState:uf,getRecoilValueAsLoadable:function(e,t){let{key:n}=t,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e.getState().currentTree;var i,o;const s=e.getState();r.version!==s.currentTree.version&&r.version!==(null===(i=s.nextTree)||void 0===i?void 0:i.version)&&r.version!==(null===(o=s.previousTree)||void 0===o?void 0:o.version)&&qd("Tried to read from a discarded tree");const a=tf(e,r,n);return"loading"===a.state&&a.contents.catch((()=>{})),a},setRecoilValue:Af,setRecoilValueLoadable:function(e,t,n){if(n instanceof af)return Af(e,t,n);vf(e,{type:"setLoadable",recoilValue:t,loadable:n})},markRecoilValueModified:function(e,t){vf(e,{type:"markModified",recoilValue:t})},setUnvalidatedRecoilValue:function(e,t,n){vf(e,{type:"setUnvalidated",recoilValue:t,unvalidatedValue:n})},subscribeToRecoilValue:function(e,t,n){let{key:r}=t,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;const o=rf(),s=e.getState();s.nodeToComponentSubscriptions.has(r)||s.nodeToComponentSubscriptions.set(r,new Map),fd(s.nodeToComponentSubscriptions.get(r)).set(o,[null!==i&&void 0!==i?i:"<not captured>",n]);const a=lf();if(a.early&&("LEGACY"===a.mode||"MUTABLE_SOURCE"===a.mode)){const t=e.getState().nextTree;t&&t.dirtyAtoms.has(r)&&n(t)}return{release:()=>{const t=e.getState(),n=t.nodeToComponentSubscriptions.get(r);void 0!==n&&n.has(o)?(n.delete(o),0===n.size&&t.nodeToComponentSubscriptions.delete(r)):qd("Subscription missing at release time for atom ".concat(r,". This is a bug in Recoil."))}}},isRecoilValue:hf,applyAtomValueWrites:function(e,t){const n=e.clone();return t.forEach(((e,t)=>{"hasValue"===e.state&&e.contents instanceof af?n.delete(t):n.set(t,e)})),n},batchStart:function(){const e=new Map;return yf.push(e),()=>{for(const[t,n]of e)gf(t,n);yf.pop()!==e&&qd("Incorrect order of batch popping")}},writeLoadableToTreeState:mf,invalidateDownstreams:wf,copyTreeState:bf,refreshRecoilValue:function(e,t){var n;const{currentTree:r}=e.getState(),i=of(t.key);null===(n=i.clearCache)||void 0===n||n.call(i,e,r)}};var xf=function(e,t,n){const r=e.entries();let i=r.next();for(;!i.done;){const o=i.value;if(t.call(n,o[1],o[0],e))return!0;i=r.next()}return!1};const{cleanUpNode:Sf}=Xh,{deleteNodeConfigIfPossible:kf,getNode:Ef}=fh,{RetentionZone:Cf}=Mh,Tf=new Set;function Nf(e,t){const n=e.getState(),r=n.currentTree;if(n.nextTree)return void qd("releaseNodesNowOnCurrentTree should only be called at the end of a batch");const i=new Set;for(const s of t)if(s instanceof Cf)for(const e of If(n,s))i.add(e);else i.add(s);const o=function(e,t){const n=e.getState(),r=n.currentTree,i=e.getGraph(r.version),o=new Set,s=new Set;return a(t),o;function a(t){const l=new Set,c=function(e,t,n,r,i){const o=e.getGraph(t.version),s=[],a=new Set;for(;n.size>0;)l(fd(n.values().next().value));return s;function l(e){if(r.has(e)||i.has(e))return void n.delete(e);if(a.has(e))return;const t=o.nodeToNodeSubscriptions.get(e);if(t)for(const n of t)l(n);a.add(e),n.delete(e),s.push(e)}}(e,r,t,o,s);for(const e of c){var u;if("recoilRoot"===Ef(e).retainedBy){s.add(e);continue}if((null!==(u=n.retention.referenceCounts.get(e))&&void 0!==u?u:0)>0){s.add(e);continue}if(Df(e).some((e=>n.retention.referenceCounts.get(e)))){s.add(e);continue}const t=i.nodeToNodeSubscriptions.get(e);t&&xf(t,(e=>s.has(e)))?s.add(e):(o.add(e),l.add(e))}const d=new Set;for(const e of l)for(const t of null!==(h=i.nodeDeps.get(e))&&void 0!==h?h:Tf){var h;o.has(t)||d.add(t)}d.size&&a(d)}}(e,i);for(const s of o)Of(e,r,s)}function Of(e,t,n){if(!Bd("recoil_memory_managament_2020"))return;Sf(e,n);const r=e.getState();r.knownAtoms.delete(n),r.knownSelectors.delete(n),r.nodeTransactionSubscriptions.delete(n),r.retention.referenceCounts.delete(n);const i=Df(n);for(const l of i){var o;null===(o=r.retention.nodesRetainedByZone.get(l))||void 0===o||o.delete(n)}t.atomValues.delete(n),t.dirtyAtoms.delete(n),t.nonvalidatedAtoms.delete(n);const s=r.graphsByVersion.get(t.version);if(s){const e=s.nodeDeps.get(n);if(void 0!==e){s.nodeDeps.delete(n);for(const t of e){var a;null===(a=s.nodeToNodeSubscriptions.get(t))||void 0===a||a.delete(n)}}s.nodeToNodeSubscriptions.delete(n)}kf(n)}function If(e,t){var n;return null!==(n=e.retention.nodesRetainedByZone.get(t))&&void 0!==n?n:Tf}function Df(e){const t=Ef(e).retainedBy;return void 0===t||"components"===t||"recoilRoot"===t?[]:t instanceof Cf?[t]:t}function jf(e,t){if(!Bd("recoil_memory_managament_2020"))return;e.getState().retention.referenceCounts.delete(t),function(e,t){const n=e.getState();n.nextTree?n.retention.retainablesToCheckForRelease.add(t):Nf(e,new Set([t]))}(e,t)}var Pf={SUSPENSE_TIMEOUT_MS:12e4,updateRetainCount:function(e,t,n){var r;if(!Bd("recoil_memory_managament_2020"))return;const i=e.getState().retention.referenceCounts,o=(null!==(r=i.get(t))&&void 0!==r?r:0)+n;0===o?jf(e,t):i.set(t,o)},updateRetainCountToZero:jf,releaseScheduledRetainablesNow:function(e){if(!Bd("recoil_memory_managament_2020"))return;const t=e.getState();Nf(e,t.retention.retainablesToCheckForRelease),t.retention.retainablesToCheckForRelease.clear()},retainedByOptionWithDefault:function(e){return void 0===e?"recoilRoot":e}};const{unstable_batchedUpdates:Rf}=mt;var Lf={unstable_batchedUpdates:Rf};const{unstable_batchedUpdates:Mf}=Lf;var Bf={unstable_batchedUpdates:Mf};const{batchStart:Uf}=_f,{unstable_batchedUpdates:Ff}=Bf;let Vf=Ff||(e=>e());var qf={getBatcher:()=>Vf,setBatcher:e=>{Vf=e},batchUpdates:e=>{Vf((()=>{let t=()=>{};try{t=Uf(),e()}finally{t()}}))}};var Hf=function*(e){for(const t of e)for(const e of t)yield e};const zf="undefined"===typeof Window||"undefined"===typeof window,Gf="undefined"!==typeof navigator&&"ReactNative"===navigator.product;var Yf={isSSR:zf,isReactNative:Gf,isWindow:e=>!zf&&(e===window||e instanceof Window)};var Wf={memoizeWithArgsHash:function(e,t){let n;return function(){n||(n={});const r=t(...arguments);return Object.hasOwnProperty.call(n,r)||(n[r]=e(...arguments)),n[r]}},memoizeOneWithArgsHash:function(e,t){let n,r;return function(){const i=t(...arguments);return n===i||(n=i,r=e(...arguments)),r}},memoizeOneWithArgsHashAndInvalidation:function(e,t){let n,r;return[function(){const i=t(...arguments);return n===i||(n=i,r=e(...arguments)),r},()=>{n=null}]}};const{batchUpdates:Kf}=qf,{initializeNode:Qf,peekNodeInfo:Jf}=Xh,{graph:Xf}=Eh,{getNextStoreID:Zf}=Oh,{DEFAULT_VALUE:$f,recoilValues:ep,recoilValuesForKeys:tp}=fh,{AbstractRecoilValue:np,getRecoilValueAsLoadable:rp,setRecoilValue:ip,setUnvalidatedRecoilValue:op}=_f,{updateRetainCount:sp}=Pf,{setInvalidateMemoizedSnapshot:ap}=$h,{getNextTreeStateVersion:lp,makeEmptyStoreState:cp}=Rh,{isSSR:up}=Yf,{memoizeOneWithArgsHashAndInvalidation:dp}=Wf;class hp{constructor(e,t){pd(this,"_store",void 0),pd(this,"_refCount",1),pd(this,"getLoadable",(e=>(this.checkRefCount_INTERNAL(),rp(this._store,e)))),pd(this,"getPromise",(e=>(this.checkRefCount_INTERNAL(),this.getLoadable(e).toPromise()))),pd(this,"getNodes_UNSTABLE",(e=>{if(this.checkRefCount_INTERNAL(),!0===(null===e||void 0===e?void 0:e.isModified)){if(!1===(null===e||void 0===e?void 0:e.isInitialized))return[];const t=this._store.getState().currentTree;return tp(t.dirtyAtoms)}const t=this._store.getState().knownAtoms,n=this._store.getState().knownSelectors;return null==(null===e||void 0===e?void 0:e.isInitialized)?ep.values():!0===e.isInitialized?tp(Hf([t,n])):Uh(ep.values(),(e=>{let{key:r}=e;return!t.has(r)&&!n.has(r)}))})),pd(this,"getInfo_UNSTABLE",(e=>{let{key:t}=e;return this.checkRefCount_INTERNAL(),Jf(this._store,this._store.getState().currentTree,t)})),pd(this,"map",(e=>{this.checkRefCount_INTERNAL();const t=new gp(this,Kf);return e(t),t})),pd(this,"asyncMap",(async e=>{this.checkRefCount_INTERNAL();const t=new gp(this,Kf);return t.retain(),await e(t),t.autoRelease_INTERNAL(),t})),this._store={storeID:Zf(),parentStoreID:t,getState:()=>e,replaceState:t=>{e.currentTree=t(e.currentTree)},getGraph:t=>{const n=e.graphsByVersion;if(n.has(t))return fd(n.get(t));const r=Xf();return n.set(t,r),r},subscribeToTransactions:()=>({release:()=>{}}),addTransactionMetadata:()=>{throw dd("Cannot subscribe to Snapshots")}};for(const n of this._store.getState().knownAtoms)Qf(this._store,n,"get"),sp(this._store,n,1);this.autoRelease_INTERNAL()}retain(){this._refCount<=0&&qd("Attempt to retain() Snapshot that was already released."),this._refCount++;let e=!1;return()=>{e||(e=!0,this._release())}}autoRelease_INTERNAL(){up||window.setTimeout((()=>this._release()),10)}_release(){if(this._refCount--,0===this._refCount){if(this._store.getState().nodeCleanupFunctions.forEach((e=>e())),this._store.getState().nodeCleanupFunctions.clear(),!Bd("recoil_memory_managament_2020"))return}else this._refCount}isRetained(){return this._refCount>0}checkRefCount_INTERNAL(){Bd("recoil_memory_managament_2020")&&this._refCount}getStore_INTERNAL(){return this.checkRefCount_INTERNAL(),this._store}getID(){return this.checkRefCount_INTERNAL(),this._store.getState().currentTree.stateID}getStoreID(){return this.checkRefCount_INTERNAL(),this._store.storeID}}function fp(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r=e.getState(),i=n?lp():t.version;return{currentTree:{version:n?i:t.version,stateID:n?i:t.stateID,transactionMetadata:{...t.transactionMetadata},dirtyAtoms:new Set(t.dirtyAtoms),atomValues:t.atomValues.clone(),nonvalidatedAtoms:t.nonvalidatedAtoms.clone()},commitDepth:0,nextTree:null,previousTree:null,knownAtoms:new Set(r.knownAtoms),knownSelectors:new Set(r.knownSelectors),transactionSubscriptions:new Map,nodeTransactionSubscriptions:new Map,nodeToComponentSubscriptions:new Map,queuedComponentCallbacks_DEPRECATED:[],suspendedComponentResolvers:new Set,graphsByVersion:(new Map).set(i,e.getGraph(t.version)),retention:{referenceCounts:new Map,nodesRetainedByZone:new Map,retainablesToCheckForRelease:new Set},nodeCleanupFunctions:new Map(ih(r.nodeCleanupFunctions.entries(),(e=>{let[t]=e;return[t,()=>{}]})))}}const[pp,mp]=dp(((e,t)=>{var n;const r=e.getState(),i="latest"===t?null!==(n=r.nextTree)&&void 0!==n?n:r.currentTree:fd(r.previousTree);return new hp(fp(e,i),e.storeID)}),((e,t)=>{var n,r;return String(t)+String(e.storeID)+String(null===(n=e.getState().nextTree)||void 0===n?void 0:n.version)+String(e.getState().currentTree.version)+String(null===(r=e.getState().previousTree)||void 0===r?void 0:r.version)}));ap(mp);class gp extends hp{constructor(e,t){super(fp(e.getStore_INTERNAL(),e.getStore_INTERNAL().getState().currentTree,!0),e.getStoreID()),pd(this,"_batch",void 0),pd(this,"set",((e,t)=>{this.checkRefCount_INTERNAL();const n=this.getStore_INTERNAL();this._batch((()=>{sp(n,e.key,1),ip(this.getStore_INTERNAL(),e,t)}))})),pd(this,"reset",(e=>{this.checkRefCount_INTERNAL();const t=this.getStore_INTERNAL();this._batch((()=>{sp(t,e.key,1),ip(this.getStore_INTERNAL(),e,$f)}))})),pd(this,"setUnvalidatedAtomValues_DEPRECATED",(e=>{this.checkRefCount_INTERNAL();const t=this.getStore_INTERNAL();Kf((()=>{for(const[n,r]of e.entries())sp(t,n,1),op(t,new np(n),r)}))})),this._batch=t}}var vp={Snapshot:hp,MutableSnapshot:gp,freshSnapshot:function(e){const t=new hp(cp());return null!=e?t.map(e):t},cloneSnapshot:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"latest";const n=pp(e,t);return n.isRetained()?n:(mp(),pp(e,t))}},yp=vp.Snapshot,bp=vp.MutableSnapshot,wp=vp.freshSnapshot,Ap=vp.cloneSnapshot,_p=Object.freeze({__proto__:null,Snapshot:yp,MutableSnapshot:bp,freshSnapshot:wp,cloneSnapshot:Ap});var xp=function(){const e=new Set;for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(const i of n)for(const t of i)e.add(t);return e};const{useRef:Sp}=i;var kp=function(e){const t=Sp(e);return t.current===e&&"function"===typeof e&&(t.current=e()),t};const{getNextTreeStateVersion:Ep,makeEmptyStoreState:Cp}=Rh,{cleanUpNode:Tp,getDownstreamNodes:Np,initializeNode:Op,setNodeValue:Ip,setUnvalidatedAtomValue_DEPRECATED:Dp}=Xh,{graph:jp}=Eh,{cloneGraph:Pp}=Eh,{getNextStoreID:Rp}=Oh,{createMutableSource:Lp,reactMode:Mp}=Wd,{applyAtomValueWrites:Bp}=_f,{releaseScheduledRetainablesNow:Up}=Pf,{freshSnapshot:Fp}=_p,{useCallback:Vp,useContext:qp,useEffect:Hp,useMemo:zp,useRef:Gp,useState:Yp}=i;function Wp(){throw dd("This component must be used inside a <RecoilRoot> component.")}const Kp=Object.freeze({storeID:Rp(),getState:Wp,replaceState:Wp,getGraph:Wp,subscribeToTransactions:Wp,addTransactionMetadata:Wp});let Qp=!1;function Jp(e){if(Qp)throw dd("An atom update was triggered within the execution of a state updater function. State updater functions provided to Recoil must be pure functions.");const t=e.getState();if(null===t.nextTree){Bd("recoil_memory_managament_2020")&&Bd("recoil_release_on_cascading_update_killswitch_2021")&&t.commitDepth>0&&Up(e);const n=t.currentTree.version,r=Ep();t.nextTree={...t.currentTree,version:r,stateID:r,dirtyAtoms:new Set,transactionMetadata:{}},t.graphsByVersion.set(r,Pp(fd(t.graphsByVersion.get(n))))}}const Xp=i.createContext({current:Kp}),Zp=()=>qp(Xp),$p=i.createContext(null);function em(e,t,n){const r=Np(e,n,n.dirtyAtoms);for(const i of r){const e=t.nodeToComponentSubscriptions.get(i);if(e)for(const[t,[r,i]]of e)i(n)}}function tm(e){const t=e.getState(),n=t.currentTree,r=n.dirtyAtoms;if(r.size){for(const[n,i]of t.nodeTransactionSubscriptions)if(r.has(n))for(const[t,r]of i)r(e);for(const[n,r]of t.transactionSubscriptions)r(e);(!Mp().early||t.suspendedComponentResolvers.size>0)&&(em(e,t,n),t.suspendedComponentResolvers.forEach((e=>e())),t.suspendedComponentResolvers.clear())}t.queuedComponentCallbacks_DEPRECATED.forEach((e=>e(n))),t.queuedComponentCallbacks_DEPRECATED.splice(0,t.queuedComponentCallbacks_DEPRECATED.length)}function nm(e){let{setNotifyBatcherOfChange:t}=e;const n=Zp(),[,r]=Yp([]);return t((()=>r({}))),Hp((()=>(t((()=>r({}))),()=>{t((()=>{}))})),[t]),Hp((()=>{ph.enqueueExecution("Batcher",(()=>{!function(e){const t=e.getState();t.commitDepth++;try{const{nextTree:n}=t;if(null==n)return;t.previousTree=t.currentTree,t.currentTree=n,t.nextTree=null,tm(e),null!=t.previousTree?t.graphsByVersion.delete(t.previousTree.version):qd("Ended batch with no previous state, which is unexpected","recoil"),t.previousTree=null,Bd("recoil_memory_managament_2020")&&null==n&&Up(e)}finally{t.commitDepth--}}(n.current)}))})),null}let rm=0;function im(e){let t,{initializeState_DEPRECATED:n,initializeState:r,store_INTERNAL:o,children:s}=e;const a=e=>{const n=t.current.graphsByVersion;if(n.has(e))return fd(n.get(e));const r=jp();return n.set(e,r),r},l=(e,t)=>{if(null==t){const{transactionSubscriptions:t}=f.current.getState(),n=rm++;return t.set(n,e),{release:()=>{t.delete(n)}}}{const{nodeTransactionSubscriptions:n}=f.current.getState();n.has(t)||n.set(t,new Map);const r=rm++;return fd(n.get(t)).set(r,e),{release:()=>{const e=n.get(t);e&&(e.delete(r),0===e.size&&n.delete(t))}}}},c=e=>{Jp(f.current);for(const t of Object.keys(e))fd(f.current.getState().nextTree).transactionMetadata[t]=e[t]},u=e=>{Jp(f.current);const n=fd(t.current.nextTree);let r;try{Qp=!0,r=e(n)}finally{Qp=!1}r!==n&&(t.current.nextTree=r,Mp().early&&em(f.current,t.current,r),fd(d.current)())},d=Gp(null),h=Vp((e=>{d.current=e}),[d]),f=kp((()=>null!==o&&void 0!==o?o:{storeID:Rp(),getState:()=>t.current,replaceState:u,getGraph:a,subscribeToTransactions:l,addTransactionMetadata:c}));null!=o&&(f.current=o),t=kp((()=>null!=n?function(e,t){const n=Cp();return t({set:(t,r)=>{const i=n.currentTree,o=Ip(e,i,t.key,r),s=new Set(o.keys()),a=i.nonvalidatedAtoms.clone();for(const e of s)a.delete(e);n.currentTree={...i,dirtyAtoms:xp(i.dirtyAtoms,s),atomValues:Bp(i.atomValues,o),nonvalidatedAtoms:a}},setUnvalidatedAtomValues:e=>{e.forEach(((e,t)=>{n.currentTree=Dp(n.currentTree,t,e)}))}}),n}(f.current,n):null!=r?function(e){const t=Fp(e),n=t.getStore_INTERNAL().getState();return t.retain(),n.nodeCleanupFunctions.forEach((e=>e())),n.nodeCleanupFunctions.clear(),n}(r):Cp()));const p=zp((()=>null===Lp||void 0===Lp?void 0:Lp(t,(()=>t.current.currentTree.version))),[t]);return Hp((()=>{const e=f.current;for(const t of new Set(e.getState().knownAtoms))Op(e,t,"get");return()=>{for(const t of e.getState().knownAtoms)Tp(e,t)}}),[f]),i.createElement(Xp.Provider,{value:f},i.createElement($p.Provider,{value:p},i.createElement(nm,{setNotifyBatcherOfChange:h}),s))}var om={RecoilRoot:function(e){const{override:t,...n}=e,r=Zp();return!1===t&&r.current!==Kp?e.children:i.createElement(im,n)},useStoreRef:Zp,useRecoilMutableSource:function(){const e=qp($p);return null==e&&rh("Attempted to use a Recoil hook outside of a <RecoilRoot>. <RecoilRoot> must be an ancestor of any component that uses Recoil hooks."),e},useRecoilStoreID:function(){return Zp().current.storeID},notifyComponents_FOR_TESTING:em,sendEndOfBatchNotifications_FOR_TESTING:tm};var sm=function(e,t){if(e===t)return!0;if(e.length!==t.length)return!1;for(let n=0,r=e.length;n<r;n++)if(e[n]!==t[n])return!1;return!0};const{useEffect:am,useRef:lm}=i;var cm=function(e){const t=lm();return am((()=>{t.current=e})),t.current};const{useStoreRef:um}=om,{SUSPENSE_TIMEOUT_MS:dm}=Pf,{updateRetainCount:hm}=Pf,{RetentionZone:fm}=Mh,{useEffect:pm,useRef:mm}=i,{isSSR:gm}=Yf;var vm=function(e){if(Bd("recoil_memory_managament_2020"))return function(e){const t=Array.isArray(e)?e:[e],n=t.map((e=>e instanceof fm?e:e.key)),r=um();pm((()=>{if(!Bd("recoil_memory_managament_2020"))return;const e=r.current;if(i.current&&!gm)window.clearTimeout(i.current),i.current=null;else for(const t of n)hm(e,t,1);return()=>{for(const t of n)hm(e,t,-1)}}),[r,...n]);const i=mm(),o=cm(n);if(!gm&&(void 0===o||!sm(o,n))){const e=r.current;for(const t of n)hm(e,t,1);if(o)for(const t of o)hm(e,t,-1);i.current&&window.clearTimeout(i.current),i.current=window.setTimeout((()=>{i.current=null;for(const t of n)hm(e,t,-1)}),dm)}}(e)};var ym=function(){return"<component name not available>"};const{batchUpdates:bm}=qf,{DEFAULT_VALUE:wm}=fh,{currentRendererSupportsUseSyncExternalStore:Am,reactMode:_m,useMutableSource:xm,useSyncExternalStore:Sm}=Wd,{useRecoilMutableSource:km,useStoreRef:Em}=om,{isRecoilValue:Cm}=nh,{AbstractRecoilValue:Tm,getRecoilValueAsLoadable:Nm,setRecoilValue:Om,setUnvalidatedRecoilValue:Im,subscribeToRecoilValue:Dm}=_f,{useCallback:jm,useEffect:Pm,useMemo:Rm,useRef:Lm,useState:Mm}=i,{setByAddingToSet:Bm}=Bh,{isSSR:Um}=Yf;function Fm(e,t,n){if("hasValue"===e.state)return e.contents;if("loading"===e.state){throw new Promise((t=>{const r=n.current.getState().suspendedComponentResolvers;r.add(t),Um&&hd(e.contents)&&e.contents.finally((()=>{r.delete(t)}))}))}throw"hasError"===e.state?e.contents:dd('Invalid value of loadable atom "'.concat(t.key,'"'))}function Vm(e){const t=Em(),n=ym(),r=jm((()=>{var n;const r=t.current,i=r.getState(),o=_m().early&&null!==(n=i.nextTree)&&void 0!==n?n:i.currentTree;return{loadable:Nm(r,e,o),key:e.key}}),[t,e]),i=jm((e=>{let t;return()=>{var n,r;const i=e();return null!==(n=t)&&void 0!==n&&n.loadable.is(i.loadable)&&(null===(r=t)||void 0===r?void 0:r.key)===i.key?t:(t=i,i)}}),[]),o=Rm((()=>i(r)),[r,i]),s=jm((r=>{const i=t.current;return Dm(i,e,r,n).release}),[t,e,n]);return Sm(s,o,o).loadable}function qm(e){const t=Em(),n=jm((()=>{var n;const r=t.current,i=r.getState(),o=_m().early&&null!==(n=i.nextTree)&&void 0!==n?n:i.currentTree;return Nm(r,e,o)}),[t,e]),r=jm((()=>n()),[n]),i=ym(),o=jm(((r,o)=>{const s=t.current;return Dm(s,e,(()=>{if(!Bd("recoil_suppress_rerender_in_callback"))return o();const e=n();l.current.is(e)||o(),l.current=e}),i).release}),[t,e,i,n]),s=km();if(null==s)throw dd("Recoil hooks must be used in components contained within a <RecoilRoot> component.");const a=xm(s,r,o),l=Lm(a);return Pm((()=>{l.current=a})),a}function Hm(e){const t=Em(),n=ym(),r=jm((()=>{var n;const r=t.current,i=r.getState(),o=_m().early&&null!==(n=i.nextTree)&&void 0!==n?n:i.currentTree;return Nm(r,e,o)}),[t,e]),i=jm((()=>({loadable:r(),key:e.key})),[r,e.key]),o=jm((e=>{const t=i();return e.loadable.is(t.loadable)&&e.key===t.key?e:t}),[i]);Pm((()=>{const r=Dm(t.current,e,(e=>{a(o)}),n);return a(o),r.release}),[n,e,t,o]);const[s,a]=Mm(i);return s.key!==e.key?i().loadable:s.loadable}function zm(e){const t=Em(),[,n]=Mm([]),r=ym(),i=jm((()=>{var n;const r=t.current,i=r.getState(),o=_m().early&&null!==(n=i.nextTree)&&void 0!==n?n:i.currentTree;return Nm(r,e,o)}),[t,e]),o=i(),s=Lm(o);return Pm((()=>{s.current=o})),Pm((()=>{const o=t.current,a=o.getState(),l=Dm(o,e,(e=>{var t;if(!Bd("recoil_suppress_rerender_in_callback"))return n([]);const r=i();null!==(t=s.current)&&void 0!==t&&t.is(r)||n(r),s.current=r}),r);if(a.nextTree)o.getState().queuedComponentCallbacks_DEPRECATED.push((()=>{s.current=null,n([])}));else{var c;if(!Bd("recoil_suppress_rerender_in_callback"))return n([]);const e=i();null!==(c=s.current)&&void 0!==c&&c.is(e)||n(e),s.current=e}return l.release}),[r,i,e,t]),o}function Gm(e){return Bd("recoil_memory_managament_2020")&&vm(e),{TRANSITION_SUPPORT:Hm,SYNC_EXTERNAL_STORE:Am()?Vm:Hm,MUTABLE_SOURCE:qm,LEGACY:zm}[_m().mode](e)}function Ym(e){const t=Em();return Fm(Gm(e),e,t)}function Wm(e){const t=Em();return jm((n=>{Om(t.current,e,n)}),[t,e])}function Km(e){return Bd("recoil_memory_managament_2020")&&vm(e),Hm(e)}function Qm(e){const t=Em();return Fm(Km(e),e,t)}var Jm={recoilComponentGetRecoilValueCount_FOR_TESTING:{current:0},useRecoilInterface:function(){const e=ym(),t=Em(),[,n]=Mm([]),r=Lm(new Set);r.current=new Set;const i=Lm(new Set),o=Lm(new Map),s=jm((e=>{const t=o.current.get(e);t&&(t.release(),o.current.delete(e))}),[o]),a=jm(((e,t)=>{o.current.has(t)&&n([])}),[]);return Pm((()=>{const n=t.current;xh(r.current,i.current).forEach((t=>{if(o.current.has(t))return void rh('Double subscription to RecoilValue "'.concat(t,'"'));const r=Dm(n,new Tm(t),(e=>a(e,t)),e);o.current.set(t,r);n.getState().nextTree?n.getState().queuedComponentCallbacks_DEPRECATED.push((()=>{a(n.getState(),t)})):a(n.getState(),t)})),xh(i.current,r.current).forEach((e=>{s(e)})),i.current=r.current})),Pm((()=>{const n=o.current;return xh(r.current,new Set(n.keys())).forEach((r=>{const i=Dm(t.current,new Tm(r),(e=>a(e,r)),e);n.set(r,i)})),()=>n.forEach(((e,t)=>s(t)))}),[e,t,s,a]),Rm((()=>{function e(e){return n=>{Om(t.current,e,n)}}function n(e){var n;r.current.has(e.key)||(r.current=Bm(r.current,e.key));const i=t.current.getState();return Nm(t.current,e,_m().early&&null!==(n=i.nextTree)&&void 0!==n?n:i.currentTree)}function i(e){return Fm(n(e),e,t)}return{getRecoilValue:i,getRecoilValueLoadable:n,getRecoilState:function(t){return[i(t),e(t)]},getRecoilStateLoadable:function(t){return[n(t),e(t)]},getSetRecoilState:e,getResetRecoilState:function(e){return()=>Om(t.current,e,wm)}}}),[r,t])},useRecoilState:function(e){return[Ym(e),Wm(e)]},useRecoilStateLoadable:function(e){return[Gm(e),Wm(e)]},useRecoilValue:Ym,useRecoilValueLoadable:Gm,useResetRecoilState:function(e){const t=Em();return jm((()=>{Om(t.current,e,wm)}),[t,e])},useSetRecoilState:Wm,useSetUnvalidatedAtomValues:function(){const e=Em();return function(t){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};bm((()=>{e.current.addTransactionMetadata(n),t.forEach(((t,n)=>Im(e.current,new Tm(n),t)))}))}},useRecoilValueLoadable_TRANSITION_SUPPORT_UNSTABLE:Km,useRecoilValue_TRANSITION_SUPPORT_UNSTABLE:Qm,useRecoilState_TRANSITION_SUPPORT_UNSTABLE:function(e){return[Qm(e),Wm(e)]}};var Xm=function(e,t){const n=new Map;for(const[r,i]of e)t(i,r)&&n.set(r,i);return n};var Zm=function(e,t){const n=new Set;for(const r of e)t(r)&&n.add(r);return n};var $m=function(){const e=new Map;for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(let i=0;i<n.length;i++){const t=n[i].keys();let r;for(;!(r=t.next()).done;)e.set(r.value,n[i].get(r.value))}return e};const{batchUpdates:eg}=qf,{DEFAULT_VALUE:tg,getNode:ng,nodes:rg}=fh,{useStoreRef:ig}=om,{AbstractRecoilValue:og,setRecoilValueLoadable:sg}=_f,{SUSPENSE_TIMEOUT_MS:ag}=Pf,{cloneSnapshot:lg}=_p,{useCallback:cg,useEffect:ug,useRef:dg,useState:hg}=i,{isSSR:fg}=Yf;function pg(e){const t=ig();ug((()=>t.current.subscribeToTransactions(e).release),[e,t])}function mg(e){const t=e.atomValues.toMap(),n=Sh(Xm(t,((e,t)=>{const n=ng(t).persistence_UNSTABLE;return null!=n&&"none"!==n.type&&"hasValue"===e.state})),(e=>e.contents));return $m(e.nonvalidatedAtoms.toMap(),n)}function gg(e,t){var n;const r=e.getState(),i=null!==(n=r.nextTree)&&void 0!==n?n:r.currentTree,o=t.getStore_INTERNAL().getState().currentTree;eg((()=>{const n=new Set;for(const e of[i.atomValues.keys(),o.atomValues.keys()])for(const t of e){var r,s;(null===(r=i.atomValues.get(t))||void 0===r?void 0:r.contents)!==(null===(s=o.atomValues.get(t))||void 0===s?void 0:s.contents)&&ng(t).shouldRestoreFromSnapshots&&n.add(t)}n.forEach((t=>{sg(e,new og(t),o.atomValues.has(t)?fd(o.atomValues.get(t)):tg)})),e.replaceState((e=>({...e,stateID:t.getID()})))}))}var vg={useRecoilSnapshot:function(){const e=ig(),[t,n]=hg((()=>lg(e.current))),r=cm(t),i=dg(),o=dg();if(pg(cg((e=>n(lg(e))),[])),ug((()=>{const e=t.retain();var n;i.current&&!fg&&(window.clearTimeout(i.current),i.current=null,null===(n=o.current)||void 0===n||n.call(o),o.current=null);return()=>{window.setTimeout(e,10)}}),[t]),r!==t&&!fg){var s;if(i.current)window.clearTimeout(i.current),i.current=null,null===(s=o.current)||void 0===s||s.call(o),o.current=null;o.current=t.retain(),i.current=window.setTimeout((()=>{var e;i.current=null,null===(e=o.current)||void 0===e||e.call(o),o.current=null}),ag)}return t},gotoSnapshot:gg,useGotoRecoilSnapshot:function(){const e=ig();return cg((t=>gg(e.current,t)),[e])},useRecoilTransactionObserver:function(e){pg(cg((t=>{const n=lg(t,"latest"),r=lg(t,"previous");e({snapshot:n,previousSnapshot:r})}),[e]))},useTransactionObservation_DEPRECATED:function(e){pg(cg((t=>{let n=t.getState().previousTree;const r=t.getState().currentTree;n||(qd("Transaction subscribers notified without a previous tree being present -- this is a bug in Recoil"),n=t.getState().currentTree);const i=mg(r),o=mg(n),s=Sh(rg,(e=>{var t,n,r,i;return{persistence_UNSTABLE:{type:null!==(t=null===(n=e.persistence_UNSTABLE)||void 0===n?void 0:n.type)&&void 0!==t?t:"none",backButton:null!==(r=null===(i=e.persistence_UNSTABLE)||void 0===i?void 0:i.backButton)&&void 0!==r&&r}}})),a=Zm(r.dirtyAtoms,(e=>i.has(e)||o.has(e)));e({atomValues:i,previousAtomValues:o,atomInfo:s,modifiedAtoms:a,transactionMetadata:{...r.transactionMetadata}})}),[e]))},useTransactionSubscription_DEPRECATED:pg};const{peekNodeInfo:yg}=Xh,{useStoreRef:bg}=om;var wg=function(){const e=bg();return t=>{let{key:n}=t;return yg(e.current,e.current.getState().currentTree,n)}};const{reactMode:Ag}=Wd,{RecoilRoot:_g,useStoreRef:xg}=om,{useMemo:Sg}=i;var kg=function(){"MUTABLE_SOURCE"===Ag().mode&&console.warn("Warning: There are known issues using useRecoilBridgeAcrossReactRoots() in recoil_mutable_source rendering mode.  Please consider upgrading to recoil_sync_external_store mode.");const e=xg().current;return Sg((()=>function(t){let{children:n}=t;return i.createElement(_g,{store_INTERNAL:e},n)}),[e])};const{loadableWithValue:Eg}=Pd,{initializeNode:Cg}=Xh,{DEFAULT_VALUE:Tg,getNode:Ng}=fh,{copyTreeState:Og,getRecoilValueAsLoadable:Ig,invalidateDownstreams:Dg,writeLoadableToTreeState:jg}=_f;function Pg(e){return"atom"===Ng(e.key).nodeType}class Rg{constructor(e,t){pd(this,"_store",void 0),pd(this,"_treeState",void 0),pd(this,"_changes",void 0),pd(this,"get",(e=>{if(this._changes.has(e.key))return this._changes.get(e.key);if(!Pg(e))throw dd("Reading selectors within atomicUpdate is not supported");const t=Ig(this._store,e,this._treeState);if("hasValue"===t.state)return t.contents;throw"hasError"===t.state?t.contents:dd("Expected Recoil atom ".concat(e.key," to have a value, but it is in a loading state."))})),pd(this,"set",((e,t)=>{if(!Pg(e))throw dd("Setting selectors within atomicUpdate is not supported");if("function"===typeof t){const n=this.get(e);this._changes.set(e.key,t(n))}else Cg(this._store,e.key,"set"),this._changes.set(e.key,t)})),pd(this,"reset",(e=>{this.set(e,Tg)})),this._store=e,this._treeState=t,this._changes=new Map}newTreeState_INTERNAL(){if(0===this._changes.size)return this._treeState;const e=Og(this._treeState);for(const[t,n]of this._changes)jg(e,t,Eg(n));return Dg(this._store,e),e}}var Lg=function(e){return t=>{e.replaceState((n=>{const r=new Rg(e,n);return t(r),r.newTreeState_INTERNAL()}))}},Mg=Lg,Bg=Object.freeze({__proto__:null,atomicUpdater:Mg});var Ug=function(e,t){if(!e)throw new Error(t)};const{atomicUpdater:Fg}=Bg,{batchUpdates:Vg}=qf,{DEFAULT_VALUE:qg}=fh,{useStoreRef:Hg}=om,{refreshRecoilValue:zg,setRecoilValue:Gg}=_f,{cloneSnapshot:Yg}=_p,{gotoSnapshot:Wg}=vg,{useCallback:Kg}=i;class Qg{}const Jg=new Qg;function Xg(e,t,n,r){let i,o=Jg;var s;(Vg((()=>{const s="useRecoilCallback() expects a function that returns a function: it accepts a function of the type (RecoilInterface) => (Args) => ReturnType and returns a callback function (Args) => ReturnType, where RecoilInterface is an object {snapshot, set, ...} and Args and ReturnType are the argument and return types of the callback you want to create.  Please see the docs at recoiljs.org for details.";if("function"!==typeof t)throw dd(s);const a=Fh({...null!==r&&void 0!==r?r:{},set:(t,n)=>Gg(e,t,n),reset:t=>Gg(e,t,qg),refresh:t=>zg(e,t),gotoSnapshot:t=>Wg(e,t),transact_UNSTABLE:t=>Fg(e)(t)},{snapshot:()=>{const t=Yg(e);return i=t.retain(),t}}),l=t(a);if("function"!==typeof l)throw dd(s);o=l(...n)})),o instanceof Qg&&Ug(!1),hd(o))?o=o.finally((()=>{var e;null===(e=i)||void 0===e||e()})):null===(s=i)||void 0===s||s();return o}var Zg={recoilCallback:Xg,useRecoilCallback:function(e,t){const n=Hg();return Kg((function(){for(var t=arguments.length,r=new Array(t),i=0;i<t;i++)r[i]=arguments[i];return Xg(n.current,e,r)}),null!=t?[...t,n]:void 0)}};const{useStoreRef:$g}=om,{refreshRecoilValue:ev}=_f,{useCallback:tv}=i;var nv=function(e){const t=$g();return tv((()=>{const n=t.current;ev(n,e)}),[e,t])};const{atomicUpdater:rv}=Bg,{useStoreRef:iv}=om,{useMemo:ov}=i;var sv=function(e,t){const n=iv();return ov((()=>function(){for(var t=arguments.length,r=new Array(t),i=0;i<t;i++)r[i]=arguments[i];rv(n.current)((t=>{e(t)(...r)}))}),null!=t?[...t,n]:void 0)};var av=class{constructor(e){pd(this,"value",void 0),this.value=e}},lv=Object.freeze({__proto__:null,WrappedValue:av});const{isFastRefreshEnabled:cv}=Wd;class uv extends Error{}var dv=class{constructor(e){var t,n,r;pd(this,"_name",void 0),pd(this,"_numLeafs",void 0),pd(this,"_root",void 0),pd(this,"_onHit",void 0),pd(this,"_onSet",void 0),pd(this,"_mapNodeValue",void 0),this._name=null===e||void 0===e?void 0:e.name,this._numLeafs=0,this._root=null,this._onHit=null!==(t=null===e||void 0===e?void 0:e.onHit)&&void 0!==t?t:()=>{},this._onSet=null!==(n=null===e||void 0===e?void 0:e.onSet)&&void 0!==n?n:()=>{},this._mapNodeValue=null!==(r=null===e||void 0===e?void 0:e.mapNodeValue)&&void 0!==r?r:e=>e}size(){return this._numLeafs}root(){return this._root}get(e,t){var n;return null===(n=this.getLeafNode(e,t))||void 0===n?void 0:n.value}getLeafNode(e,t){if(null==this._root)return;let n=this._root;for(;n;){if(null===t||void 0===t||t.onNodeVisit(n),"leaf"===n.type)return this._onHit(n),n;const r=this._mapNodeValue(e(n.nodeKey));n=n.branches.get(r)}}set(e,t,n){const r=()=>{var r,i,o,s;let a,l;for(const[t,p]of e){var c,u,d;const e=this._root;if("leaf"===(null===e||void 0===e?void 0:e.type))throw this.invalidCacheError();const r=a;if(a=r?r.branches.get(l):e,a=null!==(c=a)&&void 0!==c?c:{type:"branch",nodeKey:t,parent:r,branches:new Map,branchKey:l},"branch"!==a.type||a.nodeKey!==t)throw this.invalidCacheError();null===r||void 0===r||r.branches.set(l,a),null===n||void 0===n||null===(u=n.onNodeVisit)||void 0===u||u.call(n,a),l=this._mapNodeValue(p),this._root=null!==(d=this._root)&&void 0!==d?d:a}const h=a?null===(r=a)||void 0===r?void 0:r.branches.get(l):this._root;if(null!=h&&("leaf"!==h.type||h.branchKey!==l))throw this.invalidCacheError();const f={type:"leaf",value:t,parent:a,branchKey:l};null===(i=a)||void 0===i||i.branches.set(l,f),this._root=null!==(o=this._root)&&void 0!==o?o:f,this._numLeafs++,this._onSet(f),null===n||void 0===n||null===(s=n.onNodeVisit)||void 0===s||s.call(n,f)};try{r()}catch(i){if(!(i instanceof uv))throw i;this.clear(),r()}}delete(e){const t=this.root();if(!t)return!1;if(e===t)return this._root=null,this._numLeafs=0,!0;let n=e.parent,r=e.branchKey;for(;n;){var i;if(n.branches.delete(r),n===t)return 0===n.branches.size?(this._root=null,this._numLeafs=0):this._numLeafs--,!0;if(n.branches.size>0)break;r=null===(i=n)||void 0===i?void 0:i.branchKey,n=n.parent}for(;n!==t;n=n.parent)if(null==n)return!1;return this._numLeafs--,!0}clear(){this._numLeafs=0,this._root=null}invalidCacheError(){const e=cv()?"Possible Fast Refresh module reload detected.  This may also be caused by an selector returning inconsistent values. Resetting cache.":"Invalid cache values.  This happens when selectors do not return consistent values for the same input dependency values.  That may also be caused when using Fast Refresh to change a selector implementation.  Resetting cache.";throw qd(e+(null!=this._name?" - ".concat(this._name):"")),new uv}},hv=dv,fv=Object.freeze({__proto__:null,TreeCache:hv});var pv=class{constructor(e){var t;pd(this,"_maxSize",void 0),pd(this,"_size",void 0),pd(this,"_head",void 0),pd(this,"_tail",void 0),pd(this,"_map",void 0),pd(this,"_keyMapper",void 0),this._maxSize=e.maxSize,this._size=0,this._head=null,this._tail=null,this._map=new Map,this._keyMapper=null!==(t=e.mapKey)&&void 0!==t?t:e=>e}head(){return this._head}tail(){return this._tail}size(){return this._size}maxSize(){return this._maxSize}has(e){return this._map.has(this._keyMapper(e))}get(e){const t=this._keyMapper(e),n=this._map.get(t);if(n)return this.set(e,n.value),n.value}set(e,t){const n=this._keyMapper(e);this._map.get(n)&&this.delete(e);const r=this.head(),i={key:e,right:r,left:null,value:t};r?r.left=i:this._tail=i,this._map.set(n,i),this._head=i,this._size++,this._maybeDeleteLRU()}_maybeDeleteLRU(){this.size()>this.maxSize()&&this.deleteLru()}deleteLru(){const e=this.tail();e&&this.delete(e.key)}delete(e){const t=this._keyMapper(e);if(!this._size||!this._map.has(t))return;const n=fd(this._map.get(t)),r=n.right,i=n.left;r&&(r.left=n.left),i&&(i.right=n.right),n===this.head()&&(this._head=r),n===this.tail()&&(this._tail=i),this._map.delete(t),this._size--}clear(){this._size=0,this._head=null,this._tail=null,this._map=new Map}},mv=pv,gv=Object.freeze({__proto__:null,LRUCache:mv});const{LRUCache:vv}=gv,{TreeCache:yv}=fv;var bv=function(e){let{name:t,maxSize:n,mapNodeValue:r=(e=>e)}=e;const i=new vv({maxSize:n}),o=new yv({name:t,mapNodeValue:r,onHit:e=>{i.set(e,!0)},onSet:e=>{const t=i.tail();i.set(e,!0),t&&o.size()>n&&o.delete(t.key)}});return o};function wv(e,t,n){if("string"===typeof e&&!e.includes('"')&&!e.includes("\\"))return'"'.concat(e,'"');switch(typeof e){case"undefined":return"";case"boolean":return e?"true":"false";case"number":case"symbol":return String(e);case"string":return JSON.stringify(e);case"function":if(!0!==(null===t||void 0===t?void 0:t.allowFunctions))throw dd("Attempt to serialize function in a Recoil cache key");return"__FUNCTION(".concat(e.name,")__")}if(null===e)return"null";var r;if("object"!==typeof e)return null!==(r=JSON.stringify(e))&&void 0!==r?r:"";if(hd(e))return"__PROMISE__";if(Array.isArray(e))return"[".concat(e.map(((e,n)=>wv(e,t,n.toString()))),"]");if("function"===typeof e.toJSON)return wv(e.toJSON(n),t,n);if(e instanceof Map){const r={};for(const[n,i]of e)r["string"===typeof n?n:wv(n,t)]=i;return wv(r,t,n)}return e instanceof Set?wv(Array.from(e).sort(((e,n)=>wv(e,t).localeCompare(wv(n,t)))),t,n):void 0!==Symbol&&null!=e[Symbol.iterator]&&"function"===typeof e[Symbol.iterator]?wv(Array.from(e),t,n):"{".concat(Object.keys(e).filter((t=>void 0!==e[t])).sort().map((n=>"".concat(wv(n,t),":").concat(wv(e[n],t,n)))).join(","),"}")}var Av=function(e){return wv(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:{allowFunctions:!1})};const{TreeCache:_v}=fv,xv={equality:"reference",eviction:"keep-all",maxSize:1/0};var Sv=function(){let{equality:e=xv.equality,eviction:t=xv.eviction,maxSize:n=xv.maxSize}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:xv,r=arguments.length>1?arguments[1]:void 0;const i=function(e){switch(e){case"reference":return e=>e;case"value":return e=>Av(e)}throw dd("Unrecognized equality policy ".concat(e))}(e);return function(e,t,n,r){switch(e){case"keep-all":return new _v({name:r,mapNodeValue:n});case"lru":return bv({name:r,maxSize:fd(t),mapNodeValue:n});case"most-recent":return bv({name:r,maxSize:1,mapNodeValue:n})}throw dd("Unrecognized eviction policy ".concat(e))}(t,n,i,r)};const{isReactNative:kv,isWindow:Ev}=Yf;var Cv={startPerfBlock:function(e){return()=>null}};const{isLoadable:Tv,loadableWithError:Nv,loadableWithPromise:Ov,loadableWithValue:Iv}=Pd,{WrappedValue:Dv}=lv,{getNodeLoadable:jv,peekNodeLoadable:Pv,setNodeValue:Rv}=Xh,{saveDepsToStore:Lv}=Eh,{DEFAULT_VALUE:Mv,getConfigDeletionHandler:Bv,getNode:Uv,registerNode:Fv}=fh,{isRecoilValue:Vv}=nh,{markRecoilValueModified:qv}=_f,{retainedByOptionWithDefault:Hv}=Pf,{recoilCallback:zv}=Zg,{startPerfBlock:Gv}=Cv;class Yv{}const Wv=new Yv,Kv=[],Qv=new Map,Jv=(()=>{let e=0;return()=>e++})();function Xv(e){let t=null;const{key:n,get:r,cachePolicy_UNSTABLE:i}=e,o=null!=e.set?e.set:void 0;const s=new Set,a=Sv(null!==i&&void 0!==i?i:{equality:"reference",eviction:"keep-all"},n),l=Hv(e.retainedBy_UNSTABLE),c=new Map;let u=0;function d(){return!Bd("recoil_memory_managament_2020")||u>0}function h(e){return e.getState().knownSelectors.add(n),u++,()=>{u--}}function f(){return void 0!==Bv(n)&&!d()}function p(e,t,n,r,i){C(t,r,i),m(e,n)}function m(e,t){E(e,t)&&k(e),g(t,!0)}function g(e,n){const r=Qv.get(e);if(null!=r){for(const e of r)qv(e,fd(t));n&&Qv.delete(e)}}function v(e,t){let n=Qv.get(t);null==n&&Qv.set(t,n=new Set),n.add(e)}function y(e,t,n,r,i,o){return t.then((r=>{if(!d())throw k(e),Wv;null!=o.loadingDepKey&&o.loadingDepPromise===t?n.atomValues.set(o.loadingDepKey,Iv(r)):e.getState().knownSelectors.forEach((e=>{n.atomValues.delete(e)}));const s=A(e,n);if(s&&"loading"!==s.state){if((E(e,i)||null==S(e))&&m(e,i),"hasValue"===s.state)return s.contents;throw s.contents}if(!E(e,i)){const t=x(e,n);if(null!=t)return t.loadingLoadable.contents}const[a,l]=w(e,n,i);if("loading"!==a.state&&p(e,n,i,a,l),"hasError"===a.state)throw a.contents;return a.contents})).catch((t=>{if(t instanceof Yv)throw Wv;if(!d())throw k(e),Wv;const o=Nv(t);throw p(e,n,i,o,r),t}))}function b(e,t,r,i){var o,a,l,c,u,d,h;(E(e,i)||t.version===(null===(o=e.getState())||void 0===o||null===(a=o.currentTree)||void 0===a?void 0:a.version)||t.version===(null===(l=e.getState())||void 0===l||null===(c=l.nextTree)||void 0===c?void 0:c.version))&&Lv(n,r,e,null!==(u=null===(d=e.getState())||void 0===d||null===(h=d.nextTree)||void 0===h?void 0:h.version)&&void 0!==u?u:e.getState().currentTree.version);for(const n of r)s.add(n)}function w(e,i,o){const s=Gv(n);let a=!0,l=!0;const c=()=>{s(),l=!1};let u,h,f=!1;const m={loadingDepKey:null,loadingDepPromise:null},v=new Map;function w(t){let{key:n}=t;const r=jv(e,i,n);switch(v.set(n,r),a||(b(e,i,new Set(v.keys()),o),function(e,t){E(e,t)&&(fd(S(e)).stateVersions.clear(),g(t,!1))}(e,o)),r.state){case"hasValue":return r.contents;case"hasError":throw r.contents;case"loading":throw m.loadingDepKey=n,m.loadingDepPromise=r.contents,r.contents}throw dd("Invalid Loadable state")}const A=n=>function(){if(l)throw dd("Callbacks from getCallback() should only be called asynchronously after the selector is evalutated.  It can be used for selectors to return objects with callbacks that can work with Recoil state without a subscription.");null==t&&Ug(!1);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return zv(e,n,i,{node:t})};try{u=r({get:w,getCallback:A}),u=Vv(u)?w(u):u,Tv(u)&&("hasError"===u.state&&(f=!0),u=u.contents),hd(u)?u=function(e,t,n,r,i,o){return t.then((t=>{if(!d())throw k(e),Wv;const o=Iv(t);return p(e,n,i,o,r),t})).catch((t=>{if(!d())throw k(e),Wv;if(hd(t))return y(e,t,n,r,i,o);const s=Nv(t);throw p(e,n,i,s,r),t}))}(e,u,i,v,o,m).finally(c):c(),u=u instanceof Dv?u.value:u}catch(_){u=_,hd(u)?u=y(e,u,i,v,o,m).finally(c):(f=!0,c())}return h=f?Nv(u):hd(u)?Ov(u):Iv(u),a=!1,function(e,t,n){if(E(e,t)){const t=S(e);null!=t&&(t.depValuesDiscoveredSoFarDuringAsyncWork=n)}}(e,o,v),b(e,i,new Set(v.keys()),o),[h,v]}function A(e,t){let r=t.atomValues.get(n);if(null!=r)return r;const i=new Set;try{r=a.get((n=>("string"!==typeof n&&Ug(!1),jv(e,t,n).contents)),{onNodeVisit:e=>{"branch"===e.type&&e.nodeKey!==n&&i.add(e.nodeKey)}})}catch(s){throw dd('Problem with cache lookup for selector "'.concat(n,'": ').concat(s.message))}var o;r&&(t.atomValues.set(n,r),b(e,t,i,null===(o=S(e))||void 0===o?void 0:o.executionID));return r}function _(e,t){const n=A(e,t);if(null!=n)return k(e),n;const r=x(e,t);var i;if(null!=r)return"loading"===(null===(i=r.loadingLoadable)||void 0===i?void 0:i.state)&&v(e,r.executionID),r.loadingLoadable;const o=Jv(),[s,a]=w(e,t,o);return"loading"===s.state?(!function(e,t,n,r,i){c.set(e,{depValuesDiscoveredSoFarDuringAsyncWork:r,executionID:t,loadingLoadable:n,stateVersions:new Map([[i.version,!0]])})}(e,o,s,a,t),v(e,o)):(k(e),C(t,s,a)),s}function x(e,t){const n=Hf([c.has(e)?[fd(c.get(e))]:[],ih(Uh(c,(t=>{let[n]=t;return n!==e})),(e=>{let[,t]=e;return t}))]);function r(n){for(const[r,i]of n)if(!jv(e,t,r).is(i))return!0;return!1}for(const i of n){if(i.stateVersions.get(t.version)||!r(i.depValuesDiscoveredSoFarDuringAsyncWork))return i.stateVersions.set(t.version,!0),i;i.stateVersions.set(t.version,!1)}}function S(e){return c.get(e)}function k(e){c.delete(e)}function E(e,t){var n;return t===(null===(n=S(e))||void 0===n?void 0:n.executionID)}function C(e,t,r){e.atomValues.set(n,t);try{a.set(function(e){return Array.from(e.entries()).map((e=>{let[t,n]=e;return[t,n.contents]}))}(r),t)}catch(i){throw dd('Problem with setting cache for selector "'.concat(n,'": ').concat(i.message))}}function T(e,t){const r=t.atomValues.get(n);return null!=r?r:a.get((n=>{var r;return"string"!==typeof n&&Ug(!1),null===(r=Pv(e,t,n))||void 0===r?void 0:r.contents}))}function N(e,t){return function(e){if(Kv.includes(n)){const e="Recoil selector has circular dependencies: ".concat(Kv.slice(Kv.indexOf(n)).join(" \u2192 "));return Nv(dd(e))}Kv.push(n);try{return e()}finally{Kv.pop()}}((()=>_(e,t)))}function O(e){e.atomValues.delete(n)}function I(e,n){null==t&&Ug(!1);for(const t of s){var r;const i=Uv(t);null===(r=i.clearCache)||void 0===r||r.call(i,e,n)}s.clear(),O(n),a.clear(),qv(e,t)}if(null!=o){const r=(e,t,r)=>{let i=!1;const s=new Map;function a(r){let{key:o}=r;if(i)throw dd("Recoil: Async selector sets are not currently supported.");const s=jv(e,t,o);if("hasValue"===s.state)return s.contents;if("loading"===s.state){const e='Getting value of asynchronous atom or selector "'.concat(o,'" in a pending state while setting selector "').concat(n,'" is not yet supported.');throw qd(e),dd(e)}throw s.contents}function l(n,r){if(i){const e="Recoil: Async selector sets are not currently supported.";throw qd(e),dd(e)}const o="function"===typeof r?r(a(n)):r;Rv(e,t,n.key,o).forEach(((e,t)=>s.set(t,e)))}const c=o({set:l,get:a,reset:function(e){l(e,Mv)}},r);if(void 0!==c)throw hd(c)?dd("Recoil: Async selector sets are not currently supported."):dd("Recoil: selector set should be a void function.");return i=!0,s};return t=Fv({key:n,nodeType:"selector",peek:T,get:N,set:r,init:h,invalidate:O,clearCache:I,shouldDeleteConfigOnRelease:f,dangerouslyAllowMutability:e.dangerouslyAllowMutability,shouldRestoreFromSnapshots:!1,retainedBy:l})}return t=Fv({key:n,nodeType:"selector",peek:T,get:N,init:h,invalidate:O,clearCache:I,shouldDeleteConfigOnRelease:f,dangerouslyAllowMutability:e.dangerouslyAllowMutability,shouldRestoreFromSnapshots:!1,retainedBy:l})}Xv.value=e=>new Dv(e);var Zv=Xv;const{isLoadable:$v,loadableWithError:ey,loadableWithPromise:ty,loadableWithValue:ny}=Pd,{WrappedValue:ry}=lv,{peekNodeInfo:iy}=Xh,{DEFAULT_VALUE:oy,DefaultValue:sy,getConfigDeletionHandler:ay,registerNode:ly,setConfigDeletionHandler:cy}=fh,{isRecoilValue:uy}=nh,{getRecoilValueAsLoadable:dy,markRecoilValueModified:hy,setRecoilValue:fy,setRecoilValueLoadable:py}=_f,{retainedByOptionWithDefault:my}=Pf,gy=e=>e instanceof ry?e.value:e;function vy(e){const{key:t,persistence_UNSTABLE:n}=e,r=my(e.retainedBy_UNSTABLE);let i=0;function o(e){return ty(e.then((e=>(a=ny(e),e))).catch((e=>{throw a=ey(e),e})))}let s,a=hd(e.default)?o(e.default):$v(e.default)?"loading"===e.default.state?o(e.default.contents):e.default:ny(gy(e.default));c(a.contents);const l=new Map;function c(e){return e}function u(e,n){var r,i;return null!==(r=null!==(i=n.atomValues.get(t))&&void 0!==i?i:s)&&void 0!==r?r:a}const d=ly({key:t,nodeType:"atom",peek:u,get:function(e,r){if(r.atomValues.has(t))return fd(r.atomValues.get(t));if(r.nonvalidatedAtoms.has(t)){if(null!=s)return s;if(null==n)return rh("Tried to restore a persisted value for atom ".concat(t," but it has no persistence settings.")),a;const e=r.nonvalidatedAtoms.get(t),i=n.validator(e,oy),o=i instanceof sy?a:ny(i);return s=o,s}return a},set:function(e,n,r){if(n.atomValues.has(t)){const e=fd(n.atomValues.get(t));if("hasValue"===e.state&&r===e.contents)return new Map}else if(!n.nonvalidatedAtoms.has(t)&&r instanceof sy)return new Map;return s=void 0,(new Map).set(t,ny(r))},init:function(n,r,o){var s;if(i++,n.getState().knownAtoms.add(t),"loading"===a.state){const m=()=>{var e;(null!==(e=n.getState().nextTree)&&void 0!==e?e:n.getState().currentTree).atomValues.has(t)||hy(n,d)};a.contents.finally(m)}const c=null!==(s=e.effects)&&void 0!==s?s:e.effects_UNSTABLE;if(null!=c){let g=oy,v=!0,y=!1,b=null;function w(e){if(v&&e.key===t){const e=g;return e instanceof sy?u(n,r):hd(e)?ty(e.then((e=>e instanceof sy?a.toPromise():e))):ny(e)}return dy(n,e)}function A(e){return w(e).toPromise()}function _(e){var r;const i=iy(n,null!==(r=n.getState().nextTree)&&void 0!==r?r:n.getState().currentTree,e.key);return!v||e.key!==t||g instanceof sy?i:{...i,isSet:!0,loadable:w(e)}}const x=e=>t=>{if(v){const n=w(d),r="hasValue"===n.state?n.contents:oy;g="function"===typeof t?t(r):t,hd(g)&&(g=g.then((t=>(b={effect:e,value:t},t))))}else{if(hd(t))throw dd("Setting atoms to async values is not implemented.");"function"!==typeof t&&(b={effect:e,value:gy(t)}),fy(n,d,"function"===typeof t?n=>{const r=gy(t(n));return b={effect:e,value:r},r}:gy(t))}},S=e=>()=>x(e)(oy),k=e=>r=>{var i;const{release:o}=n.subscribeToTransactions((n=>{var i;let{currentTree:o,previousTree:s}=n.getState();s||(qd("Transaction subscribers notified without a next tree being present -- this is a bug in Recoil"),s=o);const l=null!==(i=o.atomValues.get(t))&&void 0!==i?i:a;if("hasValue"===l.state){var c,u,d,h;const n=l.contents,i=null!==(c=s.atomValues.get(t))&&void 0!==c?c:a,f="hasValue"===i.state?i.contents:oy;(null===(u=b)||void 0===u?void 0:u.effect)!==e||(null===(d=b)||void 0===d?void 0:d.value)!==n?r(n,f,!o.atomValues.has(t)):(null===(h=b)||void 0===h?void 0:h.effect)===e&&(b=null)}}),t);l.set(n,[...null!==(i=l.get(n))&&void 0!==i?i:[],o])};for(const E of c)try{const C=E({node:d,storeID:n.storeID,parentStoreID_UNSTABLE:n.parentStoreID,trigger:o,setSelf:x(E),resetSelf:S(E),onSet:k(E),getPromise:A,getLoadable:w,getInfo_UNSTABLE:_});var h;if(null!=C)l.set(n,[...null!==(h=l.get(n))&&void 0!==h?h:[],C])}catch(p){g=p,y=!0}if(v=!1,!(g instanceof sy)){var f;const T=y?ey(g):hd(g)?ty(function(e,n){const r=n.then((n=>{var i,o;return(null===(o=(null!==(i=e.getState().nextTree)&&void 0!==i?i:e.getState().currentTree).atomValues.get(t))||void 0===o?void 0:o.contents)===r&&fy(e,d,n),n})).catch((n=>{var i,o;throw(null===(o=(null!==(i=e.getState().nextTree)&&void 0!==i?i:e.getState().currentTree).atomValues.get(t))||void 0===o?void 0:o.contents)===r&&py(e,d,ey(n)),n}));return r}(n,g)):ny(gy(g));T.contents,r.atomValues.set(t,T),null===(f=n.getState().nextTree)||void 0===f||f.atomValues.set(t,T)}}return()=>{var e;i--,null===(e=l.get(n))||void 0===e||e.forEach((e=>e())),l.delete(n)}},invalidate:function(){s=void 0},shouldDeleteConfigOnRelease:function(){return void 0!==ay(t)&&i<=0},dangerouslyAllowMutability:e.dangerouslyAllowMutability,persistence_UNSTABLE:e.persistence_UNSTABLE?{type:e.persistence_UNSTABLE.type,backButton:e.persistence_UNSTABLE.backButton}:void 0,shouldRestoreFromSnapshots:!0,retainedBy:r});return d}function yy(e){const{...t}=e,n="default"in e?e.default:new Promise((()=>{}));return uy(n)?function(e){const t=yy({...e,default:oy,persistence_UNSTABLE:void 0===e.persistence_UNSTABLE?void 0:{...e.persistence_UNSTABLE,validator:t=>t instanceof sy?t:fd(e.persistence_UNSTABLE).validator(t,oy)},effects:e.effects,effects_UNSTABLE:e.effects_UNSTABLE}),n=Zv({key:"".concat(e.key,"__withFallback"),get:n=>{let{get:r}=n;const i=r(t);return i instanceof sy?e.default:i},set:(e,n)=>{let{set:r}=e;return r(t,n)},cachePolicy_UNSTABLE:{eviction:"most-recent"},dangerouslyAllowMutability:e.dangerouslyAllowMutability});return cy(n.key,ay(e.key)),n}({...t,default:n}):vy({...t,default:n})}yy.value=e=>new ry(e);var by=yy;var wy=class{constructor(e){var t;pd(this,"_map",void 0),pd(this,"_keyMapper",void 0),this._map=new Map,this._keyMapper=null!==(t=null===e||void 0===e?void 0:e.mapKey)&&void 0!==t?t:e=>e}size(){return this._map.size}has(e){return this._map.has(this._keyMapper(e))}get(e){return this._map.get(this._keyMapper(e))}set(e,t){this._map.set(this._keyMapper(e),t)}delete(e){this._map.delete(this._keyMapper(e))}clear(){this._map.clear()}},Ay=wy,_y=Object.freeze({__proto__:null,MapCache:Ay});const{LRUCache:xy}=gv,{MapCache:Sy}=_y,ky={equality:"reference",eviction:"none",maxSize:1/0};var Ey=function(){let{equality:e=ky.equality,eviction:t=ky.eviction,maxSize:n=ky.maxSize}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ky;const r=function(e){switch(e){case"reference":return e=>e;case"value":return e=>Av(e)}throw dd("Unrecognized equality policy ".concat(e))}(e),i=function(e,t,n){switch(e){case"keep-all":return new Sy({mapKey:n});case"lru":return new xy({mapKey:n,maxSize:fd(t)});case"most-recent":return new xy({mapKey:n,maxSize:1})}throw dd("Unrecognized eviction policy ".concat(e))}(t,n,r);return i};const{setConfigDeletionHandler:Cy}=fh;var Ty=function(e){var t,n;const r=Ey({equality:null!==(t=null===(n=e.cachePolicyForParams_UNSTABLE)||void 0===n?void 0:n.equality)&&void 0!==t?t:"value",eviction:"keep-all"});return t=>{var n,i;const o=r.get(t);if(null!=o)return o;const{cachePolicyForParams_UNSTABLE:s,...a}=e,l="default"in e?e.default:new Promise((()=>{})),c=by({...a,key:"".concat(e.key,"__").concat(null!==(n=Av(t))&&void 0!==n?n:"void"),default:"function"===typeof l?l(t):l,retainedBy_UNSTABLE:"function"===typeof e.retainedBy_UNSTABLE?e.retainedBy_UNSTABLE(t):e.retainedBy_UNSTABLE,effects:"function"===typeof e.effects?e.effects(t):"function"===typeof e.effects_UNSTABLE?e.effects_UNSTABLE(t):null!==(i=e.effects)&&void 0!==i?i:e.effects_UNSTABLE});return r.set(t,c),Cy(c.key,(()=>{r.delete(t)})),c}};const{setConfigDeletionHandler:Ny}=fh;let Oy=0;var Iy=function(e){var t,n;const r=Ey({equality:null!==(t=null===(n=e.cachePolicyForParams_UNSTABLE)||void 0===n?void 0:n.equality)&&void 0!==t?t:"value",eviction:"keep-all"});return t=>{var n;let i;try{i=r.get(t)}catch(u){throw dd("Problem with cache lookup for selector ".concat(e.key,": ").concat(u.message))}if(null!=i)return i;const o="".concat(e.key,"__selectorFamily/").concat(null!==(n=Av(t,{allowFunctions:!0}))&&void 0!==n?n:"void","/").concat(Oy++),s=n=>e.get(t)(n),a=e.cachePolicy_UNSTABLE,l="function"===typeof e.retainedBy_UNSTABLE?e.retainedBy_UNSTABLE(t):e.retainedBy_UNSTABLE;let c;if(null!=e.set){const n=e.set;c=Zv({key:o,get:s,set:(e,r)=>n(t)(e,r),cachePolicy_UNSTABLE:a,dangerouslyAllowMutability:e.dangerouslyAllowMutability,retainedBy_UNSTABLE:l})}else c=Zv({key:o,get:s,cachePolicy_UNSTABLE:a,dangerouslyAllowMutability:e.dangerouslyAllowMutability,retainedBy_UNSTABLE:l});return r.set(t,c),Ny(c.key,(()=>{r.delete(t)})),c}};const Dy=Iy({key:"__constant",get:e=>()=>e,cachePolicyForParams_UNSTABLE:{equality:"reference"}});var jy=function(e){return Dy(e)};const Py=Iy({key:"__error",get:e=>()=>{throw dd(e)},cachePolicyForParams_UNSTABLE:{equality:"reference"}});var Ry=function(e){return Py(e)};var Ly=function(e){return e};const{loadableWithError:My,loadableWithPromise:By,loadableWithValue:Uy}=Pd;function Fy(e,t){const n=Array(t.length).fill(void 0),r=Array(t.length).fill(void 0);for(const[i,o]of t.entries())try{n[i]=e(o)}catch(IU){r[i]=IU}return[n,r]}function Vy(e){return null!=e&&!hd(e)}function qy(e){return Array.isArray(e)?e:Object.getOwnPropertyNames(e).map((t=>e[t]))}function Hy(e,t){return Array.isArray(e)?t:Object.getOwnPropertyNames(e).reduce(((e,n,r)=>({...e,[n]:t[r]})),{})}function zy(e,t,n){return Hy(e,n.map(((e,n)=>null==e?Uy(t[n]):hd(e)?By(e):My(e))))}var Gy={waitForNone:Iy({key:"__waitForNone",get:e=>t=>{let{get:n}=t;const r=qy(e),[i,o]=Fy(n,r);return zy(e,i,o)},dangerouslyAllowMutability:!0}),waitForAny:Iy({key:"__waitForAny",get:e=>t=>{let{get:n}=t;const r=qy(e),[i,o]=Fy(n,r);return o.some((e=>!hd(e)))?zy(e,i,o):new Promise((t=>{for(const[n,r]of o.entries())hd(r)&&r.then((r=>{i[n]=r,o[n]=void 0,t(zy(e,i,o))})).catch((r=>{o[n]=r,t(zy(e,i,o))}))}))},dangerouslyAllowMutability:!0}),waitForAll:Iy({key:"__waitForAll",get:e=>t=>{let{get:n}=t;const r=qy(e),[i,o]=Fy(n,r);if(o.every((e=>null==e)))return Hy(e,i);const s=o.find(Vy);if(null!=s)throw s;return Promise.all(o).then((t=>{return Hy(e,(n=i,t.map(((e,t)=>void 0===e?n[t]:e))));var n}))},dangerouslyAllowMutability:!0}),waitForAllSettled:Iy({key:"__waitForAllSettled",get:e=>t=>{let{get:n}=t;const r=qy(e),[i,o]=Fy(n,r);return o.every((e=>!hd(e)))?zy(e,i,o):Promise.all(o.map(((e,t)=>hd(e)?e.then((e=>{i[t]=e,o[t]=void 0})).catch((e=>{i[t]=void 0,o[t]=e})):null))).then((()=>zy(e,i,o)))},dangerouslyAllowMutability:!0}),noWait:Iy({key:"__noWait",get:e=>t=>{let{get:n}=t;try{return Zv.value(Uy(n(e)))}catch(r){return Zv.value(hd(r)?By(r):My(r))}},dangerouslyAllowMutability:!0})};const{RecoilLoadable:Yy}=Pd,{DefaultValue:Wy}=fh,{RecoilRoot:Ky,useRecoilStoreID:Qy}=om,{isRecoilValue:Jy}=nh,{retentionZone:Xy}=Mh,{freshSnapshot:Zy}=_p,{useRecoilState:$y,useRecoilState_TRANSITION_SUPPORT_UNSTABLE:eb,useRecoilStateLoadable:tb,useRecoilValue:nb,useRecoilValue_TRANSITION_SUPPORT_UNSTABLE:rb,useRecoilValueLoadable:ib,useRecoilValueLoadable_TRANSITION_SUPPORT_UNSTABLE:ob,useResetRecoilState:sb,useSetRecoilState:ab}=Jm,{useGotoRecoilSnapshot:lb,useRecoilSnapshot:cb,useRecoilTransactionObserver:ub}=vg,{useRecoilCallback:db}=Zg,{noWait:hb,waitForAll:fb,waitForAllSettled:pb,waitForAny:mb,waitForNone:gb}=Gy;var vb={DefaultValue:Wy,isRecoilValue:Jy,RecoilLoadable:Yy,RecoilEnv:Ld,RecoilRoot:Ky,useRecoilStoreID:Qy,useRecoilBridgeAcrossReactRoots_UNSTABLE:kg,atom:by,selector:Zv,atomFamily:Ty,selectorFamily:Iy,constSelector:jy,errorSelector:Ry,readOnlySelector:Ly,noWait:hb,waitForNone:gb,waitForAny:mb,waitForAll:fb,waitForAllSettled:pb,useRecoilValue:nb,useRecoilValueLoadable:ib,useRecoilState:$y,useRecoilStateLoadable:tb,useSetRecoilState:ab,useResetRecoilState:sb,useGetRecoilValueInfo_UNSTABLE:wg,useRecoilRefresher_UNSTABLE:nv,useRecoilValueLoadable_TRANSITION_SUPPORT_UNSTABLE:ob,useRecoilValue_TRANSITION_SUPPORT_UNSTABLE:rb,useRecoilState_TRANSITION_SUPPORT_UNSTABLE:eb,useRecoilCallback:db,useRecoilTransaction_UNSTABLE:sv,useGotoRecoilSnapshot:lb,useRecoilSnapshot:cb,useRecoilTransactionObserver_UNSTABLE:ub,snapshot_UNSTABLE:Zy,useRetain:vm,retentionZone:Xy},yb=vb.RecoilRoot,bb=vb.atom,wb=vb.useRecoilState;var Ab=r(8274);const{persistAtom:_b}=(0,Ab.x)(),xb=bb({key:"chats",default:[],effects_UNSTABLE:[_b]}),Sb=function(e){const t=[];let n=0;for(let r=0;r<e.length;r++){let i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):55296===(64512&i)&&r+1<e.length&&56320===(64512&e.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&e.charCodeAt(++r)),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t},kb={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"===typeof atob,encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<e.length;i+=3){const t=e[i],o=i+1<e.length,s=o?e[i+1]:0,a=i+2<e.length,l=a?e[i+2]:0,c=t>>2,u=(3&t)<<4|s>>4;let d=(15&s)<<2|l>>6,h=63&l;a||(h=64,o||(d=64)),r.push(n[c],n[u],n[d],n[h])}return r.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(Sb(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):function(e){const t=[];let n=0,r=0;for(;n<e.length;){const i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){const o=e[n++];t[r++]=String.fromCharCode((31&i)<<6|63&o)}else if(i>239&&i<365){const o=((7&i)<<18|(63&e[n++])<<12|(63&e[n++])<<6|63&e[n++])-65536;t[r++]=String.fromCharCode(55296+(o>>10)),t[r++]=String.fromCharCode(56320+(1023&o))}else{const o=e[n++],s=e[n++];t[r++]=String.fromCharCode((15&i)<<12|(63&o)<<6|63&s)}}return t.join("")}(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<e.length;){const t=n[e.charAt(i++)],o=i<e.length?n[e.charAt(i)]:0;++i;const s=i<e.length?n[e.charAt(i)]:64;++i;const a=i<e.length?n[e.charAt(i)]:64;if(++i,null==t||null==o||null==s||null==a)throw new Eb;const l=t<<2|o>>4;if(r.push(l),64!==s){const e=o<<4&240|s>>2;if(r.push(e),64!==a){const e=s<<6&192|a;r.push(e)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}};class Eb extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Cb=function(e){return function(e){const t=Sb(e);return kb.encodeByteArray(t,!0)}(e).replace(/\./g,"")},Tb=function(e){try{return kb.decodeString(e,!0)}catch(IU){console.error("base64Decode failed: ",IU)}return null};const Nb=()=>function(){if("undefined"!==typeof self)return self;if("undefined"!==typeof window)return window;if("undefined"!==typeof r.g)return r.g;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__,Ob=()=>{try{return Nb()||(()=>{if("undefined"===typeof process)return;const e={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_API_URL:"https://jaktharry-app-130a026cb2e4.herokuapp.com"}.__FIREBASE_DEFAULTS__;return e?JSON.parse(e):void 0})()||(()=>{if("undefined"===typeof document)return;let e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch(IU){return}const t=e&&Tb(e[1]);return t&&JSON.parse(t)})()}catch(IU){return void console.info("Unable to get __FIREBASE_DEFAULTS__ due to: ".concat(IU))}},Ib=e=>{var t,n;return null===(n=null===(t=Ob())||void 0===t?void 0:t.emulatorHosts)||void 0===n?void 0:n[e]},Db=e=>{const t=Ib(e);if(!t)return;const n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw new Error("Invalid host ".concat(t," with no separate hostname and port!"));const r=parseInt(t.substring(n+1),10);return"["===t[0]?[t.substring(1,n-1),r]:[t.substring(0,n),r]},jb=()=>{var e;return null===(e=Ob())||void 0===e?void 0:e.config},Pb=e=>{var t;return null===(t=Ob())||void 0===t?void 0:t["_".concat(e)]};class Rb{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}wrapCallback(e){return(t,n)=>{t?this.reject(t):this.resolve(n),"function"===typeof e&&(this.promise.catch((()=>{})),1===e.length?e(t):e(t,n))}}}function Lb(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n=t||"demo-project",r=e.iat||0,i=e.sub||e.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:"https://securetoken.google.com/".concat(n),aud:n,iat:r,exp:r+3600,auth_time:r,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},e);return[Cb(JSON.stringify({alg:"none",type:"JWT"})),Cb(JSON.stringify(o)),""].join(".")}function Mb(){return"undefined"!==typeof navigator&&"string"===typeof navigator.userAgent?navigator.userAgent:""}function Bb(){return!function(){var e;const t=null===(e=Ob())||void 0===e?void 0:e.forceEnvironment;if("node"===t)return!0;if("browser"===t)return!1;try{return"[object process]"===Object.prototype.toString.call(r.g.process)}catch(IU){return!1}}()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Ub(){try{return"object"===typeof indexedDB}catch(IU){return!1}}class Fb extends Error{constructor(e,t,n){super(t),this.code=e,this.customData=n,this.name="FirebaseError",Object.setPrototypeOf(this,Fb.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Vb.prototype.create)}}class Vb{constructor(e,t,n){this.service=e,this.serviceName=t,this.errors=n}create(e){const t=(arguments.length<=1?void 0:arguments[1])||{},n="".concat(this.service,"/").concat(e),r=this.errors[e],i=r?function(e,t){return e.replace(qb,((e,n)=>{const r=t[n];return null!=r?String(r):"<".concat(n,"?>")}))}(r,t):"Error",o="".concat(this.serviceName,": ").concat(i," (").concat(n,").");return new Fb(n,o,t)}}const qb=/\{\$([^}]+)}/g;function Hb(e,t){if(e===t)return!0;const n=Object.keys(e),r=Object.keys(t);for(const i of n){if(!r.includes(i))return!1;const n=e[i],o=t[i];if(zb(n)&&zb(o)){if(!Hb(n,o))return!1}else if(n!==o)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function zb(e){return null!==e&&"object"===typeof e}function Gb(e){const t=[];for(const[n,r]of Object.entries(e))Array.isArray(r)?r.forEach((e=>{t.push(encodeURIComponent(n)+"="+encodeURIComponent(e))})):t.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return t.length?"&"+t.join("&"):""}function Yb(e){const t={};return e.replace(/^\?/,"").split("&").forEach((e=>{if(e){const[n,r]=e.split("=");t[decodeURIComponent(n)]=decodeURIComponent(r)}})),t}function Wb(e){const t=e.indexOf("?");if(!t)return"";const n=e.indexOf("#",t);return e.substring(t,n>0?n:void 0)}class Kb{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then((()=>{e(this)})).catch((e=>{this.error(e)}))}next(e){this.forEachObserver((t=>{t.next(e)}))}error(e){this.forEachObserver((t=>{t.error(e)})),this.close(e)}complete(){this.forEachObserver((e=>{e.complete()})),this.close()}subscribe(e,t,n){let r;if(void 0===e&&void 0===t&&void 0===n)throw new Error("Missing Observer.");r=function(e,t){if("object"!==typeof e||null===e)return!1;for(const n of t)if(n in e&&"function"===typeof e[n])return!0;return!1}(e,["next","error","complete"])?e:{next:e,error:t,complete:n},void 0===r.next&&(r.next=Qb),void 0===r.error&&(r.error=Qb),void 0===r.complete&&(r.complete=Qb);const i=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((()=>{try{this.finalError?r.error(this.finalError):r.complete()}catch(IU){}})),this.observers.push(r),i}unsubscribeOne(e){void 0!==this.observers&&void 0!==this.observers[e]&&(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then((()=>{if(void 0!==this.observers&&void 0!==this.observers[e])try{t(this.observers[e])}catch(IU){"undefined"!==typeof console&&console.error&&console.error(IU)}}))}close(e){this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then((()=>{this.observers=void 0,this.onNoObservers=void 0})))}}function Qb(){}function Jb(e){return e&&e._delegate?e._delegate:e}class Xb{constructor(e,t,n){this.name=e,this.instanceFactory=t,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const Zb="[DEFAULT]";class $b{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const e=new Rb;if(this.instancesDeferred.set(t,e),this.isInitialized(t)||this.shouldAutoInitialize())try{const n=this.getOrInitializeService({instanceIdentifier:t});n&&e.resolve(n)}catch(IU){}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const n=this.normalizeInstanceIdentifier(null===e||void 0===e?void 0:e.identifier),r=null!==(t=null===e||void 0===e?void 0:e.optional)&&void 0!==t&&t;if(!this.isInitialized(n)&&!this.shouldAutoInitialize()){if(r)return null;throw Error("Service ".concat(this.name," is not available"))}try{return this.getOrInitializeService({instanceIdentifier:n})}catch(IU){if(r)return null;throw IU}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error("Mismatching Component ".concat(e.name," for Provider ").concat(this.name,"."));if(this.component)throw Error("Component for ".concat(this.name," has already been provided"));if(this.component=e,this.shouldAutoInitialize()){if(function(e){return"EAGER"===e.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:Zb})}catch(IU){}for(const[e,t]of this.instancesDeferred.entries()){const n=this.normalizeInstanceIdentifier(e);try{const e=this.getOrInitializeService({instanceIdentifier:n});t.resolve(e)}catch(IU){}}}}clearInstance(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Zb;this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter((e=>"INTERNAL"in e)).map((e=>e.INTERNAL.delete())),...e.filter((e=>"_delete"in e)).map((e=>e._delete()))])}isComponentSet(){return null!=this.component}isInitialized(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Zb;return this.instances.has(e)}getOptions(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Zb;return this.instancesOptions.get(e)||{}}initialize(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{options:t={}}=e,n=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(n))throw Error("".concat(this.name,"(").concat(n,") has already been initialized"));if(!this.isComponentSet())throw Error("Component ".concat(this.name," has not been registered yet"));const r=this.getOrInitializeService({instanceIdentifier:n,options:t});for(const[i,o]of this.instancesDeferred.entries()){n===this.normalizeInstanceIdentifier(i)&&o.resolve(r)}return r}onInit(e,t){var n;const r=this.normalizeInstanceIdentifier(t),i=null!==(n=this.onInitCallbacks.get(r))&&void 0!==n?n:new Set;i.add(e),this.onInitCallbacks.set(r,i);const o=this.instances.get(r);return o&&e(o,r),()=>{i.delete(e)}}invokeOnInitCallbacks(e,t){const n=this.onInitCallbacks.get(t);if(n)for(const i of n)try{i(e,t)}catch(r){}}getOrInitializeService(e){let{instanceIdentifier:t,options:n={}}=e,r=this.instances.get(t);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:(i=t,i===Zb?void 0:i),options:n}),this.instances.set(t,r),this.instancesOptions.set(t,n),this.invokeOnInitCallbacks(r,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,r)}catch(o){}var i;return r||null}normalizeInstanceIdentifier(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Zb;return this.component?this.component.multipleInstances?e:Zb:e}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class ew{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error("Component ".concat(e.name," has already been registered with ").concat(this.name));t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new $b(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}const tw=[];var nw;!function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"}(nw||(nw={}));const rw={debug:nw.DEBUG,verbose:nw.VERBOSE,info:nw.INFO,warn:nw.WARN,error:nw.ERROR,silent:nw.SILENT},iw=nw.INFO,ow={[nw.DEBUG]:"log",[nw.VERBOSE]:"log",[nw.INFO]:"info",[nw.WARN]:"warn",[nw.ERROR]:"error"},sw=function(e,t){if(t<e.logLevel)return;const n=(new Date).toISOString(),r=ow[t];if(!r)throw new Error("Attempted to log a message with an invalid logType (value: ".concat(t,")"));for(var i=arguments.length,o=new Array(i>2?i-2:0),s=2;s<i;s++)o[s-2]=arguments[s];console[r]("[".concat(n,"]  ").concat(e.name,":"),...o)};class aw{constructor(e){this.name=e,this._logLevel=iw,this._logHandler=sw,this._userLogHandler=null,tw.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in nw))throw new TypeError('Invalid value "'.concat(e,'" assigned to `logLevel`'));this._logLevel=e}setLogLevel(e){this._logLevel="string"===typeof e?rw[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if("function"!==typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,nw.DEBUG,...t),this._logHandler(this,nw.DEBUG,...t)}log(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,nw.VERBOSE,...t),this._logHandler(this,nw.VERBOSE,...t)}info(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,nw.INFO,...t),this._logHandler(this,nw.INFO,...t)}warn(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,nw.WARN,...t),this._logHandler(this,nw.WARN,...t)}error(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,nw.ERROR,...t),this._logHandler(this,nw.ERROR,...t)}}const lw=(e,t)=>t.some((t=>e instanceof t));let cw,uw;const dw=new WeakMap,hw=new WeakMap,fw=new WeakMap,pw=new WeakMap,mw=new WeakMap;let gw={get(e,t,n){if(e instanceof IDBTransaction){if("done"===t)return hw.get(e);if("objectStoreNames"===t)return e.objectStoreNames||fw.get(e);if("store"===t)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return bw(e[t])},set:(e,t,n)=>(e[t]=n,!0),has:(e,t)=>e instanceof IDBTransaction&&("done"===t||"store"===t)||t in e};function vw(e){return e!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(uw||(uw=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(e)?function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return e.apply(ww(this),n),bw(dw.get(this))}:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return bw(e.apply(ww(this),n))}:function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];const o=e.call(ww(this),t,...r);return fw.set(o,t.sort?t.sort():[t]),bw(o)}}function yw(e){return"function"===typeof e?vw(e):(e instanceof IDBTransaction&&function(e){if(hw.has(e))return;const t=new Promise(((t,n)=>{const r=()=>{e.removeEventListener("complete",i),e.removeEventListener("error",o),e.removeEventListener("abort",o)},i=()=>{t(),r()},o=()=>{n(e.error||new DOMException("AbortError","AbortError")),r()};e.addEventListener("complete",i),e.addEventListener("error",o),e.addEventListener("abort",o)}));hw.set(e,t)}(e),lw(e,cw||(cw=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction]))?new Proxy(e,gw):e)}function bw(e){if(e instanceof IDBRequest)return function(e){const t=new Promise(((t,n)=>{const r=()=>{e.removeEventListener("success",i),e.removeEventListener("error",o)},i=()=>{t(bw(e.result)),r()},o=()=>{n(e.error),r()};e.addEventListener("success",i),e.addEventListener("error",o)}));return t.then((t=>{t instanceof IDBCursor&&dw.set(t,e)})).catch((()=>{})),mw.set(t,e),t}(e);if(pw.has(e))return pw.get(e);const t=yw(e);return t!==e&&(pw.set(e,t),mw.set(t,e)),t}const ww=e=>mw.get(e);const Aw=["get","getKey","getAll","getAllKeys","count"],_w=["put","add","delete","clear"],xw=new Map;function Sw(e,t){if(!(e instanceof IDBDatabase)||t in e||"string"!==typeof t)return;if(xw.get(t))return xw.get(t);const n=t.replace(/FromIndex$/,""),r=t!==n,i=_w.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!i&&!Aw.includes(n))return;const o=async function(e){const t=this.transaction(e,i?"readwrite":"readonly");let o=t.store;for(var s=arguments.length,a=new Array(s>1?s-1:0),l=1;l<s;l++)a[l-1]=arguments[l];return r&&(o=o.index(a.shift())),(await Promise.all([o[n](...a),i&&t.done]))[0]};return xw.set(t,o),o}gw=(e=>({...e,get:(t,n,r)=>Sw(t,n)||e.get(t,n,r),has:(t,n)=>!!Sw(t,n)||e.has(t,n)}))(gw);class kw{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map((e=>{if(function(e){const t=e.getComponent();return"VERSION"===(null===t||void 0===t?void 0:t.type)}(e)){const t=e.getImmediate();return"".concat(t.library,"/").concat(t.version)}return null})).filter((e=>e)).join(" ")}}const Ew="@firebase/app",Cw="0.10.1",Tw=new aw("@firebase/app"),Nw="@firebase/app-compat",Ow="@firebase/analytics-compat",Iw="@firebase/analytics",Dw="@firebase/app-check-compat",jw="@firebase/app-check",Pw="@firebase/auth",Rw="@firebase/auth-compat",Lw="@firebase/database",Mw="@firebase/database-compat",Bw="@firebase/functions",Uw="@firebase/functions-compat",Fw="@firebase/installations",Vw="@firebase/installations-compat",qw="@firebase/messaging",Hw="@firebase/messaging-compat",zw="@firebase/performance",Gw="@firebase/performance-compat",Yw="@firebase/remote-config",Ww="@firebase/remote-config-compat",Kw="@firebase/storage",Qw="@firebase/storage-compat",Jw="@firebase/firestore",Xw="@firebase/firestore-compat",Zw="firebase",$w="[DEFAULT]",eA={[Ew]:"fire-core",[Nw]:"fire-core-compat",[Iw]:"fire-analytics",[Ow]:"fire-analytics-compat",[jw]:"fire-app-check",[Dw]:"fire-app-check-compat",[Pw]:"fire-auth",[Rw]:"fire-auth-compat",[Lw]:"fire-rtdb",[Mw]:"fire-rtdb-compat",[Bw]:"fire-fn",[Uw]:"fire-fn-compat",[Fw]:"fire-iid",[Vw]:"fire-iid-compat",[qw]:"fire-fcm",[Hw]:"fire-fcm-compat",[zw]:"fire-perf",[Gw]:"fire-perf-compat",[Yw]:"fire-rc",[Ww]:"fire-rc-compat",[Kw]:"fire-gcs",[Qw]:"fire-gcs-compat",[Jw]:"fire-fst",[Xw]:"fire-fst-compat","fire-js":"fire-js",[Zw]:"fire-js-all"},tA=new Map,nA=new Map,rA=new Map;function iA(e,t){try{e.container.addComponent(t)}catch(IU){Tw.debug("Component ".concat(t.name," failed to register with FirebaseApp ").concat(e.name),IU)}}function oA(e){const t=e.name;if(rA.has(t))return Tw.debug("There were multiple attempts to register component ".concat(t,".")),!1;rA.set(t,e);for(const n of tA.values())iA(n,e);for(const n of nA.values())iA(n,e);return!0}function sA(e,t){const n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}function aA(e){return void 0!==e.settings}const lA=new Vb("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."});class cA{constructor(e,t,n){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=n,this.container.addComponent(new Xb("app",(()=>this),"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw lA.create("app-deleted",{appName:this._name})}}const uA="10.11.0";function dA(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e;if("object"!==typeof t){t={name:t}}const r=Object.assign({name:$w,automaticDataCollectionEnabled:!1},t),i=r.name;if("string"!==typeof i||!i)throw lA.create("bad-app-name",{appName:String(i)});if(n||(n=jb()),!n)throw lA.create("no-options");const o=tA.get(i);if(o){if(Hb(n,o.options)&&Hb(r,o.config))return o;throw lA.create("duplicate-app",{appName:i})}const s=new ew(i);for(const l of rA.values())s.addComponent(l);const a=new cA(n,r,s);return tA.set(i,a),a}function hA(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:$w;const t=tA.get(e);if(!t&&e===$w&&jb())return dA();if(!t)throw lA.create("no-app",{appName:e});return t}function fA(e,t,n){var r;let i=null!==(r=eA[e])&&void 0!==r?r:e;n&&(i+="-".concat(n));const o=i.match(/\s|\//),s=t.match(/\s|\//);if(o||s){const e=['Unable to register library "'.concat(i,'" with version "').concat(t,'":')];return o&&e.push('library name "'.concat(i,'" contains illegal characters (whitespace or "/")')),o&&s&&e.push("and"),s&&e.push('version name "'.concat(t,'" contains illegal characters (whitespace or "/")')),void Tw.warn(e.join(" "))}oA(new Xb("".concat(i,"-version"),(()=>({library:i,version:t})),"VERSION"))}const pA="firebase-heartbeat-database",mA=1,gA="firebase-heartbeat-store";let vA=null;function yA(){return vA||(vA=function(e,t){let{blocked:n,upgrade:r,blocking:i,terminated:o}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const s=indexedDB.open(e,t),a=bw(s);return r&&s.addEventListener("upgradeneeded",(e=>{r(bw(s.result),e.oldVersion,e.newVersion,bw(s.transaction),e)})),n&&s.addEventListener("blocked",(e=>n(e.oldVersion,e.newVersion,e))),a.then((e=>{o&&e.addEventListener("close",(()=>o())),i&&e.addEventListener("versionchange",(e=>i(e.oldVersion,e.newVersion,e)))})).catch((()=>{})),a}(pA,mA,{upgrade:(e,t)=>{if(0===t)try{e.createObjectStore(gA)}catch(IU){console.warn(IU)}}}).catch((e=>{throw lA.create("idb-open",{originalErrorMessage:e.message})}))),vA}async function bA(e,t){try{const n=(await yA()).transaction(gA,"readwrite"),r=n.objectStore(gA);await r.put(t,wA(e)),await n.done}catch(IU){if(IU instanceof Fb)Tw.warn(IU.message);else{const t=lA.create("idb-set",{originalErrorMessage:null===IU||void 0===IU?void 0:IU.message});Tw.warn(t.message)}}}function wA(e){return"".concat(e.name,"!").concat(e.options.appId)}class AA{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new xA(t),this._heartbeatsCachePromise=this._storage.read().then((e=>(this._heartbeatsCache=e,e)))}async triggerHeartbeat(){var e,t;const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=_A();if((null!=(null===(e=this._heartbeatsCache)||void 0===e?void 0:e.heartbeats)||(this._heartbeatsCache=await this._heartbeatsCachePromise,null!=(null===(t=this._heartbeatsCache)||void 0===t?void 0:t.heartbeats)))&&this._heartbeatsCache.lastSentHeartbeatDate!==r&&!this._heartbeatsCache.heartbeats.some((e=>e.date===r)))return this._heartbeatsCache.heartbeats.push({date:r,agent:n}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter((e=>{const t=new Date(e.date).valueOf();return Date.now()-t<=2592e6})),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){var e;if(null===this._heartbeatsCache&&await this._heartbeatsCachePromise,null==(null===(e=this._heartbeatsCache)||void 0===e?void 0:e.heartbeats)||0===this._heartbeatsCache.heartbeats.length)return"";const t=_A(),{heartbeatsToSend:n,unsentEntries:r}=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1024;const n=[];let r=e.slice();for(const i of e){const e=n.find((e=>e.agent===i.agent));if(e){if(e.dates.push(i.date),SA(n)>t){e.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),SA(n)>t){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}(this._heartbeatsCache.heartbeats),i=Cb(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=t,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}}function _A(){return(new Date).toISOString().substring(0,10)}class xA{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return!!Ub()&&new Promise(((e,t)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var e;t((null===(e=i.error)||void 0===e?void 0:e.message)||"")}}catch(n){t(n)}})).then((()=>!0)).catch((()=>!1))}async read(){if(await this._canUseIndexedDBPromise){const e=await async function(e){try{const t=(await yA()).transaction(gA),n=await t.objectStore(gA).get(wA(e));return await t.done,n}catch(IU){if(IU instanceof Fb)Tw.warn(IU.message);else{const t=lA.create("idb-get",{originalErrorMessage:null===IU||void 0===IU?void 0:IU.message});Tw.warn(t.message)}}}(this.app);return(null===e||void 0===e?void 0:e.heartbeats)?e:{heartbeats:[]}}return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const n=await this.read();return bA(this.app,{lastSentHeartbeatDate:null!==(t=e.lastSentHeartbeatDate)&&void 0!==t?t:n.lastSentHeartbeatDate,heartbeats:e.heartbeats})}}async add(e){var t;if(await this._canUseIndexedDBPromise){const n=await this.read();return bA(this.app,{lastSentHeartbeatDate:null!==(t=e.lastSentHeartbeatDate)&&void 0!==t?t:n.lastSentHeartbeatDate,heartbeats:[...n.heartbeats,...e.heartbeats]})}}}function SA(e){return Cb(JSON.stringify({version:2,heartbeats:e})).length}var kA;kA="",oA(new Xb("platform-logger",(e=>new kw(e)),"PRIVATE")),oA(new Xb("heartbeat",(e=>new AA(e)),"PRIVATE")),fA(Ew,Cw,kA),fA(Ew,Cw,"esm2017"),fA("fire-js","");var EA,CA="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof global?global:"undefined"!==typeof self?self:{},TA={},NA=NA||{},OA=CA||self;function IA(e){var t=typeof e;return"array"==(t="object"!=t?t:e?Array.isArray(e)?"array":t:"null")||"object"==t&&"number"==typeof e.length}function DA(e){var t=typeof e;return"object"==t&&null!=e||"function"==t}var jA="closure_uid_"+(1e9*Math.random()>>>0),PA=0;function RA(e,t,n){return e.call.apply(e.bind,arguments)}function LA(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),e.apply(t,n)}}return function(){return e.apply(t,arguments)}}function MA(e,t,n){return(MA=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?RA:LA).apply(null,arguments)}function BA(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var t=n.slice();return t.push.apply(t,arguments),e.apply(this,t)}}function UA(e,t){function n(){}n.prototype=t.prototype,e.$=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.ac=function(e,n,r){for(var i=Array(arguments.length-2),o=2;o<arguments.length;o++)i[o-2]=arguments[o];return t.prototype[n].apply(e,i)}}function FA(){this.s=this.s,this.o=this.o}FA.prototype.s=!1,FA.prototype.sa=function(){var e;!this.s&&(this.s=!0,this.N(),0)&&(e=this,Object.prototype.hasOwnProperty.call(e,jA)&&e[jA]||(e[jA]=++PA))},FA.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const VA=Array.prototype.indexOf?function(e,t){return Array.prototype.indexOf.call(e,t,void 0)}:function(e,t){if("string"===typeof e)return"string"!==typeof t||1!=t.length?-1:e.indexOf(t,0);for(let n=0;n<e.length;n++)if(n in e&&e[n]===t)return n;return-1};function qA(e){const t=e.length;if(0<t){const n=Array(t);for(let r=0;r<t;r++)n[r]=e[r];return n}return[]}function HA(e,t){for(let n=1;n<arguments.length;n++){const t=arguments[n];if(IA(t)){const n=e.length||0,r=t.length||0;e.length=n+r;for(let i=0;i<r;i++)e[n+i]=t[i]}else e.push(t)}}function zA(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}zA.prototype.h=function(){this.defaultPrevented=!0};var GA=function(){if(!OA.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{const e=()=>{};OA.addEventListener("test",e,t),OA.removeEventListener("test",e,t)}catch(n){}return e}();function YA(e){return/^[\s\xa0]*$/.test(e)}function WA(){var e=OA.navigator;return e&&(e=e.userAgent)?e:""}function KA(e){return-1!=WA().indexOf(e)}function QA(e){return QA[" "](e),e}QA[" "]=function(){};var JA,XA,ZA=KA("Opera"),$A=KA("Trident")||KA("MSIE"),e_=KA("Edge"),t_=e_||$A,n_=KA("Gecko")&&!(-1!=WA().toLowerCase().indexOf("webkit")&&!KA("Edge"))&&!(KA("Trident")||KA("MSIE"))&&!KA("Edge"),r_=-1!=WA().toLowerCase().indexOf("webkit")&&!KA("Edge");function i_(){var e=OA.document;return e?e.documentMode:void 0}e:{var o_="",s_=function(){var e=WA();return n_?/rv:([^\);]+)(\)|;)/.exec(e):e_?/Edge\/([\d\.]+)/.exec(e):$A?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(e):r_?/WebKit\/(\S+)/.exec(e):ZA?/(?:Version)[ \/]?(\S+)/.exec(e):void 0}();if(s_&&(o_=s_?s_[1]:""),$A){var a_=i_();if(null!=a_&&a_>parseFloat(o_)){JA=String(a_);break e}}JA=o_}if(OA.document&&$A){var l_=i_();XA=l_||(parseInt(JA,10)||void 0)}else XA=void 0;var c_=XA;function u_(e,t){if(zA.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e){var n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.g=t,t=e.relatedTarget){if(n_){e:{try{QA(t.nodeName);var i=!0;break e}catch(o){}i=!1}i||(t=null)}}else"mouseover"==n?t=e.fromElement:"mouseout"==n&&(t=e.toElement);this.relatedTarget=t,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType="string"===typeof e.pointerType?e.pointerType:d_[e.pointerType]||"",this.state=e.state,this.i=e,e.defaultPrevented&&u_.$.h.call(this)}}UA(u_,zA);var d_={2:"touch",3:"pen",4:"mouse"};u_.prototype.h=function(){u_.$.h.call(this);var e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var h_="closure_listenable_"+(1e6*Math.random()|0),f_=0;function p_(e,t,n,r,i){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.la=i,this.key=++f_,this.fa=this.ia=!1}function m_(e){e.fa=!0,e.listener=null,e.proxy=null,e.src=null,e.la=null}function g_(e,t,n){for(const r in e)t.call(n,e[r],r,e)}function v_(e){const t={};for(const n in e)t[n]=e[n];return t}const y_="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function b_(e,t){let n,r;for(let i=1;i<arguments.length;i++){for(n in r=arguments[i],r)e[n]=r[n];for(let t=0;t<y_.length;t++)n=y_[t],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function w_(e){this.src=e,this.g={},this.h=0}function A_(e,t){var n=t.type;if(n in e.g){var r,i=e.g[n],o=VA(i,t);(r=0<=o)&&Array.prototype.splice.call(i,o,1),r&&(m_(t),0==e.g[n].length&&(delete e.g[n],e.h--))}}function __(e,t,n,r){for(var i=0;i<e.length;++i){var o=e[i];if(!o.fa&&o.listener==t&&o.capture==!!n&&o.la==r)return i}return-1}w_.prototype.add=function(e,t,n,r,i){var o=e.toString();(e=this.g[o])||(e=this.g[o]=[],this.h++);var s=__(e,t,r,i);return-1<s?(t=e[s],n||(t.ia=!1)):((t=new p_(t,this.src,o,!!r,i)).ia=n,e.push(t)),t};var x_="closure_lm_"+(1e6*Math.random()|0),S_={};function k_(e,t,n,r,i){if(r&&r.once)return C_(e,t,n,r,i);if(Array.isArray(t)){for(var o=0;o<t.length;o++)k_(e,t[o],n,r,i);return null}return n=P_(n),e&&e[h_]?e.O(t,n,DA(r)?!!r.capture:!!r,i):E_(e,t,n,!1,r,i)}function E_(e,t,n,r,i,o){if(!t)throw Error("Invalid event type");var s=DA(i)?!!i.capture:!!i,a=D_(e);if(a||(e[x_]=a=new w_(e)),(n=a.add(t,n,r,s,o)).proxy)return n;if(r=function(){function e(n){return t.call(e.src,e.listener,n)}const t=I_;return e}(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)GA||(i=s),void 0===i&&(i=!1),e.addEventListener(t.toString(),r,i);else if(e.attachEvent)e.attachEvent(O_(t.toString()),r);else{if(!e.addListener||!e.removeListener)throw Error("addEventListener and attachEvent are unavailable.");e.addListener(r)}return n}function C_(e,t,n,r,i){if(Array.isArray(t)){for(var o=0;o<t.length;o++)C_(e,t[o],n,r,i);return null}return n=P_(n),e&&e[h_]?e.P(t,n,DA(r)?!!r.capture:!!r,i):E_(e,t,n,!0,r,i)}function T_(e,t,n,r,i){if(Array.isArray(t))for(var o=0;o<t.length;o++)T_(e,t[o],n,r,i);else r=DA(r)?!!r.capture:!!r,n=P_(n),e&&e[h_]?(e=e.i,(t=String(t).toString())in e.g&&(-1<(n=__(o=e.g[t],n,r,i))&&(m_(o[n]),Array.prototype.splice.call(o,n,1),0==o.length&&(delete e.g[t],e.h--)))):e&&(e=D_(e))&&(t=e.g[t.toString()],e=-1,t&&(e=__(t,n,r,i)),(n=-1<e?t[e]:null)&&N_(n))}function N_(e){if("number"!==typeof e&&e&&!e.fa){var t=e.src;if(t&&t[h_])A_(t.i,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(O_(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=D_(t))?(A_(n,e),0==n.h&&(n.src=null,t[x_]=null)):m_(e)}}}function O_(e){return e in S_?S_[e]:S_[e]="on"+e}function I_(e,t){if(e.fa)e=!0;else{t=new u_(t,this);var n=e.listener,r=e.la||e.src;e.ia&&N_(e),e=n.call(r,t)}return e}function D_(e){return(e=e[x_])instanceof w_?e:null}var j_="__closure_events_fn_"+(1e9*Math.random()>>>0);function P_(e){return"function"===typeof e?e:(e[j_]||(e[j_]=function(t){return e.handleEvent(t)}),e[j_])}function R_(){FA.call(this),this.i=new w_(this),this.S=this,this.J=null}function L_(e,t){var n,r=e.J;if(r)for(n=[];r;r=r.J)n.push(r);if(e=e.S,r=t.type||t,"string"===typeof t)t=new zA(t,e);else if(t instanceof zA)t.target=t.target||e;else{var i=t;b_(t=new zA(r,e),i)}if(i=!0,n)for(var o=n.length-1;0<=o;o--){var s=t.g=n[o];i=M_(s,r,!0,t)&&i}if(i=M_(s=t.g=e,r,!0,t)&&i,i=M_(s,r,!1,t)&&i,n)for(o=0;o<n.length;o++)i=M_(s=t.g=n[o],r,!1,t)&&i}function M_(e,t,n,r){if(!(t=e.i.g[String(t)]))return!0;t=t.concat();for(var i=!0,o=0;o<t.length;++o){var s=t[o];if(s&&!s.fa&&s.capture==n){var a=s.listener,l=s.la||s.src;s.ia&&A_(e.i,s),i=!1!==a.call(l,r)&&i}}return i&&!r.defaultPrevented}UA(R_,FA),R_.prototype[h_]=!0,R_.prototype.removeEventListener=function(e,t,n,r){T_(this,e,t,n,r)},R_.prototype.N=function(){if(R_.$.N.call(this),this.i){var e,t=this.i;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)m_(n[r]);delete t.g[e],t.h--}}this.J=null},R_.prototype.O=function(e,t,n,r){return this.i.add(String(e),t,!1,n,r)},R_.prototype.P=function(e,t,n,r){return this.i.add(String(e),t,!0,n,r)};var B_=OA.JSON.stringify;function U_(){var e=Y_;let t=null;return e.g&&(t=e.g,e.g=e.g.next,e.g||(e.h=null),t.next=null),t}var F_=new class{constructor(e,t){this.i=e,this.j=t,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}((()=>new V_),(e=>e.reset()));class V_{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}function q_(e){var t=1;e=e.split(":");const n=[];for(;0<t&&e.length;)n.push(e.shift()),t--;return e.length&&n.push(e.join(":")),n}function H_(e){OA.setTimeout((()=>{throw e}),0)}let z_,G_=!1,Y_=new class{constructor(){this.h=this.g=null}add(e,t){const n=F_.get();n.set(e,t),this.h?this.h.next=n:this.g=n,this.h=n}},W_=()=>{const e=OA.Promise.resolve(void 0);z_=()=>{e.then(K_)}};var K_=()=>{for(var e;e=U_();){try{e.h.call(e.g)}catch(n){H_(n)}var t=F_;t.j(e),100>t.h&&(t.h++,e.next=t.g,t.g=e)}G_=!1};function Q_(e,t){R_.call(this),this.h=e||1,this.g=t||OA,this.j=MA(this.qb,this),this.l=Date.now()}function J_(e){e.ga=!1,e.T&&(e.g.clearTimeout(e.T),e.T=null)}function X_(e,t,n){if("function"===typeof e)n&&(e=MA(e,n));else{if(!e||"function"!=typeof e.handleEvent)throw Error("Invalid listener argument");e=MA(e.handleEvent,e)}return 2147483647<Number(t)?-1:OA.setTimeout(e,t||0)}function Z_(e){e.g=X_((()=>{e.g=null,e.i&&(e.i=!1,Z_(e))}),e.j);const t=e.h;e.h=null,e.m.apply(null,t)}UA(Q_,R_),(EA=Q_.prototype).ga=!1,EA.T=null,EA.qb=function(){if(this.ga){var e=Date.now()-this.l;0<e&&e<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-e):(this.T&&(this.g.clearTimeout(this.T),this.T=null),L_(this,"tick"),this.ga&&(J_(this),this.start()))}},EA.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())},EA.N=function(){Q_.$.N.call(this),J_(this),delete this.g};class $_ extends FA{constructor(e,t){super(),this.m=e,this.j=t,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:Z_(this)}N(){super.N(),this.g&&(OA.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ex(e){FA.call(this),this.h=e,this.g={}}UA(ex,FA);var tx=[];function nx(e,t,n,r){Array.isArray(n)||(n&&(tx[0]=n.toString()),n=tx);for(var i=0;i<n.length;i++){var o=k_(t,n[i],r||e.handleEvent,!1,e.h||e);if(!o)break;e.g[o.key]=o}}function rx(e){g_(e.g,(function(e,t){this.g.hasOwnProperty(t)&&N_(e)}),e),e.g={}}function ix(){this.g=!0}function ox(e,t,r,i){e.info((function(){return"XMLHTTP TEXT ("+t+"): "+function(e,t){if(!e.g)return t;if(!t)return null;try{var r=JSON.parse(t);if(r)for(e=0;e<r.length;e++)if(Array.isArray(r[e])){var i=r[e];if(!(2>i.length)){var o=i[1];if(Array.isArray(o)&&!(1>o.length)){var s=o[0];if("noop"!=s&&"stop"!=s&&"close"!=s)for(var a=1;a<o.length;a++)o[a]=""}}}return B_(r)}catch(n){return t}}(e,r)+(i?" "+i:"")}))}ex.prototype.N=function(){ex.$.N.call(this),rx(this)},ex.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},ix.prototype.Ea=function(){this.g=!1},ix.prototype.info=function(){};var sx={},ax=null;function lx(){return ax=ax||new R_}function cx(e){zA.call(this,sx.Ta,e)}function ux(e){const t=lx();L_(t,new cx(t))}function dx(e,t){zA.call(this,sx.STAT_EVENT,e),this.stat=t}function hx(e){const t=lx();L_(t,new dx(t,e))}function fx(e,t){zA.call(this,sx.Ua,e),this.size=t}function px(e,t){if("function"!==typeof e)throw Error("Fn must not be null and must be a function");return OA.setTimeout((function(){e()}),t)}sx.Ta="serverreachability",UA(cx,zA),sx.STAT_EVENT="statevent",UA(dx,zA),sx.Ua="timingevent",UA(fx,zA);var mx={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},gx={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function vx(){}function yx(e){return e.h||(e.h=e.i())}function bx(){}vx.prototype.h=null;var wx,Ax={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function _x(){zA.call(this,"d")}function xx(){zA.call(this,"c")}function Sx(){}function kx(e,t,n,r){this.l=e,this.j=t,this.m=n,this.W=r||1,this.U=new ex(this),this.P=Cx,e=t_?125:void 0,this.V=new Q_(e),this.I=null,this.i=!1,this.u=this.B=this.A=this.L=this.G=this.Y=this.C=null,this.F=[],this.g=null,this.o=0,this.s=this.v=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new Ex}function Ex(){this.i=null,this.g="",this.h=!1}UA(_x,zA),UA(xx,zA),UA(Sx,vx),Sx.prototype.g=function(){return new XMLHttpRequest},Sx.prototype.i=function(){return{}},wx=new Sx;var Cx=45e3,Tx={},Nx={};function Ox(e,t,n){e.L=1,e.A=Qx(zx(t)),e.u=n,e.S=!0,Ix(e,null)}function Ix(e,t){e.G=Date.now(),Rx(e),e.B=zx(e.A);var n=e.B,r=e.W;Array.isArray(r)||(r=[String(r)]),lS(n.i,"t",r),e.o=0,n=e.l.J,e.h=new Ex,e.g=ck(e.l,n?t:null,!e.u),0<e.O&&(e.M=new $_(MA(e.Pa,e,e.g),e.O)),nx(e.U,e.g,"readystatechange",e.nb),t=e.I?v_(e.I):{},e.u?(e.v||(e.v="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.ha(e.B,e.v,e.u,t)):(e.v="GET",e.g.ha(e.B,e.v,null,t)),ux(),function(e,t,n,r,i,o){e.info((function(){if(e.g)if(o)for(var s="",a=o.split("&"),l=0;l<a.length;l++){var c=a[l].split("=");if(1<c.length){var u=c[0];c=c[1];var d=u.split("_");s=2<=d.length&&"type"==d[1]?s+(u+"=")+c+"&":s+(u+"=redacted&")}}else s=null;else s=o;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+t+"\n"+n+"\n"+s}))}(e.j,e.v,e.B,e.m,e.W,e.u)}function Dx(e){return!!e.g&&("GET"==e.v&&2!=e.L&&e.l.Ha)}function jx(e,t,n){let r,i=!0;for(;!e.J&&e.o<n.length;){if(r=Px(e,n),r==Nx){4==t&&(e.s=4,hx(14),i=!1),ox(e.j,e.m,null,"[Incomplete Response]");break}if(r==Tx){e.s=4,hx(15),ox(e.j,e.m,n,"[Invalid Chunk]"),i=!1;break}ox(e.j,e.m,r,null),Fx(e,r)}Dx(e)&&0!=e.o&&(e.h.g=e.h.g.slice(e.o),e.o=0),4!=t||0!=n.length||e.h.h||(e.s=1,hx(16),i=!1),e.i=e.i&&i,i?0<n.length&&!e.ba&&(e.ba=!0,(t=e.l).g==e&&t.ca&&!t.M&&(t.l.info("Great, no buffering proxy detected. Bytes received: "+n.length),tk(t),t.M=!0,hx(11))):(ox(e.j,e.m,n,"[Invalid Chunked Response]"),Ux(e),Bx(e))}function Px(e,t){var n=e.o,r=t.indexOf("\n",n);return-1==r?Nx:(n=Number(t.substring(n,r)),isNaN(n)?Tx:(r+=1)+n>t.length?Nx:(t=t.slice(r,r+n),e.o=r+n,t))}function Rx(e){e.Y=Date.now()+e.P,Lx(e,e.P)}function Lx(e,t){if(null!=e.C)throw Error("WatchDog timer not null");e.C=px(MA(e.lb,e),t)}function Mx(e){e.C&&(OA.clearTimeout(e.C),e.C=null)}function Bx(e){0==e.l.H||e.J||ik(e.l,e)}function Ux(e){Mx(e);var t=e.M;t&&"function"==typeof t.sa&&t.sa(),e.M=null,J_(e.V),rx(e.U),e.g&&(t=e.g,e.g=null,t.abort(),t.sa())}function Fx(e,t){try{var n=e.l;if(0!=n.H&&(n.g==e||mS(n.i,e)))if(!e.K&&mS(n.i,e)&&3==n.H){try{var r=n.Ja.g.parse(t)}catch(c){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!n.u){if(n.g){if(!(n.g.G+3e3<e.G))break e;rk(n),WS(n)}ek(n),hx(18)}}else n.Fa=i[1],0<n.Fa-n.V&&37500>i[2]&&n.G&&0==n.A&&!n.v&&(n.v=px(MA(n.ib,n),6e3));if(1>=pS(n.i)&&n.oa){try{n.oa()}catch(c){}n.oa=void 0}}else sk(n,11)}else if((e.K||n.g==e)&&rk(n),!YA(t))for(i=n.Ja.g.parse(t),t=0;t<i.length;t++){let c=i[t];if(n.V=c[0],c=c[1],2==n.H)if("c"==c[0]){n.K=c[1],n.pa=c[2];const t=c[3];null!=t&&(n.ra=t,n.l.info("VER="+n.ra));const i=c[4];null!=i&&(n.Ga=i,n.l.info("SVER="+n.Ga));const u=c[5];null!=u&&"number"===typeof u&&0<u&&(r=1.5*u,n.L=r,n.l.info("backChannelRequestTimeoutMs_="+r)),r=n;const d=e.g;if(d){const e=d.g?d.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(e){var o=r.i;o.g||-1==e.indexOf("spdy")&&-1==e.indexOf("quic")&&-1==e.indexOf("h2")||(o.j=o.l,o.g=new Set,o.h&&(gS(o,o.h),o.h=null))}if(r.F){const e=d.g?d.g.getResponseHeader("X-HTTP-Session-Id"):null;e&&(r.Da=e,Kx(r.I,r.F,e))}}n.H=3,n.h&&n.h.Ba(),n.ca&&(n.S=Date.now()-e.G,n.l.info("Handshake RTT: "+n.S+"ms"));var s=e;if((r=n).wa=lk(r,r.J?r.pa:null,r.Y),s.K){vS(r.i,s);var a=s,l=r.L;l&&a.setTimeout(l),a.C&&(Mx(a),Rx(a)),r.g=s}else $S(r);0<n.j.length&&QS(n)}else"stop"!=c[0]&&"close"!=c[0]||sk(n,7);else 3==n.H&&("stop"==c[0]||"close"==c[0]?"stop"==c[0]?sk(n,7):YS(n):"noop"!=c[0]&&n.h&&n.h.Aa(c),n.A=0)}ux()}catch(c){}}function Vx(e,t){if(e.forEach&&"function"==typeof e.forEach)e.forEach(t,void 0);else if(IA(e)||"string"===typeof e)Array.prototype.forEach.call(e,t,void 0);else for(var n=function(e){if(e.ta&&"function"==typeof e.ta)return e.ta();if(!e.Z||"function"!=typeof e.Z){if("undefined"!==typeof Map&&e instanceof Map)return Array.from(e.keys());if(!("undefined"!==typeof Set&&e instanceof Set)){if(IA(e)||"string"===typeof e){var t=[];e=e.length;for(var n=0;n<e;n++)t.push(n);return t}t=[],n=0;for(const r in e)t[n++]=r;return t}}}(e),r=function(e){if(e.Z&&"function"==typeof e.Z)return e.Z();if("undefined"!==typeof Map&&e instanceof Map||"undefined"!==typeof Set&&e instanceof Set)return Array.from(e.values());if("string"===typeof e)return e.split("");if(IA(e)){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t}for(r in t=[],n=0,e)t[n++]=e[r];return t}(e),i=r.length,o=0;o<i;o++)t.call(void 0,r[o],n&&n[o],e)}(EA=kx.prototype).setTimeout=function(e){this.P=e},EA.nb=function(e){e=e.target;const t=this.M;t&&3==FS(e)?t.l():this.Pa(e)},EA.Pa=function(e){try{if(e==this.g)e:{const u=FS(this.g);var t=this.g.Ia();this.g.da();if(!(3>u)&&(3!=u||t_||this.g&&(this.h.h||this.g.ja()||VS(this.g)))){this.J||4!=u||7==t||ux(),Mx(this);var n=this.g.da();this.ca=n;t:if(Dx(this)){var r=VS(this.g);e="";var i=r.length,o=4==FS(this.g);if(!this.h.i){if("undefined"===typeof TextDecoder){Ux(this),Bx(this);var s="";break t}this.h.i=new OA.TextDecoder}for(t=0;t<i;t++)this.h.h=!0,e+=this.h.i.decode(r[t],{stream:o&&t==i-1});r.length=0,this.h.g+=e,this.o=0,s=this.h.g}else s=this.g.ja();if(this.i=200==n,function(e,t,n,r,i,o,s){e.info((function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+t+"\n"+n+"\n"+o+" "+s}))}(this.j,this.v,this.B,this.m,this.W,u,n),this.i){if(this.aa&&!this.K){t:{if(this.g){var a,l=this.g;if((a=l.g?l.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!YA(a)){var c=a;break t}}c=null}if(!(n=c)){this.i=!1,this.s=3,hx(12),Ux(this),Bx(this);break e}ox(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Fx(this,n)}this.S?(jx(this,u,s),t_&&this.i&&3==u&&(nx(this.U,this.V,"tick",this.mb),this.V.start())):(ox(this.j,this.m,s,null),Fx(this,s)),4==u&&Ux(this),this.i&&!this.J&&(4==u?ik(this.l,this):(this.i=!1,Rx(this)))}else(function(e){const t={};e=(e.g&&2<=FS(e)&&e.g.getAllResponseHeaders()||"").split("\r\n");for(let r=0;r<e.length;r++){if(YA(e[r]))continue;var n=q_(e[r]);const i=n[0];if("string"!==typeof(n=n[1]))continue;n=n.trim();const o=t[i]||[];t[i]=o,o.push(n)}!function(e,t){for(const n in e)t.call(void 0,e[n],n,e)}(t,(function(e){return e.join(", ")}))})(this.g),400==n&&0<s.indexOf("Unknown SID")?(this.s=3,hx(12)):(this.s=0,hx(13)),Ux(this),Bx(this)}}}catch(u){}},EA.mb=function(){if(this.g){var e=FS(this.g),t=this.g.ja();this.o<t.length&&(Mx(this),jx(this,e,t),this.i&&4!=e&&Rx(this))}},EA.cancel=function(){this.J=!0,Ux(this)},EA.lb=function(){this.C=null;const e=Date.now();0<=e-this.Y?(function(e,t){e.info((function(){return"TIMEOUT: "+t}))}(this.j,this.B),2!=this.L&&(ux(),hx(17)),Ux(this),this.s=2,Bx(this)):Lx(this,this.Y-e)};var qx=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Hx(e){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,e instanceof Hx){this.h=e.h,Gx(this,e.j),this.s=e.s,this.g=e.g,Yx(this,e.m),this.l=e.l;var t=e.i,n=new iS;n.i=t.i,t.g&&(n.g=new Map(t.g),n.h=t.h),Wx(this,n),this.o=e.o}else e&&(t=String(e).match(qx))?(this.h=!1,Gx(this,t[1]||"",!0),this.s=Jx(t[2]||""),this.g=Jx(t[3]||"",!0),Yx(this,t[4]),this.l=Jx(t[5]||"",!0),Wx(this,t[6]||"",!0),this.o=Jx(t[7]||"")):(this.h=!1,this.i=new iS(null,this.h))}function zx(e){return new Hx(e)}function Gx(e,t,n){e.j=n?Jx(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function Yx(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.m=t}else e.m=null}function Wx(e,t,n){t instanceof iS?(e.i=t,function(e,t){t&&!e.j&&(oS(e),e.i=null,e.g.forEach((function(e,t){var n=t.toLowerCase();t!=n&&(sS(this,t),lS(this,n,e))}),e)),e.j=t}(e.i,e.h)):(n||(t=Xx(t,nS)),e.i=new iS(t,e.h))}function Kx(e,t,n){e.i.set(t,n)}function Qx(e){return Kx(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function Jx(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function Xx(e,t,n){return"string"===typeof e?(e=encodeURI(e).replace(t,Zx),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function Zx(e){return"%"+((e=e.charCodeAt(0))>>4&15).toString(16)+(15&e).toString(16)}Hx.prototype.toString=function(){var e=[],t=this.j;t&&e.push(Xx(t,$x,!0),":");var n=this.g;return(n||"file"==t)&&(e.push("//"),(t=this.s)&&e.push(Xx(t,$x,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.m)&&e.push(":",String(n))),(n=this.l)&&(this.g&&"/"!=n.charAt(0)&&e.push("/"),e.push(Xx(n,"/"==n.charAt(0)?tS:eS,!0))),(n=this.i.toString())&&e.push("?",n),(n=this.o)&&e.push("#",Xx(n,rS)),e.join("")};var $x=/[#\/\?@]/g,eS=/[#\?:]/g,tS=/[#\?]/g,nS=/[#\?@]/g,rS=/#/g;function iS(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function oS(e){e.g||(e.g=new Map,e.h=0,e.i&&function(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r=e[n].indexOf("="),i=null;if(0<=r){var o=e[n].substring(0,r);i=e[n].substring(r+1)}else o=e[n];t(o,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(e.i,(function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)})))}function sS(e,t){oS(e),t=cS(e,t),e.g.has(t)&&(e.i=null,e.h-=e.g.get(t).length,e.g.delete(t))}function aS(e,t){return oS(e),t=cS(e,t),e.g.has(t)}function lS(e,t,n){sS(e,t),0<n.length&&(e.i=null,e.g.set(cS(e,t),qA(n)),e.h+=n.length)}function cS(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}(EA=iS.prototype).add=function(e,t){oS(this),this.i=null,e=cS(this,e);var n=this.g.get(e);return n||this.g.set(e,n=[]),n.push(t),this.h+=1,this},EA.forEach=function(e,t){oS(this),this.g.forEach((function(n,r){n.forEach((function(n){e.call(t,n,r,this)}),this)}),this)},EA.ta=function(){oS(this);const e=Array.from(this.g.values()),t=Array.from(this.g.keys()),n=[];for(let r=0;r<t.length;r++){const i=e[r];for(let e=0;e<i.length;e++)n.push(t[r])}return n},EA.Z=function(e){oS(this);let t=[];if("string"===typeof e)aS(this,e)&&(t=t.concat(this.g.get(cS(this,e))));else{e=Array.from(this.g.values());for(let n=0;n<e.length;n++)t=t.concat(e[n])}return t},EA.set=function(e,t){return oS(this),this.i=null,aS(this,e=cS(this,e))&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this},EA.get=function(e,t){return e&&0<(e=this.Z(e)).length?String(e[0]):t},EA.toString=function(){if(this.i)return this.i;if(!this.g)return"";const e=[],t=Array.from(this.g.keys());for(var n=0;n<t.length;n++){var r=t[n];const o=encodeURIComponent(String(r)),s=this.Z(r);for(r=0;r<s.length;r++){var i=o;""!==s[r]&&(i+="="+encodeURIComponent(String(s[r]))),e.push(i)}}return this.i=e.join("&")};var uS=class{constructor(e,t){this.g=e,this.map=t}};function dS(e){this.l=e||hS,OA.PerformanceNavigationTiming?e=0<(e=OA.performance.getEntriesByType("navigation")).length&&("hq"==e[0].nextHopProtocol||"h2"==e[0].nextHopProtocol):e=!!(OA.g&&OA.g.Ka&&OA.g.Ka()&&OA.g.Ka().dc),this.j=e?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var hS=10;function fS(e){return!!e.h||!!e.g&&e.g.size>=e.j}function pS(e){return e.h?1:e.g?e.g.size:0}function mS(e,t){return e.h?e.h==t:!!e.g&&e.g.has(t)}function gS(e,t){e.g?e.g.add(t):e.h=t}function vS(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}function yS(e){if(null!=e.h)return e.i.concat(e.h.F);if(null!=e.g&&0!==e.g.size){let t=e.i;for(const n of e.g.values())t=t.concat(n.F);return t}return qA(e.i)}dS.prototype.cancel=function(){if(this.i=yS(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const e of this.g.values())e.cancel();this.g.clear()}};var bS,wS=class{stringify(e){return OA.JSON.stringify(e,void 0)}parse(e){return OA.JSON.parse(e,void 0)}};function AS(){this.g=new wS}function _S(e,t,n){const r=n||"";try{Vx(e,(function(e,n){let i=e;DA(e)&&(i=B_(e)),t.push(r+n+"="+encodeURIComponent(i))}))}catch(IU){throw t.push(r+"type="+encodeURIComponent("_badmap")),IU}}function xS(e,t,n,r,i){try{t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null,i(r)}catch(o){}}function SS(e){this.l=e.ec||null,this.j=e.ob||!1}function kS(e,t){R_.call(this),this.F=e,this.u=t,this.m=void 0,this.readyState=ES,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}UA(SS,vx),SS.prototype.g=function(){return new kS(this.l,this.j)},SS.prototype.i=(bS={},function(){return bS}),UA(kS,R_);var ES=0;function CS(e){e.j.read().then(e.Xa.bind(e)).catch(e.ka.bind(e))}function TS(e){e.readyState=4,e.l=null,e.j=null,e.A=null,NS(e)}function NS(e){e.onreadystatechange&&e.onreadystatechange.call(e)}(EA=kS.prototype).open=function(e,t){if(this.readyState!=ES)throw this.abort(),Error("Error reopening a connection");this.C=e,this.B=t,this.readyState=1,NS(this)},EA.send=function(e){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const t={headers:this.v,method:this.C,credentials:this.m,cache:void 0};e&&(t.body=e),(this.F||OA).fetch(new Request(this.B,t)).then(this.$a.bind(this),this.ka.bind(this))},EA.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch((()=>{})),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,TS(this)),this.readyState=ES},EA.$a=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,NS(this)),this.g&&(this.readyState=3,NS(this),this.g)))if("arraybuffer"===this.responseType)e.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if("undefined"!==typeof OA.ReadableStream&&"body"in e){if(this.j=e.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;CS(this)}else e.text().then(this.Za.bind(this),this.ka.bind(this))},EA.Xa=function(e){if(this.g){if(this.u&&e.value)this.response.push(e.value);else if(!this.u){var t=e.value?e.value:new Uint8Array(0);(t=this.A.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?TS(this):NS(this),3==this.readyState&&CS(this)}},EA.Za=function(e){this.g&&(this.response=this.responseText=e,TS(this))},EA.Ya=function(e){this.g&&(this.response=e,TS(this))},EA.ka=function(){this.g&&TS(this)},EA.setRequestHeader=function(e,t){this.v.append(e,t)},EA.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""},EA.getAllResponseHeaders=function(){if(!this.h)return"";const e=[],t=this.h.entries();for(var n=t.next();!n.done;)n=n.value,e.push(n[0]+": "+n[1]),n=t.next();return e.join("\r\n")},Object.defineProperty(kS.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(e){this.m=e?"include":"same-origin"}});var OS=OA.JSON.parse;function IS(e){R_.call(this),this.headers=new Map,this.u=e||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=DS,this.L=this.M=!1}UA(IS,R_);var DS="",jS=/^https?$/i,PS=["POST","PUT"];function RS(e,t){e.h=!1,e.g&&(e.l=!0,e.g.abort(),e.l=!1),e.j=t,e.m=5,LS(e),BS(e)}function LS(e){e.F||(e.F=!0,L_(e,"complete"),L_(e,"error"))}function MS(e){if(e.h&&"undefined"!=typeof NA&&(!e.C[1]||4!=FS(e)||2!=e.da()))if(e.v&&4==FS(e))X_(e.La,0,e);else if(L_(e,"readystatechange"),4==FS(e)){e.h=!1;try{const a=e.da();e:switch(a){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var t=!0;break e;default:t=!1}var r;if(!(r=t)){var i;if(i=0===a){var o=String(e.I).match(qx)[1]||null;!o&&OA.self&&OA.self.location&&(o=OA.self.location.protocol.slice(0,-1)),i=!jS.test(o?o.toLowerCase():"")}r=i}if(r)L_(e,"complete"),L_(e,"success");else{e.m=6;try{var s=2<FS(e)?e.g.statusText:""}catch(n){s=""}e.j=s+" ["+e.da()+"]",LS(e)}}finally{BS(e)}}}function BS(e,t){if(e.g){US(e);const n=e.g,r=e.C[0]?()=>{}:null;e.g=null,e.C=null,t||L_(e,"ready");try{n.onreadystatechange=r}catch(IU){}}}function US(e){e.g&&e.L&&(e.g.ontimeout=null),e.A&&(OA.clearTimeout(e.A),e.A=null)}function FS(e){return e.g?e.g.readyState:0}function VS(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.K){case DS:case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch(Kk){return null}}function qS(e){let t="";return g_(e,(function(e,n){t+=n,t+=":",t+=e,t+="\r\n"})),t}function HS(e,t,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=qS(n),"string"===typeof e?null!=n&&encodeURIComponent(String(n)):Kx(e,t,n))}function zS(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function GS(e){this.Ga=0,this.j=[],this.l=new ix,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=zS("failFast",!1,e),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=zS("baseRetryDelayMs",5e3,e),this.hb=zS("retryDelaySeedMs",1e4,e),this.eb=zS("forwardChannelMaxRetries",2,e),this.xa=zS("forwardChannelRequestTimeoutMs",2e4,e),this.va=e&&e.xmlHttpFactory||void 0,this.Ha=e&&e.useFetchStreams||!1,this.L=void 0,this.J=e&&e.supportsCrossDomainXhr||!1,this.K="",this.i=new dS(e&&e.concurrentRequestLimit),this.Ja=new AS,this.P=e&&e.fastHandshake||!1,this.O=e&&e.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=e&&e.bc||!1,e&&e.Ea&&this.l.Ea(),e&&e.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&e&&e.detectBufferingProxy||!1,this.qa=void 0,e&&e.longPollingTimeout&&0<e.longPollingTimeout&&(this.qa=e.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}function YS(e){if(KS(e),3==e.H){var t=e.W++,n=zx(e.I);if(Kx(n,"SID",e.K),Kx(n,"RID",t),Kx(n,"TYPE","terminate"),XS(e,n),(t=new kx(e,e.l,t)).L=2,t.A=Qx(zx(n)),n=!1,OA.navigator&&OA.navigator.sendBeacon)try{n=OA.navigator.sendBeacon(t.A.toString(),"")}catch(r){}!n&&OA.Image&&((new Image).src=t.A,n=!0),n||(t.g=ck(t.l,null),t.g.ha(t.A)),t.G=Date.now(),Rx(t)}ak(e)}function WS(e){e.g&&(tk(e),e.g.cancel(),e.g=null)}function KS(e){WS(e),e.u&&(OA.clearTimeout(e.u),e.u=null),rk(e),e.i.cancel(),e.m&&("number"===typeof e.m&&OA.clearTimeout(e.m),e.m=null)}function QS(e){if(!fS(e.i)&&!e.m){e.m=!0;var t=e.Na;z_||W_(),G_||(z_(),G_=!0),Y_.add(t,e),e.C=0}}function JS(e,t){var n;n=t?t.m:e.W++;const r=zx(e.I);Kx(r,"SID",e.K),Kx(r,"RID",n),Kx(r,"AID",e.V),XS(e,r),e.o&&e.s&&HS(r,e.o,e.s),n=new kx(e,e.l,n,e.C+1),null===e.o&&(n.I=e.s),t&&(e.j=t.F.concat(e.j)),t=ZS(e,n,1e3),n.setTimeout(Math.round(.5*e.xa)+Math.round(.5*e.xa*Math.random())),gS(e.i,n),Ox(n,r,t)}function XS(e,t){e.na&&g_(e.na,(function(e,n){Kx(t,n,e)})),e.h&&Vx({},(function(e,n){Kx(t,n,e)}))}function ZS(e,t,n){n=Math.min(e.j.length,n);var r=e.h?MA(e.h.Va,e.h,e):null;e:{var i=e.j;let t=-1;for(;;){const e=["count="+n];-1==t?0<n?(t=i[0].g,e.push("ofs="+t)):t=0:e.push("ofs="+t);let s=!0;for(let a=0;a<n;a++){let n=i[a].g;const l=i[a].map;if(n-=t,0>n)t=Math.max(0,i[a].g-100),s=!1;else try{_S(l,e,"req"+n+"_")}catch(o){r&&r(l)}}if(s){r=e.join("&");break e}}}return e=e.j.splice(0,n),t.F=e,r}function $S(e){if(!e.g&&!e.u){e.ba=1;var t=e.Ma;z_||W_(),G_||(z_(),G_=!0),Y_.add(t,e),e.A=0}}function ek(e){return!(e.g||e.u||3<=e.A)&&(e.ba++,e.u=px(MA(e.Ma,e),ok(e,e.A)),e.A++,!0)}function tk(e){null!=e.B&&(OA.clearTimeout(e.B),e.B=null)}function nk(e){e.g=new kx(e,e.l,"rpc",e.ba),null===e.o&&(e.g.I=e.s),e.g.O=0;var t=zx(e.wa);Kx(t,"RID","rpc"),Kx(t,"SID",e.K),Kx(t,"AID",e.V),Kx(t,"CI",e.G?"0":"1"),!e.G&&e.qa&&Kx(t,"TO",e.qa),Kx(t,"TYPE","xmlhttp"),XS(e,t),e.o&&e.s&&HS(t,e.o,e.s),e.L&&e.g.setTimeout(e.L);var n=e.g;e=e.pa,n.L=1,n.A=Qx(zx(t)),n.u=null,n.S=!0,Ix(n,e)}function rk(e){null!=e.v&&(OA.clearTimeout(e.v),e.v=null)}function ik(e,t){var n=null;if(e.g==t){rk(e),tk(e),e.g=null;var r=2}else{if(!mS(e.i,t))return;n=t.F,vS(e.i,t),r=1}if(0!=e.H)if(t.i)if(1==r){n=t.u?t.u.length:0,t=Date.now()-t.G;var i=e.C;L_(r=lx(),new fx(r,n)),QS(e)}else $S(e);else if(3==(i=t.s)||0==i&&0<t.ca||!(1==r&&function(e,t){return!(pS(e.i)>=e.i.j-(e.m?1:0))&&(e.m?(e.j=t.F.concat(e.j),!0):!(1==e.H||2==e.H||e.C>=(e.cb?0:e.eb))&&(e.m=px(MA(e.Na,e,t),ok(e,e.C)),e.C++,!0))}(e,t)||2==r&&ek(e)))switch(n&&0<n.length&&(t=e.i,t.i=t.i.concat(n)),i){case 1:sk(e,5);break;case 4:sk(e,10);break;case 3:sk(e,6);break;default:sk(e,2)}}function ok(e,t){let n=e.ab+Math.floor(Math.random()*e.hb);return e.isActive()||(n*=2),n*t}function sk(e,t){if(e.l.info("Error code "+t),2==t){var n=null;e.h&&(n=null);var r=MA(e.pb,e);n||(n=new Hx("//www.google.com/images/cleardot.gif"),OA.location&&"http"==OA.location.protocol||Gx(n,"https"),Qx(n)),function(e,t){const n=new ix;if(OA.Image){const r=new Image;r.onload=BA(xS,n,r,"TestLoadImage: loaded",!0,t),r.onerror=BA(xS,n,r,"TestLoadImage: error",!1,t),r.onabort=BA(xS,n,r,"TestLoadImage: abort",!1,t),r.ontimeout=BA(xS,n,r,"TestLoadImage: timeout",!1,t),OA.setTimeout((function(){r.ontimeout&&r.ontimeout()}),1e4),r.src=e}else t(!1)}(n.toString(),r)}else hx(2);e.H=0,e.h&&e.h.za(t),ak(e),KS(e)}function ak(e){if(e.H=0,e.ma=[],e.h){const t=yS(e.i);0==t.length&&0==e.j.length||(HA(e.ma,t),HA(e.ma,e.j),e.i.i.length=0,qA(e.j),e.j.length=0),e.h.ya()}}function lk(e,t,n){var r=n instanceof Hx?zx(n):new Hx(n);if(""!=r.g)t&&(r.g=t+"."+r.g),Yx(r,r.m);else{var i=OA.location;r=i.protocol,t=t?t+"."+i.hostname:i.hostname,i=+i.port;var o=new Hx(null);r&&Gx(o,r),t&&(o.g=t),i&&Yx(o,i),n&&(o.l=n),r=o}return n=e.F,t=e.Da,n&&t&&Kx(r,n,t),Kx(r,"VER",e.ra),XS(e,r),r}function ck(e,t,n){if(t&&!e.J)throw Error("Can't create secondary domain capable XhrIo object.");return(t=e.Ha&&!e.va?new IS(new SS({ob:n})):new IS(e.va)).Oa(e.J),t}function uk(){}function dk(){if($A&&!(10<=Number(c_)))throw Error("Environmental error: no available transport.")}function hk(e,t){R_.call(this),this.g=new GS(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.s=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.Ca&&(e?e["X-WebChannel-Client-Profile"]=t.Ca:e={"X-WebChannel-Client-Profile":t.Ca}),this.g.U=e,(e=t&&t.cc)&&!YA(e)&&(this.g.o=e),this.A=t&&t.supportsCrossDomainXhr||!1,this.v=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!YA(t)&&(this.g.F=t,null!==(e=this.h)&&t in e&&(t in(e=this.h)&&delete e[t])),this.j=new mk(this)}function fk(e){_x.call(this),e.__headers__&&(this.headers=e.__headers__,this.statusCode=e.__status__,delete e.__headers__,delete e.__status__);var t=e.__sm__;if(t){e:{for(const n in t){e=n;break e}e=void 0}(this.i=e)&&(e=this.i,t=null!==t&&e in t?t[e]:void 0),this.data=t}else this.data=e}function pk(){xx.call(this),this.status=1}function mk(e){this.g=e}function gk(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}function vk(e,t,n){n||(n=0);var r=Array(16);if("string"===typeof t)for(var i=0;16>i;++i)r[i]=t.charCodeAt(n++)|t.charCodeAt(n++)<<8|t.charCodeAt(n++)<<16|t.charCodeAt(n++)<<24;else for(i=0;16>i;++i)r[i]=t[n++]|t[n++]<<8|t[n++]<<16|t[n++]<<24;t=e.g[0],n=e.g[1],i=e.g[2];var o=e.g[3],s=t+(o^n&(i^o))+r[0]+3614090360&4294967295;s=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=n+(s<<7&4294967295|s>>>25))+((s=o+(i^t&(n^i))+r[1]+3905402710&4294967295)<<12&4294967295|s>>>20))+((s=i+(n^o&(t^n))+r[2]+606105819&4294967295)<<17&4294967295|s>>>15))+((s=n+(t^i&(o^t))+r[3]+3250441966&4294967295)<<22&4294967295|s>>>10))+((s=t+(o^n&(i^o))+r[4]+4118548399&4294967295)<<7&4294967295|s>>>25))+((s=o+(i^t&(n^i))+r[5]+1200080426&4294967295)<<12&4294967295|s>>>20))+((s=i+(n^o&(t^n))+r[6]+2821735955&4294967295)<<17&4294967295|s>>>15))+((s=n+(t^i&(o^t))+r[7]+4249261313&4294967295)<<22&4294967295|s>>>10))+((s=t+(o^n&(i^o))+r[8]+1770035416&4294967295)<<7&4294967295|s>>>25))+((s=o+(i^t&(n^i))+r[9]+2336552879&4294967295)<<12&4294967295|s>>>20))+((s=i+(n^o&(t^n))+r[10]+4294925233&4294967295)<<17&4294967295|s>>>15))+((s=n+(t^i&(o^t))+r[11]+2304563134&4294967295)<<22&4294967295|s>>>10))+((s=t+(o^n&(i^o))+r[12]+1804603682&4294967295)<<7&4294967295|s>>>25))+((s=o+(i^t&(n^i))+r[13]+4254626195&4294967295)<<12&4294967295|s>>>20))+((s=i+(n^o&(t^n))+r[14]+2792965006&4294967295)<<17&4294967295|s>>>15))+((s=n+(t^i&(o^t))+r[15]+1236535329&4294967295)<<22&4294967295|s>>>10))+((s=t+(i^o&(n^i))+r[1]+4129170786&4294967295)<<5&4294967295|s>>>27))+((s=o+(n^i&(t^n))+r[6]+3225465664&4294967295)<<9&4294967295|s>>>23))+((s=i+(t^n&(o^t))+r[11]+643717713&4294967295)<<14&4294967295|s>>>18))+((s=n+(o^t&(i^o))+r[0]+3921069994&4294967295)<<20&4294967295|s>>>12))+((s=t+(i^o&(n^i))+r[5]+3593408605&4294967295)<<5&4294967295|s>>>27))+((s=o+(n^i&(t^n))+r[10]+38016083&4294967295)<<9&4294967295|s>>>23))+((s=i+(t^n&(o^t))+r[15]+3634488961&4294967295)<<14&4294967295|s>>>18))+((s=n+(o^t&(i^o))+r[4]+3889429448&4294967295)<<20&4294967295|s>>>12))+((s=t+(i^o&(n^i))+r[9]+568446438&4294967295)<<5&4294967295|s>>>27))+((s=o+(n^i&(t^n))+r[14]+3275163606&4294967295)<<9&4294967295|s>>>23))+((s=i+(t^n&(o^t))+r[3]+4107603335&4294967295)<<14&4294967295|s>>>18))+((s=n+(o^t&(i^o))+r[8]+1163531501&4294967295)<<20&4294967295|s>>>12))+((s=t+(i^o&(n^i))+r[13]+2850285829&4294967295)<<5&4294967295|s>>>27))+((s=o+(n^i&(t^n))+r[2]+4243563512&4294967295)<<9&4294967295|s>>>23))+((s=i+(t^n&(o^t))+r[7]+1735328473&4294967295)<<14&4294967295|s>>>18))+((s=n+(o^t&(i^o))+r[12]+2368359562&4294967295)<<20&4294967295|s>>>12))+((s=t+(n^i^o)+r[5]+4294588738&4294967295)<<4&4294967295|s>>>28))+((s=o+(t^n^i)+r[8]+2272392833&4294967295)<<11&4294967295|s>>>21))+((s=i+(o^t^n)+r[11]+1839030562&4294967295)<<16&4294967295|s>>>16))+((s=n+(i^o^t)+r[14]+4259657740&4294967295)<<23&4294967295|s>>>9))+((s=t+(n^i^o)+r[1]+2763975236&4294967295)<<4&4294967295|s>>>28))+((s=o+(t^n^i)+r[4]+1272893353&4294967295)<<11&4294967295|s>>>21))+((s=i+(o^t^n)+r[7]+4139469664&4294967295)<<16&4294967295|s>>>16))+((s=n+(i^o^t)+r[10]+3200236656&4294967295)<<23&4294967295|s>>>9))+((s=t+(n^i^o)+r[13]+681279174&4294967295)<<4&4294967295|s>>>28))+((s=o+(t^n^i)+r[0]+3936430074&4294967295)<<11&4294967295|s>>>21))+((s=i+(o^t^n)+r[3]+3572445317&4294967295)<<16&4294967295|s>>>16))+((s=n+(i^o^t)+r[6]+76029189&4294967295)<<23&4294967295|s>>>9))+((s=t+(n^i^o)+r[9]+3654602809&4294967295)<<4&4294967295|s>>>28))+((s=o+(t^n^i)+r[12]+3873151461&4294967295)<<11&4294967295|s>>>21))+((s=i+(o^t^n)+r[15]+530742520&4294967295)<<16&4294967295|s>>>16))+((s=n+(i^o^t)+r[2]+3299628645&4294967295)<<23&4294967295|s>>>9))+((s=t+(i^(n|~o))+r[0]+4096336452&4294967295)<<6&4294967295|s>>>26))+((s=o+(n^(t|~i))+r[7]+1126891415&4294967295)<<10&4294967295|s>>>22))+((s=i+(t^(o|~n))+r[14]+2878612391&4294967295)<<15&4294967295|s>>>17))+((s=n+(o^(i|~t))+r[5]+4237533241&4294967295)<<21&4294967295|s>>>11))+((s=t+(i^(n|~o))+r[12]+1700485571&4294967295)<<6&4294967295|s>>>26))+((s=o+(n^(t|~i))+r[3]+2399980690&4294967295)<<10&4294967295|s>>>22))+((s=i+(t^(o|~n))+r[10]+4293915773&4294967295)<<15&4294967295|s>>>17))+((s=n+(o^(i|~t))+r[1]+2240044497&4294967295)<<21&4294967295|s>>>11))+((s=t+(i^(n|~o))+r[8]+1873313359&4294967295)<<6&4294967295|s>>>26))+((s=o+(n^(t|~i))+r[15]+4264355552&4294967295)<<10&4294967295|s>>>22))+((s=i+(t^(o|~n))+r[6]+2734768916&4294967295)<<15&4294967295|s>>>17))+((s=n+(o^(i|~t))+r[13]+1309151649&4294967295)<<21&4294967295|s>>>11))+((o=(t=n+((s=t+(i^(n|~o))+r[4]+4149444226&4294967295)<<6&4294967295|s>>>26))+((s=o+(n^(t|~i))+r[11]+3174756917&4294967295)<<10&4294967295|s>>>22))^((i=o+((s=i+(t^(o|~n))+r[2]+718787259&4294967295)<<15&4294967295|s>>>17))|~t))+r[9]+3951481745&4294967295,e.g[0]=e.g[0]+t&4294967295,e.g[1]=e.g[1]+(i+(s<<21&4294967295|s>>>11))&4294967295,e.g[2]=e.g[2]+i&4294967295,e.g[3]=e.g[3]+o&4294967295}function yk(e,t){this.h=t;for(var n=[],r=!0,i=e.length-1;0<=i;i--){var o=0|e[i];r&&o==t||(n[i]=o,r=!1)}this.g=n}(EA=IS.prototype).Oa=function(e){this.M=e},EA.ha=function(e,t,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+e);t=t?t.toUpperCase():"GET",this.I=e,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():wx.g(),this.C=this.u?yx(this.u):yx(wx),this.g.onreadystatechange=MA(this.La,this);try{this.G=!0,this.g.open(t,String(e),!0),this.G=!1}catch(o){return void RS(this,o)}if(e=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)n.set(i,r[i]);else{if("function"!==typeof r.keys||"function"!==typeof r.get)throw Error("Unknown input type for opt_headers: "+String(r));for(const e of r.keys())n.set(e,r.get(e))}r=Array.from(n.keys()).find((e=>"content-type"==e.toLowerCase())),i=OA.FormData&&e instanceof OA.FormData,!(0<=VA(PS,t))||r||i||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[s,a]of n)this.g.setRequestHeader(s,a);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{US(this),0<this.B&&((this.L=function(e){return $A&&"number"===typeof e.timeout&&void 0!==e.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=MA(this.ua,this)):this.A=X_(this.ua,this.B,this)),this.v=!0,this.g.send(e),this.v=!1}catch(o){RS(this,o)}},EA.ua=function(){"undefined"!=typeof NA&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,L_(this,"timeout"),this.abort(8))},EA.abort=function(e){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=e||7,L_(this,"complete"),L_(this,"abort"),BS(this))},EA.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),BS(this,!0)),IS.$.N.call(this)},EA.La=function(){this.s||(this.G||this.v||this.l?MS(this):this.kb())},EA.kb=function(){MS(this)},EA.isActive=function(){return!!this.g},EA.da=function(){try{return 2<FS(this)?this.g.status:-1}catch(bS){return-1}},EA.ja=function(){try{return this.g?this.g.responseText:""}catch(bS){return""}},EA.Wa=function(e){if(this.g){var t=this.g.responseText;return e&&0==t.indexOf(e)&&(t=t.substring(e.length)),OS(t)}},EA.Ia=function(){return this.m},EA.Sa=function(){return"string"===typeof this.j?this.j:String(this.j)},(EA=GS.prototype).ra=8,EA.H=1,EA.Na=function(e){if(this.m)if(this.m=null,1==this.H){if(!e){this.W=Math.floor(1e5*Math.random()),e=this.W++;const i=new kx(this,this.l,e);let o=this.s;if(this.U&&(o?(o=v_(o),b_(o,this.U)):o=this.U),null!==this.o||this.O||(i.I=o,o=null),this.P)e:{for(var t=0,n=0;n<this.j.length;n++){var r=this.j[n];if(void 0===(r="__data__"in r.map&&"string"===typeof(r=r.map.__data__)?r.length:void 0))break;if(4096<(t+=r)){t=n;break e}if(4096===t||n===this.j.length-1){t=n+1;break e}}t=1e3}else t=1e3;t=ZS(this,i,t),Kx(n=zx(this.I),"RID",e),Kx(n,"CVER",22),this.F&&Kx(n,"X-HTTP-Session-Id",this.F),XS(this,n),o&&(this.O?t="headers="+encodeURIComponent(String(qS(o)))+"&"+t:this.o&&HS(n,this.o,o)),gS(this.i,i),this.bb&&Kx(n,"TYPE","init"),this.P?(Kx(n,"$req",t),Kx(n,"SID","null"),i.aa=!0,Ox(i,n,null)):Ox(i,n,t),this.H=2}}else 3==this.H&&(e?JS(this,e):0==this.j.length||fS(this.i)||JS(this))},EA.Ma=function(){if(this.u=null,nk(this),this.ca&&!(this.M||null==this.g||0>=this.S)){var e=2*this.S;this.l.info("BP detection timer enabled: "+e),this.B=px(MA(this.jb,this),e)}},EA.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,hx(10),WS(this),nk(this))},EA.ib=function(){null!=this.v&&(this.v=null,WS(this),ek(this),hx(19))},EA.pb=function(e){e?(this.l.info("Successfully pinged google.com"),hx(2)):(this.l.info("Failed to ping google.com"),hx(1))},EA.isActive=function(){return!!this.h&&this.h.isActive(this)},(EA=uk.prototype).Ba=function(){},EA.Aa=function(){},EA.za=function(){},EA.ya=function(){},EA.isActive=function(){return!0},EA.Va=function(){},dk.prototype.g=function(e,t){return new hk(e,t)},UA(hk,R_),hk.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var e=this.g,t=this.l,n=this.h||void 0;hx(0),e.Y=t,e.na=n||{},e.G=e.aa,e.I=lk(e,null,e.Y),QS(e)},hk.prototype.close=function(){YS(this.g)},hk.prototype.u=function(e){var t=this.g;if("string"===typeof e){var n={};n.__data__=e,e=n}else this.v&&((n={}).__data__=B_(e),e=n);t.j.push(new uS(t.fb++,e)),3==t.H&&QS(t)},hk.prototype.N=function(){this.g.h=null,delete this.j,YS(this.g),delete this.g,hk.$.N.call(this)},UA(fk,_x),UA(pk,xx),UA(mk,uk),mk.prototype.Ba=function(){L_(this.g,"a")},mk.prototype.Aa=function(e){L_(this.g,new fk(e))},mk.prototype.za=function(e){L_(this.g,new pk)},mk.prototype.ya=function(){L_(this.g,"b")},UA(gk,(function(){this.blockSize=-1})),gk.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0},gk.prototype.j=function(e,t){void 0===t&&(t=e.length);for(var n=t-this.blockSize,r=this.m,i=this.h,o=0;o<t;){if(0==i)for(;o<=n;)vk(this,e,o),o+=this.blockSize;if("string"===typeof e){for(;o<t;)if(r[i++]=e.charCodeAt(o++),i==this.blockSize){vk(this,r),i=0;break}}else for(;o<t;)if(r[i++]=e[o++],i==this.blockSize){vk(this,r),i=0;break}}this.h=i,this.i+=t},gk.prototype.l=function(){var e=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);e[0]=128;for(var t=1;t<e.length-8;++t)e[t]=0;var n=8*this.i;for(t=e.length-8;t<e.length;++t)e[t]=255&n,n/=256;for(this.j(e),e=Array(16),t=n=0;4>t;++t)for(var r=0;32>r;r+=8)e[n++]=this.g[t]>>>r&255;return e};var bk={};function wk(e){return-128<=e&&128>e?function(e,t){var n=bk;return Object.prototype.hasOwnProperty.call(n,e)?n[e]:n[e]=t(e)}(e,(function(e){return new yk([0|e],0>e?-1:0)})):new yk([0|e],0>e?-1:0)}function Ak(e){if(isNaN(e)||!isFinite(e))return xk;if(0>e)return Tk(Ak(-e));for(var t=[],n=1,r=0;e>=n;r++)t[r]=e/n|0,n*=_k;return new yk(t,0)}var _k=4294967296,xk=wk(0),Sk=wk(1),kk=wk(16777216);function Ek(e){if(0!=e.h)return!1;for(var t=0;t<e.g.length;t++)if(0!=e.g[t])return!1;return!0}function Ck(e){return-1==e.h}function Tk(e){for(var t=e.g.length,n=[],r=0;r<t;r++)n[r]=~e.g[r];return new yk(n,~e.h).add(Sk)}function Nk(e,t){return e.add(Tk(t))}function Ok(e,t){for(;(65535&e[t])!=e[t];)e[t+1]+=e[t]>>>16,e[t]&=65535,t++}function Ik(e,t){this.g=e,this.h=t}function Dk(e,t){if(Ek(t))throw Error("division by zero");if(Ek(e))return new Ik(xk,xk);if(Ck(e))return t=Dk(Tk(e),t),new Ik(Tk(t.g),Tk(t.h));if(Ck(t))return t=Dk(e,Tk(t)),new Ik(Tk(t.g),t.h);if(30<e.g.length){if(Ck(e)||Ck(t))throw Error("slowDivide_ only works with positive integers.");for(var n=Sk,r=t;0>=r.X(e);)n=jk(n),r=jk(r);var i=Pk(n,1),o=Pk(r,1);for(r=Pk(r,2),n=Pk(n,2);!Ek(r);){var s=o.add(r);0>=s.X(e)&&(i=i.add(n),o=s),r=Pk(r,1),n=Pk(n,1)}return t=Nk(e,i.R(t)),new Ik(i,t)}for(i=xk;0<=e.X(t);){for(n=Math.max(1,Math.floor(e.ea()/t.ea())),r=48>=(r=Math.ceil(Math.log(n)/Math.LN2))?1:Math.pow(2,r-48),s=(o=Ak(n)).R(t);Ck(s)||0<s.X(e);)s=(o=Ak(n-=r)).R(t);Ek(o)&&(o=Sk),i=i.add(o),e=Nk(e,s)}return new Ik(i,e)}function jk(e){for(var t=e.g.length+1,n=[],r=0;r<t;r++)n[r]=e.D(r)<<1|e.D(r-1)>>>31;return new yk(n,e.h)}function Pk(e,t){var n=t>>5;t%=32;for(var r=e.g.length-n,i=[],o=0;o<r;o++)i[o]=0<t?e.D(o+n)>>>t|e.D(o+n+1)<<32-t:e.D(o+n);return new yk(i,e.h)}(EA=yk.prototype).ea=function(){if(Ck(this))return-Tk(this).ea();for(var e=0,t=1,n=0;n<this.g.length;n++){var r=this.D(n);e+=(0<=r?r:_k+r)*t,t*=_k}return e},EA.toString=function(e){if(2>(e=e||10)||36<e)throw Error("radix out of range: "+e);if(Ek(this))return"0";if(Ck(this))return"-"+Tk(this).toString(e);for(var t=Ak(Math.pow(e,6)),n=this,r="";;){var i=Dk(n,t).g,o=((0<(n=Nk(n,i.R(t))).g.length?n.g[0]:n.h)>>>0).toString(e);if(Ek(n=i))return o+r;for(;6>o.length;)o="0"+o;r=o+r}},EA.D=function(e){return 0>e?0:e<this.g.length?this.g[e]:this.h},EA.X=function(e){return Ck(e=Nk(this,e))?-1:Ek(e)?0:1},EA.abs=function(){return Ck(this)?Tk(this):this},EA.add=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0,i=0;i<=t;i++){var o=r+(65535&this.D(i))+(65535&e.D(i)),s=(o>>>16)+(this.D(i)>>>16)+(e.D(i)>>>16);r=s>>>16,o&=65535,s&=65535,n[i]=s<<16|o}return new yk(n,-2147483648&n[n.length-1]?-1:0)},EA.R=function(e){if(Ek(this)||Ek(e))return xk;if(Ck(this))return Ck(e)?Tk(this).R(Tk(e)):Tk(Tk(this).R(e));if(Ck(e))return Tk(this.R(Tk(e)));if(0>this.X(kk)&&0>e.X(kk))return Ak(this.ea()*e.ea());for(var t=this.g.length+e.g.length,n=[],r=0;r<2*t;r++)n[r]=0;for(r=0;r<this.g.length;r++)for(var i=0;i<e.g.length;i++){var o=this.D(r)>>>16,s=65535&this.D(r),a=e.D(i)>>>16,l=65535&e.D(i);n[2*r+2*i]+=s*l,Ok(n,2*r+2*i),n[2*r+2*i+1]+=o*l,Ok(n,2*r+2*i+1),n[2*r+2*i+1]+=s*a,Ok(n,2*r+2*i+1),n[2*r+2*i+2]+=o*a,Ok(n,2*r+2*i+2)}for(r=0;r<t;r++)n[r]=n[2*r+1]<<16|n[2*r];for(r=t;r<2*t;r++)n[r]=0;return new yk(n,0)},EA.gb=function(e){return Dk(this,e).h},EA.and=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0;r<t;r++)n[r]=this.D(r)&e.D(r);return new yk(n,this.h&e.h)},EA.or=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0;r<t;r++)n[r]=this.D(r)|e.D(r);return new yk(n,this.h|e.h)},EA.xor=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0;r<t;r++)n[r]=this.D(r)^e.D(r);return new yk(n,this.h^e.h)},dk.prototype.createWebChannel=dk.prototype.g,hk.prototype.send=hk.prototype.u,hk.prototype.open=hk.prototype.m,hk.prototype.close=hk.prototype.close,mx.NO_ERROR=0,mx.TIMEOUT=8,mx.HTTP_ERROR=6,gx.COMPLETE="complete",bx.EventType=Ax,Ax.OPEN="a",Ax.CLOSE="b",Ax.ERROR="c",Ax.MESSAGE="d",R_.prototype.listen=R_.prototype.O,IS.prototype.listenOnce=IS.prototype.P,IS.prototype.getLastError=IS.prototype.Sa,IS.prototype.getLastErrorCode=IS.prototype.Ia,IS.prototype.getStatus=IS.prototype.da,IS.prototype.getResponseJson=IS.prototype.Wa,IS.prototype.getResponseText=IS.prototype.ja,IS.prototype.send=IS.prototype.ha,IS.prototype.setWithCredentials=IS.prototype.Oa,gk.prototype.digest=gk.prototype.l,gk.prototype.reset=gk.prototype.reset,gk.prototype.update=gk.prototype.j,yk.prototype.add=yk.prototype.add,yk.prototype.multiply=yk.prototype.R,yk.prototype.modulo=yk.prototype.gb,yk.prototype.compare=yk.prototype.X,yk.prototype.toNumber=yk.prototype.ea,yk.prototype.toString=yk.prototype.toString,yk.prototype.getBits=yk.prototype.D,yk.fromNumber=Ak,yk.fromString=function e(t,n){if(0==t.length)throw Error("number format error: empty string");if(2>(n=n||10)||36<n)throw Error("radix out of range: "+n);if("-"==t.charAt(0))return Tk(e(t.substring(1),n));if(0<=t.indexOf("-"))throw Error('number format error: interior "-" character');for(var r=Ak(Math.pow(n,8)),i=xk,o=0;o<t.length;o+=8){var s=Math.min(8,t.length-o),a=parseInt(t.substring(o,o+s),n);8>s?(s=Ak(Math.pow(n,s)),i=i.R(s).add(Ak(a))):i=(i=i.R(r)).add(Ak(a))}return i};var Rk=TA.createWebChannelTransport=function(){return new dk},Lk=TA.getStatEventTarget=function(){return lx()},Mk=TA.ErrorCode=mx,Bk=TA.EventType=gx,Uk=TA.Event=sx,Fk=TA.Stat={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},Vk=(TA.FetchXmlHttpFactory=SS,TA.WebChannel=bx),qk=TA.XhrIo=IS,Hk=TA.Md5=gk,zk=TA.Integer=yk;const Gk="@firebase/firestore";class Yk{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Yk.UNAUTHENTICATED=new Yk(null),Yk.GOOGLE_CREDENTIALS=new Yk("google-credentials-uid"),Yk.FIRST_PARTY=new Yk("first-party-uid"),Yk.MOCK_USER=new Yk("mock-user");let Wk="10.11.0";const Kk=new aw("@firebase/firestore");function Qk(){return Kk.logLevel}function Jk(e){if(Kk.logLevel<=nw.DEBUG){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const i=n.map($k);Kk.debug("Firestore (".concat(Wk,"): ").concat(e),...i)}}function Xk(e){if(Kk.logLevel<=nw.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const i=n.map($k);Kk.error("Firestore (".concat(Wk,"): ").concat(e),...i)}}function Zk(e){if(Kk.logLevel<=nw.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const i=n.map($k);Kk.warn("Firestore (".concat(Wk,"): ").concat(e),...i)}}function $k(e){if("string"==typeof e)return e;try{return function(e){return JSON.stringify(e)}(e)}catch(t){return e}}function eE(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Unexpected state";const t="FIRESTORE (".concat(Wk,") INTERNAL ASSERTION FAILED: ")+e;throw Xk(t),new Error(t)}function tE(e,t){e||eE()}function nE(e,t){return e}const rE={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class iE extends Fb{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>"".concat(this.name,": [code=").concat(this.code,"]: ").concat(this.message)}}class oE{constructor(){this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}}class sE{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization","Bearer ".concat(e))}}class aE{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable((()=>t(Yk.UNAUTHENTICATED)))}shutdown(){}}class lE{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable((()=>t(this.token.user)))}shutdown(){this.changeListener=null}}class cE{constructor(e){this.t=e,this.currentUser=Yk.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){let n=this.i;const r=e=>this.i!==n?(n=this.i,t(e)):Promise.resolve();let i=new oE;this.o=()=>{this.i++,this.currentUser=this.u(),i.resolve(),i=new oE,e.enqueueRetryable((()=>r(this.currentUser)))};const o=()=>{const t=i;e.enqueueRetryable((async()=>{await t.promise,await r(this.currentUser)}))},s=e=>{Jk("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=e,this.auth.addAuthTokenListener(this.o),o()};this.t.onInit((e=>s(e))),setTimeout((()=>{if(!this.auth){const e=this.t.getImmediate({optional:!0});e?s(e):(Jk("FirebaseAuthCredentialsProvider","Auth not yet detected"),i.resolve(),i=new oE)}}),0),o()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then((t=>this.i!==e?(Jk("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):t?(tE("string"==typeof t.accessToken),new sE(t.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return tE(null===e||"string"==typeof e),new Yk(e)}}class uE{constructor(e,t,n){this.l=e,this.h=t,this.P=n,this.type="FirstParty",this.user=Yk.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class dE{constructor(e,t,n){this.l=e,this.h=t,this.P=n}getToken(){return Promise.resolve(new uE(this.l,this.h,this.P))}start(e,t){e.enqueueRetryable((()=>t(Yk.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class hE{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class fE{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,t){const n=e=>{null!=e.error&&Jk("FirebaseAppCheckTokenProvider","Error getting App Check token; using placeholder token instead. Error: ".concat(e.error.message));const n=e.token!==this.R;return this.R=e.token,Jk("FirebaseAppCheckTokenProvider","Received ".concat(n?"new":"existing"," token.")),n?t(e.token):Promise.resolve()};this.o=t=>{e.enqueueRetryable((()=>n(t)))};const r=e=>{Jk("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=e,this.appCheck.addTokenListener(this.o)};this.A.onInit((e=>r(e))),setTimeout((()=>{if(!this.appCheck){const e=this.A.getImmediate({optional:!0});e?r(e):Jk("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((e=>e?(tE("string"==typeof e.token),this.R=e.token,new hE(e.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function pE(e){const t="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(n);else for(let r=0;r<e;r++)n[r]=Math.floor(256*Math.random());return n}class mE{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(256/62);let n="";for(;n.length<20;){const r=pE(40);for(let i=0;i<r.length;++i)n.length<20&&r[i]<t&&(n+=e.charAt(r[i]%62))}return n}}function gE(e,t){return e<t?-1:e>t?1:0}function vE(e,t,n){return e.length===t.length&&e.every(((e,r)=>n(e,t[r])))}class yE{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new iE(rE.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new iE(rE.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new iE(rE.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new iE(rE.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return yE.fromMillis(Date.now())}static fromDate(e){return yE.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),n=Math.floor(1e6*(e-1e3*t));return new yE(t,n)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?gE(this.nanoseconds,e.nanoseconds):gE(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class bE{constructor(e){this.timestamp=e}static fromTimestamp(e){return new bE(e)}static min(){return new bE(new yE(0,0))}static max(){return new bE(new yE(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class wE{constructor(e,t,n){void 0===t?t=0:t>e.length&&eE(),void 0===n?n=e.length-t:n>e.length-t&&eE(),this.segments=e,this.offset=t,this.len=n}get length(){return this.len}isEqual(e){return 0===wE.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof wE?e.forEach((e=>{t.push(e)})):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=void 0===e?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,n=this.limit();t<n;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const n=Math.min(e.length,t.length);for(let r=0;r<n;r++){const n=e.get(r),i=t.get(r);if(n<i)return-1;if(n>i)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class AE extends wE{construct(e,t,n){return new AE(e,t,n)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(){const e=[];for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(const i of n){if(i.indexOf("//")>=0)throw new iE(rE.INVALID_ARGUMENT,"Invalid segment (".concat(i,"). Paths must not contain // in them."));e.push(...i.split("/").filter((e=>e.length>0)))}return new AE(e)}static emptyPath(){return new AE([])}}const _E=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class xE extends wE{construct(e,t,n){return new xE(e,t,n)}static isValidIdentifier(e){return _E.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),xE.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new xE(["__name__"])}static fromServerFormat(e){const t=[];let n="",r=0;const i=()=>{if(0===n.length)throw new iE(rE.INVALID_ARGUMENT,"Invalid field path (".concat(e,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"));t.push(n),n=""};let o=!1;for(;r<e.length;){const t=e[r];if("\\"===t){if(r+1===e.length)throw new iE(rE.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const t=e[r+1];if("\\"!==t&&"."!==t&&"`"!==t)throw new iE(rE.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);n+=t,r+=2}else"`"===t?(o=!o,r++):"."!==t||o?(n+=t,r++):(i(),r++)}if(i(),o)throw new iE(rE.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new xE(t)}static emptyPath(){return new xE([])}}class SE{constructor(e){this.path=e}static fromPath(e){return new SE(AE.fromString(e))}static fromName(e){return new SE(AE.fromString(e).popFirst(5))}static empty(){return new SE(AE.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===AE.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return AE.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new SE(new AE(e.slice()))}}class kE{constructor(e,t,n,r){this.indexId=e,this.collectionGroup=t,this.fields=n,this.indexState=r}}kE.UNKNOWN_ID=-1;function EE(e,t){const n=e.toTimestamp().seconds,r=e.toTimestamp().nanoseconds+1,i=bE.fromTimestamp(1e9===r?new yE(n+1,0):new yE(n,r));return new TE(i,SE.empty(),t)}function CE(e){return new TE(e.readTime,e.key,-1)}class TE{constructor(e,t,n){this.readTime=e,this.documentKey=t,this.largestBatchId=n}static min(){return new TE(bE.min(),SE.empty(),-1)}static max(){return new TE(bE.max(),SE.empty(),-1)}}function NE(e,t){let n=e.readTime.compareTo(t.readTime);return 0!==n?n:(n=SE.comparator(e.documentKey,t.documentKey),0!==n?n:gE(e.largestBatchId,t.largestBatchId))}const OE="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class IE{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function DE(e){if(e.code!==rE.FAILED_PRECONDITION||e.message!==OE)throw e;Jk("LocalStore","Unexpectedly lost primary lease")}class jE{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((e=>{this.isDone=!0,this.result=e,this.nextCallback&&this.nextCallback(e)}),(e=>{this.isDone=!0,this.error=e,this.catchCallback&&this.catchCallback(e)}))}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&eE(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new jE(((n,r)=>{this.nextCallback=t=>{this.wrapSuccess(e,t).next(n,r)},this.catchCallback=e=>{this.wrapFailure(t,e).next(n,r)}}))}toPromise(){return new Promise(((e,t)=>{this.next(e,t)}))}wrapUserFunction(e){try{const t=e();return t instanceof jE?t:jE.resolve(t)}catch(e){return jE.reject(e)}}wrapSuccess(e,t){return e?this.wrapUserFunction((()=>e(t))):jE.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction((()=>e(t))):jE.reject(t)}static resolve(e){return new jE(((t,n)=>{t(e)}))}static reject(e){return new jE(((t,n)=>{n(e)}))}static waitFor(e){return new jE(((t,n)=>{let r=0,i=0,o=!1;e.forEach((e=>{++r,e.next((()=>{++i,o&&i===r&&t()}),(e=>n(e)))})),o=!0,i===r&&t()}))}static or(e){let t=jE.resolve(!1);for(const n of e)t=t.next((e=>e?jE.resolve(e):n()));return t}static forEach(e,t){const n=[];return e.forEach(((e,r)=>{n.push(t.call(this,e,r))})),this.waitFor(n)}static mapArray(e,t){return new jE(((n,r)=>{const i=e.length,o=new Array(i);let s=0;for(let a=0;a<i;a++){const l=a;t(e[l]).next((e=>{o[l]=e,++s,s===i&&n(o)}),(e=>r(e)))}}))}static doWhile(e,t){return new jE(((n,r)=>{const i=()=>{!0===e()?t().next((()=>{i()}),r):n()};i()}))}}class PE{constructor(e,t){this.action=e,this.transaction=t,this.aborted=!1,this.V=new oE,this.transaction.oncomplete=()=>{this.V.resolve()},this.transaction.onabort=()=>{t.error?this.V.reject(new ME(e,t.error)):this.V.resolve()},this.transaction.onerror=t=>{const n=qE(t.target.error);this.V.reject(new ME(e,n))}}static open(e,t,n,r){try{return new PE(t,e.transaction(r,n))}catch(e){throw new ME(t,e)}}get m(){return this.V.promise}abort(e){e&&this.V.reject(e),this.aborted||(Jk("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}g(){const e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}store(e){const t=this.transaction.objectStore(e);return new UE(t)}}class RE{constructor(e,t,n){this.name=e,this.version=t,this.p=n,12.2===RE.S(Mb())&&Xk("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return Jk("SimpleDb","Removing database:",e),FE(window.indexedDB.deleteDatabase(e)).toPromise()}static D(){if(!Ub())return!1;if(RE.C())return!0;const e=Mb(),t=RE.S(e),n=0<t&&t<10,r=RE.v(e),i=0<r&&r<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||n||i)}static C(){var e;return"undefined"!=typeof process&&"YES"===(null===(e=process.__PRIVATE_env)||void 0===e?void 0:e.F)}static M(e,t){return e.store(t)}static S(e){const t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),n=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(n)}static v(e){const t=e.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}async O(e){return this.db||(Jk("SimpleDb","Opening database:",this.name),this.db=await new Promise(((t,n)=>{const r=indexedDB.open(this.name,this.version);r.onsuccess=e=>{const n=e.target.result;t(n)},r.onblocked=()=>{n(new ME(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},r.onerror=t=>{const r=t.target.error;"VersionError"===r.name?n(new iE(rE.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):"InvalidStateError"===r.name?n(new iE(rE.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+r)):n(new ME(e,r))},r.onupgradeneeded=e=>{Jk("SimpleDb",'Database "'+this.name+'" requires upgrade from version:',e.oldVersion);const t=e.target.result;this.p.N(t,r.transaction,e.oldVersion,this.version).next((()=>{Jk("SimpleDb","Database upgrade to version "+this.version+" complete")}))}}))),this.L&&(this.db.onversionchange=e=>this.L(e)),this.db}B(e){this.L=e,this.db&&(this.db.onversionchange=t=>e(t))}async runTransaction(e,t,n,r){const i="readonly"===t;let o=0;for(;;){++o;try{this.db=await this.O(e);const t=PE.open(this.db,e,i?"readonly":"readwrite",n),o=r(t).next((e=>(t.g(),e))).catch((e=>(t.abort(e),jE.reject(e)))).toPromise();return o.catch((()=>{})),await t.m,o}catch(e){const t=e,n="FirebaseError"!==t.name&&o<3;if(Jk("SimpleDb","Transaction failed with error:",t.message,"Retrying:",n),this.close(),!n)return Promise.reject(t)}}}close(){this.db&&this.db.close(),this.db=void 0}}class LE{constructor(e){this.k=e,this.q=!1,this.K=null}get isDone(){return this.q}get $(){return this.K}set cursor(e){this.k=e}done(){this.q=!0}U(e){this.K=e}delete(){return FE(this.k.delete())}}class ME extends iE{constructor(e,t){super(rE.UNAVAILABLE,"IndexedDB transaction '".concat(e,"' failed: ").concat(t)),this.name="IndexedDbTransactionError"}}function BE(e){return"IndexedDbTransactionError"===e.name}class UE{constructor(e){this.store=e}put(e,t){let n;return void 0!==t?(Jk("SimpleDb","PUT",this.store.name,e,t),n=this.store.put(t,e)):(Jk("SimpleDb","PUT",this.store.name,"<auto-key>",e),n=this.store.put(e)),FE(n)}add(e){return Jk("SimpleDb","ADD",this.store.name,e,e),FE(this.store.add(e))}get(e){return FE(this.store.get(e)).next((t=>(void 0===t&&(t=null),Jk("SimpleDb","GET",this.store.name,e,t),t)))}delete(e){return Jk("SimpleDb","DELETE",this.store.name,e),FE(this.store.delete(e))}count(){return Jk("SimpleDb","COUNT",this.store.name),FE(this.store.count())}W(e,t){const n=this.options(e,t),r=n.index?this.store.index(n.index):this.store;if("function"==typeof r.getAll){const e=r.getAll(n.range);return new jE(((t,n)=>{e.onerror=e=>{n(e.target.error)},e.onsuccess=e=>{t(e.target.result)}}))}{const e=this.cursor(n),t=[];return this.G(e,((e,n)=>{t.push(n)})).next((()=>t))}}j(e,t){const n=this.store.getAll(e,null===t?void 0:t);return new jE(((e,t)=>{n.onerror=e=>{t(e.target.error)},n.onsuccess=t=>{e(t.target.result)}}))}H(e,t){Jk("SimpleDb","DELETE ALL",this.store.name);const n=this.options(e,t);n.J=!1;const r=this.cursor(n);return this.G(r,((e,t,n)=>n.delete()))}Y(e,t){let n;t?n=e:(n={},t=e);const r=this.cursor(n);return this.G(r,t)}Z(e){const t=this.cursor({});return new jE(((n,r)=>{t.onerror=e=>{const t=qE(e.target.error);r(t)},t.onsuccess=t=>{const r=t.target.result;r?e(r.primaryKey,r.value).next((e=>{e?r.continue():n()})):n()}}))}G(e,t){const n=[];return new jE(((r,i)=>{e.onerror=e=>{i(e.target.error)},e.onsuccess=e=>{const i=e.target.result;if(!i)return void r();const o=new LE(i),s=t(i.primaryKey,i.value,o);if(s instanceof jE){const e=s.catch((e=>(o.done(),jE.reject(e))));n.push(e)}o.isDone?r():null===o.$?i.continue():i.continue(o.$)}})).next((()=>jE.waitFor(n)))}options(e,t){let n;return void 0!==e&&("string"==typeof e?n=e:t=e),{index:n,range:t}}cursor(e){let t="next";if(e.reverse&&(t="prev"),e.index){const n=this.store.index(e.index);return e.J?n.openKeyCursor(e.range,t):n.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}function FE(e){return new jE(((t,n)=>{e.onsuccess=e=>{const n=e.target.result;t(n)},e.onerror=e=>{const t=qE(e.target.error);n(t)}}))}let VE=!1;function qE(e){const t=RE.S(Mb());if(t>=12.2&&t<13){const t="An internal error was encountered in the Indexed Database server";if(e.message.indexOf(t)>=0){const e=new iE("internal","IOS_INDEXEDDB_BUG1: IndexedDb has thrown '".concat(t,"'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround."));return VE||(VE=!0,setTimeout((()=>{throw e}),0)),e}}return e}class HE{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=e=>this.se(e),this.oe=e=>t.writeSequenceNumber(e))}se(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.oe&&this.oe(e),e}}function zE(e){return null==e}function GE(e){return 0===e&&1/e==-1/0}function YE(e){return"number"==typeof e&&Number.isInteger(e)&&!GE(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}HE._e=-1;const WE=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],KE=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],QE=KE;function JE(e){let t=0;for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function XE(e,t){for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function ZE(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}class $E{constructor(e,t){this.comparator=e,this.root=t||tC.EMPTY}insert(e,t){return new $E(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,tC.BLACK,null,null))}remove(e){return new $E(this.comparator,this.root.remove(e,this.comparator).copy(null,null,tC.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const n=this.comparator(e,t.key);if(0===n)return t.value;n<0?t=t.left:n>0&&(t=t.right)}return null}indexOf(e){let t=0,n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(0===r)return t+n.left.size;r<0?n=n.left:(t+=n.left.size+1,n=n.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((t,n)=>(e(t,n),!1)))}toString(){const e=[];return this.inorderTraversal(((t,n)=>(e.push("".concat(t,":").concat(n)),!1))),"{".concat(e.join(", "),"}")}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new eC(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new eC(this.root,e,this.comparator,!1)}getReverseIterator(){return new eC(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new eC(this.root,e,this.comparator,!0)}}class eC{constructor(e,t,n,r){this.isReverse=r,this.nodeStack=[];let i=1;for(;!e.isEmpty();)if(i=t?n(e.key,t):1,t&&r&&(i*=-1),i<0)e=this.isReverse?e.left:e.right;else{if(0===i){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class tC{constructor(e,t,n,r,i){this.key=e,this.value=t,this.color=null!=n?n:tC.RED,this.left=null!=r?r:tC.EMPTY,this.right=null!=i?i:tC.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,n,r,i){return new tC(null!=e?e:this.key,null!=t?t:this.value,null!=n?n:this.color,null!=r?r:this.left,null!=i?i:this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,n){let r=this;const i=n(e,r.key);return r=i<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===i?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n)),r.fixUp()}removeMin(){if(this.left.isEmpty())return tC.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let n,r=this;if(t(e,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(e,t),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),0===t(e,r.key)){if(r.right.isEmpty())return tC.EMPTY;n=r.right.min(),r=r.copy(n.key,n.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(e,t))}return r.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,tC.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,tC.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw eE();if(this.right.isRed())throw eE();const e=this.left.check();if(e!==this.right.check())throw eE();return e+(this.isRed()?0:1)}}tC.EMPTY=null,tC.RED=!0,tC.BLACK=!1,tC.EMPTY=new class{constructor(){this.size=0}get key(){throw eE()}get value(){throw eE()}get color(){throw eE()}get left(){throw eE()}get right(){throw eE()}copy(e,t,n,r,i){return this}insert(e,t,n){return new tC(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class nC{constructor(e){this.comparator=e,this.data=new $E(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((t,n)=>(e(t),!1)))}forEachInRange(e,t){const n=this.data.getIteratorFrom(e[0]);for(;n.hasNext();){const r=n.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}}forEachWhile(e,t){let n;for(n=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new rC(this.data.getIterator())}getIteratorFrom(e){return new rC(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach((e=>{t=t.add(e)})),t}isEqual(e){if(!(e instanceof nC))return!1;if(this.size!==e.size)return!1;const t=this.data.getIterator(),n=e.data.getIterator();for(;t.hasNext();){const e=t.getNext().key,r=n.getNext().key;if(0!==this.comparator(e,r))return!1}return!0}toArray(){const e=[];return this.forEach((t=>{e.push(t)})),e}toString(){const e=[];return this.forEach((t=>e.push(t))),"SortedSet("+e.toString()+")"}copy(e){const t=new nC(this.comparator);return t.data=e,t}}class rC{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class iC{constructor(e){this.fields=e,e.sort(xE.comparator)}static empty(){return new iC([])}unionWith(e){let t=new nC(xE.comparator);for(const n of this.fields)t=t.add(n);for(const n of e)t=t.add(n);return new iC(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return vE(this.fields,e.fields,((e,t)=>e.isEqual(t)))}}class oC extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class sC{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(e){try{return atob(e)}catch(e){throw"undefined"!=typeof DOMException&&e instanceof DOMException?new oC("Invalid base64 string: "+e):e}}(e);return new sC(t)}static fromUint8Array(e){const t=function(e){let t="";for(let n=0;n<e.length;++n)t+=String.fromCharCode(e[n]);return t}(e);return new sC(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return e=this.binaryString,btoa(e);var e}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return gE(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}sC.EMPTY_BYTE_STRING=new sC("");const aC=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function lC(e){if(tE(!!e),"string"==typeof e){let t=0;const n=aC.exec(e);if(tE(!!n),n[1]){let e=n[1];e=(e+"000000000").substr(0,9),t=Number(e)}const r=new Date(e);return{seconds:Math.floor(r.getTime()/1e3),nanos:t}}return{seconds:cC(e.seconds),nanos:cC(e.nanos)}}function cC(e){return"number"==typeof e?e:"string"==typeof e?Number(e):0}function uC(e){return"string"==typeof e?sC.fromBase64String(e):sC.fromUint8Array(e)}function dC(e){var t,n;return"server_timestamp"===(null===(n=((null===(t=null==e?void 0:e.mapValue)||void 0===t?void 0:t.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function hC(e){const t=e.mapValue.fields.__previous_value__;return dC(t)?hC(t):t}function fC(e){const t=lC(e.mapValue.fields.__local_write_time__.timestampValue);return new yE(t.seconds,t.nanos)}class pC{constructor(e,t,n,r,i,o,s,a,l){this.databaseId=e,this.appId=t,this.persistenceKey=n,this.host=r,this.ssl=i,this.forceLongPolling=o,this.autoDetectLongPolling=s,this.longPollingOptions=a,this.useFetchStreams=l}}class mC{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new mC("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof mC&&e.projectId===this.projectId&&e.database===this.database}}const gC={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function vC(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?dC(e)?4:IC(e)?9007199254740991:10:eE()}function yC(e,t){if(e===t)return!0;const n=vC(e);if(n!==vC(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return fC(e).isEqual(fC(t));case 3:return function(e,t){if("string"==typeof e.timestampValue&&"string"==typeof t.timestampValue&&e.timestampValue.length===t.timestampValue.length)return e.timestampValue===t.timestampValue;const n=lC(e.timestampValue),r=lC(t.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(e,t){return uC(e.bytesValue).isEqual(uC(t.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(e,t){return cC(e.geoPointValue.latitude)===cC(t.geoPointValue.latitude)&&cC(e.geoPointValue.longitude)===cC(t.geoPointValue.longitude)}(e,t);case 2:return function(e,t){if("integerValue"in e&&"integerValue"in t)return cC(e.integerValue)===cC(t.integerValue);if("doubleValue"in e&&"doubleValue"in t){const n=cC(e.doubleValue),r=cC(t.doubleValue);return n===r?GE(n)===GE(r):isNaN(n)&&isNaN(r)}return!1}(e,t);case 9:return vE(e.arrayValue.values||[],t.arrayValue.values||[],yC);case 10:return function(e,t){const n=e.mapValue.fields||{},r=t.mapValue.fields||{};if(JE(n)!==JE(r))return!1;for(const i in n)if(n.hasOwnProperty(i)&&(void 0===r[i]||!yC(n[i],r[i])))return!1;return!0}(e,t);default:return eE()}}function bC(e,t){return void 0!==(e.values||[]).find((e=>yC(e,t)))}function wC(e,t){if(e===t)return 0;const n=vC(e),r=vC(t);if(n!==r)return gE(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return gE(e.booleanValue,t.booleanValue);case 2:return function(e,t){const n=cC(e.integerValue||e.doubleValue),r=cC(t.integerValue||t.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(e,t);case 3:return AC(e.timestampValue,t.timestampValue);case 4:return AC(fC(e),fC(t));case 5:return gE(e.stringValue,t.stringValue);case 6:return function(e,t){const n=uC(e),r=uC(t);return n.compareTo(r)}(e.bytesValue,t.bytesValue);case 7:return function(e,t){const n=e.split("/"),r=t.split("/");for(let i=0;i<n.length&&i<r.length;i++){const e=gE(n[i],r[i]);if(0!==e)return e}return gE(n.length,r.length)}(e.referenceValue,t.referenceValue);case 8:return function(e,t){const n=gE(cC(e.latitude),cC(t.latitude));return 0!==n?n:gE(cC(e.longitude),cC(t.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return function(e,t){const n=e.values||[],r=t.values||[];for(let i=0;i<n.length&&i<r.length;++i){const e=wC(n[i],r[i]);if(e)return e}return gE(n.length,r.length)}(e.arrayValue,t.arrayValue);case 10:return function(e,t){if(e===gC.mapValue&&t===gC.mapValue)return 0;if(e===gC.mapValue)return 1;if(t===gC.mapValue)return-1;const n=e.fields||{},r=Object.keys(n),i=t.fields||{},o=Object.keys(i);r.sort(),o.sort();for(let s=0;s<r.length&&s<o.length;++s){const e=gE(r[s],o[s]);if(0!==e)return e;const t=wC(n[r[s]],i[o[s]]);if(0!==t)return t}return gE(r.length,o.length)}(e.mapValue,t.mapValue);default:throw eE()}}function AC(e,t){if("string"==typeof e&&"string"==typeof t&&e.length===t.length)return gE(e,t);const n=lC(e),r=lC(t),i=gE(n.seconds,r.seconds);return 0!==i?i:gE(n.nanos,r.nanos)}function _C(e){return xC(e)}function xC(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(e){const t=lC(e);return"time(".concat(t.seconds,",").concat(t.nanos,")")}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?function(e){return uC(e).toBase64()}(e.bytesValue):"referenceValue"in e?function(e){return SE.fromName(e).toString()}(e.referenceValue):"geoPointValue"in e?function(e){return"geo(".concat(e.latitude,",").concat(e.longitude,")")}(e.geoPointValue):"arrayValue"in e?function(e){let t="[",n=!0;for(const r of e.values||[])n?n=!1:t+=",",t+=xC(r);return t+"]"}(e.arrayValue):"mapValue"in e?function(e){const t=Object.keys(e.fields||{}).sort();let n="{",r=!0;for(const i of t)r?r=!1:n+=",",n+="".concat(i,":").concat(xC(e.fields[i]));return n+"}"}(e.mapValue):eE()}function SC(e,t){return{referenceValue:"projects/".concat(e.projectId,"/databases/").concat(e.database,"/documents/").concat(t.path.canonicalString())}}function kC(e){return!!e&&"integerValue"in e}function EC(e){return!!e&&"arrayValue"in e}function CC(e){return!!e&&"nullValue"in e}function TC(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function NC(e){return!!e&&"mapValue"in e}function OC(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&"object"==typeof e.timestampValue)return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){const t={mapValue:{fields:{}}};return XE(e.mapValue.fields,((e,n)=>t.mapValue.fields[e]=OC(n))),t}if(e.arrayValue){const t={arrayValue:{values:[]}};for(let n=0;n<(e.arrayValue.values||[]).length;++n)t.arrayValue.values[n]=OC(e.arrayValue.values[n]);return t}return Object.assign({},e)}function IC(e){return"__max__"===(((e.mapValue||{}).fields||{}).__type__||{}).stringValue}class DC{constructor(e){this.value=e}static empty(){return new DC({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let n=0;n<e.length-1;++n)if(t=(t.mapValue.fields||{})[e.get(n)],!NC(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=OC(t)}setAll(e){let t=xE.emptyPath(),n={},r=[];e.forEach(((e,i)=>{if(!t.isImmediateParentOf(i)){const e=this.getFieldsMap(t);this.applyChanges(e,n,r),n={},r=[],t=i.popLast()}e?n[i.lastSegment()]=OC(e):r.push(i.lastSegment())}));const i=this.getFieldsMap(t);this.applyChanges(i,n,r)}delete(e){const t=this.field(e.popLast());NC(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return yC(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let n=0;n<e.length;++n){let r=t.mapValue.fields[e.get(n)];NC(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(n)]=r),t=r}return t.mapValue.fields}applyChanges(e,t,n){XE(t,((t,n)=>e[t]=n));for(const r of n)delete e[r]}clone(){return new DC(OC(this.value))}}function jC(e){const t=[];return XE(e.fields,((e,n)=>{const r=new xE([e]);if(NC(n)){const e=jC(n.mapValue).fields;if(0===e.length)t.push(r);else for(const n of e)t.push(r.child(n))}else t.push(r)})),new iC(t)}class PC{constructor(e,t,n,r,i,o,s){this.key=e,this.documentType=t,this.version=n,this.readTime=r,this.createTime=i,this.data=o,this.documentState=s}static newInvalidDocument(e){return new PC(e,0,bE.min(),bE.min(),bE.min(),DC.empty(),0)}static newFoundDocument(e,t,n,r){return new PC(e,1,t,bE.min(),n,r,0)}static newNoDocument(e,t){return new PC(e,2,t,bE.min(),bE.min(),DC.empty(),0)}static newUnknownDocument(e,t){return new PC(e,3,t,bE.min(),bE.min(),DC.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(bE.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=DC.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=DC.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=bE.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof PC&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new PC(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return"Document(".concat(this.key,", ").concat(this.version,", ").concat(JSON.stringify(this.data.value),", {createTime: ").concat(this.createTime,"}), {documentType: ").concat(this.documentType,"}), {documentState: ").concat(this.documentState,"})")}}class RC{constructor(e,t){this.position=e,this.inclusive=t}}function LC(e,t,n){let r=0;for(let i=0;i<e.position.length;i++){const o=t[i],s=e.position[i];if(r=o.field.isKeyField()?SE.comparator(SE.fromName(s.referenceValue),n.key):wC(s,n.data.field(o.field)),"desc"===o.dir&&(r*=-1),0!==r)break}return r}function MC(e,t){if(null===e)return null===t;if(null===t)return!1;if(e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(let n=0;n<e.position.length;n++)if(!yC(e.position[n],t.position[n]))return!1;return!0}class BC{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc";this.field=e,this.dir=t}}function UC(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}class FC{}class VC extends FC{constructor(e,t,n){super(),this.field=e,this.op=t,this.value=n}static create(e,t,n){return e.isKeyField()?"in"===t||"not-in"===t?this.createKeyFieldInFilter(e,t,n):new QC(e,t,n):"array-contains"===t?new $C(e,n):"in"===t?new eT(e,n):"not-in"===t?new tT(e,n):"array-contains-any"===t?new nT(e,n):new VC(e,t,n)}static createKeyFieldInFilter(e,t,n){return"in"===t?new JC(e,n):new XC(e,n)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.matchesComparison(wC(t,this.value)):null!==t&&vC(this.value)===vC(t)&&this.matchesComparison(wC(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return eE()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class qC extends FC{constructor(e,t){super(),this.filters=e,this.op=t,this.ue=null}static create(e,t){return new qC(e,t)}matches(e){return HC(this)?void 0===this.filters.find((t=>!t.matches(e))):void 0!==this.filters.find((t=>t.matches(e)))}getFlattenedFilters(){return null!==this.ue||(this.ue=this.filters.reduce(((e,t)=>e.concat(t.getFlattenedFilters())),[])),this.ue}getFilters(){return Object.assign([],this.filters)}}function HC(e){return"and"===e.op}function zC(e){return GC(e)&&HC(e)}function GC(e){for(const t of e.filters)if(t instanceof qC)return!1;return!0}function YC(e){if(e instanceof VC)return e.field.canonicalString()+e.op.toString()+_C(e.value);if(zC(e))return e.filters.map((e=>YC(e))).join(",");{const t=e.filters.map((e=>YC(e))).join(",");return"".concat(e.op,"(").concat(t,")")}}function WC(e,t){return e instanceof VC?function(e,t){return t instanceof VC&&e.op===t.op&&e.field.isEqual(t.field)&&yC(e.value,t.value)}(e,t):e instanceof qC?function(e,t){return t instanceof qC&&e.op===t.op&&e.filters.length===t.filters.length&&e.filters.reduce(((e,n,r)=>e&&WC(n,t.filters[r])),!0)}(e,t):void eE()}function KC(e){return e instanceof VC?function(e){return"".concat(e.field.canonicalString()," ").concat(e.op," ").concat(_C(e.value))}(e):e instanceof qC?function(e){return e.op.toString()+" {"+e.getFilters().map(KC).join(" ,")+"}"}(e):"Filter"}class QC extends VC{constructor(e,t,n){super(e,t,n),this.key=SE.fromName(n.referenceValue)}matches(e){const t=SE.comparator(e.key,this.key);return this.matchesComparison(t)}}class JC extends VC{constructor(e,t){super(e,"in",t),this.keys=ZC("in",t)}matches(e){return this.keys.some((t=>t.isEqual(e.key)))}}class XC extends VC{constructor(e,t){super(e,"not-in",t),this.keys=ZC("not-in",t)}matches(e){return!this.keys.some((t=>t.isEqual(e.key)))}}function ZC(e,t){var n;return((null===(n=t.arrayValue)||void 0===n?void 0:n.values)||[]).map((e=>SE.fromName(e.referenceValue)))}class $C extends VC{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return EC(t)&&bC(t.arrayValue,this.value)}}class eT extends VC{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&bC(this.value.arrayValue,t)}}class tT extends VC{constructor(e,t){super(e,"not-in",t)}matches(e){if(bC(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!bC(this.value.arrayValue,t)}}class nT extends VC{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!EC(t)||!t.arrayValue.values)&&t.arrayValue.values.some((e=>bC(this.value.arrayValue,e)))}}class rT{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;this.path=e,this.collectionGroup=t,this.orderBy=n,this.filters=r,this.limit=i,this.startAt=o,this.endAt=s,this.ce=null}}function iT(e){return new rT(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,arguments.length>6&&void 0!==arguments[6]?arguments[6]:null)}function oT(e){const t=nE(e);if(null===t.ce){let e=t.path.canonicalString();null!==t.collectionGroup&&(e+="|cg:"+t.collectionGroup),e+="|f:",e+=t.filters.map((e=>YC(e))).join(","),e+="|ob:",e+=t.orderBy.map((e=>function(e){return e.field.canonicalString()+e.dir}(e))).join(","),zE(t.limit)||(e+="|l:",e+=t.limit),t.startAt&&(e+="|lb:",e+=t.startAt.inclusive?"b:":"a:",e+=t.startAt.position.map((e=>_C(e))).join(",")),t.endAt&&(e+="|ub:",e+=t.endAt.inclusive?"a:":"b:",e+=t.endAt.position.map((e=>_C(e))).join(",")),t.ce=e}return t.ce}function sT(e,t){if(e.limit!==t.limit)return!1;if(e.orderBy.length!==t.orderBy.length)return!1;for(let n=0;n<e.orderBy.length;n++)if(!UC(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(let n=0;n<e.filters.length;n++)if(!WC(e.filters[n],t.filters[n]))return!1;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!MC(e.startAt,t.startAt)&&MC(e.endAt,t.endAt)}function aT(e){return SE.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}class lT{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"F",s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,a=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;this.path=e,this.collectionGroup=t,this.explicitOrderBy=n,this.filters=r,this.limit=i,this.limitType=o,this.startAt=s,this.endAt=a,this.le=null,this.he=null,this.Pe=null,this.startAt,this.endAt}}function cT(e,t,n,r,i,o,s,a){return new lT(e,t,n,r,i,o,s,a)}function uT(e){return new lT(e)}function dT(e){return 0===e.filters.length&&null===e.limit&&null==e.startAt&&null==e.endAt&&(0===e.explicitOrderBy.length||1===e.explicitOrderBy.length&&e.explicitOrderBy[0].field.isKeyField())}function hT(e){return null!==e.collectionGroup}function fT(e){const t=nE(e);if(null===t.le){t.le=[];const e=new Set;for(const i of t.explicitOrderBy)t.le.push(i),e.add(i.field.canonicalString());const n=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc",r=function(e){let t=new nC(xE.comparator);return e.filters.forEach((e=>{e.getFlattenedFilters().forEach((e=>{e.isInequality()&&(t=t.add(e.field))}))})),t}(t);r.forEach((r=>{e.has(r.canonicalString())||r.isKeyField()||t.le.push(new BC(r,n))})),e.has(xE.keyField().canonicalString())||t.le.push(new BC(xE.keyField(),n))}return t.le}function pT(e){const t=nE(e);return t.he||(t.he=mT(t,fT(e))),t.he}function mT(e,t){if("F"===e.limitType)return iT(e.path,e.collectionGroup,t,e.filters,e.limit,e.startAt,e.endAt);{t=t.map((e=>{const t="desc"===e.dir?"asc":"desc";return new BC(e.field,t)}));const n=e.endAt?new RC(e.endAt.position,e.endAt.inclusive):null,r=e.startAt?new RC(e.startAt.position,e.startAt.inclusive):null;return iT(e.path,e.collectionGroup,t,e.filters,e.limit,n,r)}}function gT(e,t){const n=e.filters.concat([t]);return new lT(e.path,e.collectionGroup,e.explicitOrderBy.slice(),n,e.limit,e.limitType,e.startAt,e.endAt)}function vT(e,t,n){return new lT(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function yT(e,t){return sT(pT(e),pT(t))&&e.limitType===t.limitType}function bT(e){return"".concat(oT(pT(e)),"|lt:").concat(e.limitType)}function wT(e){return"Query(target=".concat(function(e){let t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=", filters: [".concat(e.filters.map((e=>KC(e))).join(", "),"]")),zE(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=", orderBy: [".concat(e.orderBy.map((e=>function(e){return"".concat(e.field.canonicalString()," (").concat(e.dir,")")}(e))).join(", "),"]")),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map((e=>_C(e))).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map((e=>_C(e))).join(",")),"Target(".concat(t,")")}(pT(e)),"; limitType=").concat(e.limitType,")")}function AT(e,t){return t.isFoundDocument()&&function(e,t){const n=t.key.path;return null!==e.collectionGroup?t.key.hasCollectionId(e.collectionGroup)&&e.path.isPrefixOf(n):SE.isDocumentKey(e.path)?e.path.isEqual(n):e.path.isImmediateParentOf(n)}(e,t)&&function(e,t){for(const n of fT(e))if(!n.field.isKeyField()&&null===t.data.field(n.field))return!1;return!0}(e,t)&&function(e,t){for(const n of e.filters)if(!n.matches(t))return!1;return!0}(e,t)&&function(e,t){return!(e.startAt&&!function(e,t,n){const r=LC(e,t,n);return e.inclusive?r<=0:r<0}(e.startAt,fT(e),t))&&!(e.endAt&&!function(e,t,n){const r=LC(e,t,n);return e.inclusive?r>=0:r>0}(e.endAt,fT(e),t))}(e,t)}function _T(e){return e.collectionGroup||(e.path.length%2==1?e.path.lastSegment():e.path.get(e.path.length-2))}function xT(e){return(t,n)=>{let r=!1;for(const i of fT(e)){const e=ST(i,t,n);if(0!==e)return e;r=r||i.field.isKeyField()}return 0}}function ST(e,t,n){const r=e.field.isKeyField()?SE.comparator(t.key,n.key):function(e,t,n){const r=t.data.field(e),i=n.data.field(e);return null!==r&&null!==i?wC(r,i):eE()}(e.field,t,n);switch(e.dir){case"asc":return r;case"desc":return-1*r;default:return eE()}}class kT{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),n=this.inner[t];if(void 0!==n)for(const[r,i]of n)if(this.equalsFn(r,e))return i}has(e){return void 0!==this.get(e)}set(e,t){const n=this.mapKeyFn(e),r=this.inner[n];if(void 0===r)return this.inner[n]=[[e,t]],void this.innerSize++;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return void(r[i]=[e,t]);r.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),n=this.inner[t];if(void 0===n)return!1;for(let r=0;r<n.length;r++)if(this.equalsFn(n[r][0],e))return 1===n.length?delete this.inner[t]:n.splice(r,1),this.innerSize--,!0;return!1}forEach(e){XE(this.inner,((t,n)=>{for(const[r,i]of n)e(r,i)}))}isEmpty(){return ZE(this.inner)}size(){return this.innerSize}}const ET=new $E(SE.comparator);function CT(){return ET}const TT=new $E(SE.comparator);function NT(){let e=TT;for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(const i of n)e=e.insert(i.key,i);return e}function OT(e){let t=TT;return e.forEach(((e,n)=>t=t.insert(e,n.overlayedDocument))),t}function IT(){return jT()}function DT(){return jT()}function jT(){return new kT((e=>e.toString()),((e,t)=>e.isEqual(t)))}const PT=new $E(SE.comparator),RT=new nC(SE.comparator);function LT(){let e=RT;for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(const i of n)e=e.add(i);return e}const MT=new nC(gE);function BT(){return MT}function UT(e,t){if(e.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:GE(t)?"-0":t}}function FT(e){return{integerValue:""+e}}function VT(e,t){return YE(t)?FT(t):UT(e,t)}class qT{constructor(){this._=void 0}}function HT(e,t,n){return e instanceof YT?function(e,t){const n={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:e.seconds,nanos:e.nanoseconds}}}};return t&&dC(t)&&(t=hC(t)),t&&(n.fields.__previous_value__=t),{mapValue:n}}(n,t):e instanceof WT?KT(e,t):e instanceof QT?JT(e,t):function(e,t){const n=GT(e,t),r=ZT(n)+ZT(e.Ie);return kC(n)&&kC(e.Ie)?FT(r):UT(e.serializer,r)}(e,t)}function zT(e,t,n){return e instanceof WT?KT(e,t):e instanceof QT?JT(e,t):n}function GT(e,t){return e instanceof XT?function(e){return kC(e)||function(e){return!!e&&"doubleValue"in e}(e)}(t)?t:{integerValue:0}:null}class YT extends qT{}class WT extends qT{constructor(e){super(),this.elements=e}}function KT(e,t){const n=$T(t);for(const r of e.elements)n.some((e=>yC(e,r)))||n.push(r);return{arrayValue:{values:n}}}class QT extends qT{constructor(e){super(),this.elements=e}}function JT(e,t){let n=$T(t);for(const r of e.elements)n=n.filter((e=>!yC(e,r)));return{arrayValue:{values:n}}}class XT extends qT{constructor(e,t){super(),this.serializer=e,this.Ie=t}}function ZT(e){return cC(e.integerValue||e.doubleValue)}function $T(e){return EC(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}class eN{constructor(e,t){this.field=e,this.transform=t}}class tN{constructor(e,t){this.version=e,this.transformResults=t}}class nN{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new nN}static exists(e){return new nN(void 0,e)}static updateTime(e){return new nN(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function rN(e,t){return void 0!==e.updateTime?t.isFoundDocument()&&t.version.isEqual(e.updateTime):void 0===e.exists||e.exists===t.isFoundDocument()}class iN{}function oN(e,t){if(!e.hasLocalMutations||t&&0===t.fields.length)return null;if(null===t)return e.isNoDocument()?new mN(e.key,nN.none()):new uN(e.key,e.data,nN.none());{const n=e.data,r=DC.empty();let i=new nC(xE.comparator);for(let e of t.fields)if(!i.has(e)){let t=n.field(e);null===t&&e.length>1&&(e=e.popLast(),t=n.field(e)),null===t?r.delete(e):r.set(e,t),i=i.add(e)}return new dN(e.key,r,new iC(i.toArray()),nN.none())}}function sN(e,t,n){e instanceof uN?function(e,t,n){const r=e.value.clone(),i=fN(e.fieldTransforms,t,n.transformResults);r.setAll(i),t.convertToFoundDocument(n.version,r).setHasCommittedMutations()}(e,t,n):e instanceof dN?function(e,t,n){if(!rN(e.precondition,t))return void t.convertToUnknownDocument(n.version);const r=fN(e.fieldTransforms,t,n.transformResults),i=t.data;i.setAll(hN(e)),i.setAll(r),t.convertToFoundDocument(n.version,i).setHasCommittedMutations()}(e,t,n):function(e,t,n){t.convertToNoDocument(n.version).setHasCommittedMutations()}(0,t,n)}function aN(e,t,n,r){return e instanceof uN?function(e,t,n,r){if(!rN(e.precondition,t))return n;const i=e.value.clone(),o=pN(e.fieldTransforms,r,t);return i.setAll(o),t.convertToFoundDocument(t.version,i).setHasLocalMutations(),null}(e,t,n,r):e instanceof dN?function(e,t,n,r){if(!rN(e.precondition,t))return n;const i=pN(e.fieldTransforms,r,t),o=t.data;return o.setAll(hN(e)),o.setAll(i),t.convertToFoundDocument(t.version,o).setHasLocalMutations(),null===n?null:n.unionWith(e.fieldMask.fields).unionWith(e.fieldTransforms.map((e=>e.field)))}(e,t,n,r):function(e,t,n){return rN(e.precondition,t)?(t.convertToNoDocument(t.version).setHasLocalMutations(),null):n}(e,t,n)}function lN(e,t){let n=null;for(const r of e.fieldTransforms){const e=t.data.field(r.field),i=GT(r.transform,e||null);null!=i&&(null===n&&(n=DC.empty()),n.set(r.field,i))}return n||null}function cN(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(e,t){return void 0===e&&void 0===t||!(!e||!t)&&vE(e,t,((e,t)=>function(e,t){return e.field.isEqual(t.field)&&function(e,t){return e instanceof WT&&t instanceof WT||e instanceof QT&&t instanceof QT?vE(e.elements,t.elements,yC):e instanceof XT&&t instanceof XT?yC(e.Ie,t.Ie):e instanceof YT&&t instanceof YT}(e.transform,t.transform)}(e,t)))}(e.fieldTransforms,t.fieldTransforms)&&(0===e.type?e.value.isEqual(t.value):1!==e.type||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}class uN extends iN{constructor(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];super(),this.key=e,this.value=t,this.precondition=n,this.fieldTransforms=r,this.type=0}getFieldMask(){return null}}class dN extends iN{constructor(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[];super(),this.key=e,this.data=t,this.fieldMask=n,this.precondition=r,this.fieldTransforms=i,this.type=1}getFieldMask(){return this.fieldMask}}function hN(e){const t=new Map;return e.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const r=e.data.field(n);t.set(n,r)}})),t}function fN(e,t,n){const r=new Map;tE(e.length===n.length);for(let i=0;i<n.length;i++){const o=e[i],s=o.transform,a=t.data.field(o.field);r.set(o.field,zT(s,a,n[i]))}return r}function pN(e,t,n){const r=new Map;for(const i of e){const e=i.transform,o=n.data.field(i.field);r.set(i.field,HT(e,o,t))}return r}class mN extends iN{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class gN extends iN{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class vN{constructor(e,t,n,r){this.batchId=e,this.localWriteTime=t,this.baseMutations=n,this.mutations=r}applyToRemoteDocument(e,t){const n=t.mutationResults;for(let r=0;r<this.mutations.length;r++){const t=this.mutations[r];t.key.isEqual(e.key)&&sN(t,e,n[r])}}applyToLocalView(e,t){for(const n of this.baseMutations)n.key.isEqual(e.key)&&(t=aN(n,e,t,this.localWriteTime));for(const n of this.mutations)n.key.isEqual(e.key)&&(t=aN(n,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const n=DT();return this.mutations.forEach((r=>{const i=e.get(r.key),o=i.overlayedDocument;let s=this.applyToLocalView(o,i.mutatedFields);s=t.has(r.key)?null:s;const a=oN(o,s);null!==a&&n.set(r.key,a),o.isValidDocument()||o.convertToNoDocument(bE.min())})),n}keys(){return this.mutations.reduce(((e,t)=>e.add(t.key)),LT())}isEqual(e){return this.batchId===e.batchId&&vE(this.mutations,e.mutations,((e,t)=>cN(e,t)))&&vE(this.baseMutations,e.baseMutations,((e,t)=>cN(e,t)))}}class yN{constructor(e,t,n,r){this.batch=e,this.commitVersion=t,this.mutationResults=n,this.docVersions=r}static from(e,t,n){tE(e.mutations.length===n.length);let r=PT;const i=e.mutations;for(let o=0;o<i.length;o++)r=r.insert(i[o].key,n[o].version);return new yN(e,t,n,r)}}class bN{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return"Overlay{\n      largestBatchId: ".concat(this.largestBatchId,",\n      mutation: ").concat(this.mutation.toString(),"\n    }")}}class wN{constructor(e,t){this.count=e,this.unchangedNames=t}}var AN,_N;function xN(e){switch(e){default:return eE();case rE.CANCELLED:case rE.UNKNOWN:case rE.DEADLINE_EXCEEDED:case rE.RESOURCE_EXHAUSTED:case rE.INTERNAL:case rE.UNAVAILABLE:case rE.UNAUTHENTICATED:return!1;case rE.INVALID_ARGUMENT:case rE.NOT_FOUND:case rE.ALREADY_EXISTS:case rE.PERMISSION_DENIED:case rE.FAILED_PRECONDITION:case rE.ABORTED:case rE.OUT_OF_RANGE:case rE.UNIMPLEMENTED:case rE.DATA_LOSS:return!0}}function SN(e){if(void 0===e)return Xk("GRPC error has no .code"),rE.UNKNOWN;switch(e){case AN.OK:return rE.OK;case AN.CANCELLED:return rE.CANCELLED;case AN.UNKNOWN:return rE.UNKNOWN;case AN.DEADLINE_EXCEEDED:return rE.DEADLINE_EXCEEDED;case AN.RESOURCE_EXHAUSTED:return rE.RESOURCE_EXHAUSTED;case AN.INTERNAL:return rE.INTERNAL;case AN.UNAVAILABLE:return rE.UNAVAILABLE;case AN.UNAUTHENTICATED:return rE.UNAUTHENTICATED;case AN.INVALID_ARGUMENT:return rE.INVALID_ARGUMENT;case AN.NOT_FOUND:return rE.NOT_FOUND;case AN.ALREADY_EXISTS:return rE.ALREADY_EXISTS;case AN.PERMISSION_DENIED:return rE.PERMISSION_DENIED;case AN.FAILED_PRECONDITION:return rE.FAILED_PRECONDITION;case AN.ABORTED:return rE.ABORTED;case AN.OUT_OF_RANGE:return rE.OUT_OF_RANGE;case AN.UNIMPLEMENTED:return rE.UNIMPLEMENTED;case AN.DATA_LOSS:return rE.DATA_LOSS;default:return eE()}}(_N=AN||(AN={}))[_N.OK=0]="OK",_N[_N.CANCELLED=1]="CANCELLED",_N[_N.UNKNOWN=2]="UNKNOWN",_N[_N.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",_N[_N.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",_N[_N.NOT_FOUND=5]="NOT_FOUND",_N[_N.ALREADY_EXISTS=6]="ALREADY_EXISTS",_N[_N.PERMISSION_DENIED=7]="PERMISSION_DENIED",_N[_N.UNAUTHENTICATED=16]="UNAUTHENTICATED",_N[_N.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",_N[_N.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",_N[_N.ABORTED=10]="ABORTED",_N[_N.OUT_OF_RANGE=11]="OUT_OF_RANGE",_N[_N.UNIMPLEMENTED=12]="UNIMPLEMENTED",_N[_N.INTERNAL=13]="INTERNAL",_N[_N.UNAVAILABLE=14]="UNAVAILABLE",_N[_N.DATA_LOSS=15]="DATA_LOSS";let kN=null;function EN(){return new TextEncoder}const CN=new zk([4294967295,4294967295],0);function TN(e){const t=EN().encode(e),n=new Hk;return n.update(t),new Uint8Array(n.digest())}function NN(e){const t=new DataView(e.buffer),n=t.getUint32(0,!0),r=t.getUint32(4,!0),i=t.getUint32(8,!0),o=t.getUint32(12,!0);return[new zk([n,r],0),new zk([i,o],0)]}class ON{constructor(e,t,n){if(this.bitmap=e,this.padding=t,this.hashCount=n,t<0||t>=8)throw new IN("Invalid padding: ".concat(t));if(n<0)throw new IN("Invalid hash count: ".concat(n));if(e.length>0&&0===this.hashCount)throw new IN("Invalid hash count: ".concat(n));if(0===e.length&&0!==t)throw new IN("Invalid padding when bitmap length is 0: ".concat(t));this.Te=8*e.length-t,this.Ee=zk.fromNumber(this.Te)}de(e,t,n){let r=e.add(t.multiply(zk.fromNumber(n)));return 1===r.compare(CN)&&(r=new zk([r.getBits(0),r.getBits(1)],0)),r.modulo(this.Ee).toNumber()}Ae(e){return 0!=(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(0===this.Te)return!1;const t=TN(e),[n,r]=NN(t);for(let i=0;i<this.hashCount;i++){const e=this.de(n,r,i);if(!this.Ae(e))return!1}return!0}static create(e,t,n){const r=e%8==0?0:8-e%8,i=new Uint8Array(Math.ceil(e/8)),o=new ON(i,r,t);return n.forEach((e=>o.insert(e))),o}insert(e){if(0===this.Te)return;const t=TN(e),[n,r]=NN(t);for(let i=0;i<this.hashCount;i++){const e=this.de(n,r,i);this.Re(e)}}Re(e){const t=Math.floor(e/8),n=e%8;this.bitmap[t]|=1<<n}}class IN extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class DN{constructor(e,t,n,r,i){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=n,this.documentUpdates=r,this.resolvedLimboDocuments=i}static createSynthesizedRemoteEventForCurrentChange(e,t,n){const r=new Map;return r.set(e,jN.createSynthesizedTargetChangeForCurrentChange(e,t,n)),new DN(bE.min(),r,new $E(gE),CT(),LT())}}class jN{constructor(e,t,n,r,i){this.resumeToken=e,this.current=t,this.addedDocuments=n,this.modifiedDocuments=r,this.removedDocuments=i}static createSynthesizedTargetChangeForCurrentChange(e,t,n){return new jN(n,t,LT(),LT(),LT())}}class PN{constructor(e,t,n,r){this.Ve=e,this.removedTargetIds=t,this.key=n,this.me=r}}class RN{constructor(e,t){this.targetId=e,this.fe=t}}class LN{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:sC.EMPTY_BYTE_STRING,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;this.state=e,this.targetIds=t,this.resumeToken=n,this.cause=r}}class MN{constructor(){this.ge=0,this.pe=FN(),this.ye=sC.EMPTY_BYTE_STRING,this.we=!1,this.Se=!0}get current(){return this.we}get resumeToken(){return this.ye}get be(){return 0!==this.ge}get De(){return this.Se}Ce(e){e.approximateByteSize()>0&&(this.Se=!0,this.ye=e)}ve(){let e=LT(),t=LT(),n=LT();return this.pe.forEach(((r,i)=>{switch(i){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:n=n.add(r);break;default:eE()}})),new jN(this.ye,this.we,e,t,n)}Fe(){this.Se=!1,this.pe=FN()}Me(e,t){this.Se=!0,this.pe=this.pe.insert(e,t)}xe(e){this.Se=!0,this.pe=this.pe.remove(e)}Oe(){this.ge+=1}Ne(){this.ge-=1,tE(this.ge>=0)}Le(){this.Se=!0,this.we=!0}}class BN{constructor(e){this.Be=e,this.ke=new Map,this.qe=CT(),this.Qe=UN(),this.Ke=new $E(gE)}$e(e){for(const t of e.Ve)e.me&&e.me.isFoundDocument()?this.Ue(t,e.me):this.We(t,e.key,e.me);for(const t of e.removedTargetIds)this.We(t,e.key,e.me)}Ge(e){this.forEachTarget(e,(t=>{const n=this.ze(t);switch(e.state){case 0:this.je(t)&&n.Ce(e.resumeToken);break;case 1:n.Ne(),n.be||n.Fe(),n.Ce(e.resumeToken);break;case 2:n.Ne(),n.be||this.removeTarget(t);break;case 3:this.je(t)&&(n.Le(),n.Ce(e.resumeToken));break;case 4:this.je(t)&&(this.He(t),n.Ce(e.resumeToken));break;default:eE()}}))}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.ke.forEach(((e,n)=>{this.je(n)&&t(n)}))}Je(e){const t=e.targetId,n=e.fe.count,r=this.Ye(t);if(r){const i=r.target;if(aT(i))if(0===n){const e=new SE(i.path);this.We(t,e,PC.newNoDocument(e,bE.min()))}else tE(1===n);else{const r=this.Ze(t);if(r!==n){const n=this.Xe(e),i=n?this.et(n,e,r):1;if(0!==i){this.He(t);const e=2===i?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ke=this.Ke.insert(t,e)}null==kN||kN.tt(function(e,t,n,r,i){var o,s,a,l,c,u;const d={localCacheCount:e,existenceFilterCount:t.count,databaseId:n.database,projectId:n.projectId},h=t.unchangedNames;return h&&(d.bloomFilter={applied:0===i,hashCount:null!==(o=null==h?void 0:h.hashCount)&&void 0!==o?o:0,bitmapLength:null!==(l=null===(a=null===(s=null==h?void 0:h.bits)||void 0===s?void 0:s.bitmap)||void 0===a?void 0:a.length)&&void 0!==l?l:0,padding:null!==(u=null===(c=null==h?void 0:h.bits)||void 0===c?void 0:c.padding)&&void 0!==u?u:0,mightContain:e=>{var t;return null!==(t=null==r?void 0:r.mightContain(e))&&void 0!==t&&t}}),d}(r,e.fe,this.Be.nt(),n,i))}}}}Xe(e){const t=e.fe.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:n="",padding:r=0},hashCount:i=0}=t;let o,s;try{o=uC(n).toUint8Array()}catch(e){if(e instanceof oC)return Zk("Decoding the base64 bloom filter in existence filter failed ("+e.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw e}try{s=new ON(o,r,i)}catch(e){return Zk(e instanceof IN?"BloomFilter error: ":"Applying bloom filter failed: ",e),null}return 0===s.Te?null:s}et(e,t,n){return t.fe.count===n-this.rt(e,t.targetId)?0:2}rt(e,t){const n=this.Be.getRemoteKeysForTarget(t);let r=0;return n.forEach((n=>{const i=this.Be.nt(),o="projects/".concat(i.projectId,"/databases/").concat(i.database,"/documents/").concat(n.path.canonicalString());e.mightContain(o)||(this.We(t,n,null),r++)})),r}it(e){const t=new Map;this.ke.forEach(((n,r)=>{const i=this.Ye(r);if(i){if(n.current&&aT(i.target)){const t=new SE(i.target.path);null!==this.qe.get(t)||this.st(r,t)||this.We(r,t,PC.newNoDocument(t,e))}n.De&&(t.set(r,n.ve()),n.Fe())}}));let n=LT();this.Qe.forEach(((e,t)=>{let r=!0;t.forEachWhile((e=>{const t=this.Ye(e);return!t||"TargetPurposeLimboResolution"===t.purpose||(r=!1,!1)})),r&&(n=n.add(e))})),this.qe.forEach(((t,n)=>n.setReadTime(e)));const r=new DN(e,t,this.Ke,this.qe,n);return this.qe=CT(),this.Qe=UN(),this.Ke=new $E(gE),r}Ue(e,t){if(!this.je(e))return;const n=this.st(e,t.key)?2:0;this.ze(e).Me(t.key,n),this.qe=this.qe.insert(t.key,t),this.Qe=this.Qe.insert(t.key,this.ot(t.key).add(e))}We(e,t,n){if(!this.je(e))return;const r=this.ze(e);this.st(e,t)?r.Me(t,1):r.xe(t),this.Qe=this.Qe.insert(t,this.ot(t).delete(e)),n&&(this.qe=this.qe.insert(t,n))}removeTarget(e){this.ke.delete(e)}Ze(e){const t=this.ze(e).ve();return this.Be.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Oe(e){this.ze(e).Oe()}ze(e){let t=this.ke.get(e);return t||(t=new MN,this.ke.set(e,t)),t}ot(e){let t=this.Qe.get(e);return t||(t=new nC(gE),this.Qe=this.Qe.insert(e,t)),t}je(e){const t=null!==this.Ye(e);return t||Jk("WatchChangeAggregator","Detected inactive target",e),t}Ye(e){const t=this.ke.get(e);return t&&t.be?null:this.Be._t(e)}He(e){this.ke.set(e,new MN),this.Be.getRemoteKeysForTarget(e).forEach((t=>{this.We(e,t,null)}))}st(e,t){return this.Be.getRemoteKeysForTarget(e).has(t)}}function UN(){return new $E(SE.comparator)}function FN(){return new $E(SE.comparator)}const VN={asc:"ASCENDING",desc:"DESCENDING"},qN={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},HN={and:"AND",or:"OR"};class zN{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function GN(e,t){return e.useProto3Json||zE(t)?t:{value:t}}function YN(e,t){return e.useProto3Json?"".concat(new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z",""),".").concat(("000000000"+t.nanoseconds).slice(-9),"Z"):{seconds:""+t.seconds,nanos:t.nanoseconds}}function WN(e,t){return e.useProto3Json?t.toBase64():t.toUint8Array()}function KN(e,t){return YN(e,t.toTimestamp())}function QN(e){return tE(!!e),bE.fromTimestamp(function(e){const t=lC(e);return new yE(t.seconds,t.nanos)}(e))}function JN(e,t){return XN(e,t).canonicalString()}function XN(e,t){const n=function(e){return new AE(["projects",e.projectId,"databases",e.database])}(e).child("documents");return void 0===t?n:n.child(t)}function ZN(e){const t=AE.fromString(e);return tE(yO(t)),t}function $N(e,t){return JN(e.databaseId,t.path)}function eO(e,t){const n=ZN(t);if(n.get(1)!==e.databaseId.projectId)throw new iE(rE.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new iE(rE.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new SE(iO(n))}function tO(e,t){return JN(e.databaseId,t)}function nO(e){const t=ZN(e);return 4===t.length?AE.emptyPath():iO(t)}function rO(e){return new AE(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function iO(e){return tE(e.length>4&&"documents"===e.get(4)),e.popFirst(5)}function oO(e,t,n){return{name:$N(e,t),fields:n.value.mapValue.fields}}function sO(e,t){let n;if(t instanceof uN)n={update:oO(e,t.key,t.value)};else if(t instanceof mN)n={delete:$N(e,t.key)};else if(t instanceof dN)n={update:oO(e,t.key,t.data),updateMask:vO(t.fieldMask)};else{if(!(t instanceof gN))return eE();n={verify:$N(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map((e=>function(e,t){const n=t.transform;if(n instanceof YT)return{fieldPath:t.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof WT)return{fieldPath:t.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof QT)return{fieldPath:t.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof XT)return{fieldPath:t.field.canonicalString(),increment:n.Ie};throw eE()}(0,e)))),t.precondition.isNone||(n.currentDocument=function(e,t){return void 0!==t.updateTime?{updateTime:KN(e,t.updateTime)}:void 0!==t.exists?{exists:t.exists}:eE()}(e,t.precondition)),n}function aO(e,t){return{documents:[tO(e,t.path)]}}function lO(e,t){const n={structuredQuery:{}},r=t.path;let i;null!==t.collectionGroup?(i=r,n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=tO(e,i);const o=function(e){if(0!==e.length)return gO(qC.create(e,"and"))}(t.filters);o&&(n.structuredQuery.where=o);const s=function(e){if(0!==e.length)return e.map((e=>function(e){return{field:pO(e.field),direction:dO(e.dir)}}(e)))}(t.orderBy);s&&(n.structuredQuery.orderBy=s);const a=GN(e,t.limit);return null!==a&&(n.structuredQuery.limit=a),t.startAt&&(n.structuredQuery.startAt=function(e){return{before:e.inclusive,values:e.position}}(t.startAt)),t.endAt&&(n.structuredQuery.endAt=function(e){return{before:!e.inclusive,values:e.position}}(t.endAt)),{ut:n,parent:i}}function cO(e){let t=nO(e.parent);const n=e.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){tE(1===r);const e=n.from[0];e.allDescendants?i=e.collectionId:t=t.child(e.collectionId)}let o=[];n.where&&(o=function(e){const t=uO(e);return t instanceof qC&&zC(t)?t.getFilters():[t]}(n.where));let s=[];n.orderBy&&(s=function(e){return e.map((e=>function(e){return new BC(mO(e.field),function(e){switch(e){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(e.direction))}(e)))}(n.orderBy));let a=null;n.limit&&(a=function(e){let t;return t="object"==typeof e?e.value:e,zE(t)?null:t}(n.limit));let l=null;n.startAt&&(l=function(e){const t=!!e.before,n=e.values||[];return new RC(n,t)}(n.startAt));let c=null;return n.endAt&&(c=function(e){const t=!e.before,n=e.values||[];return new RC(n,t)}(n.endAt)),cT(t,i,s,o,a,"F",l,c)}function uO(e){return void 0!==e.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":const t=mO(e.unaryFilter.field);return VC.create(t,"==",{doubleValue:NaN});case"IS_NULL":const n=mO(e.unaryFilter.field);return VC.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const r=mO(e.unaryFilter.field);return VC.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const i=mO(e.unaryFilter.field);return VC.create(i,"!=",{nullValue:"NULL_VALUE"});default:return eE()}}(e):void 0!==e.fieldFilter?function(e){return VC.create(mO(e.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return eE()}}(e.fieldFilter.op),e.fieldFilter.value)}(e):void 0!==e.compositeFilter?function(e){return qC.create(e.compositeFilter.filters.map((e=>uO(e))),function(e){switch(e){case"AND":return"and";case"OR":return"or";default:return eE()}}(e.compositeFilter.op))}(e):eE()}function dO(e){return VN[e]}function hO(e){return qN[e]}function fO(e){return HN[e]}function pO(e){return{fieldPath:e.canonicalString()}}function mO(e){return xE.fromServerFormat(e.fieldPath)}function gO(e){return e instanceof VC?function(e){if("=="===e.op){if(TC(e.value))return{unaryFilter:{field:pO(e.field),op:"IS_NAN"}};if(CC(e.value))return{unaryFilter:{field:pO(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(TC(e.value))return{unaryFilter:{field:pO(e.field),op:"IS_NOT_NAN"}};if(CC(e.value))return{unaryFilter:{field:pO(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:pO(e.field),op:hO(e.op),value:e.value}}}(e):e instanceof qC?function(e){const t=e.getFilters().map((e=>gO(e)));return 1===t.length?t[0]:{compositeFilter:{op:fO(e.op),filters:t}}}(e):eE()}function vO(e){const t=[];return e.fields.forEach((e=>t.push(e.canonicalString()))),{fieldPaths:t}}function yO(e){return e.length>=4&&"projects"===e.get(0)&&"databases"===e.get(2)}class bO{constructor(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:bE.min(),o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:bE.min(),s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:sC.EMPTY_BYTE_STRING,a=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;this.target=e,this.targetId=t,this.purpose=n,this.sequenceNumber=r,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=s,this.expectedCount=a}withSequenceNumber(e){return new bO(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new bO(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new bO(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new bO(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class wO{constructor(e){this.ct=e}}function AO(e){const t=cO({parent:e.parent,structuredQuery:e.structuredQuery});return"LAST"===e.limitType?vT(t,t.limit,"L"):t}class _O{constructor(){}Pt(e,t){this.It(e,t),t.Tt()}It(e,t){if("nullValue"in e)this.Et(t,5);else if("booleanValue"in e)this.Et(t,10),t.dt(e.booleanValue?1:0);else if("integerValue"in e)this.Et(t,15),t.dt(cC(e.integerValue));else if("doubleValue"in e){const n=cC(e.doubleValue);isNaN(n)?this.Et(t,13):(this.Et(t,15),GE(n)?t.dt(0):t.dt(n))}else if("timestampValue"in e){let n=e.timestampValue;this.Et(t,20),"string"==typeof n&&(n=lC(n)),t.At("".concat(n.seconds||"")),t.dt(n.nanos||0)}else if("stringValue"in e)this.Rt(e.stringValue,t),this.Vt(t);else if("bytesValue"in e)this.Et(t,30),t.ft(uC(e.bytesValue)),this.Vt(t);else if("referenceValue"in e)this.gt(e.referenceValue,t);else if("geoPointValue"in e){const n=e.geoPointValue;this.Et(t,45),t.dt(n.latitude||0),t.dt(n.longitude||0)}else"mapValue"in e?IC(e)?this.Et(t,Number.MAX_SAFE_INTEGER):(this.yt(e.mapValue,t),this.Vt(t)):"arrayValue"in e?(this.wt(e.arrayValue,t),this.Vt(t)):eE()}Rt(e,t){this.Et(t,25),this.St(e,t)}St(e,t){t.At(e)}yt(e,t){const n=e.fields||{};this.Et(t,55);for(const r of Object.keys(n))this.Rt(r,t),this.It(n[r],t)}wt(e,t){const n=e.values||[];this.Et(t,50);for(const r of n)this.It(r,t)}gt(e,t){this.Et(t,37),SE.fromName(e).path.forEach((e=>{this.Et(t,60),this.St(e,t)}))}Et(e,t){e.dt(t)}Vt(e){e.dt(2)}}_O.bt=new _O;class xO{constructor(){this._n=new SO}addToCollectionParentIndex(e,t){return this._n.add(t),jE.resolve()}getCollectionParents(e,t){return jE.resolve(this._n.getEntries(t))}addFieldIndex(e,t){return jE.resolve()}deleteFieldIndex(e,t){return jE.resolve()}deleteAllFieldIndexes(e){return jE.resolve()}createTargetIndexes(e,t){return jE.resolve()}getDocumentsMatchingTarget(e,t){return jE.resolve(null)}getIndexType(e,t){return jE.resolve(0)}getFieldIndexes(e,t){return jE.resolve([])}getNextCollectionGroupToUpdate(e){return jE.resolve(null)}getMinOffset(e,t){return jE.resolve(TE.min())}getMinOffsetFromCollectionGroup(e,t){return jE.resolve(TE.min())}updateCollectionGroup(e,t,n){return jE.resolve()}updateIndexEntries(e,t){return jE.resolve()}}class SO{constructor(){this.index={}}add(e){const t=e.lastSegment(),n=e.popLast(),r=this.index[t]||new nC(AE.comparator),i=!r.has(n);return this.index[t]=r.add(n),i}has(e){const t=e.lastSegment(),n=e.popLast(),r=this.index[t];return r&&r.has(n)}getEntries(e){return(this.index[e]||new nC(AE.comparator)).toArray()}}new Uint8Array(0);class kO{constructor(e,t,n){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=n}static withCacheSize(e){return new kO(e,kO.DEFAULT_COLLECTION_PERCENTILE,kO.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}kO.DEFAULT_COLLECTION_PERCENTILE=10,kO.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,kO.DEFAULT=new kO(41943040,kO.DEFAULT_COLLECTION_PERCENTILE,kO.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),kO.DISABLED=new kO(-1,0,0);class EO{constructor(e){this.On=e}next(){return this.On+=2,this.On}static Nn(){return new EO(0)}static Ln(){return new EO(-1)}}class CO{constructor(){this.changes=new kT((e=>e.toString()),((e,t)=>e.isEqual(t))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,PC.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const n=this.changes.get(t);return void 0!==n?jE.resolve(n):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class TO{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class NO{constructor(e,t,n,r){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=n,this.indexManager=r}getDocument(e,t){let n=null;return this.documentOverlayCache.getOverlay(e,t).next((r=>(n=r,this.remoteDocumentCache.getEntry(e,t)))).next((e=>(null!==n&&aN(n.mutation,e,iC.empty(),yE.now()),e)))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next((t=>this.getLocalViewOfDocuments(e,t,LT()).next((()=>t))))}getLocalViewOfDocuments(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:LT();const r=IT();return this.populateOverlays(e,r,t).next((()=>this.computeViews(e,t,r,n).next((e=>{let t=NT();return e.forEach(((e,n)=>{t=t.insert(e,n.overlayedDocument)})),t}))))}getOverlayedDocuments(e,t){const n=IT();return this.populateOverlays(e,n,t).next((()=>this.computeViews(e,t,n,LT())))}populateOverlays(e,t,n){const r=[];return n.forEach((e=>{t.has(e)||r.push(e)})),this.documentOverlayCache.getOverlays(e,r).next((e=>{e.forEach(((e,n)=>{t.set(e,n)}))}))}computeViews(e,t,n,r){let i=CT();const o=jT(),s=jT();return t.forEach(((e,t)=>{const s=n.get(t.key);r.has(t.key)&&(void 0===s||s.mutation instanceof dN)?i=i.insert(t.key,t):void 0!==s?(o.set(t.key,s.mutation.getFieldMask()),aN(s.mutation,t,s.mutation.getFieldMask(),yE.now())):o.set(t.key,iC.empty())})),this.recalculateAndSaveOverlays(e,i).next((e=>(e.forEach(((e,t)=>o.set(e,t))),t.forEach(((e,t)=>{var n;return s.set(e,new TO(t,null!==(n=o.get(e))&&void 0!==n?n:null))})),s)))}recalculateAndSaveOverlays(e,t){const n=jT();let r=new $E(((e,t)=>e-t)),i=LT();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next((e=>{for(const i of e)i.keys().forEach((e=>{const o=t.get(e);if(null===o)return;let s=n.get(e)||iC.empty();s=i.applyToLocalView(o,s),n.set(e,s);const a=(r.get(i.batchId)||LT()).add(e);r=r.insert(i.batchId,a)}))})).next((()=>{const o=[],s=r.getReverseIterator();for(;s.hasNext();){const r=s.getNext(),a=r.key,l=r.value,c=DT();l.forEach((e=>{if(!i.has(e)){const r=oN(t.get(e),n.get(e));null!==r&&c.set(e,r),i=i.add(e)}})),o.push(this.documentOverlayCache.saveOverlays(e,a,c))}return jE.waitFor(o)})).next((()=>n))}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next((t=>this.recalculateAndSaveOverlays(e,t)))}getDocumentsMatchingQuery(e,t,n,r){return function(e){return SE.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):hT(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,n,r):this.getDocumentsMatchingCollectionQuery(e,t,n,r)}getNextDocuments(e,t,n,r){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,n,r).next((i=>{const o=r-i.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,n.largestBatchId,r-i.size):jE.resolve(IT());let s=-1,a=i;return o.next((t=>jE.forEach(t,((t,n)=>(s<n.largestBatchId&&(s=n.largestBatchId),i.get(t)?jE.resolve():this.remoteDocumentCache.getEntry(e,t).next((e=>{a=a.insert(t,e)}))))).next((()=>this.populateOverlays(e,t,i))).next((()=>this.computeViews(e,a,t,LT()))).next((e=>({batchId:s,changes:OT(e)})))))}))}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new SE(t)).next((e=>{let t=NT();return e.isFoundDocument()&&(t=t.insert(e.key,e)),t}))}getDocumentsMatchingCollectionGroupQuery(e,t,n,r){const i=t.collectionGroup;let o=NT();return this.indexManager.getCollectionParents(e,i).next((s=>jE.forEach(s,(s=>{const a=function(e,t){return new lT(t,null,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(t,s.child(i));return this.getDocumentsMatchingCollectionQuery(e,a,n,r).next((e=>{e.forEach(((e,t)=>{o=o.insert(e,t)}))}))})).next((()=>o))))}getDocumentsMatchingCollectionQuery(e,t,n,r){let i;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,n.largestBatchId).next((o=>(i=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,n,i,r)))).next((e=>{i.forEach(((t,n)=>{const r=n.getKey();null===e.get(r)&&(e=e.insert(r,PC.newInvalidDocument(r)))}));let n=NT();return e.forEach(((e,r)=>{const o=i.get(e);void 0!==o&&aN(o.mutation,r,iC.empty(),yE.now()),AT(t,r)&&(n=n.insert(e,r))})),n}))}}class OO{constructor(e){this.serializer=e,this.cr=new Map,this.lr=new Map}getBundleMetadata(e,t){return jE.resolve(this.cr.get(t))}saveBundleMetadata(e,t){return this.cr.set(t.id,function(e){return{id:e.id,version:e.version,createTime:QN(e.createTime)}}(t)),jE.resolve()}getNamedQuery(e,t){return jE.resolve(this.lr.get(t))}saveNamedQuery(e,t){return this.lr.set(t.name,function(e){return{name:e.name,query:AO(e.bundledQuery),readTime:QN(e.readTime)}}(t)),jE.resolve()}}class IO{constructor(){this.overlays=new $E(SE.comparator),this.hr=new Map}getOverlay(e,t){return jE.resolve(this.overlays.get(t))}getOverlays(e,t){const n=IT();return jE.forEach(t,(t=>this.getOverlay(e,t).next((e=>{null!==e&&n.set(t,e)})))).next((()=>n))}saveOverlays(e,t,n){return n.forEach(((n,r)=>{this.ht(e,t,r)})),jE.resolve()}removeOverlaysForBatchId(e,t,n){const r=this.hr.get(n);return void 0!==r&&(r.forEach((e=>this.overlays=this.overlays.remove(e))),this.hr.delete(n)),jE.resolve()}getOverlaysForCollection(e,t,n){const r=IT(),i=t.length+1,o=new SE(t.child("")),s=this.overlays.getIteratorFrom(o);for(;s.hasNext();){const e=s.getNext().value,o=e.getKey();if(!t.isPrefixOf(o.path))break;o.path.length===i&&e.largestBatchId>n&&r.set(e.getKey(),e)}return jE.resolve(r)}getOverlaysForCollectionGroup(e,t,n,r){let i=new $E(((e,t)=>e-t));const o=this.overlays.getIterator();for(;o.hasNext();){const e=o.getNext().value;if(e.getKey().getCollectionGroup()===t&&e.largestBatchId>n){let t=i.get(e.largestBatchId);null===t&&(t=IT(),i=i.insert(e.largestBatchId,t)),t.set(e.getKey(),e)}}const s=IT(),a=i.getIterator();for(;a.hasNext()&&(a.getNext().value.forEach(((e,t)=>s.set(e,t))),!(s.size()>=r)););return jE.resolve(s)}ht(e,t,n){const r=this.overlays.get(n.key);if(null!==r){const e=this.hr.get(r.largestBatchId).delete(n.key);this.hr.set(r.largestBatchId,e)}this.overlays=this.overlays.insert(n.key,new bN(t,n));let i=this.hr.get(t);void 0===i&&(i=LT(),this.hr.set(t,i)),this.hr.set(t,i.add(n.key))}}class DO{constructor(){this.Pr=new nC(jO.Ir),this.Tr=new nC(jO.Er)}isEmpty(){return this.Pr.isEmpty()}addReference(e,t){const n=new jO(e,t);this.Pr=this.Pr.add(n),this.Tr=this.Tr.add(n)}dr(e,t){e.forEach((e=>this.addReference(e,t)))}removeReference(e,t){this.Ar(new jO(e,t))}Rr(e,t){e.forEach((e=>this.removeReference(e,t)))}Vr(e){const t=new SE(new AE([])),n=new jO(t,e),r=new jO(t,e+1),i=[];return this.Tr.forEachInRange([n,r],(e=>{this.Ar(e),i.push(e.key)})),i}mr(){this.Pr.forEach((e=>this.Ar(e)))}Ar(e){this.Pr=this.Pr.delete(e),this.Tr=this.Tr.delete(e)}gr(e){const t=new SE(new AE([])),n=new jO(t,e),r=new jO(t,e+1);let i=LT();return this.Tr.forEachInRange([n,r],(e=>{i=i.add(e.key)})),i}containsKey(e){const t=new jO(e,0),n=this.Pr.firstAfterOrEqual(t);return null!==n&&e.isEqual(n.key)}}class jO{constructor(e,t){this.key=e,this.pr=t}static Ir(e,t){return SE.comparator(e.key,t.key)||gE(e.pr,t.pr)}static Er(e,t){return gE(e.pr,t.pr)||SE.comparator(e.key,t.key)}}class PO{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.yr=1,this.wr=new nC(jO.Ir)}checkEmpty(e){return jE.resolve(0===this.mutationQueue.length)}addMutationBatch(e,t,n,r){const i=this.yr;this.yr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new vN(i,t,n,r);this.mutationQueue.push(o);for(const s of r)this.wr=this.wr.add(new jO(s.key,i)),this.indexManager.addToCollectionParentIndex(e,s.key.path.popLast());return jE.resolve(o)}lookupMutationBatch(e,t){return jE.resolve(this.Sr(t))}getNextMutationBatchAfterBatchId(e,t){const n=t+1,r=this.br(n),i=r<0?0:r;return jE.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}getHighestUnacknowledgedBatchId(){return jE.resolve(0===this.mutationQueue.length?-1:this.yr-1)}getAllMutationBatches(e){return jE.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const n=new jO(t,0),r=new jO(t,Number.POSITIVE_INFINITY),i=[];return this.wr.forEachInRange([n,r],(e=>{const t=this.Sr(e.pr);i.push(t)})),jE.resolve(i)}getAllMutationBatchesAffectingDocumentKeys(e,t){let n=new nC(gE);return t.forEach((e=>{const t=new jO(e,0),r=new jO(e,Number.POSITIVE_INFINITY);this.wr.forEachInRange([t,r],(e=>{n=n.add(e.pr)}))})),jE.resolve(this.Dr(n))}getAllMutationBatchesAffectingQuery(e,t){const n=t.path,r=n.length+1;let i=n;SE.isDocumentKey(i)||(i=i.child(""));const o=new jO(new SE(i),0);let s=new nC(gE);return this.wr.forEachWhile((e=>{const t=e.key.path;return!!n.isPrefixOf(t)&&(t.length===r&&(s=s.add(e.pr)),!0)}),o),jE.resolve(this.Dr(s))}Dr(e){const t=[];return e.forEach((e=>{const n=this.Sr(e);null!==n&&t.push(n)})),t}removeMutationBatch(e,t){tE(0===this.Cr(t.batchId,"removed")),this.mutationQueue.shift();let n=this.wr;return jE.forEach(t.mutations,(r=>{const i=new jO(r.key,t.batchId);return n=n.delete(i),this.referenceDelegate.markPotentiallyOrphaned(e,r.key)})).next((()=>{this.wr=n}))}Mn(e){}containsKey(e,t){const n=new jO(t,0),r=this.wr.firstAfterOrEqual(n);return jE.resolve(t.isEqual(r&&r.key))}performConsistencyCheck(e){return this.mutationQueue.length,jE.resolve()}Cr(e,t){return this.br(e)}br(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}Sr(e){const t=this.br(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class RO{constructor(e){this.vr=e,this.docs=new $E(SE.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const n=t.key,r=this.docs.get(n),i=r?r.size:0,o=this.vr(t);return this.docs=this.docs.insert(n,{document:t.mutableCopy(),size:o}),this.size+=o-i,this.indexManager.addToCollectionParentIndex(e,n.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const n=this.docs.get(t);return jE.resolve(n?n.document.mutableCopy():PC.newInvalidDocument(t))}getEntries(e,t){let n=CT();return t.forEach((e=>{const t=this.docs.get(e);n=n.insert(e,t?t.document.mutableCopy():PC.newInvalidDocument(e))})),jE.resolve(n)}getDocumentsMatchingQuery(e,t,n,r){let i=CT();const o=t.path,s=new SE(o.child("")),a=this.docs.getIteratorFrom(s);for(;a.hasNext();){const{key:e,value:{document:s}}=a.getNext();if(!o.isPrefixOf(e.path))break;e.path.length>o.length+1||NE(CE(s),n)<=0||(r.has(s.key)||AT(t,s))&&(i=i.insert(s.key,s.mutableCopy()))}return jE.resolve(i)}getAllFromCollectionGroup(e,t,n,r){eE()}Fr(e,t){return jE.forEach(this.docs,(e=>t(e)))}newChangeBuffer(e){return new LO(this)}getSize(e){return jE.resolve(this.size)}}class LO extends CO{constructor(e){super(),this.ar=e}applyChanges(e){const t=[];return this.changes.forEach(((n,r)=>{r.isValidDocument()?t.push(this.ar.addEntry(e,r)):this.ar.removeEntry(n)})),jE.waitFor(t)}getFromCache(e,t){return this.ar.getEntry(e,t)}getAllFromCache(e,t){return this.ar.getEntries(e,t)}}class MO{constructor(e){this.persistence=e,this.Mr=new kT((e=>oT(e)),sT),this.lastRemoteSnapshotVersion=bE.min(),this.highestTargetId=0,this.Or=0,this.Nr=new DO,this.targetCount=0,this.Lr=EO.Nn()}forEachTarget(e,t){return this.Mr.forEach(((e,n)=>t(n))),jE.resolve()}getLastRemoteSnapshotVersion(e){return jE.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return jE.resolve(this.Or)}allocateTargetId(e){return this.highestTargetId=this.Lr.next(),jE.resolve(this.highestTargetId)}setTargetsMetadata(e,t,n){return n&&(this.lastRemoteSnapshotVersion=n),t>this.Or&&(this.Or=t),jE.resolve()}qn(e){this.Mr.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Lr=new EO(t),this.highestTargetId=t),e.sequenceNumber>this.Or&&(this.Or=e.sequenceNumber)}addTargetData(e,t){return this.qn(t),this.targetCount+=1,jE.resolve()}updateTargetData(e,t){return this.qn(t),jE.resolve()}removeTargetData(e,t){return this.Mr.delete(t.target),this.Nr.Vr(t.targetId),this.targetCount-=1,jE.resolve()}removeTargets(e,t,n){let r=0;const i=[];return this.Mr.forEach(((o,s)=>{s.sequenceNumber<=t&&null===n.get(s.targetId)&&(this.Mr.delete(o),i.push(this.removeMatchingKeysForTargetId(e,s.targetId)),r++)})),jE.waitFor(i).next((()=>r))}getTargetCount(e){return jE.resolve(this.targetCount)}getTargetData(e,t){const n=this.Mr.get(t)||null;return jE.resolve(n)}addMatchingKeys(e,t,n){return this.Nr.dr(t,n),jE.resolve()}removeMatchingKeys(e,t,n){this.Nr.Rr(t,n);const r=this.persistence.referenceDelegate,i=[];return r&&t.forEach((t=>{i.push(r.markPotentiallyOrphaned(e,t))})),jE.waitFor(i)}removeMatchingKeysForTargetId(e,t){return this.Nr.Vr(t),jE.resolve()}getMatchingKeysForTargetId(e,t){const n=this.Nr.gr(t);return jE.resolve(n)}containsKey(e,t){return jE.resolve(this.Nr.containsKey(t))}}class BO{constructor(e,t){this.Br={},this.overlays={},this.kr=new HE(0),this.qr=!1,this.qr=!0,this.referenceDelegate=e(this),this.Qr=new MO(this),this.indexManager=new xO,this.remoteDocumentCache=function(e){return new RO(e)}((e=>this.referenceDelegate.Kr(e))),this.serializer=new wO(t),this.$r=new OO(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.qr=!1,Promise.resolve()}get started(){return this.qr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new IO,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let n=this.Br[e.toKey()];return n||(n=new PO(t,this.referenceDelegate),this.Br[e.toKey()]=n),n}getTargetCache(){return this.Qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.$r}runTransaction(e,t,n){Jk("MemoryPersistence","Starting transaction:",e);const r=new UO(this.kr.next());return this.referenceDelegate.Ur(),n(r).next((e=>this.referenceDelegate.Wr(r).next((()=>e)))).toPromise().then((e=>(r.raiseOnCommittedEvent(),e)))}Gr(e,t){return jE.or(Object.values(this.Br).map((n=>()=>n.containsKey(e,t))))}}class UO extends IE{constructor(e){super(),this.currentSequenceNumber=e}}class FO{constructor(e){this.persistence=e,this.zr=new DO,this.jr=null}static Hr(e){return new FO(e)}get Jr(){if(this.jr)return this.jr;throw eE()}addReference(e,t,n){return this.zr.addReference(n,t),this.Jr.delete(n.toString()),jE.resolve()}removeReference(e,t,n){return this.zr.removeReference(n,t),this.Jr.add(n.toString()),jE.resolve()}markPotentiallyOrphaned(e,t){return this.Jr.add(t.toString()),jE.resolve()}removeTarget(e,t){this.zr.Vr(t.targetId).forEach((e=>this.Jr.add(e.toString())));const n=this.persistence.getTargetCache();return n.getMatchingKeysForTargetId(e,t.targetId).next((e=>{e.forEach((e=>this.Jr.add(e.toString())))})).next((()=>n.removeTargetData(e,t)))}Ur(){this.jr=new Set}Wr(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return jE.forEach(this.Jr,(n=>{const r=SE.fromPath(n);return this.Yr(e,r).next((e=>{e||t.removeEntry(r,bE.min())}))})).next((()=>(this.jr=null,t.apply(e))))}updateLimboDocument(e,t){return this.Yr(e,t).next((e=>{e?this.Jr.delete(t.toString()):this.Jr.add(t.toString())}))}Kr(e){return 0}Yr(e,t){return jE.or([()=>jE.resolve(this.zr.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Gr(e,t)])}}class VO{constructor(e,t,n,r){this.targetId=e,this.fromCache=t,this.qi=n,this.Qi=r}static Ki(e,t){let n=LT(),r=LT();for(const i of t.docChanges)switch(i.type){case 0:n=n.add(i.doc.key);break;case 1:r=r.add(i.doc.key)}return new VO(e,t.fromCache,n,r)}}class qO{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class HO{constructor(){this.$i=!1,this.Ui=!1,this.Wi=100,this.Gi=Bb()?8:RE.v(Mb())>0?6:4}initialize(e,t){this.zi=e,this.indexManager=t,this.$i=!0}getDocumentsMatchingQuery(e,t,n,r){const i={result:null};return this.ji(e,t).next((e=>{i.result=e})).next((()=>{if(!i.result)return this.Hi(e,t,r,n).next((e=>{i.result=e}))})).next((()=>{if(i.result)return;const n=new qO;return this.Ji(e,t,n).next((r=>{if(i.result=r,this.Ui)return this.Yi(e,t,n,r.size)}))})).next((()=>i.result))}Yi(e,t,n,r){return n.documentReadCount<this.Wi?(Qk()<=nw.DEBUG&&Jk("QueryEngine","SDK will not create cache indexes for query:",wT(t),"since it only creates cache indexes for collection contains","more than or equal to",this.Wi,"documents"),jE.resolve()):(Qk()<=nw.DEBUG&&Jk("QueryEngine","Query:",wT(t),"scans",n.documentReadCount,"local documents and returns",r,"documents as results."),n.documentReadCount>this.Gi*r?(Qk()<=nw.DEBUG&&Jk("QueryEngine","The SDK decides to create cache indexes for query:",wT(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,pT(t))):jE.resolve())}ji(e,t){if(dT(t))return jE.resolve(null);let n=pT(t);return this.indexManager.getIndexType(e,n).next((r=>0===r?null:(null!==t.limit&&1===r&&(t=vT(t,null,"F"),n=pT(t)),this.indexManager.getDocumentsMatchingTarget(e,n).next((r=>{const i=LT(...r);return this.zi.getDocuments(e,i).next((r=>this.indexManager.getMinOffset(e,n).next((n=>{const o=this.Zi(t,r);return this.Xi(t,o,i,n.readTime)?this.ji(e,vT(t,null,"F")):this.es(e,o,t,n)}))))})))))}Hi(e,t,n,r){return dT(t)||r.isEqual(bE.min())?jE.resolve(null):this.zi.getDocuments(e,n).next((i=>{const o=this.Zi(t,i);return this.Xi(t,o,n,r)?jE.resolve(null):(Qk()<=nw.DEBUG&&Jk("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),wT(t)),this.es(e,o,t,EE(r,-1)).next((e=>e)))}))}Zi(e,t){let n=new nC(xT(e));return t.forEach(((t,r)=>{AT(e,r)&&(n=n.add(r))})),n}Xi(e,t,n,r){if(null===e.limit)return!1;if(n.size!==t.size)return!0;const i="F"===e.limitType?t.last():t.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(r)>0)}Ji(e,t,n){return Qk()<=nw.DEBUG&&Jk("QueryEngine","Using full collection scan to execute query:",wT(t)),this.zi.getDocumentsMatchingQuery(e,t,TE.min(),n)}es(e,t,n,r){return this.zi.getDocumentsMatchingQuery(e,n,r).next((e=>(t.forEach((t=>{e=e.insert(t.key,t)})),e)))}}class zO{constructor(e,t,n,r){this.persistence=e,this.ts=t,this.serializer=r,this.ns=new $E(gE),this.rs=new kT((e=>oT(e)),sT),this.ss=new Map,this.os=e.getRemoteDocumentCache(),this.Qr=e.getTargetCache(),this.$r=e.getBundleCache(),this._s(n)}_s(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new NO(this.os,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.os.setIndexManager(this.indexManager),this.ts.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(t=>e.collect(t,this.ns)))}}function GO(e,t,n,r){return new zO(e,t,n,r)}async function YO(e,t){const n=nE(e);return await n.persistence.runTransaction("Handle user change","readonly",(e=>{let r;return n.mutationQueue.getAllMutationBatches(e).next((i=>(r=i,n._s(t),n.mutationQueue.getAllMutationBatches(e)))).next((t=>{const i=[],o=[];let s=LT();for(const e of r){i.push(e.batchId);for(const t of e.mutations)s=s.add(t.key)}for(const e of t){o.push(e.batchId);for(const t of e.mutations)s=s.add(t.key)}return n.localDocuments.getDocuments(e,s).next((e=>({us:e,removedBatchIds:i,addedBatchIds:o})))}))}))}function WO(e){const t=nE(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(e=>t.Qr.getLastRemoteSnapshotVersion(e)))}function KO(e,t,n){let r=LT(),i=LT();return n.forEach((e=>r=r.add(e))),t.getEntries(e,r).next((e=>{let r=CT();return n.forEach(((n,o)=>{const s=e.get(n);o.isFoundDocument()!==s.isFoundDocument()&&(i=i.add(n)),o.isNoDocument()&&o.version.isEqual(bE.min())?(t.removeEntry(n,o.readTime),r=r.insert(n,o)):!s.isValidDocument()||o.version.compareTo(s.version)>0||0===o.version.compareTo(s.version)&&s.hasPendingWrites?(t.addEntry(o),r=r.insert(n,o)):Jk("LocalStore","Ignoring outdated watch update for ",n,". Current version:",s.version," Watch version:",o.version)})),{cs:r,ls:i}}))}function QO(e,t){const n=nE(e);return n.persistence.runTransaction("Get next mutation batch","readonly",(e=>(void 0===t&&(t=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(e,t))))}function JO(e,t){const n=nE(e);return n.persistence.runTransaction("Allocate target","readwrite",(e=>{let r;return n.Qr.getTargetData(e,t).next((i=>i?(r=i,jE.resolve(r)):n.Qr.allocateTargetId(e).next((i=>(r=new bO(t,i,"TargetPurposeListen",e.currentSequenceNumber),n.Qr.addTargetData(e,r).next((()=>r)))))))})).then((e=>{const r=n.ns.get(e.targetId);return(null===r||e.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.ns=n.ns.insert(e.targetId,e),n.rs.set(t,e.targetId)),e}))}async function XO(e,t,n){const r=nE(e),i=r.ns.get(t),o=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",o,(e=>r.persistence.referenceDelegate.removeTarget(e,i)))}catch(e){if(!BE(e))throw e;Jk("LocalStore","Failed to update sequence numbers for target ".concat(t,": ").concat(e))}r.ns=r.ns.remove(t),r.rs.delete(i.target)}function ZO(e,t,n){const r=nE(e);let i=bE.min(),o=LT();return r.persistence.runTransaction("Execute query","readwrite",(e=>function(e,t,n){const r=nE(e),i=r.rs.get(n);return void 0!==i?jE.resolve(r.ns.get(i)):r.Qr.getTargetData(t,n)}(r,e,pT(t)).next((t=>{if(t)return i=t.lastLimboFreeSnapshotVersion,r.Qr.getMatchingKeysForTargetId(e,t.targetId).next((e=>{o=e}))})).next((()=>r.ts.getDocumentsMatchingQuery(e,t,n?i:bE.min(),n?o:LT()))).next((e=>($O(r,_T(t),e),{documents:e,hs:o})))))}function $O(e,t,n){let r=e.ss.get(t)||bE.min();n.forEach(((e,t)=>{t.readTime.compareTo(r)>0&&(r=t.readTime)})),e.ss.set(t,r)}class eI{constructor(){this.activeTargetIds=BT()}As(e){this.activeTargetIds=this.activeTargetIds.add(e)}Rs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}ds(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class tI{constructor(){this.no=new eI,this.ro={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,n){}addLocalQueryTarget(e){return this.no.As(e),this.ro[e]||"not-current"}updateQueryState(e,t,n){this.ro[e]=t}removeLocalQueryTarget(e){this.no.Rs(e)}isLocalQueryTarget(e){return this.no.activeTargetIds.has(e)}clearQueryState(e){delete this.ro[e]}getAllActiveQueryTargets(){return this.no.activeTargetIds}isActiveQueryTarget(e){return this.no.activeTargetIds.has(e)}start(){return this.no=new eI,Promise.resolve()}handleUserChange(e,t,n){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class nI{io(e){}shutdown(){}}class rI{constructor(){this.so=()=>this.oo(),this._o=()=>this.ao(),this.uo=[],this.co()}io(e){this.uo.push(e)}shutdown(){window.removeEventListener("online",this.so),window.removeEventListener("offline",this._o)}co(){window.addEventListener("online",this.so),window.addEventListener("offline",this._o)}oo(){Jk("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.uo)e(0)}ao(){Jk("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.uo)e(1)}static D(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let iI=null;function oI(){return null===iI?iI=268435456+Math.round(2147483648*Math.random()):iI++,"0x"+iI.toString(16)}const sI={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class aI{constructor(e){this.lo=e.lo,this.ho=e.ho}Po(e){this.Io=e}To(e){this.Eo=e}onMessage(e){this.Ao=e}close(){this.ho()}send(e){this.lo(e)}Ro(){this.Io()}Vo(e){this.Eo(e)}mo(e){this.Ao(e)}}const lI="WebChannelConnection";class cI extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",n=encodeURIComponent(this.databaseId.projectId),r=encodeURIComponent(this.databaseId.database);this.fo=t+"://"+e.host,this.po="projects/".concat(n,"/databases/").concat(r),this.yo="(default)"===this.databaseId.database?"project_id=".concat(n):"project_id=".concat(n,"&database_id=").concat(r)}get wo(){return!1}So(e,t,n,r,i){const o=oI(),s=this.bo(e,t.toUriEncodedString());Jk("RestConnection","Sending RPC '".concat(e,"' ").concat(o,":"),s,n);const a={"google-cloud-resource-prefix":this.po,"x-goog-request-params":this.yo};return this.Do(a,r,i),this.Co(e,s,a,n).then((t=>(Jk("RestConnection","Received RPC '".concat(e,"' ").concat(o,": "),t),t)),(t=>{throw Zk("RestConnection","RPC '".concat(e,"' ").concat(o," failed with error: "),t,"url: ",s,"request:",n),t}))}vo(e,t,n,r,i,o){return this.So(e,t,n,r,i)}Do(e,t,n){e["X-Goog-Api-Client"]="gl-js/ fire/"+Wk,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach(((t,n)=>e[n]=t)),n&&n.headers.forEach(((t,n)=>e[n]=t))}bo(e,t){const n=sI[e];return"".concat(this.fo,"/v1/").concat(t,":").concat(n)}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Co(e,t,n,r){const i=oI();return new Promise(((o,s)=>{const a=new qk;a.setWithCredentials(!0),a.listenOnce(Bk.COMPLETE,(()=>{try{switch(a.getLastErrorCode()){case Mk.NO_ERROR:const t=a.getResponseJson();Jk(lI,"XHR for RPC '".concat(e,"' ").concat(i," received:"),JSON.stringify(t)),o(t);break;case Mk.TIMEOUT:Jk(lI,"RPC '".concat(e,"' ").concat(i," timed out")),s(new iE(rE.DEADLINE_EXCEEDED,"Request time out"));break;case Mk.HTTP_ERROR:const n=a.getStatus();if(Jk(lI,"RPC '".concat(e,"' ").concat(i," failed with status:"),n,"response text:",a.getResponseText()),n>0){let e=a.getResponseJson();Array.isArray(e)&&(e=e[0]);const t=null==e?void 0:e.error;if(t&&t.status&&t.message){const e=function(e){const t=e.toLowerCase().replace(/_/g,"-");return Object.values(rE).indexOf(t)>=0?t:rE.UNKNOWN}(t.status);s(new iE(e,t.message))}else s(new iE(rE.UNKNOWN,"Server responded with status "+a.getStatus()))}else s(new iE(rE.UNAVAILABLE,"Connection failed."));break;default:eE()}}finally{Jk(lI,"RPC '".concat(e,"' ").concat(i," completed."))}}));const l=JSON.stringify(r);Jk(lI,"RPC '".concat(e,"' ").concat(i," sending request:"),r),a.send(t,"POST",l,n,15)}))}Fo(e,t,n){const r=oI(),i=[this.fo,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=Rk(),s=Lk(),a={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/".concat(this.databaseId.projectId,"/databases/").concat(this.databaseId.database)},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},l=this.longPollingOptions.timeoutSeconds;void 0!==l&&(a.longPollingTimeout=Math.round(1e3*l)),this.useFetchStreams&&(a.useFetchStreams=!0),this.Do(a.initMessageHeaders,t,n),a.encodeInitMessageHeaders=!0;const c=i.join("");Jk(lI,"Creating RPC '".concat(e,"' stream ").concat(r,": ").concat(c),a);const u=o.createWebChannel(c,a);let d=!1,h=!1;const f=new aI({lo:t=>{h?Jk(lI,"Not sending because RPC '".concat(e,"' stream ").concat(r," is closed:"),t):(d||(Jk(lI,"Opening RPC '".concat(e,"' stream ").concat(r," transport.")),u.open(),d=!0),Jk(lI,"RPC '".concat(e,"' stream ").concat(r," sending:"),t),u.send(t))},ho:()=>u.close()}),p=(e,t,n)=>{e.listen(t,(e=>{try{n(e)}catch(e){setTimeout((()=>{throw e}),0)}}))};return p(u,Vk.EventType.OPEN,(()=>{h||Jk(lI,"RPC '".concat(e,"' stream ").concat(r," transport opened."))})),p(u,Vk.EventType.CLOSE,(()=>{h||(h=!0,Jk(lI,"RPC '".concat(e,"' stream ").concat(r," transport closed")),f.Vo())})),p(u,Vk.EventType.ERROR,(t=>{h||(h=!0,Zk(lI,"RPC '".concat(e,"' stream ").concat(r," transport errored:"),t),f.Vo(new iE(rE.UNAVAILABLE,"The operation could not be completed")))})),p(u,Vk.EventType.MESSAGE,(t=>{var n;if(!h){const i=t.data[0];tE(!!i);const o=i,s=o.error||(null===(n=o[0])||void 0===n?void 0:n.error);if(s){Jk(lI,"RPC '".concat(e,"' stream ").concat(r," received error:"),s);const t=s.status;let n=function(e){const t=AN[e];if(void 0!==t)return SN(t)}(t),i=s.message;void 0===n&&(n=rE.INTERNAL,i="Unknown error status: "+t+" with message "+s.message),h=!0,f.Vo(new iE(n,i)),u.close()}else Jk(lI,"RPC '".concat(e,"' stream ").concat(r," received:"),i),f.mo(i)}})),p(s,Uk.STAT_EVENT,(t=>{t.stat===Fk.PROXY?Jk(lI,"RPC '".concat(e,"' stream ").concat(r," detected buffering proxy")):t.stat===Fk.NOPROXY&&Jk(lI,"RPC '".concat(e,"' stream ").concat(r," detected no buffering proxy"))})),setTimeout((()=>{f.Ro()}),0),f}}function uI(){return"undefined"!=typeof document?document:null}function dI(e){return new zN(e,!0)}class hI{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e3,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1.5,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:6e4;this.oi=e,this.timerId=t,this.Mo=n,this.xo=r,this.Oo=i,this.No=0,this.Lo=null,this.Bo=Date.now(),this.reset()}reset(){this.No=0}ko(){this.No=this.Oo}qo(e){this.cancel();const t=Math.floor(this.No+this.Qo()),n=Math.max(0,Date.now()-this.Bo),r=Math.max(0,t-n);r>0&&Jk("ExponentialBackoff","Backing off for ".concat(r," ms (base delay: ").concat(this.No," ms, delay with jitter: ").concat(t," ms, last attempt: ").concat(n," ms ago)")),this.Lo=this.oi.enqueueAfterDelay(this.timerId,r,(()=>(this.Bo=Date.now(),e()))),this.No*=this.xo,this.No<this.Mo&&(this.No=this.Mo),this.No>this.Oo&&(this.No=this.Oo)}Ko(){null!==this.Lo&&(this.Lo.skipDelay(),this.Lo=null)}cancel(){null!==this.Lo&&(this.Lo.cancel(),this.Lo=null)}Qo(){return(Math.random()-.5)*this.No}}class fI{constructor(e,t,n,r,i,o,s,a){this.oi=e,this.$o=n,this.Uo=r,this.connection=i,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=s,this.listener=a,this.state=0,this.Wo=0,this.Go=null,this.zo=null,this.stream=null,this.jo=new hI(e,t)}Ho(){return 1===this.state||5===this.state||this.Jo()}Jo(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Yo()}async stop(){this.Ho()&&await this.close(0)}Zo(){this.state=0,this.jo.reset()}Xo(){this.Jo()&&null===this.Go&&(this.Go=this.oi.enqueueAfterDelay(this.$o,6e4,(()=>this.e_())))}t_(e){this.n_(),this.stream.send(e)}async e_(){if(this.Jo())return this.close(0)}n_(){this.Go&&(this.Go.cancel(),this.Go=null)}r_(){this.zo&&(this.zo.cancel(),this.zo=null)}async close(e,t){this.n_(),this.r_(),this.jo.cancel(),this.Wo++,4!==e?this.jo.reset():t&&t.code===rE.RESOURCE_EXHAUSTED?(Xk(t.toString()),Xk("Using maximum backoff delay to prevent overloading the backend."),this.jo.ko()):t&&t.code===rE.UNAUTHENTICATED&&3!==this.state&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),null!==this.stream&&(this.i_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.To(t)}i_(){}auth(){this.state=1;const e=this.s_(this.Wo),t=this.Wo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((e=>{let[n,r]=e;this.Wo===t&&this.o_(n,r)}),(t=>{e((()=>{const e=new iE(rE.UNKNOWN,"Fetching auth token failed: "+t.message);return this.__(e)}))}))}o_(e,t){const n=this.s_(this.Wo);this.stream=this.a_(e,t),this.stream.Po((()=>{n((()=>(this.state=2,this.zo=this.oi.enqueueAfterDelay(this.Uo,1e4,(()=>(this.Jo()&&(this.state=3),Promise.resolve()))),this.listener.Po())))})),this.stream.To((e=>{n((()=>this.__(e)))})),this.stream.onMessage((e=>{n((()=>this.onMessage(e)))}))}Yo(){this.state=5,this.jo.qo((async()=>{this.state=0,this.start()}))}__(e){return Jk("PersistentStream","close with error: ".concat(e)),this.stream=null,this.close(4,e)}s_(e){return t=>{this.oi.enqueueAndForget((()=>this.Wo===e?t():(Jk("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class pI extends fI{constructor(e,t,n,r,i,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,n,r,o),this.serializer=i}a_(e,t){return this.connection.Fo("Listen",e,t)}onMessage(e){this.jo.reset();const t=function(e,t){let n;if("targetChange"in t){t.targetChange;const r=function(e){return"NO_CHANGE"===e?0:"ADD"===e?1:"REMOVE"===e?2:"CURRENT"===e?3:"RESET"===e?4:eE()}(t.targetChange.targetChangeType||"NO_CHANGE"),i=t.targetChange.targetIds||[],o=function(e,t){return e.useProto3Json?(tE(void 0===t||"string"==typeof t),sC.fromBase64String(t||"")):(tE(void 0===t||t instanceof Buffer||t instanceof Uint8Array),sC.fromUint8Array(t||new Uint8Array))}(e,t.targetChange.resumeToken),s=t.targetChange.cause,a=s&&function(e){const t=void 0===e.code?rE.UNKNOWN:SN(e.code);return new iE(t,e.message||"")}(s);n=new LN(r,i,o,a||null)}else if("documentChange"in t){t.documentChange;const r=t.documentChange;r.document,r.document.name,r.document.updateTime;const i=eO(e,r.document.name),o=QN(r.document.updateTime),s=r.document.createTime?QN(r.document.createTime):bE.min(),a=new DC({mapValue:{fields:r.document.fields}}),l=PC.newFoundDocument(i,o,s,a),c=r.targetIds||[],u=r.removedTargetIds||[];n=new PN(c,u,l.key,l)}else if("documentDelete"in t){t.documentDelete;const r=t.documentDelete;r.document;const i=eO(e,r.document),o=r.readTime?QN(r.readTime):bE.min(),s=PC.newNoDocument(i,o),a=r.removedTargetIds||[];n=new PN([],a,s.key,s)}else if("documentRemove"in t){t.documentRemove;const r=t.documentRemove;r.document;const i=eO(e,r.document),o=r.removedTargetIds||[];n=new PN([],o,i,null)}else{if(!("filter"in t))return eE();{t.filter;const e=t.filter;e.targetId;const{count:r=0,unchangedNames:i}=e,o=new wN(r,i),s=e.targetId;n=new RN(s,o)}}return n}(this.serializer,e),n=function(e){if(!("targetChange"in e))return bE.min();const t=e.targetChange;return t.targetIds&&t.targetIds.length?bE.min():t.readTime?QN(t.readTime):bE.min()}(e);return this.listener.u_(t,n)}c_(e){const t={};t.database=rO(this.serializer),t.addTarget=function(e,t){let n;const r=t.target;if(n=aT(r)?{documents:aO(e,r)}:{query:lO(e,r).ut},n.targetId=t.targetId,t.resumeToken.approximateByteSize()>0){n.resumeToken=WN(e,t.resumeToken);const r=GN(e,t.expectedCount);null!==r&&(n.expectedCount=r)}else if(t.snapshotVersion.compareTo(bE.min())>0){n.readTime=YN(e,t.snapshotVersion.toTimestamp());const r=GN(e,t.expectedCount);null!==r&&(n.expectedCount=r)}return n}(this.serializer,e);const n=function(e,t){const n=function(e){switch(e){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return eE()}}(t.purpose);return null==n?null:{"goog-listen-tags":n}}(this.serializer,e);n&&(t.labels=n),this.t_(t)}l_(e){const t={};t.database=rO(this.serializer),t.removeTarget=e,this.t_(t)}}class mI extends fI{constructor(e,t,n,r,i,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,n,r,o),this.serializer=i,this.h_=!1}get P_(){return this.h_}start(){this.h_=!1,this.lastStreamToken=void 0,super.start()}i_(){this.h_&&this.I_([])}a_(e,t){return this.connection.Fo("Write",e,t)}onMessage(e){if(tE(!!e.streamToken),this.lastStreamToken=e.streamToken,this.h_){this.jo.reset();const t=function(e,t){return e&&e.length>0?(tE(void 0!==t),e.map((e=>function(e,t){let n=e.updateTime?QN(e.updateTime):QN(t);return n.isEqual(bE.min())&&(n=QN(t)),new tN(n,e.transformResults||[])}(e,t)))):[]}(e.writeResults,e.commitTime),n=QN(e.commitTime);return this.listener.T_(n,t)}return tE(!e.writeResults||0===e.writeResults.length),this.h_=!0,this.listener.E_()}d_(){const e={};e.database=rO(this.serializer),this.t_(e)}I_(e){const t={streamToken:this.lastStreamToken,writes:e.map((e=>sO(this.serializer,e)))};this.t_(t)}}class gI extends class{}{constructor(e,t,n,r){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=n,this.serializer=r,this.A_=!1}R_(){if(this.A_)throw new iE(rE.FAILED_PRECONDITION,"The client has already been terminated.")}So(e,t,n,r){return this.R_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((i=>{let[o,s]=i;return this.connection.So(e,XN(t,n),r,o,s)})).catch((e=>{throw"FirebaseError"===e.name?(e.code===rE.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),e):new iE(rE.UNKNOWN,e.toString())}))}vo(e,t,n,r,i){return this.R_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((o=>{let[s,a]=o;return this.connection.vo(e,XN(t,n),r,s,a,i)})).catch((e=>{throw"FirebaseError"===e.name?(e.code===rE.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),e):new iE(rE.UNKNOWN,e.toString())}))}terminate(){this.A_=!0,this.connection.terminate()}}class vI{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.m_=0,this.f_=null,this.g_=!0}p_(){0===this.m_&&(this.y_("Unknown"),this.f_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this.f_=null,this.w_("Backend didn't respond within 10 seconds."),this.y_("Offline"),Promise.resolve()))))}S_(e){"Online"===this.state?this.y_("Unknown"):(this.m_++,this.m_>=1&&(this.b_(),this.w_("Connection failed 1 times. Most recent error: ".concat(e.toString())),this.y_("Offline")))}set(e){this.b_(),this.m_=0,"Online"===e&&(this.g_=!1),this.y_(e)}y_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}w_(e){const t="Could not reach Cloud Firestore backend. ".concat(e,"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.");this.g_?(Xk(t),this.g_=!1):Jk("OnlineStateTracker",t)}b_(){null!==this.f_&&(this.f_.cancel(),this.f_=null)}}class yI{constructor(e,t,n,r,i){this.localStore=e,this.datastore=t,this.asyncQueue=n,this.remoteSyncer={},this.D_=[],this.C_=new Map,this.v_=new Set,this.F_=[],this.M_=i,this.M_.io((e=>{n.enqueueAndForget((async()=>{CI(this)&&(Jk("RemoteStore","Restarting streams for network reachability change."),await async function(e){const t=nE(e);t.v_.add(4),await wI(t),t.x_.set("Unknown"),t.v_.delete(4),await bI(t)}(this))}))})),this.x_=new vI(n,r)}}async function bI(e){if(CI(e))for(const t of e.F_)await t(!0)}async function wI(e){for(const t of e.F_)await t(!1)}function AI(e,t){const n=nE(e);n.C_.has(t.targetId)||(n.C_.set(t.targetId,t),EI(n)?kI(n):GI(n).Jo()&&xI(n,t))}function _I(e,t){const n=nE(e),r=GI(n);n.C_.delete(t),r.Jo()&&SI(n,t),0===n.C_.size&&(r.Jo()?r.Xo():CI(n)&&n.x_.set("Unknown"))}function xI(e,t){if(e.O_.Oe(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(bE.min())>0){const n=e.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(n)}GI(e).c_(t)}function SI(e,t){e.O_.Oe(t),GI(e).l_(t)}function kI(e){e.O_=new BN({getRemoteKeysForTarget:t=>e.remoteSyncer.getRemoteKeysForTarget(t),_t:t=>e.C_.get(t)||null,nt:()=>e.datastore.serializer.databaseId}),GI(e).start(),e.x_.p_()}function EI(e){return CI(e)&&!GI(e).Ho()&&e.C_.size>0}function CI(e){return 0===nE(e).v_.size}function TI(e){e.O_=void 0}async function NI(e){e.C_.forEach(((t,n)=>{xI(e,t)}))}async function OI(e,t){TI(e),EI(e)?(e.x_.S_(t),kI(e)):e.x_.set("Unknown")}async function II(e,t,n){if(e.x_.set("Online"),t instanceof LN&&2===t.state&&t.cause)try{await async function(e,t){const n=t.cause;for(const r of t.targetIds)e.C_.has(r)&&(await e.remoteSyncer.rejectListen(r,n),e.C_.delete(r),e.O_.removeTarget(r))}(e,t)}catch(n){Jk("RemoteStore","Failed to remove targets %s: %s ",t.targetIds.join(","),n),await DI(e,n)}else if(t instanceof PN?e.O_.$e(t):t instanceof RN?e.O_.Je(t):e.O_.Ge(t),!n.isEqual(bE.min()))try{const t=await WO(e.localStore);n.compareTo(t)>=0&&await function(e,t){const n=e.O_.it(t);return n.targetChanges.forEach(((n,r)=>{if(n.resumeToken.approximateByteSize()>0){const i=e.C_.get(r);i&&e.C_.set(r,i.withResumeToken(n.resumeToken,t))}})),n.targetMismatches.forEach(((t,n)=>{const r=e.C_.get(t);if(!r)return;e.C_.set(t,r.withResumeToken(sC.EMPTY_BYTE_STRING,r.snapshotVersion)),SI(e,t);const i=new bO(r.target,t,n,r.sequenceNumber);xI(e,i)})),e.remoteSyncer.applyRemoteEvent(n)}(e,n)}catch(t){Jk("RemoteStore","Failed to raise snapshot:",t),await DI(e,t)}}async function DI(e,t,n){if(!BE(t))throw t;e.v_.add(1),await wI(e),e.x_.set("Offline"),n||(n=()=>WO(e.localStore)),e.asyncQueue.enqueueRetryable((async()=>{Jk("RemoteStore","Retrying IndexedDB access"),await n(),e.v_.delete(1),await bI(e)}))}function jI(e,t){return t().catch((n=>DI(e,n,t)))}async function PI(e){const t=nE(e),n=YI(t);let r=t.D_.length>0?t.D_[t.D_.length-1].batchId:-1;for(;RI(t);)try{const e=await QO(t.localStore,r);if(null===e){0===t.D_.length&&n.Xo();break}r=e.batchId,LI(t,e)}catch(e){await DI(t,e)}MI(t)&&BI(t)}function RI(e){return CI(e)&&e.D_.length<10}function LI(e,t){e.D_.push(t);const n=YI(e);n.Jo()&&n.P_&&n.I_(t.mutations)}function MI(e){return CI(e)&&!YI(e).Ho()&&e.D_.length>0}function BI(e){YI(e).start()}async function UI(e){YI(e).d_()}async function FI(e){const t=YI(e);for(const n of e.D_)t.I_(n.mutations)}async function VI(e,t,n){const r=e.D_.shift(),i=yN.from(r,t,n);await jI(e,(()=>e.remoteSyncer.applySuccessfulWrite(i))),await PI(e)}async function qI(e,t){t&&YI(e).P_&&await async function(e,t){if(function(e){return xN(e)&&e!==rE.ABORTED}(t.code)){const n=e.D_.shift();YI(e).Zo(),await jI(e,(()=>e.remoteSyncer.rejectFailedWrite(n.batchId,t))),await PI(e)}}(e,t),MI(e)&&BI(e)}async function HI(e,t){const n=nE(e);n.asyncQueue.verifyOperationInProgress(),Jk("RemoteStore","RemoteStore received new credentials");const r=CI(n);n.v_.add(3),await wI(n),r&&n.x_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(t),n.v_.delete(3),await bI(n)}async function zI(e,t){const n=nE(e);t?(n.v_.delete(2),await bI(n)):t||(n.v_.add(2),await wI(n),n.x_.set("Unknown"))}function GI(e){return e.N_||(e.N_=function(e,t,n){const r=nE(e);return r.R_(),new pI(t,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,n)}(e.datastore,e.asyncQueue,{Po:NI.bind(null,e),To:OI.bind(null,e),u_:II.bind(null,e)}),e.F_.push((async t=>{t?(e.N_.Zo(),EI(e)?kI(e):e.x_.set("Unknown")):(await e.N_.stop(),TI(e))}))),e.N_}function YI(e){return e.L_||(e.L_=function(e,t,n){const r=nE(e);return r.R_(),new mI(t,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,n)}(e.datastore,e.asyncQueue,{Po:UI.bind(null,e),To:qI.bind(null,e),E_:FI.bind(null,e),T_:VI.bind(null,e)}),e.F_.push((async t=>{t?(e.L_.Zo(),await PI(e)):(await e.L_.stop(),e.D_.length>0&&(Jk("RemoteStore","Stopping write stream with ".concat(e.D_.length," pending writes")),e.D_=[]))}))),e.L_}class WI{constructor(e,t,n,r,i){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=n,this.op=r,this.removalCallback=i,this.deferred=new oE,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((e=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,t,n,r,i){const o=Date.now()+n,s=new WI(e,t,o,r,i);return s.start(n),s}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new iE(rE.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function KI(e,t){if(Xk("AsyncQueue","".concat(t,": ").concat(e)),BE(e))return new iE(rE.UNAVAILABLE,"".concat(t,": ").concat(e));throw e}class QI{constructor(e){this.comparator=e?(t,n)=>e(t,n)||SE.comparator(t.key,n.key):(e,t)=>SE.comparator(e.key,t.key),this.keyedMap=NT(),this.sortedSet=new $E(this.comparator)}static emptySet(e){return new QI(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((t,n)=>(e(t),!1)))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof QI))return!1;if(this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),n=e.sortedSet.getIterator();for(;t.hasNext();){const e=t.getNext().key,r=n.getNext().key;if(!e.isEqual(r))return!1}return!0}toString(){const e=[];return this.forEach((t=>{e.push(t.toString())})),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const n=new QI;return n.comparator=this.comparator,n.keyedMap=e,n.sortedSet=t,n}}class JI{constructor(){this.B_=new $E(SE.comparator)}track(e){const t=e.doc.key,n=this.B_.get(t);n?0!==e.type&&3===n.type?this.B_=this.B_.insert(t,e):3===e.type&&1!==n.type?this.B_=this.B_.insert(t,{type:n.type,doc:e.doc}):2===e.type&&2===n.type?this.B_=this.B_.insert(t,{type:2,doc:e.doc}):2===e.type&&0===n.type?this.B_=this.B_.insert(t,{type:0,doc:e.doc}):1===e.type&&0===n.type?this.B_=this.B_.remove(t):1===e.type&&2===n.type?this.B_=this.B_.insert(t,{type:1,doc:n.doc}):0===e.type&&1===n.type?this.B_=this.B_.insert(t,{type:2,doc:e.doc}):eE():this.B_=this.B_.insert(t,e)}k_(){const e=[];return this.B_.inorderTraversal(((t,n)=>{e.push(n)})),e}}class XI{constructor(e,t,n,r,i,o,s,a,l){this.query=e,this.docs=t,this.oldDocs=n,this.docChanges=r,this.mutatedKeys=i,this.fromCache=o,this.syncStateChanged=s,this.excludesMetadataChanges=a,this.hasCachedResults=l}static fromInitialDocuments(e,t,n,r,i){const o=[];return t.forEach((e=>{o.push({type:0,doc:e})})),new XI(e,t,QI.emptySet(t),o,n,r,!0,!1,i)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&yT(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,n=e.docChanges;if(t.length!==n.length)return!1;for(let r=0;r<t.length;r++)if(t[r].type!==n[r].type||!t[r].doc.isEqual(n[r].doc))return!1;return!0}}class ZI{constructor(){this.q_=void 0,this.Q_=[]}K_(){return this.Q_.some((e=>e.U_()))}}class $I{constructor(){this.queries=new kT((e=>bT(e)),yT),this.onlineState="Unknown",this.W_=new Set}}async function eD(e,t){const n=nE(e);let r=3;const i=t.query;let o=n.queries.get(i);o?!o.K_()&&t.U_()&&(r=2):(o=new ZI,r=t.U_()?0:1);try{switch(r){case 0:o.q_=await n.onListen(i,!0);break;case 1:o.q_=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(e){const n=KI(e,"Initialization of query '".concat(wT(t.query),"' failed"));return void t.onError(n)}n.queries.set(i,o),o.Q_.push(t),t.G_(n.onlineState),o.q_&&t.z_(o.q_)&&iD(n)}async function tD(e,t){const n=nE(e),r=t.query;let i=3;const o=n.queries.get(r);if(o){const e=o.Q_.indexOf(t);e>=0&&(o.Q_.splice(e,1),0===o.Q_.length?i=t.U_()?0:1:!o.K_()&&t.U_()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function nD(e,t){const n=nE(e);let r=!1;for(const i of t){const e=i.query,t=n.queries.get(e);if(t){for(const e of t.Q_)e.z_(i)&&(r=!0);t.q_=i}}r&&iD(n)}function rD(e,t,n){const r=nE(e),i=r.queries.get(t);if(i)for(const o of i.Q_)o.onError(n);r.queries.delete(t)}function iD(e){e.W_.forEach((e=>{e.next()}))}var oD,sD;(sD=oD||(oD={})).j_="default",sD.Cache="cache";class aD{constructor(e,t,n){this.query=e,this.H_=t,this.J_=!1,this.Y_=null,this.onlineState="Unknown",this.options=n||{}}z_(e){if(!this.options.includeMetadataChanges){const t=[];for(const n of e.docChanges)3!==n.type&&t.push(n);e=new XI(e.query,e.docs,e.oldDocs,t,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.J_?this.Z_(e)&&(this.H_.next(e),t=!0):this.X_(e,this.onlineState)&&(this.ea(e),t=!0),this.Y_=e,t}onError(e){this.H_.error(e)}G_(e){this.onlineState=e;let t=!1;return this.Y_&&!this.J_&&this.X_(this.Y_,e)&&(this.ea(this.Y_),t=!0),t}X_(e,t){if(!e.fromCache)return!0;if(!this.U_())return!0;const n="Offline"!==t;return(!this.options.ta||!n)&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}Z_(e){if(e.docChanges.length>0)return!0;const t=this.Y_&&this.Y_.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&!0===this.options.includeMetadataChanges}ea(e){e=XI.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.J_=!0,this.H_.next(e)}U_(){return this.options.source!==oD.Cache}}class lD{constructor(e){this.key=e}}class cD{constructor(e){this.key=e}}class uD{constructor(e,t){this.query=e,this.ua=t,this.ca=null,this.hasCachedResults=!1,this.current=!1,this.la=LT(),this.mutatedKeys=LT(),this.ha=xT(e),this.Pa=new QI(this.ha)}get Ia(){return this.ua}Ta(e,t){const n=t?t.Ea:new JI,r=t?t.Pa:this.Pa;let i=t?t.mutatedKeys:this.mutatedKeys,o=r,s=!1;const a="F"===this.query.limitType&&r.size===this.query.limit?r.last():null,l="L"===this.query.limitType&&r.size===this.query.limit?r.first():null;if(e.inorderTraversal(((e,t)=>{const c=r.get(e),u=AT(this.query,t)?t:null,d=!!c&&this.mutatedKeys.has(c.key),h=!!u&&(u.hasLocalMutations||this.mutatedKeys.has(u.key)&&u.hasCommittedMutations);let f=!1;c&&u?c.data.isEqual(u.data)?d!==h&&(n.track({type:3,doc:u}),f=!0):this.da(c,u)||(n.track({type:2,doc:u}),f=!0,(a&&this.ha(u,a)>0||l&&this.ha(u,l)<0)&&(s=!0)):!c&&u?(n.track({type:0,doc:u}),f=!0):c&&!u&&(n.track({type:1,doc:c}),f=!0,(a||l)&&(s=!0)),f&&(u?(o=o.add(u),i=h?i.add(e):i.delete(e)):(o=o.delete(e),i=i.delete(e)))})),null!==this.query.limit)for(;o.size>this.query.limit;){const e="F"===this.query.limitType?o.last():o.first();o=o.delete(e.key),i=i.delete(e.key),n.track({type:1,doc:e})}return{Pa:o,Ea:n,Xi:s,mutatedKeys:i}}da(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,n,r){const i=this.Pa;this.Pa=e.Pa,this.mutatedKeys=e.mutatedKeys;const o=e.Ea.k_();o.sort(((e,t)=>function(e,t){const n=e=>{switch(e){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return eE()}};return n(e)-n(t)}(e.type,t.type)||this.ha(e.doc,t.doc))),this.Aa(n),r=null!=r&&r;const s=t&&!r?this.Ra():[],a=0===this.la.size&&this.current&&!r?1:0,l=a!==this.ca;return this.ca=a,0!==o.length||l?{snapshot:new XI(this.query,e.Pa,i,o,e.mutatedKeys,0===a,l,!1,!!n&&n.resumeToken.approximateByteSize()>0),Va:s}:{Va:s}}G_(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({Pa:this.Pa,Ea:new JI,mutatedKeys:this.mutatedKeys,Xi:!1},!1)):{Va:[]}}ma(e){return!this.ua.has(e)&&!!this.Pa.has(e)&&!this.Pa.get(e).hasLocalMutations}Aa(e){e&&(e.addedDocuments.forEach((e=>this.ua=this.ua.add(e))),e.modifiedDocuments.forEach((e=>{})),e.removedDocuments.forEach((e=>this.ua=this.ua.delete(e))),this.current=e.current)}Ra(){if(!this.current)return[];const e=this.la;this.la=LT(),this.Pa.forEach((e=>{this.ma(e.key)&&(this.la=this.la.add(e.key))}));const t=[];return e.forEach((e=>{this.la.has(e)||t.push(new cD(e))})),this.la.forEach((n=>{e.has(n)||t.push(new lD(n))})),t}fa(e){this.ua=e.hs,this.la=LT();const t=this.Ta(e.documents);return this.applyChanges(t,!0)}ga(){return XI.fromInitialDocuments(this.query,this.Pa,this.mutatedKeys,0===this.ca,this.hasCachedResults)}}class dD{constructor(e,t,n){this.query=e,this.targetId=t,this.view=n}}class hD{constructor(e){this.key=e,this.pa=!1}}class fD{constructor(e,t,n,r,i,o){this.localStore=e,this.remoteStore=t,this.eventManager=n,this.sharedClientState=r,this.currentUser=i,this.maxConcurrentLimboResolutions=o,this.ya={},this.wa=new kT((e=>bT(e)),yT),this.Sa=new Map,this.ba=new Set,this.Da=new $E(SE.comparator),this.Ca=new Map,this.va=new DO,this.Fa={},this.Ma=new Map,this.xa=EO.Ln(),this.onlineState="Unknown",this.Oa=void 0}get isPrimaryClient(){return!0===this.Oa}}async function pD(e,t){let n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];const r=RD(e);let i;const o=r.wa.get(t);return o?(r.sharedClientState.addLocalQueryTarget(o.targetId),i=o.view.ga()):i=await gD(r,t,n,!0),i}async function mD(e,t){const n=RD(e);await gD(n,t,!0,!1)}async function gD(e,t,n,r){const i=await JO(e.localStore,pT(t)),o=i.targetId,s=n?e.sharedClientState.addLocalQueryTarget(o):"not-current";let a;return r&&(a=await vD(e,t,o,"current"===s,i.resumeToken)),e.isPrimaryClient&&n&&AI(e.remoteStore,i),a}async function vD(e,t,n,r,i){e.Na=(t,n,r)=>async function(e,t,n,r){let i=t.view.Ta(n);i.Xi&&(i=await ZO(e.localStore,t.query,!1).then((e=>{let{documents:n}=e;return t.view.Ta(n,i)})));const o=r&&r.targetChanges.get(t.targetId),s=r&&null!=r.targetMismatches.get(t.targetId),a=t.view.applyChanges(i,e.isPrimaryClient,o,s);return ND(e,t.targetId,a.Va),a.snapshot}(e,t,n,r);const o=await ZO(e.localStore,t,!0),s=new uD(t,o.hs),a=s.Ta(o.documents),l=jN.createSynthesizedTargetChangeForCurrentChange(n,r&&"Offline"!==e.onlineState,i),c=s.applyChanges(a,e.isPrimaryClient,l);ND(e,n,c.Va);const u=new dD(t,n,s);return e.wa.set(t,u),e.Sa.has(n)?e.Sa.get(n).push(t):e.Sa.set(n,[t]),c.snapshot}async function yD(e,t,n){const r=nE(e),i=r.wa.get(t),o=r.Sa.get(i.targetId);if(o.length>1)return r.Sa.set(i.targetId,o.filter((e=>!yT(e,t)))),void r.wa.delete(t);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await XO(r.localStore,i.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(i.targetId),n&&_I(r.remoteStore,i.targetId),CD(r,i.targetId)})).catch(DE)):(CD(r,i.targetId),await XO(r.localStore,i.targetId,!0))}async function bD(e,t){const n=nE(e),r=n.wa.get(t),i=n.Sa.get(r.targetId);n.isPrimaryClient&&1===i.length&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),_I(n.remoteStore,r.targetId))}async function wD(e,t){const n=nE(e);try{const e=await function(e,t){const n=nE(e),r=t.snapshotVersion;let i=n.ns;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(e=>{const o=n.os.newChangeBuffer({trackRemovals:!0});i=n.ns;const s=[];t.targetChanges.forEach(((o,a)=>{const l=i.get(a);if(!l)return;s.push(n.Qr.removeMatchingKeys(e,o.removedDocuments,a).next((()=>n.Qr.addMatchingKeys(e,o.addedDocuments,a))));let c=l.withSequenceNumber(e.currentSequenceNumber);null!==t.targetMismatches.get(a)?c=c.withResumeToken(sC.EMPTY_BYTE_STRING,bE.min()).withLastLimboFreeSnapshotVersion(bE.min()):o.resumeToken.approximateByteSize()>0&&(c=c.withResumeToken(o.resumeToken,r)),i=i.insert(a,c),function(e,t,n){return 0===e.resumeToken.approximateByteSize()||t.snapshotVersion.toMicroseconds()-e.snapshotVersion.toMicroseconds()>=3e8||n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size>0}(l,c,o)&&s.push(n.Qr.updateTargetData(e,c))}));let a=CT(),l=LT();if(t.documentUpdates.forEach((r=>{t.resolvedLimboDocuments.has(r)&&s.push(n.persistence.referenceDelegate.updateLimboDocument(e,r))})),s.push(KO(e,o,t.documentUpdates).next((e=>{a=e.cs,l=e.ls}))),!r.isEqual(bE.min())){const t=n.Qr.getLastRemoteSnapshotVersion(e).next((t=>n.Qr.setTargetsMetadata(e,e.currentSequenceNumber,r)));s.push(t)}return jE.waitFor(s).next((()=>o.apply(e))).next((()=>n.localDocuments.getLocalViewOfDocuments(e,a,l))).next((()=>a))})).then((e=>(n.ns=i,e)))}(n.localStore,t);t.targetChanges.forEach(((e,t)=>{const r=n.Ca.get(t);r&&(tE(e.addedDocuments.size+e.modifiedDocuments.size+e.removedDocuments.size<=1),e.addedDocuments.size>0?r.pa=!0:e.modifiedDocuments.size>0?tE(r.pa):e.removedDocuments.size>0&&(tE(r.pa),r.pa=!1))})),await DD(n,e,t)}catch(e){await DE(e)}}function AD(e,t,n){const r=nE(e);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){const e=[];r.wa.forEach(((n,r)=>{const i=r.view.G_(t);i.snapshot&&e.push(i.snapshot)})),function(e,t){const n=nE(e);n.onlineState=t;let r=!1;n.queries.forEach(((e,n)=>{for(const i of n.Q_)i.G_(t)&&(r=!0)})),r&&iD(n)}(r.eventManager,t),e.length&&r.ya.u_(e),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}async function _D(e,t,n){const r=nE(e);r.sharedClientState.updateQueryState(t,"rejected",n);const i=r.Ca.get(t),o=i&&i.key;if(o){let e=new $E(SE.comparator);e=e.insert(o,PC.newNoDocument(o,bE.min()));const n=LT().add(o),i=new DN(bE.min(),new Map,new $E(gE),e,n);await wD(r,i),r.Da=r.Da.remove(o),r.Ca.delete(t),ID(r)}else await XO(r.localStore,t,!1).then((()=>CD(r,t,n))).catch(DE)}async function xD(e,t){const n=nE(e),r=t.batch.batchId;try{const e=await function(e,t){const n=nE(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(e=>{const r=t.batch.keys(),i=n.os.newChangeBuffer({trackRemovals:!0});return function(e,t,n,r){const i=n.batch,o=i.keys();let s=jE.resolve();return o.forEach((e=>{s=s.next((()=>r.getEntry(t,e))).next((t=>{const o=n.docVersions.get(e);tE(null!==o),t.version.compareTo(o)<0&&(i.applyToRemoteDocument(t,n),t.isValidDocument()&&(t.setReadTime(n.commitVersion),r.addEntry(t)))}))})),s.next((()=>e.mutationQueue.removeMutationBatch(t,i)))}(n,e,t,i).next((()=>i.apply(e))).next((()=>n.mutationQueue.performConsistencyCheck(e))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(e,r,t.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,function(e){let t=LT();for(let n=0;n<e.mutationResults.length;++n)e.mutationResults[n].transformResults.length>0&&(t=t.add(e.batch.mutations[n].key));return t}(t)))).next((()=>n.localDocuments.getDocuments(e,r)))}))}(n.localStore,t);ED(n,r,null),kD(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await DD(n,e)}catch(e){await DE(e)}}async function SD(e,t,n){const r=nE(e);try{const e=await function(e,t){const n=nE(e);return n.persistence.runTransaction("Reject batch","readwrite-primary",(e=>{let r;return n.mutationQueue.lookupMutationBatch(e,t).next((t=>(tE(null!==t),r=t.keys(),n.mutationQueue.removeMutationBatch(e,t)))).next((()=>n.mutationQueue.performConsistencyCheck(e))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(e,r,t))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,r))).next((()=>n.localDocuments.getDocuments(e,r)))}))}(r.localStore,t);ED(r,t,n),kD(r,t),r.sharedClientState.updateMutationState(t,"rejected",n),await DD(r,e)}catch(n){await DE(n)}}function kD(e,t){(e.Ma.get(t)||[]).forEach((e=>{e.resolve()})),e.Ma.delete(t)}function ED(e,t,n){const r=nE(e);let i=r.Fa[r.currentUser.toKey()];if(i){const e=i.get(t);e&&(n?e.reject(n):e.resolve(),i=i.remove(t)),r.Fa[r.currentUser.toKey()]=i}}function CD(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;e.sharedClientState.removeLocalQueryTarget(t);for(const r of e.Sa.get(t))e.wa.delete(r),n&&e.ya.La(r,n);e.Sa.delete(t),e.isPrimaryClient&&e.va.Vr(t).forEach((t=>{e.va.containsKey(t)||TD(e,t)}))}function TD(e,t){e.ba.delete(t.path.canonicalString());const n=e.Da.get(t);null!==n&&(_I(e.remoteStore,n),e.Da=e.Da.remove(t),e.Ca.delete(n),ID(e))}function ND(e,t,n){for(const r of n)r instanceof lD?(e.va.addReference(r.key,t),OD(e,r)):r instanceof cD?(Jk("SyncEngine","Document no longer in limbo: "+r.key),e.va.removeReference(r.key,t),e.va.containsKey(r.key)||TD(e,r.key)):eE()}function OD(e,t){const n=t.key,r=n.path.canonicalString();e.Da.get(n)||e.ba.has(r)||(Jk("SyncEngine","New document in limbo: "+n),e.ba.add(r),ID(e))}function ID(e){for(;e.ba.size>0&&e.Da.size<e.maxConcurrentLimboResolutions;){const t=e.ba.values().next().value;e.ba.delete(t);const n=new SE(AE.fromString(t)),r=e.xa.next();e.Ca.set(r,new hD(n)),e.Da=e.Da.insert(n,r),AI(e.remoteStore,new bO(pT(uT(n.path)),r,"TargetPurposeLimboResolution",HE._e))}}async function DD(e,t,n){const r=nE(e),i=[],o=[],s=[];r.wa.isEmpty()||(r.wa.forEach(((e,a)=>{s.push(r.Na(a,t,n).then((e=>{if((e||n)&&r.isPrimaryClient&&r.sharedClientState.updateQueryState(a.targetId,(null==e?void 0:e.fromCache)?"not-current":"current"),e){i.push(e);const t=VO.Ki(a.targetId,e);o.push(t)}})))})),await Promise.all(s),r.ya.u_(i),await async function(e,t){const n=nE(e);try{await n.persistence.runTransaction("notifyLocalViewChanges","readwrite",(e=>jE.forEach(t,(t=>jE.forEach(t.qi,(r=>n.persistence.referenceDelegate.addReference(e,t.targetId,r))).next((()=>jE.forEach(t.Qi,(r=>n.persistence.referenceDelegate.removeReference(e,t.targetId,r)))))))))}catch(e){if(!BE(e))throw e;Jk("LocalStore","Failed to update sequence numbers: "+e)}for(const r of t){const e=r.targetId;if(!r.fromCache){const t=n.ns.get(e),r=t.snapshotVersion,i=t.withLastLimboFreeSnapshotVersion(r);n.ns=n.ns.insert(e,i)}}}(r.localStore,o))}async function jD(e,t){const n=nE(e);if(!n.currentUser.isEqual(t)){Jk("SyncEngine","User change. New user:",t.toKey());const e=await YO(n.localStore,t);n.currentUser=t,function(e,t){e.Ma.forEach((e=>{e.forEach((e=>{e.reject(new iE(rE.CANCELLED,t))}))})),e.Ma.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(t,e.removedBatchIds,e.addedBatchIds),await DD(n,e.us)}}function PD(e,t){const n=nE(e),r=n.Ca.get(t);if(r&&r.pa)return LT().add(r.key);{let e=LT();const r=n.Sa.get(t);if(!r)return e;for(const t of r){const r=n.wa.get(t);e=e.unionWith(r.view.Ia)}return e}}function RD(e){const t=nE(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=wD.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=PD.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=_D.bind(null,t),t.ya.u_=nD.bind(null,t.eventManager),t.ya.La=rD.bind(null,t.eventManager),t}function LD(e){const t=nE(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=xD.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=SD.bind(null,t),t}class MD{constructor(){this.synchronizeTabs=!1}async initialize(e){this.serializer=dI(e.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(e),this.persistence=this.createPersistence(e),await this.persistence.start(),this.localStore=this.createLocalStore(e),this.gcScheduler=this.createGarbageCollectionScheduler(e,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(e,this.localStore)}createGarbageCollectionScheduler(e,t){return null}createIndexBackfillerScheduler(e,t){return null}createLocalStore(e){return GO(this.persistence,new HO,e.initialUser,this.serializer)}createPersistence(e){return new BO(FO.Hr,this.serializer)}createSharedClientState(e){return new tI}async terminate(){var e,t;null===(e=this.gcScheduler)||void 0===e||e.stop(),null===(t=this.indexBackfillerScheduler)||void 0===t||t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}class BD{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=e=>AD(this.syncEngine,e,1),this.remoteStore.remoteSyncer.handleCredentialChange=jD.bind(null,this.syncEngine),await zI(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return new $I}createDatastore(e){const t=dI(e.databaseInfo.databaseId),n=function(e){return new cI(e)}(e.databaseInfo);return function(e,t,n,r){return new gI(e,t,n,r)}(e.authCredentials,e.appCheckCredentials,n,t)}createRemoteStore(e){return function(e,t,n,r,i){return new yI(e,t,n,r,i)}(this.localStore,this.datastore,e.asyncQueue,(e=>AD(this.syncEngine,e,0)),rI.D()?new rI:new nI)}createSyncEngine(e,t){return function(e,t,n,r,i,o,s){const a=new fD(e,t,n,r,i,o);return s&&(a.Oa=!0),a}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e;await async function(e){const t=nE(e);Jk("RemoteStore","RemoteStore shutting down."),t.v_.add(5),await wI(t),t.M_.shutdown(),t.x_.set("Unknown")}(this.remoteStore),null===(e=this.datastore)||void 0===e||e.terminate()}}class UD{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.qa(this.observer.next,e)}error(e){this.observer.error?this.qa(this.observer.error,e):Xk("Uncaught Error in snapshot listener:",e.toString())}Qa(){this.muted=!0}qa(e,t){this.muted||setTimeout((()=>{this.muted||e(t)}),0)}}class FD{constructor(e,t,n,r){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=n,this.databaseInfo=r,this.user=Yk.UNAUTHENTICATED,this.clientId=mE.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(n,(async e=>{Jk("FirestoreClient","Received user=",e.uid),await this.authCredentialListener(e),this.user=e})),this.appCheckCredentials.start(n,(e=>(Jk("FirestoreClient","Received new app check token=",e),this.appCheckCredentialListener(e,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new iE(rE.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();const e=new oE;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const n=KI(t,"Failed to shutdown persistence");e.reject(n)}})),e.promise}}async function VD(e,t){e.asyncQueue.verifyOperationInProgress(),Jk("FirestoreClient","Initializing OfflineComponentProvider");const n=e.configuration;await t.initialize(n);let r=n.initialUser;e.setCredentialChangeListener((async e=>{r.isEqual(e)||(await YO(t.localStore,e),r=e)})),t.persistence.setDatabaseDeletedListener((()=>e.terminate())),e._offlineComponents=t}async function qD(e,t){e.asyncQueue.verifyOperationInProgress();const n=await zD(e);Jk("FirestoreClient","Initializing OnlineComponentProvider"),await t.initialize(n,e.configuration),e.setCredentialChangeListener((e=>HI(t.remoteStore,e))),e.setAppCheckTokenChangeListener(((e,n)=>HI(t.remoteStore,n))),e._onlineComponents=t}function HD(e){return"FirebaseError"===e.name?e.code===rE.FAILED_PRECONDITION||e.code===rE.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&e instanceof DOMException)||22===e.code||20===e.code||11===e.code}async function zD(e){if(!e._offlineComponents)if(e._uninitializedComponentsProvider){Jk("FirestoreClient","Using user provided OfflineComponentProvider");try{await VD(e,e._uninitializedComponentsProvider._offline)}catch(t){const n=t;if(!HD(n))throw n;Zk("Error using user provided cache. Falling back to memory cache: "+n),await VD(e,new MD)}}else Jk("FirestoreClient","Using default OfflineComponentProvider"),await VD(e,new MD);return e._offlineComponents}async function GD(e){return e._onlineComponents||(e._uninitializedComponentsProvider?(Jk("FirestoreClient","Using user provided OnlineComponentProvider"),await qD(e,e._uninitializedComponentsProvider._online)):(Jk("FirestoreClient","Using default OnlineComponentProvider"),await qD(e,new BD))),e._onlineComponents}function YD(e){return GD(e).then((e=>e.syncEngine))}async function WD(e){const t=await GD(e),n=t.eventManager;return n.onListen=pD.bind(null,t.syncEngine),n.onUnlisten=yD.bind(null,t.syncEngine),n.onFirstRemoteStoreListen=mD.bind(null,t.syncEngine),n.onLastRemoteStoreUnlisten=bD.bind(null,t.syncEngine),n}function KD(e){const t={};return void 0!==e.timeoutSeconds&&(t.timeoutSeconds=e.timeoutSeconds),t}const QD=new Map;function JD(e,t,n){if(!n)throw new iE(rE.INVALID_ARGUMENT,"Function ".concat(e,"() cannot be called with an empty ").concat(t,"."))}function XD(e){if(!SE.isDocumentKey(e))throw new iE(rE.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but ".concat(e," has ").concat(e.length,"."))}function ZD(e){if(SE.isDocumentKey(e))throw new iE(rE.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but ".concat(e," has ").concat(e.length,"."))}function $D(e){if(void 0===e)return"undefined";if(null===e)return"null";if("string"==typeof e)return e.length>20&&(e="".concat(e.substring(0,20),"...")),JSON.stringify(e);if("number"==typeof e||"boolean"==typeof e)return""+e;if("object"==typeof e){if(e instanceof Array)return"an array";{const t=function(e){return e.constructor?e.constructor.name:null}(e);return t?"a custom ".concat(t," object"):"an object"}}return"function"==typeof e?"a function":eE()}function ej(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new iE(rE.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=$D(e);throw new iE(rE.INVALID_ARGUMENT,"Expected type '".concat(t.name,"', but it was: ").concat(n))}}return e}class tj{constructor(e){var t,n;if(void 0===e.host){if(void 0!==e.ssl)throw new iE(rE.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new iE(rE.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}(function(e,t,n,r){if(!0===t&&!0===r)throw new iE(rE.INVALID_ARGUMENT,"".concat(e," and ").concat(n," cannot be used together."))})("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:void 0===e.experimentalAutoDetectLongPolling?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=KD(null!==(n=e.experimentalLongPollingOptions)&&void 0!==n?n:{}),function(e){if(void 0!==e.timeoutSeconds){if(isNaN(e.timeoutSeconds))throw new iE(rE.INVALID_ARGUMENT,"invalid long polling timeout: ".concat(e.timeoutSeconds," (must not be NaN)"));if(e.timeoutSeconds<5)throw new iE(rE.INVALID_ARGUMENT,"invalid long polling timeout: ".concat(e.timeoutSeconds," (minimum allowed value is 5)"));if(e.timeoutSeconds>30)throw new iE(rE.INVALID_ARGUMENT,"invalid long polling timeout: ".concat(e.timeoutSeconds," (maximum allowed value is 30)"))}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(e,t){return e.timeoutSeconds===t.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class nj{constructor(e,t,n,r){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=n,this._app=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new tj({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new iE(rE.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new iE(rE.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new tj(e),void 0!==e.credentials&&(this._authCredentials=function(e){if(!e)return new aE;switch(e.type){case"firstParty":return new dE(e.sessionIndex||"0",e.iamToken||null,e.authTokenFactory||null);case"provider":return e.client;default:throw new iE(rE.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=QD.get(e);t&&(Jk("ComponentProvider","Removing Datastore"),QD.delete(e),t.terminate())}(this),Promise.resolve()}}class rj{constructor(e,t,n){this.converter=t,this._query=n,this.type="query",this.firestore=e}withConverter(e){return new rj(this.firestore,e,this._query)}}class ij{constructor(e,t,n){this.converter=t,this._key=n,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new oj(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new ij(this.firestore,e,this._key)}}class oj extends rj{constructor(e,t,n){super(e,t,uT(n)),this._path=n,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new ij(this.firestore,null,new SE(e))}withConverter(e){return new oj(this.firestore,e,this._path)}}function sj(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=Jb(e),JD("collection","path",t),e instanceof nj){const n=AE.fromString(t,...r);return ZD(n),new oj(e,null,n)}{if(!(e instanceof ij||e instanceof oj))throw new iE(rE.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=e._path.child(AE.fromString(t,...r));return ZD(n),new oj(e.firestore,null,n)}}function aj(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=Jb(e),1===arguments.length&&(t=mE.newId()),JD("doc","path",t),e instanceof nj){const n=AE.fromString(t,...r);return XD(n),new ij(e,null,new SE(n))}{if(!(e instanceof ij||e instanceof oj))throw new iE(rE.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=e._path.child(AE.fromString(t,...r));return XD(n),new ij(e.firestore,e instanceof oj?e.converter:null,new SE(n))}}class lj{constructor(){this.nu=Promise.resolve(),this.ru=[],this.iu=!1,this.su=[],this.ou=null,this._u=!1,this.au=!1,this.uu=[],this.jo=new hI(this,"async_queue_retry"),this.cu=()=>{const e=uI();e&&Jk("AsyncQueue","Visibility state changed to "+e.visibilityState),this.jo.Ko()};const e=uI();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.cu)}get isShuttingDown(){return this.iu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.lu(),this.hu(e)}enterRestrictedMode(e){if(!this.iu){this.iu=!0,this.au=e||!1;const t=uI();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.cu)}}enqueue(e){if(this.lu(),this.iu)return new Promise((()=>{}));const t=new oE;return this.hu((()=>this.iu&&this.au?Promise.resolve():(e().then(t.resolve,t.reject),t.promise))).then((()=>t.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.ru.push(e),this.Pu())))}async Pu(){if(0!==this.ru.length){try{await this.ru[0](),this.ru.shift(),this.jo.reset()}catch(IU){if(!BE(IU))throw IU;Jk("AsyncQueue","Operation failed with retryable error: "+IU)}this.ru.length>0&&this.jo.qo((()=>this.Pu()))}}hu(e){const t=this.nu.then((()=>(this._u=!0,e().catch((e=>{this.ou=e,this._u=!1;const t=function(e){let t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+"\n"+e.stack),t}(e);throw Xk("INTERNAL UNHANDLED ERROR: ",t),e})).then((e=>(this._u=!1,e))))));return this.nu=t,t}enqueueAfterDelay(e,t,n){this.lu(),this.uu.indexOf(e)>-1&&(t=0);const r=WI.createAndSchedule(this,e,t,n,(e=>this.Iu(e)));return this.su.push(r),r}lu(){this.ou&&eE()}verifyOperationInProgress(){}async Tu(){let e;do{e=this.nu,await e}while(e!==this.nu)}Eu(e){for(const t of this.su)if(t.timerId===e)return!0;return!1}du(e){return this.Tu().then((()=>{this.su.sort(((e,t)=>e.targetTimeMs-t.targetTimeMs));for(const t of this.su)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.Tu()}))}Au(e){this.uu.push(e)}Iu(e){const t=this.su.indexOf(e);this.su.splice(t,1)}}function cj(e){return function(e,t){if("object"!=typeof e||null===e)return!1;const n=e;for(const r of t)if(r in n&&"function"==typeof n[r])return!0;return!1}(e,["next","error","complete"])}class uj extends nj{constructor(e,t,n,r){super(e,t,n,r),this.type="firestore",this._queue=new lj,this._persistenceKey=(null==r?void 0:r.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||hj(this),this._firestoreClient.terminate()}}function dj(e){return e._firestoreClient||hj(e),e._firestoreClient.verifyNotTerminated(),e._firestoreClient}function hj(e){var t,n,r;const i=e._freezeSettings(),o=function(e,t,n,r){return new pC(e,t,n,r.host,r.ssl,r.experimentalForceLongPolling,r.experimentalAutoDetectLongPolling,KD(r.experimentalLongPollingOptions),r.useFetchStreams)}(e._databaseId,(null===(t=e._app)||void 0===t?void 0:t.options.appId)||"",e._persistenceKey,i);e._firestoreClient=new FD(e._authCredentials,e._appCheckCredentials,e._queue,o),(null===(n=i.localCache)||void 0===n?void 0:n._offlineComponentProvider)&&(null===(r=i.localCache)||void 0===r?void 0:r._onlineComponentProvider)&&(e._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.localCache.kind,_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider})}class fj{constructor(e){this._byteString=e}static fromBase64String(e){try{return new fj(sC.fromBase64String(e))}catch(e){throw new iE(rE.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}}static fromUint8Array(e){return new fj(sC.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class pj{constructor(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];for(let r=0;r<t.length;++r)if(0===t[r].length)throw new iE(rE.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new xE(t)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class mj{constructor(e){this._methodName=e}}class gj{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new iE(rE.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new iE(rE.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return gE(this._lat,e._lat)||gE(this._long,e._long)}}const vj=/^__.*__$/;class yj{constructor(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}toMutation(e,t){return null!==this.fieldMask?new dN(e,this.data,this.fieldMask,t,this.fieldTransforms):new uN(e,this.data,t,this.fieldTransforms)}}class bj{constructor(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}toMutation(e,t){return new dN(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function wj(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw eE()}}class Aj{constructor(e,t,n,r,i,o){this.settings=e,this.databaseId=t,this.serializer=n,this.ignoreUndefinedProperties=r,void 0===i&&this.Ru(),this.fieldTransforms=i||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Vu(){return this.settings.Vu}mu(e){return new Aj(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}fu(e){var t;const n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.mu({path:n,gu:!1});return r.pu(e),r}yu(e){var t;const n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.mu({path:n,gu:!1});return r.Ru(),r}wu(e){return this.mu({path:void 0,gu:!0})}Su(e){return Bj(e,this.settings.methodName,this.settings.bu||!1,this.path,this.settings.Du)}contains(e){return void 0!==this.fieldMask.find((t=>e.isPrefixOf(t)))||void 0!==this.fieldTransforms.find((t=>e.isPrefixOf(t.field)))}Ru(){if(this.path)for(let e=0;e<this.path.length;e++)this.pu(this.path.get(e))}pu(e){if(0===e.length)throw this.Su("Document fields must not be empty");if(wj(this.Vu)&&vj.test(e))throw this.Su('Document fields cannot begin and end with "__"')}}class _j{constructor(e,t,n){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=n||dI(e)}Cu(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return new Aj({Vu:e,methodName:t,Du:n,path:xE.emptyPath(),gu:!1,bu:r},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function xj(e){const t=e._freezeSettings(),n=dI(e._databaseId);return new _j(e._databaseId,!!t.ignoreUndefinedProperties,n)}function Sj(e,t,n,r,i){let o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{};const s=e.Cu(o.merge||o.mergeFields?2:0,t,n,i);Pj("Data must be an object, but it was:",s,r);const a=Dj(r,s);let l,c;if(o.merge)l=new iC(s.fieldMask),c=s.fieldTransforms;else if(o.mergeFields){const e=[];for(const r of o.mergeFields){const i=Rj(t,r,n);if(!s.contains(i))throw new iE(rE.INVALID_ARGUMENT,"Field '".concat(i,"' is specified in your field mask but missing from your input data."));Uj(e,i)||e.push(i)}l=new iC(e),c=s.fieldTransforms.filter((e=>l.covers(e.field)))}else l=null,c=s.fieldTransforms;return new yj(new DC(a),l,c)}class kj extends mj{_toFieldTransform(e){if(2!==e.Vu)throw 1===e.Vu?e.Su("".concat(this._methodName,"() can only appear at the top level of your update data")):e.Su("".concat(this._methodName,"() cannot be used with set() unless you pass {merge:true}"));return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof kj}}function Ej(e,t,n){return new Aj({Vu:3,Du:t.settings.Du,methodName:e._methodName,gu:n},t.databaseId,t.serializer,t.ignoreUndefinedProperties)}class Cj extends mj{constructor(e,t){super(e),this.vu=t}_toFieldTransform(e){const t=Ej(this,e,!0),n=this.vu.map((e=>Ij(e,t))),r=new WT(n);return new eN(e.path,r)}isEqual(e){return e instanceof Cj&&Hb(this.vu,e.vu)}}function Tj(e,t,n,r){const i=e.Cu(1,t,n);Pj("Data must be an object, but it was:",i,r);const o=[],s=DC.empty();XE(r,((e,r)=>{const a=Mj(t,e,n);r=Jb(r);const l=i.yu(a);if(r instanceof kj)o.push(a);else{const e=Ij(r,l);null!=e&&(o.push(a),s.set(a,e))}}));const a=new iC(o);return new bj(s,a,i.fieldTransforms)}function Nj(e,t,n,r,i,o){const s=e.Cu(1,t,n),a=[Rj(t,r,n)],l=[i];if(o.length%2!=0)throw new iE(rE.INVALID_ARGUMENT,"Function ".concat(t,"() needs to be called with an even number of arguments that alternate between field names and values."));for(let h=0;h<o.length;h+=2)a.push(Rj(t,o[h])),l.push(o[h+1]);const c=[],u=DC.empty();for(let h=a.length-1;h>=0;--h)if(!Uj(c,a[h])){const e=a[h];let t=l[h];t=Jb(t);const n=s.yu(e);if(t instanceof kj)c.push(e);else{const r=Ij(t,n);null!=r&&(c.push(e),u.set(e,r))}}const d=new iC(c);return new bj(u,d,s.fieldTransforms)}function Oj(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return Ij(n,e.Cu(r?4:3,t))}function Ij(e,t){if(jj(e=Jb(e)))return Pj("Unsupported field value:",t,e),Dj(e,t);if(e instanceof mj)return function(e,t){if(!wj(t.Vu))throw t.Su("".concat(e._methodName,"() can only be used with update() and set()"));if(!t.path)throw t.Su("".concat(e._methodName,"() is not currently supported inside arrays"));const n=e._toFieldTransform(t);n&&t.fieldTransforms.push(n)}(e,t),null;if(void 0===e&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.gu&&4!==t.Vu)throw t.Su("Nested arrays are not supported");return function(e,t){const n=[];let r=0;for(const i of e){let e=Ij(i,t.wu(r));null==e&&(e={nullValue:"NULL_VALUE"}),n.push(e),r++}return{arrayValue:{values:n}}}(e,t)}return function(e,t){if(null===(e=Jb(e)))return{nullValue:"NULL_VALUE"};if("number"==typeof e)return VT(t.serializer,e);if("boolean"==typeof e)return{booleanValue:e};if("string"==typeof e)return{stringValue:e};if(e instanceof Date){const n=yE.fromDate(e);return{timestampValue:YN(t.serializer,n)}}if(e instanceof yE){const n=new yE(e.seconds,1e3*Math.floor(e.nanoseconds/1e3));return{timestampValue:YN(t.serializer,n)}}if(e instanceof gj)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof fj)return{bytesValue:WN(t.serializer,e._byteString)};if(e instanceof ij){const n=t.databaseId,r=e.firestore._databaseId;if(!r.isEqual(n))throw t.Su("Document reference is for database ".concat(r.projectId,"/").concat(r.database," but should be for database ").concat(n.projectId,"/").concat(n.database));return{referenceValue:JN(e.firestore._databaseId||t.databaseId,e._key.path)}}throw t.Su("Unsupported field value: ".concat($D(e)))}(e,t)}function Dj(e,t){const n={};return ZE(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):XE(e,((e,r)=>{const i=Ij(r,t.fu(e));null!=i&&(n[e]=i)})),{mapValue:{fields:n}}}function jj(e){return!("object"!=typeof e||null===e||e instanceof Array||e instanceof Date||e instanceof yE||e instanceof gj||e instanceof fj||e instanceof ij||e instanceof mj)}function Pj(e,t,n){if(!jj(n)||!function(e){return"object"==typeof e&&null!==e&&(Object.getPrototypeOf(e)===Object.prototype||null===Object.getPrototypeOf(e))}(n)){const r=$D(n);throw"an object"===r?t.Su(e+" a custom object"):t.Su(e+" "+r)}}function Rj(e,t,n){if((t=Jb(t))instanceof pj)return t._internalPath;if("string"==typeof t)return Mj(e,t);throw Bj("Field path arguments must be of type string or ",e,!1,void 0,n)}const Lj=new RegExp("[~\\*/\\[\\]]");function Mj(e,t,n){if(t.search(Lj)>=0)throw Bj("Invalid field path (".concat(t,"). Paths must not contain '~', '*', '/', '[', or ']'"),e,!1,void 0,n);try{return new pj(...t.split("."))._internalPath}catch(UA){throw Bj("Invalid field path (".concat(t,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"),e,!1,void 0,n)}}function Bj(e,t,n,r,i){const o=r&&!r.isEmpty(),s=void 0!==i;let a="Function ".concat(t,"() called with invalid data");n&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(o||s)&&(l+=" (found",o&&(l+=" in field ".concat(r)),s&&(l+=" in document ".concat(i)),l+=")"),new iE(rE.INVALID_ARGUMENT,a+e+l)}function Uj(e,t){return e.some((e=>e.isEqual(t)))}class Fj{constructor(e,t,n,r,i){this._firestore=e,this._userDataWriter=t,this._key=n,this._document=r,this._converter=i}get id(){return this._key.path.lastSegment()}get ref(){return new ij(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new Vj(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(qj("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class Vj extends Fj{data(){return super.data()}}function qj(e,t){return"string"==typeof t?Mj(e,t):t instanceof pj?t._internalPath:t._delegate._internalPath}function Hj(e){if("L"===e.limitType&&0===e.explicitOrderBy.length)throw new iE(rE.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class zj{}class Gj extends zj{}function Yj(e,t){let n=[];for(var r=arguments.length,i=new Array(r>2?r-2:0),o=2;o<r;o++)i[o-2]=arguments[o];t instanceof zj&&n.push(t),n=n.concat(i),function(e){const t=e.filter((e=>e instanceof Qj)).length,n=e.filter((e=>e instanceof Wj)).length;if(t>1||t>0&&n>0)throw new iE(rE.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(n);for(const s of n)e=s._apply(e);return e}class Wj extends Gj{constructor(e,t,n){super(),this._field=e,this._op=t,this._value=n,this.type="where"}static _create(e,t,n){return new Wj(e,t,n)}_apply(e){const t=this._parse(e);return Zj(e._query,t),new rj(e.firestore,e.converter,gT(e._query,t))}_parse(e){const t=xj(e.firestore),n=function(e,t,n,r,i,o,s){let a;if(i.isKeyField()){if("array-contains"===o||"array-contains-any"===o)throw new iE(rE.INVALID_ARGUMENT,"Invalid Query. You can't perform '".concat(o,"' queries on documentId()."));if("in"===o||"not-in"===o){Xj(s,o);const t=[];for(const n of s)t.push(Jj(r,e,n));a={arrayValue:{values:t}}}else a=Jj(r,e,s)}else"in"!==o&&"not-in"!==o&&"array-contains-any"!==o||Xj(s,o),a=Oj(n,t,s,"in"===o||"not-in"===o);return VC.create(i,o,a)}(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value);return n}}function Kj(e,t,n){const r=t,i=qj("where",e);return Wj._create(i,r,n)}class Qj extends zj{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new Qj(e,t)}_parse(e){const t=this._queryConstraints.map((t=>t._parse(e))).filter((e=>e.getFilters().length>0));return 1===t.length?t[0]:qC.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return 0===t.getFilters().length?e:(function(e,t){let n=e;const r=t.getFlattenedFilters();for(const i of r)Zj(n,i),n=gT(n,i)}(e._query,t),new rj(e.firestore,e.converter,gT(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}function Jj(e,t,n){if("string"==typeof(n=Jb(n))){if(""===n)throw new iE(rE.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!hT(t)&&-1!==n.indexOf("/"))throw new iE(rE.INVALID_ARGUMENT,"Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '".concat(n,"' contains a '/' character."));const r=t.path.child(AE.fromString(n));if(!SE.isDocumentKey(r))throw new iE(rE.INVALID_ARGUMENT,"Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '".concat(r,"' is not because it has an odd number of segments (").concat(r.length,")."));return SC(e,new SE(r))}if(n instanceof ij)return SC(e,n._key);throw new iE(rE.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ".concat($D(n),"."))}function Xj(e,t){if(!Array.isArray(e)||0===e.length)throw new iE(rE.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '".concat(t.toString(),"' filters."))}function Zj(e,t){const n=function(e,t){for(const n of e)for(const e of n.getFlattenedFilters())if(t.indexOf(e.op)>=0)return e.op;return null}(e.filters,function(e){switch(e){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(null!==n)throw n===t.op?new iE(rE.INVALID_ARGUMENT,"Invalid query. You cannot use more than one '".concat(t.op.toString(),"' filter.")):new iE(rE.INVALID_ARGUMENT,"Invalid query. You cannot use '".concat(t.op.toString(),"' filters with '").concat(n.toString(),"' filters."))}class $j{convertValue(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";switch(vC(e)){case 0:return null;case 1:return e.booleanValue;case 2:return cC(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(uC(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw eE()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";const n={};return XE(e,((e,r)=>{n[e]=this.convertValue(r,t)})),n}convertGeoPoint(e){return new gj(cC(e.latitude),cC(e.longitude))}convertArray(e,t){return(e.values||[]).map((e=>this.convertValue(e,t)))}convertServerTimestamp(e,t){switch(t){case"previous":const n=hC(e);return null==n?null:this.convertValue(n,t);case"estimate":return this.convertTimestamp(fC(e));default:return null}}convertTimestamp(e){const t=lC(e);return new yE(t.seconds,t.nanos)}convertDocumentKey(e,t){const n=AE.fromString(e);tE(yO(n));const r=new mC(n.get(1),n.get(3)),i=new SE(n.popFirst(5));return r.isEqual(t)||Xk("Document ".concat(i," contains a document reference within a different database (").concat(r.projectId,"/").concat(r.database,") which is not supported. It will be treated as a reference in the current database (").concat(t.projectId,"/").concat(t.database,") instead.")),i}}function eP(e,t,n){let r;return r=e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t,r}class tP{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class nP extends Fj{constructor(e,t,n,r,i,o){super(e,t,n,r,o),this._firestore=e,this._firestoreImpl=e,this.metadata=i}exists(){return super.exists()}data(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(this._document){if(this._converter){const t=new rP(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this._document){const n=this._document.data.field(qj("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n,t.serverTimestamps)}}}class rP extends nP{data(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return super.data(e)}}class iP{constructor(e,t,n,r){this._firestore=e,this._userDataWriter=t,this._snapshot=r,this.metadata=new tP(r.hasPendingWrites,r.fromCache),this.query=n}get docs(){const e=[];return this.forEach((t=>e.push(t))),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach((n=>{e.call(t,new rP(this._firestore,this._userDataWriter,n.key,n,new tP(this._snapshot.mutatedKeys.has(n.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(){const e=!!(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).includeMetadataChanges;if(e&&this._snapshot.excludesMetadataChanges)throw new iE(rE.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=function(e,t){if(e._snapshot.oldDocs.isEmpty()){let t=0;return e._snapshot.docChanges.map((n=>{const r=new rP(e._firestore,e._userDataWriter,n.doc.key,n.doc,new tP(e._snapshot.mutatedKeys.has(n.doc.key),e._snapshot.fromCache),e.query.converter);return n.doc,{type:"added",doc:r,oldIndex:-1,newIndex:t++}}))}{let n=e._snapshot.oldDocs;return e._snapshot.docChanges.filter((e=>t||3!==e.type)).map((t=>{const r=new rP(e._firestore,e._userDataWriter,t.doc.key,t.doc,new tP(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter);let i=-1,o=-1;return 0!==t.type&&(i=n.indexOf(t.doc.key),n=n.delete(t.doc.key)),1!==t.type&&(n=n.add(t.doc),o=n.indexOf(t.doc.key)),{type:oP(t.type),doc:r,oldIndex:i,newIndex:o}}))}}(this,e),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges}}function oP(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return eE()}}class sP extends $j{constructor(e){super(),this.firestore=e}convertBytes(e){return new fj(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new ij(this.firestore,null,t)}}function aP(e,t,n){e=ej(e,ij);const r=ej(e.firestore,uj),i=xj(r);let o;for(var s=arguments.length,a=new Array(s>3?s-3:0),l=3;l<s;l++)a[l-3]=arguments[l];return o="string"==typeof(t=Jb(t))||t instanceof pj?Nj(i,"updateDoc",e._key,t,n,a):Tj(i,"updateDoc",e._key,t),lP(r,[o.toMutation(e._key,nN.exists(!0))])}function lP(e,t){return function(e,t){const n=new oE;return e.asyncQueue.enqueueAndForget((async()=>async function(e,t,n){const r=LD(e);try{const e=await function(e,t){const n=nE(e),r=yE.now(),i=t.reduce(((e,t)=>e.add(t.key)),LT());let o,s;return n.persistence.runTransaction("Locally write mutations","readwrite",(e=>{let a=CT(),l=LT();return n.os.getEntries(e,i).next((e=>{a=e,a.forEach(((e,t)=>{t.isValidDocument()||(l=l.add(e))}))})).next((()=>n.localDocuments.getOverlayedDocuments(e,a))).next((i=>{o=i;const s=[];for(const e of t){const t=lN(e,o.get(e.key).overlayedDocument);null!=t&&s.push(new dN(e.key,t,jC(t.value.mapValue),nN.exists(!0)))}return n.mutationQueue.addMutationBatch(e,r,s,t)})).next((t=>{s=t;const r=t.applyToLocalDocumentSet(o,l);return n.documentOverlayCache.saveOverlays(e,t.batchId,r)}))})).then((()=>({batchId:s.batchId,changes:OT(o)})))}(r.localStore,t);r.sharedClientState.addPendingMutation(e.batchId),function(e,t,n){let r=e.Fa[e.currentUser.toKey()];r||(r=new $E(gE)),r=r.insert(t,n),e.Fa[e.currentUser.toKey()]=r}(r,e.batchId,n),await DD(r,e.changes),await PI(r.remoteStore)}catch(e){const t=KI(e,"Failed to persist write");n.reject(t)}}(await YD(e),t,n))),n.promise}(dj(e),t)}function cP(e,t,n){const r=n.docs.get(t._key),i=new sP(e);return new nP(e,i,t._key,r,new tP(n.hasPendingWrites,n.fromCache),t.converter)}function uP(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new Cj("arrayUnion",t)}new WeakMap;!function(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];!function(e){Wk=e}(uA),oA(new Xb("firestore",((e,n)=>{let{instanceIdentifier:r,options:i}=n;const o=e.getProvider("app").getImmediate(),s=new uj(new cE(e.getProvider("auth-internal")),new fE(e.getProvider("app-check-internal")),function(e,t){if(!Object.prototype.hasOwnProperty.apply(e.options,["projectId"]))throw new iE(rE.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new mC(e.options.projectId,t)}(o,r),o);return i=Object.assign({useFetchStreams:t},i),s._setSettings(i),s}),"PUBLIC").setMultipleInstances(!0)),fA(Gk,"4.6.0",e),fA(Gk,"4.6.0","esm2017")}();fA("firebase","10.11.0","app");function dP(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}Object.create;Object.create;"function"===typeof SuppressedError&&SuppressedError;function hP(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const fP=hP,pP=new Vb("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),mP=new aw("@firebase/auth");function gP(e){if(mP.logLevel<=nw.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];mP.error("Auth (".concat(uA,"): ").concat(e),...n)}}function vP(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];throw AP(e,...n)}function yP(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return AP(e,...n)}function bP(e,t,n){const r=Object.assign(Object.assign({},fP()),{[t]:n});return new Vb("auth","Firebase",r).create(t,{appName:e.name})}function wP(e){return bP(e,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function AP(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];if("string"!==typeof e){const t=n[0],r=[...n.slice(1)];return r[0]&&(r[0].appName=e.name),e._errorFactory.create(t,...r)}return pP.create(e,...n)}function _P(e,t){if(!e){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];throw AP(t,...r)}}function xP(e){const t="INTERNAL ASSERTION FAILED: "+e;throw gP(t),new Error(t)}function SP(e,t){e||xP(t)}function kP(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.href)||""}function EP(){return"http:"===CP()||"https:"===CP()}function CP(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.protocol)||null}function TP(){return!("undefined"!==typeof navigator&&navigator&&"onLine"in navigator&&"boolean"===typeof navigator.onLine&&(EP()||function(){const e="object"===typeof chrome?chrome.runtime:"object"===typeof browser?browser.runtime:void 0;return"object"===typeof e&&void 0!==e.id}()||"connection"in navigator))||navigator.onLine}class NP{constructor(e,t){this.shortDelay=e,this.longDelay=t,SP(t>e,"Short delay should be less than long delay!"),this.isMobile="undefined"!==typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Mb())||"object"===typeof navigator&&"ReactNative"===navigator.product}get(){return TP()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function OP(e,t){SP(e.emulator,"Emulator should always be set here");const{url:n}=e.emulator;return t?"".concat(n).concat(t.startsWith("/")?t.slice(1):t):n}class IP{static initialize(e,t,n){this.fetchImpl=e,t&&(this.headersImpl=t),n&&(this.responseImpl=n)}static fetch(){return this.fetchImpl?this.fetchImpl:"undefined"!==typeof self&&"fetch"in self?self.fetch:"undefined"!==typeof globalThis&&globalThis.fetch?globalThis.fetch:"undefined"!==typeof fetch?fetch:void xP("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:"undefined"!==typeof self&&"Headers"in self?self.Headers:"undefined"!==typeof globalThis&&globalThis.Headers?globalThis.Headers:"undefined"!==typeof Headers?Headers:void xP("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:"undefined"!==typeof self&&"Response"in self?self.Response:"undefined"!==typeof globalThis&&globalThis.Response?globalThis.Response:"undefined"!==typeof Response?Response:void xP("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const DP={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},jP=new NP(3e4,6e4);function PP(e,t){return e.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:e.tenantId}):t}async function RP(e,t,n,r){return LP(e,arguments.length>4&&void 0!==arguments[4]?arguments[4]:{},(async()=>{let i={},o={};r&&("GET"===t?o=r:i={body:JSON.stringify(r)});const s=Gb(Object.assign({key:e.config.apiKey},o)).slice(1),a=await e._getAdditionalHeaders();return a["Content-Type"]="application/json",e.languageCode&&(a["X-Firebase-Locale"]=e.languageCode),IP.fetch()(BP(e,e.config.apiHost,n,s),Object.assign({method:t,headers:a,referrerPolicy:"no-referrer"},i))}))}async function LP(e,t,n){e._canInitEmulator=!1;const r=Object.assign(Object.assign({},DP),t);try{const t=new FP(e),i=await Promise.race([n(),t.promise]);t.clearNetworkTimeout();const o=await i.json();if("needConfirmation"in o)throw VP(e,"account-exists-with-different-credential",o);if(i.ok&&!("errorMessage"in o))return o;{const t=i.ok?o.errorMessage:o.error.message,[n,s]=t.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===n)throw VP(e,"credential-already-in-use",o);if("EMAIL_EXISTS"===n)throw VP(e,"email-already-in-use",o);if("USER_DISABLED"===n)throw VP(e,"user-disabled",o);const a=r[n]||n.toLowerCase().replace(/[_\s]+/g,"-");if(s)throw bP(e,a,s);vP(e,a)}}catch(IU){if(IU instanceof Fb)throw IU;vP(e,"network-request-failed",{message:String(IU)})}}async function MP(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{};const o=await RP(e,t,n,r,i);return"mfaPendingCredential"in o&&vP(e,"multi-factor-auth-required",{_serverResponse:o}),o}function BP(e,t,n,r){const i="".concat(t).concat(n,"?").concat(r);return e.config.emulator?OP(e.config,i):"".concat(e.config.apiScheme,"://").concat(i)}function UP(e){switch(e){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class FP{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise(((e,t)=>{this.timer=setTimeout((()=>t(yP(this.auth,"network-request-failed"))),jP.get())}))}clearNetworkTimeout(){clearTimeout(this.timer)}}function VP(e,t,n){const r={appName:e.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=yP(e,t,r);return i.customData._tokenResponse=n,i}function qP(e){return void 0!==e&&void 0!==e.enterprise}class HP{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],void 0===e.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||0===this.recaptchaEnforcementState.length)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return UP(t.enforcementState);return null}isProviderEnabled(e){return"ENFORCE"===this.getProviderEnforcementState(e)||"AUDIT"===this.getProviderEnforcementState(e)}}async function zP(e,t){return RP(e,"GET","/v2/recaptchaConfig",PP(e,t))}async function GP(e,t){return RP(e,"POST","/v1/accounts:lookup",t)}function YP(e){if(e)try{const t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch(IU){}}function WP(e){return 1e3*Number(e)}function KP(e){const[t,n,r]=e.split(".");if(void 0===t||void 0===n||void 0===r)return gP("JWT malformed, contained fewer than 3 sections"),null;try{const e=Tb(n);return e?JSON.parse(e):(gP("Failed to decode base64 JWT payload"),null)}catch(IU){return gP("Caught error parsing JWT payload as JSON",null===IU||void 0===IU?void 0:IU.toString()),null}}function QP(e){const t=KP(e);return _P(t,"internal-error"),_P("undefined"!==typeof t.exp,"internal-error"),_P("undefined"!==typeof t.iat,"internal-error"),Number(t.exp)-Number(t.iat)}async function JP(e,t){if(arguments.length>2&&void 0!==arguments[2]&&arguments[2])return t;try{return await t}catch(IU){throw IU instanceof Fb&&function(e){let{code:t}=e;return t==="auth/".concat("user-disabled")||t==="auth/".concat("user-token-expired")}(IU)&&e.auth.currentUser===e&&await e.auth.signOut(),IU}}class XP{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const e=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),e}{this.errorBackoff=3e4;const e=(null!==(t=this.user.stsTokenManager.expirationTime)&&void 0!==t?t:0)-Date.now()-3e5;return Math.max(0,e)}}schedule(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout((async()=>{await this.iteration()}),t)}async iteration(){try{await this.user.getIdToken(!0)}catch(IU){return void((null===IU||void 0===IU?void 0:IU.code)==="auth/".concat("network-request-failed")&&this.schedule(!0))}this.schedule()}}class ZP{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=YP(this.lastLoginAt),this.creationTime=YP(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function $P(e){var t;const n=e.auth,r=await e.getIdToken(),i=await JP(e,GP(n,{idToken:r}));_P(null===i||void 0===i?void 0:i.users.length,n,"internal-error");const o=i.users[0];e._notifyReloadListener(o);const s=(null===(t=o.providerUserInfo)||void 0===t?void 0:t.length)?eR(o.providerUserInfo):[],a=(l=e.providerData,c=s,[...l.filter((e=>!c.some((t=>t.providerId===e.providerId)))),...c]);var l,c;const u=e.isAnonymous,d=!(e.email&&o.passwordHash)&&!(null===a||void 0===a?void 0:a.length),h=!!u&&d,f={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:a,metadata:new ZP(o.createdAt,o.lastLoginAt),isAnonymous:h};Object.assign(e,f)}function eR(e){return e.map((e=>{var{providerId:t}=e,n=dP(e,["providerId"]);return{providerId:t,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}}))}class tR{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){_P(e.idToken,"internal-error"),_P("undefined"!==typeof e.idToken,"internal-error"),_P("undefined"!==typeof e.refreshToken,"internal-error");const t="expiresIn"in e&&"undefined"!==typeof e.expiresIn?Number(e.expiresIn):QP(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){_P(0!==e.length,"internal-error");const t=QP(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e){return arguments.length>1&&void 0!==arguments[1]&&arguments[1]||!this.accessToken||this.isExpired?(_P(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null):this.accessToken}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:n,refreshToken:r,expiresIn:i}=await async function(e,t){const n=await LP(e,{},(async()=>{const n=Gb({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:r,apiKey:i}=e.config,o=BP(e,r,"/v1/token","key=".concat(i)),s=await e._getAdditionalHeaders();return s["Content-Type"]="application/x-www-form-urlencoded",IP.fetch()(o,{method:"POST",headers:s,body:n})}));return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}(e,t);this.updateTokensAndExpiration(n,r,Number(i))}updateTokensAndExpiration(e,t,n){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*n}static fromJSON(e,t){const{refreshToken:n,accessToken:r,expirationTime:i}=t,o=new tR;return n&&(_P("string"===typeof n,"internal-error",{appName:e}),o.refreshToken=n),r&&(_P("string"===typeof r,"internal-error",{appName:e}),o.accessToken=r),i&&(_P("number"===typeof i,"internal-error",{appName:e}),o.expirationTime=i),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new tR,this.toJSON())}_performRefresh(){return xP("not implemented")}}function nR(e,t){_P("string"===typeof e||"undefined"===typeof e,"internal-error",{appName:t})}class rR{constructor(e){var{uid:t,auth:n,stsTokenManager:r}=e,i=dP(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new XP(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new ZP(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(e){const t=await JP(this,this.stsTokenManager.getToken(this.auth,e));return _P(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return async function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const n=Jb(e),r=await n.getIdToken(t),i=KP(r);_P(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const o="object"===typeof i.firebase?i.firebase:void 0,s=null===o||void 0===o?void 0:o.sign_in_provider;return{claims:i,token:r,authTime:YP(WP(i.auth_time)),issuedAtTime:YP(WP(i.iat)),expirationTime:YP(WP(i.exp)),signInProvider:s||null,signInSecondFactor:(null===o||void 0===o?void 0:o.sign_in_second_factor)||null}}(this,e)}reload(){return async function(e){const t=Jb(e);await $P(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}(this)}_assign(e){this!==e&&(_P(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map((e=>Object.assign({},e))),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new rR(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){_P(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),n=!0),t&&await $P(this),await this.auth._persistUserIfCurrent(this),n&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(aA(this.auth.app))return Promise.reject(wP(this.auth));const e=await this.getIdToken();return await JP(this,async function(e,t){return RP(e,"POST","/v1/accounts:delete",t)}(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map((e=>Object.assign({},e))),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var n,r,i,o,s,a,l,c;const u=null!==(n=t.displayName)&&void 0!==n?n:void 0,d=null!==(r=t.email)&&void 0!==r?r:void 0,h=null!==(i=t.phoneNumber)&&void 0!==i?i:void 0,f=null!==(o=t.photoURL)&&void 0!==o?o:void 0,p=null!==(s=t.tenantId)&&void 0!==s?s:void 0,m=null!==(a=t._redirectEventId)&&void 0!==a?a:void 0,g=null!==(l=t.createdAt)&&void 0!==l?l:void 0,v=null!==(c=t.lastLoginAt)&&void 0!==c?c:void 0,{uid:y,emailVerified:b,isAnonymous:w,providerData:A,stsTokenManager:_}=t;_P(y&&_,e,"internal-error");const x=tR.fromJSON(this.name,_);_P("string"===typeof y,e,"internal-error"),nR(u,e.name),nR(d,e.name),_P("boolean"===typeof b,e,"internal-error"),_P("boolean"===typeof w,e,"internal-error"),nR(h,e.name),nR(f,e.name),nR(p,e.name),nR(m,e.name),nR(g,e.name),nR(v,e.name);const S=new rR({uid:y,auth:e,email:d,emailVerified:b,displayName:u,isAnonymous:w,photoURL:f,phoneNumber:h,tenantId:p,stsTokenManager:x,createdAt:g,lastLoginAt:v});return A&&Array.isArray(A)&&(S.providerData=A.map((e=>Object.assign({},e)))),m&&(S._redirectEventId=m),S}static async _fromIdTokenResponse(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r=new tR;r.updateFromServerResponse(t);const i=new rR({uid:t.localId,auth:e,stsTokenManager:r,isAnonymous:n});return await $P(i),i}static async _fromGetAccountInfoResponse(e,t,n){const r=t.users[0];_P(void 0!==r.localId,"internal-error");const i=void 0!==r.providerUserInfo?eR(r.providerUserInfo):[],o=!(r.email&&r.passwordHash)&&!(null===i||void 0===i?void 0:i.length),s=new tR;s.updateFromIdToken(n);const a=new rR({uid:r.localId,auth:e,stsTokenManager:s,isAnonymous:o}),l={uid:r.localId,displayName:r.displayName||null,photoURL:r.photoUrl||null,email:r.email||null,emailVerified:r.emailVerified||!1,phoneNumber:r.phoneNumber||null,tenantId:r.tenantId||null,providerData:i,metadata:new ZP(r.createdAt,r.lastLoginAt),isAnonymous:!(r.email&&r.passwordHash)&&!(null===i||void 0===i?void 0:i.length)};return Object.assign(a,l),a}}const iR=new Map;function oR(e){SP(e instanceof Function,"Expected a class definition");let t=iR.get(e);return t?(SP(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,iR.set(e,t),t)}class sR{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return void 0===t?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}sR.type="NONE";const aR=sR;function lR(e,t,n){return"firebase".concat(":",e,":").concat(t,":").concat(n)}class cR{constructor(e,t,n){this.persistence=e,this.auth=t,this.userKey=n;const{config:r,name:i}=this.auth;this.fullUserKey=lR(this.userKey,r.apiKey,i),this.fullPersistenceKey=lR("persistence",r.apiKey,i),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?rR._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();return await this.removeCurrentUser(),this.persistence=e,t?this.setCurrentUser(t):void 0}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"authUser";if(!t.length)return new cR(oR(aR),e,n);const r=(await Promise.all(t.map((async e=>{if(await e._isAvailable())return e})))).filter((e=>e));let i=r[0]||oR(aR);const o=lR(n,e.config.apiKey,e.name);let s=null;for(const c of t)try{const t=await c._get(o);if(t){const n=rR._fromJSON(e,t);c!==i&&(s=n),i=c;break}}catch(l){}const a=r.filter((e=>e._shouldAllowMigration));return i._shouldAllowMigration&&a.length?(i=a[0],s&&await i._set(o,s.toJSON()),await Promise.all(t.map((async e=>{if(e!==i)try{await e._remove(o)}catch(l){}}))),new cR(i,e,n)):new cR(i,e,n)}}function uR(e){const t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(pR(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(dR(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(gR(t))return"Blackberry";if(vR(t))return"Webos";if(hR(t))return"Safari";if((t.includes("chrome/")||fR(t))&&!t.includes("edge/"))return"Chrome";if(mR(t))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,n=e.match(t);if(2===(null===n||void 0===n?void 0:n.length))return n[1]}return"Other"}function dR(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Mb();return/firefox\//i.test(e)}function hR(){const e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:Mb()).toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function fR(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Mb();return/crios\//i.test(e)}function pR(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Mb();return/iemobile/i.test(e)}function mR(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Mb();return/android/i.test(e)}function gR(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Mb();return/blackberry/i.test(e)}function vR(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Mb();return/webos/i.test(e)}function yR(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Mb();return/iphone|ipad|ipod/i.test(e)||/macintosh/i.test(e)&&/mobile/i.test(e)}function bR(){return function(){const e=Mb();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}()&&10===document.documentMode}function wR(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Mb();return yR(e)||mR(e)||vR(e)||gR(e)||/windows phone/i.test(e)||pR(e)}function AR(e){let t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];switch(e){case"Browser":t=uR(Mb());break;case"Worker":t="".concat(uR(Mb()),"-").concat(e);break;default:t=e}const r=n.length?n.join(","):"FirebaseCore-web";return"".concat(t,"/","JsCore","/").concat(uA,"/").concat(r)}class _R{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const n=t=>new Promise(((n,r)=>{try{n(e(t))}catch(IU){r(IU)}}));n.onAbort=t,this.queue.push(n);const r=this.queue.length-1;return()=>{this.queue[r]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const n of this.queue)await n(e),n.onAbort&&t.push(n.onAbort)}catch(IU){t.reverse();for(const r of t)try{r()}catch(n){}throw this.auth._errorFactory.create("login-blocked",{originalMessage:null===IU||void 0===IU?void 0:IU.message})}}}class xR{constructor(e){var t,n,r,i;const o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=null!==(t=o.minPasswordLength)&&void 0!==t?t:6,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),void 0!==o.containsLowercaseCharacter&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),void 0!==o.containsUppercaseCharacter&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),void 0!==o.containsNumericCharacter&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),void 0!==o.containsNonAlphanumericCharacter&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,"ENFORCEMENT_STATE_UNSPECIFIED"===this.enforcementState&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=null!==(r=null===(n=e.allowedNonAlphanumericCharacters)||void 0===n?void 0:n.join(""))&&void 0!==r?r:"",this.forceUpgradeOnSignin=null!==(i=e.forceUpgradeOnSignin)&&void 0!==i&&i,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,n,r,i,o,s;const a={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,a),this.validatePasswordCharacterOptions(e,a),a.isValid&&(a.isValid=null===(t=a.meetsMinPasswordLength)||void 0===t||t),a.isValid&&(a.isValid=null===(n=a.meetsMaxPasswordLength)||void 0===n||n),a.isValid&&(a.isValid=null===(r=a.containsLowercaseLetter)||void 0===r||r),a.isValid&&(a.isValid=null===(i=a.containsUppercaseLetter)||void 0===i||i),a.isValid&&(a.isValid=null===(o=a.containsNumericCharacter)||void 0===o||o),a.isValid&&(a.isValid=null===(s=a.containsNonAlphanumericCharacter)||void 0===s||s),a}validatePasswordLengthOptions(e,t){const n=this.customStrengthOptions.minPasswordLength,r=this.customStrengthOptions.maxPasswordLength;n&&(t.meetsMinPasswordLength=e.length>=n),r&&(t.meetsMaxPasswordLength=e.length<=r)}validatePasswordCharacterOptions(e,t){let n;this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);for(let r=0;r<e.length;r++)n=e.charAt(r),this.updatePasswordCharacterOptionsStatuses(t,n>="a"&&n<="z",n>="A"&&n<="Z",n>="0"&&n<="9",this.allowedNonAlphanumericCharacters.includes(n))}updatePasswordCharacterOptionsStatuses(e,t,n,r,i){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=n)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=r)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=i))}}class SR{constructor(e,t,n,r){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=n,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new ER(this),this.idTokenSubscription=new ER(this),this.beforeStateQueue=new _R(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=pP,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=r.sdkClientVersion}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=oR(t)),this._initializationPromise=this.queue((async()=>{var n,r;if(!this._deleted&&(this.persistenceManager=await cR.create(this,e),!this._deleted)){if(null===(n=this._popupRedirectResolver)||void 0===n?void 0:n._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch(IU){}await this.initializeCurrentUser(t),this.lastNotifiedUid=(null===(r=this.currentUser)||void 0===r?void 0:r.uid)||null,this._deleted||(this._isInitialized=!0)}})),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();return this.currentUser||e?this.currentUser&&e&&this.currentUser.uid===e.uid?(this._currentUser._assign(e),void await this.currentUser.getIdToken()):void await this._updateCurrentUser(e,!0):void 0}async initializeCurrentUserFromIdToken(e){try{const t=await GP(this,{idToken:e}),n=await rR._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(n)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var t;if(aA(this.app)){const e=this.app.settings.authIdToken;return e?new Promise((t=>{setTimeout((()=>this.initializeCurrentUserFromIdToken(e).then(t,t)))})):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let r=n,i=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const n=null===(t=this.redirectUser)||void 0===t?void 0:t._redirectEventId,o=null===r||void 0===r?void 0:r._redirectEventId,s=await this.tryRedirectSignIn(e);n&&n!==o||!(null===s||void 0===s?void 0:s.user)||(r=s.user,i=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(i)try{await this.beforeStateQueue.runMiddleware(r)}catch(IU){r=n,this._popupRedirectResolver._overrideRedirectResult(this,(()=>Promise.reject(IU)))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return _P(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch(IU){await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await $P(e)}catch(IU){if((null===IU||void 0===IU?void 0:IU.code)!=="auth/".concat("network-request-failed"))return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=function(){if("undefined"===typeof navigator)return null;const e=navigator;return e.languages&&e.languages[0]||e.language||null}()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(aA(this.app))return Promise.reject(wP(this));const t=e?Jb(e):null;return t&&_P(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!this._deleted)return e&&_P(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue((async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()}))}async signOut(){return aA(this.app)?Promise.reject(wP(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return aA(this.app)?Promise.reject(wP(this)):this.queue((async()=>{await this.assertedPersistence.setPersistence(oR(e))}))}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return null===this.tenantId?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await async function(e){return RP(e,"GET","/v2/passwordPolicy",PP(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}))}(this),t=new xR(e);null===this.tenantId?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Vb("auth","Firebase",e())}onAuthStateChanged(e,t,n){return this.registerStateListener(this.authStateSubscription,e,t,n)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,n){return this.registerStateListener(this.idTokenSubscription,e,t,n)}authStateReady(){return new Promise(((e,t)=>{if(this.currentUser)e();else{const n=this.onAuthStateChanged((()=>{n(),e()}),t)}}))}async revokeAccessToken(e){if(this.currentUser){const t={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:await this.currentUser.getIdToken()};null!=this.tenantId&&(t.tenantId=this.tenantId),await async function(e,t){return RP(e,"POST","/v2/accounts:revokeToken",PP(e,t))}(this,t)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}async _setRedirectUser(e,t){const n=await this.getOrInitRedirectPersistenceManager(t);return null===e?n.removeCurrentUser():n.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&oR(e)||this._popupRedirectResolver;_P(t,this,"argument-error"),this.redirectPersistenceManager=await cR.create(this,[oR(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,n;return this._isInitialized&&await this.queue((async()=>{})),(null===(t=this._currentUser)||void 0===t?void 0:t._redirectEventId)===e?this._currentUser:(null===(n=this.redirectUser)||void 0===n?void 0:n._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue((async()=>this.directlySetCurrentUser(e)))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return"".concat(this.config.authDomain,":").concat(this.config.apiKey,":").concat(this.name)}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const n=null!==(t=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==t?t:null;this.lastNotifiedUid!==n&&(this.lastNotifiedUid=n,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,n,r){if(this._deleted)return()=>{};const i="function"===typeof t?t:t.next.bind(t);let o=!1;const s=this._isInitialized?Promise.resolve():this._initializationPromise;if(_P(s,this,"internal-error"),s.then((()=>{o||i(this.currentUser)})),"function"===typeof t){const i=e.addObserver(t,n,r);return()=>{o=!0,i()}}{const n=e.addObserver(t);return()=>{o=!0,n()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return _P(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){e&&!this.frameworks.includes(e)&&(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=AR(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const n=await(null===(e=this.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===e?void 0:e.getHeartbeatsHeader());n&&(t["X-Firebase-Client"]=n);const r=await this._getAppCheckToken();return r&&(t["X-Firebase-AppCheck"]=r),t}async _getAppCheckToken(){var e;const t=await(null===(e=this.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===e?void 0:e.getToken());return(null===t||void 0===t?void 0:t.error)&&function(e){if(mP.logLevel<=nw.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];mP.warn("Auth (".concat(uA,"): ").concat(e),...n)}}("Error while retrieving App Check token: ".concat(t.error)),null===t||void 0===t?void 0:t.token}}function kR(e){return Jb(e)}class ER{constructor(e){this.auth=e,this.observer=null,this.addObserver=function(e,t){const n=new Kb(e,t);return n.subscribe.bind(n)}((e=>this.observer=e))}get next(){return _P(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let CR={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function TR(e){return CR.loadJS(e)}function NR(e){return"__".concat(e).concat(Math.floor(1e6*Math.random()))}class OR{constructor(e){this.type="recaptcha-enterprise",this.auth=kR(e)}async verify(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"verify",t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];function n(t,n,r){const i=window.grecaptcha;qP(i)?i.enterprise.ready((()=>{i.enterprise.execute(t,{action:e}).then((e=>{n(e)})).catch((()=>{n("NO_RECAPTCHA")}))})):r(Error("No reCAPTCHA enterprise script loaded."))}return new Promise(((e,r)=>{(async function(e){if(!t){if(null==e.tenantId&&null!=e._agentRecaptchaConfig)return e._agentRecaptchaConfig.siteKey;if(null!=e.tenantId&&void 0!==e._tenantRecaptchaConfigs[e.tenantId])return e._tenantRecaptchaConfigs[e.tenantId].siteKey}return new Promise((async(t,n)=>{zP(e,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then((r=>{if(void 0!==r.recaptchaKey){const n=new HP(r);return null==e.tenantId?e._agentRecaptchaConfig=n:e._tenantRecaptchaConfigs[e.tenantId]=n,t(n.siteKey)}n(new Error("recaptcha Enterprise site key undefined"))})).catch((e=>{n(e)}))}))})(this.auth).then((i=>{if(!t&&qP(window.grecaptcha))n(i,e,r);else{if("undefined"===typeof window)return void r(new Error("RecaptchaVerifier is only supported in browser"));let t=CR.recaptchaEnterpriseScript;0!==t.length&&(t+=i),TR(t).then((()=>{n(i,e,r)})).catch((e=>{r(e)}))}})).catch((e=>{r(e)}))}))}}async function IR(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const i=new OR(e);let o;try{o=await i.verify(n)}catch(a){o=await i.verify(n,!0)}const s=Object.assign({},t);return r?Object.assign(s,{captchaResp:o}):Object.assign(s,{captchaResponse:o}),Object.assign(s,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(s,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),s}async function DR(e,t,n,r){var i;if(null===(i=e._getRecaptchaConfig())||void 0===i?void 0:i.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const i=await IR(e,t,n,"getOobCode"===n);return r(e,i)}return r(e,t).catch((async i=>{if(i.code==="auth/".concat("missing-recaptcha-token")){console.log("".concat(n," is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow."));const i=await IR(e,t,n,"getOobCode"===n);return r(e,i)}return Promise.reject(i)}))}function jR(e,t,n){const r=kR(e);_P(r._canInitEmulator,r,"emulator-config-failed"),_P(/^https?:\/\//.test(t),r,"invalid-emulator-scheme");const i=!!(null===n||void 0===n?void 0:n.disableWarnings),o=PR(t),{host:s,port:a}=function(e){const t=PR(e),n=/(\/\/)?([^?#/]+)/.exec(e.substr(t.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const e=i[1];return{host:e,port:RR(r.substr(e.length+1))}}{const[e,t]=r.split(":");return{host:e,port:RR(t)}}}(t),l=null===a?"":":".concat(a);r.config.emulator={url:"".concat(o,"//").concat(s).concat(l,"/")},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:s,port:a,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||function(){function e(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}"undefined"!==typeof console&&"function"===typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials.");"undefined"!==typeof window&&"undefined"!==typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",e):e())}()}function PR(e){const t=e.indexOf(":");return t<0?"":e.substr(0,t+1)}function RR(e){if(!e)return null;const t=Number(e);return isNaN(t)?null:t}class LR{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return xP("not implemented")}_getIdTokenResponse(e){return xP("not implemented")}_linkToIdToken(e,t){return xP("not implemented")}_getReauthenticationResolver(e){return xP("not implemented")}}async function MR(e,t){return RP(e,"POST","/v1/accounts:signUp",t)}async function BR(e,t){return MP(e,"POST","/v1/accounts:signInWithPassword",PP(e,t))}class UR extends LR{constructor(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;super("password",n),this._email=e,this._password=t,this._tenantId=r}static _fromEmailAndPassword(e,t){return new UR(e,t,"password")}static _fromEmailAndCode(e,t){return new UR(e,t,"emailLink",arguments.length>2&&void 0!==arguments[2]?arguments[2]:null)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t="string"===typeof e?JSON.parse(e):e;if((null===t||void 0===t?void 0:t.email)&&(null===t||void 0===t?void 0:t.password)){if("password"===t.signInMethod)return this._fromEmailAndPassword(t.email,t.password);if("emailLink"===t.signInMethod)return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":return DR(e,{returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"},"signInWithPassword",BR);case"emailLink":return async function(e,t){return MP(e,"POST","/v1/accounts:signInWithEmailLink",PP(e,t))}(e,{email:this._email,oobCode:this._password});default:vP(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":return DR(e,{idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",MR);case"emailLink":return async function(e,t){return MP(e,"POST","/v1/accounts:signInWithEmailLink",PP(e,t))}(e,{idToken:t,email:this._email,oobCode:this._password});default:vP(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}async function FR(e,t){return MP(e,"POST","/v1/accounts:signInWithIdp",PP(e,t))}class VR extends LR{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new VR(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):vP("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t="string"===typeof e?JSON.parse(e):e,{providerId:n,signInMethod:r}=t,i=dP(t,["providerId","signInMethod"]);if(!n||!r)return null;const o=new VR(n,r);return o.idToken=i.idToken||void 0,o.accessToken=i.accessToken||void 0,o.secret=i.secret,o.nonce=i.nonce,o.pendingToken=i.pendingToken||null,o}_getIdTokenResponse(e){return FR(e,this.buildRequest())}_linkToIdToken(e,t){const n=this.buildRequest();return n.idToken=t,FR(e,n)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,FR(e,t)}buildRequest(){const e={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=Gb(t)}return e}}const qR={USER_NOT_FOUND:"user-not-found"};class HR extends LR{constructor(e){super("phone","phone"),this.params=e}static _fromVerification(e,t){return new HR({verificationId:e,verificationCode:t})}static _fromTokenResponse(e,t){return new HR({phoneNumber:e,temporaryProof:t})}_getIdTokenResponse(e){return async function(e,t){return MP(e,"POST","/v1/accounts:signInWithPhoneNumber",PP(e,t))}(e,this._makeVerificationRequest())}_linkToIdToken(e,t){return async function(e,t){const n=await MP(e,"POST","/v1/accounts:signInWithPhoneNumber",PP(e,t));if(n.temporaryProof)throw VP(e,"account-exists-with-different-credential",n);return n}(e,Object.assign({idToken:t},this._makeVerificationRequest()))}_getReauthenticationResolver(e){return async function(e,t){return MP(e,"POST","/v1/accounts:signInWithPhoneNumber",PP(e,Object.assign(Object.assign({},t),{operation:"REAUTH"})),qR)}(e,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:e,phoneNumber:t,verificationId:n,verificationCode:r}=this.params;return e&&t?{temporaryProof:e,phoneNumber:t}:{sessionInfo:n,code:r}}toJSON(){const e={providerId:this.providerId};return this.params.phoneNumber&&(e.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(e.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(e.verificationCode=this.params.verificationCode),this.params.verificationId&&(e.verificationId=this.params.verificationId),e}static fromJSON(e){"string"===typeof e&&(e=JSON.parse(e));const{verificationId:t,verificationCode:n,phoneNumber:r,temporaryProof:i}=e;return n||t||r||i?new HR({verificationId:t,verificationCode:n,phoneNumber:r,temporaryProof:i}):null}}class zR{constructor(e){var t,n,r,i,o,s;const a=Yb(Wb(e)),l=null!==(t=a.apiKey)&&void 0!==t?t:null,c=null!==(n=a.oobCode)&&void 0!==n?n:null,u=function(e){switch(e){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(r=a.mode)&&void 0!==r?r:null);_P(l&&c&&u,"argument-error"),this.apiKey=l,this.operation=u,this.code=c,this.continueUrl=null!==(i=a.continueUrl)&&void 0!==i?i:null,this.languageCode=null!==(o=a.languageCode)&&void 0!==o?o:null,this.tenantId=null!==(s=a.tenantId)&&void 0!==s?s:null}static parseLink(e){const t=function(e){const t=Yb(Wb(e)).link,n=t?Yb(Wb(t)).deep_link_id:null,r=Yb(Wb(e)).deep_link_id;return(r?Yb(Wb(r)).link:null)||r||n||t||e}(e);try{return new zR(t)}catch(n){return null}}}class GR{constructor(){this.providerId=GR.PROVIDER_ID}static credential(e,t){return UR._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const n=zR.parseLink(t);return _P(n,"argument-error"),UR._fromEmailAndCode(e,n.code,n.tenantId)}}GR.PROVIDER_ID="password",GR.EMAIL_PASSWORD_SIGN_IN_METHOD="password",GR.EMAIL_LINK_SIGN_IN_METHOD="emailLink";class YR{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class WR extends YR{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class KR extends WR{constructor(){super("facebook.com")}static credential(e){return VR._fromParams({providerId:KR.PROVIDER_ID,signInMethod:KR.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return KR.credentialFromTaggedObject(e)}static credentialFromError(e){return KR.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return KR.credential(t.oauthAccessToken)}catch(n){return null}}}KR.FACEBOOK_SIGN_IN_METHOD="facebook.com",KR.PROVIDER_ID="facebook.com";class QR extends WR{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return VR._fromParams({providerId:QR.PROVIDER_ID,signInMethod:QR.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return QR.credentialFromTaggedObject(e)}static credentialFromError(e){return QR.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{oauthIdToken:n,oauthAccessToken:r}=t;if(!n&&!r)return null;try{return QR.credential(n,r)}catch(i){return null}}}QR.GOOGLE_SIGN_IN_METHOD="google.com",QR.PROVIDER_ID="google.com";class JR extends WR{constructor(){super("github.com")}static credential(e){return VR._fromParams({providerId:JR.PROVIDER_ID,signInMethod:JR.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return JR.credentialFromTaggedObject(e)}static credentialFromError(e){return JR.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return JR.credential(t.oauthAccessToken)}catch(n){return null}}}JR.GITHUB_SIGN_IN_METHOD="github.com",JR.PROVIDER_ID="github.com";class XR extends WR{constructor(){super("twitter.com")}static credential(e,t){return VR._fromParams({providerId:XR.PROVIDER_ID,signInMethod:XR.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return XR.credentialFromTaggedObject(e)}static credentialFromError(e){return XR.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=t;if(!n||!r)return null;try{return XR.credential(n,r)}catch(i){return null}}}XR.TWITTER_SIGN_IN_METHOD="twitter.com",XR.PROVIDER_ID="twitter.com";class ZR{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const i=await rR._fromIdTokenResponse(e,n,r),o=$R(n);return new ZR({user:i,providerId:o,_tokenResponse:n,operationType:t})}static async _forOperation(e,t,n){await e._updateTokensIfNecessary(n,!0);const r=$R(n);return new ZR({user:e,providerId:r,_tokenResponse:n,operationType:t})}}function $R(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}class eL extends Fb{constructor(e,t,n,r){var i;super(t.code,t.message),this.operationType=n,this.user=r,Object.setPrototypeOf(this,eL.prototype),this.customData={appName:e.name,tenantId:null!==(i=e.tenantId)&&void 0!==i?i:void 0,_serverResponse:t.customData._serverResponse,operationType:n}}static _fromErrorAndOperation(e,t,n,r){return new eL(e,t,n,r)}}function tL(e,t,n,r){return("reauthenticate"===t?n._getReauthenticationResolver(e):n._getIdTokenResponse(e)).catch((n=>{if(n.code==="auth/".concat("multi-factor-auth-required"))throw eL._fromErrorAndOperation(e,n,t,r);throw n}))}async function nL(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r=await JP(e,t._linkToIdToken(e.auth,await e.getIdToken()),n);return ZR._forOperation(e,"link",r)}async function rL(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const{auth:r}=e;if(aA(r.app))return Promise.reject(wP(r));const i="reauthenticate";try{const o=await JP(e,tL(r,i,t,e),n);_P(o.idToken,r,"internal-error");const s=KP(o.idToken);_P(s,r,"internal-error");const{sub:a}=s;return _P(e.uid===a,r,"user-mismatch"),ZR._forOperation(e,i,o)}catch(IU){throw(null===IU||void 0===IU?void 0:IU.code)==="auth/".concat("user-not-found")&&vP(r,"user-mismatch"),IU}}async function iL(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(aA(e.app))return Promise.reject(wP(e));const r="signIn",i=await tL(e,r,t),o=await ZR._fromIdTokenResponse(e,r,i);return n||await e._updateCurrentUser(o.user),o}new WeakMap;const oL="__sak";class sL{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(oL,"1"),this.storage.removeItem(oL),Promise.resolve(!0)):Promise.resolve(!1)}catch(e){return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}class aL extends sL{constructor(){super((()=>window.localStorage),"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function(){const e=Mb();return hR(e)||yR(e)}()&&function(){try{return!(!window||window===window.top)}catch(IU){return!1}}(),this.fallbackToPolling=wR(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const n=this.storage.getItem(t),r=this.localCache[t];n!==r&&e(t,r,n)}}onStorageEvent(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!e.key)return void this.forAllChangedKeys(((e,t,n)=>{this.notifyListeners(e,n)}));const n=e.key;if(t?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const r=this.storage.getItem(n);if(e.newValue!==r)null!==e.newValue?this.storage.setItem(n,e.newValue):this.storage.removeItem(n);else if(this.localCache[n]===e.newValue&&!t)return}const r=()=>{const e=this.storage.getItem(n);(t||this.localCache[n]!==e)&&this.notifyListeners(n,e)},i=this.storage.getItem(n);bR()&&i!==e.newValue&&e.newValue!==e.oldValue?setTimeout(r,10):r()}notifyListeners(e,t){this.localCache[e]=t;const n=this.listeners[e];if(n)for(const r of Array.from(n))r(t?JSON.parse(t):t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval((()=>{this.forAllChangedKeys(((e,t,n)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:n}),!0)}))}),1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}aL.type="LOCAL";const lL=aL;class cL extends sL{constructor(){super((()=>window.sessionStorage),"SESSION")}_addListener(e,t){}_removeListener(e,t){}}cL.type="SESSION";const uL=cL;class dL{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find((t=>t.isListeningto(e)));if(t)return t;const n=new dL(e);return this.receivers.push(n),n}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:n,eventType:r,data:i}=t.data,o=this.handlersMap[r];if(!(null===o||void 0===o?void 0:o.size))return;t.ports[0].postMessage({status:"ack",eventId:n,eventType:r});const s=Array.from(o).map((async e=>e(t.origin,i))),a=await function(e){return Promise.all(e.map((async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}})))}(s);t.ports[0].postMessage({status:"done",eventId:n,eventType:r,response:a})}_subscribe(e,t){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),t&&0!==this.handlersMap[e].size||delete this.handlersMap[e],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}function hL(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,n="";for(let r=0;r<t;r++)n+=Math.floor(10*Math.random());return e+n}dL.receivers=[];class fL{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:50;const r="undefined"!==typeof MessageChannel?new MessageChannel:null;if(!r)throw new Error("connection_unavailable");let i,o;return new Promise(((s,a)=>{const l=hL("",20);r.port1.start();const c=setTimeout((()=>{a(new Error("unsupported_event"))}),n);o={messageChannel:r,onMessage(e){const t=e;if(t.data.eventId===l)switch(t.data.status){case"ack":clearTimeout(c),i=setTimeout((()=>{a(new Error("timeout"))}),3e3);break;case"done":clearTimeout(i),s(t.data.response);break;default:clearTimeout(c),clearTimeout(i),a(new Error("invalid_response"))}}},this.handlers.add(o),r.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:l,data:t},[r.port2])})).finally((()=>{o&&this.removeMessageHandler(o)}))}}function pL(){return window}function mL(){return"undefined"!==typeof pL().WorkerGlobalScope&&"function"===typeof pL().importScripts}const gL="firebaseLocalStorageDb",vL="firebaseLocalStorage",yL="fbase_key";class bL{constructor(e){this.request=e}toPromise(){return new Promise(((e,t)=>{this.request.addEventListener("success",(()=>{e(this.request.result)})),this.request.addEventListener("error",(()=>{t(this.request.error)}))}))}}function wL(e,t){return e.transaction([vL],t?"readwrite":"readonly").objectStore(vL)}function AL(){const e=indexedDB.open(gL,1);return new Promise(((t,n)=>{e.addEventListener("error",(()=>{n(e.error)})),e.addEventListener("upgradeneeded",(()=>{const t=e.result;try{t.createObjectStore(vL,{keyPath:yL})}catch(IU){n(IU)}})),e.addEventListener("success",(async()=>{const n=e.result;n.objectStoreNames.contains(vL)?t(n):(n.close(),await function(){const e=indexedDB.deleteDatabase(gL);return new bL(e).toPromise()}(),t(await AL()))}))}))}async function _L(e,t,n){const r=wL(e,!0).put({[yL]:t,value:n});return new bL(r).toPromise()}function xL(e,t){const n=wL(e,!0).delete(t);return new bL(n).toPromise()}class SL{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then((()=>{}),(()=>{}))}async _openDb(){return this.db||(this.db=await AL()),this.db}async _withRetries(e){let t=0;for(;;)try{const t=await this._openDb();return await e(t)}catch(IU){if(t++>3)throw IU;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return mL()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=dL._getInstance(mL()?self:null),this.receiver._subscribe("keyChanged",(async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)}))),this.receiver._subscribe("ping",(async(e,t)=>["keyChanged"]))}async initializeSender(){var e,t;if(this.activeServiceWorker=await async function(){if(!(null===navigator||void 0===navigator?void 0:navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch(e){return null}}(),!this.activeServiceWorker)return;this.sender=new fL(this.activeServiceWorker);const n=await this.sender._send("ping",{},800);n&&(null===(e=n[0])||void 0===e?void 0:e.fulfilled)&&(null===(t=n[0])||void 0===t?void 0:t.value.includes("keyChanged"))&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(this.sender&&this.activeServiceWorker&&function(){var e;return(null===(e=null===navigator||void 0===navigator?void 0:navigator.serviceWorker)||void 0===e?void 0:e.controller)||null}()===this.activeServiceWorker)try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch(t){}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await AL();return await _L(e,oL,"1"),await xL(e,oL),!0}catch(e){}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite((async()=>(await this._withRetries((n=>_L(n,e,t))),this.localCache[e]=t,this.notifyServiceWorker(e))))}async _get(e){const t=await this._withRetries((t=>async function(e,t){const n=wL(e,!1).get(t),r=await new bL(n).toPromise();return void 0===r?null:r.value}(t,e)));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite((async()=>(await this._withRetries((t=>xL(t,e))),delete this.localCache[e],this.notifyServiceWorker(e))))}async _poll(){const e=await this._withRetries((e=>{const t=wL(e,!1).getAll();return new bL(t).toPromise()}));if(!e)return[];if(0!==this.pendingWrites)return[];const t=[],n=new Set;if(0!==e.length)for(const{fbase_key:r,value:i}of e)n.add(r),JSON.stringify(this.localCache[r])!==JSON.stringify(i)&&(this.notifyListeners(r,i),t.push(r));for(const r of Object.keys(this.localCache))this.localCache[r]&&!n.has(r)&&(this.notifyListeners(r,null),t.push(r));return t}notifyListeners(e,t){this.localCache[e]=t;const n=this.listeners[e];if(n)for(const r of Array.from(n))r(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval((async()=>this._poll()),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&this.stopPolling()}}SL.type="LOCAL";const kL=SL;NR("rcb"),new NP(3e4,6e4);const EL="recaptcha";async function CL(e,t,n){var r;const i=await n.verify();try{let o;if(_P("string"===typeof i,e,"argument-error"),_P(n.type===EL,e,"argument-error"),o="string"===typeof t?{phoneNumber:t}:t,"session"in o){const t=o.session;if("phoneNumber"in o){_P("enroll"===t.type,e,"internal-error");const n=await function(e,t){return RP(e,"POST","/v2/accounts/mfaEnrollment:start",PP(e,t))}(e,{idToken:t.credential,phoneEnrollmentInfo:{phoneNumber:o.phoneNumber,recaptchaToken:i}});return n.phoneSessionInfo.sessionInfo}{_P("signin"===t.type,e,"internal-error");const n=(null===(r=o.multiFactorHint)||void 0===r?void 0:r.uid)||o.multiFactorUid;_P(n,e,"missing-multi-factor-info");const s=await function(e,t){return RP(e,"POST","/v2/accounts/mfaSignIn:start",PP(e,t))}(e,{mfaPendingCredential:t.credential,mfaEnrollmentId:n,phoneSignInInfo:{recaptchaToken:i}});return s.phoneResponseInfo.sessionInfo}}{const{sessionInfo:t}=await async function(e,t){return RP(e,"POST","/v1/accounts:sendVerificationCode",PP(e,t))}(e,{phoneNumber:o.phoneNumber,recaptchaToken:i});return t}}finally{n._reset()}}class TL{constructor(e){this.providerId=TL.PROVIDER_ID,this.auth=kR(e)}verifyPhoneNumber(e,t){return CL(this.auth,e,Jb(t))}static credential(e,t){return HR._fromVerification(e,t)}static credentialFromResult(e){const t=e;return TL.credentialFromTaggedObject(t)}static credentialFromError(e){return TL.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{phoneNumber:n,temporaryProof:r}=t;return n&&r?HR._fromTokenResponse(n,r):null}}function NL(e,t){return t?oR(t):(_P(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}TL.PROVIDER_ID="phone",TL.PHONE_SIGN_IN_METHOD="phone";class OL extends LR{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return FR(e,this._buildIdpRequest())}_linkToIdToken(e,t){return FR(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return FR(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function IL(e){return iL(e.auth,new OL(e),e.bypassAuthState)}function DL(e){const{auth:t,user:n}=e;return _P(n,t,"internal-error"),rL(n,new OL(e),e.bypassAuthState)}async function jL(e){const{auth:t,user:n}=e;return _P(n,t,"internal-error"),nL(n,new OL(e),e.bypassAuthState)}class PL{constructor(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]&&arguments[4];this.auth=e,this.resolver=n,this.user=r,this.bypassAuthState=i,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise((async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(IU){this.reject(IU)}}))}async onAuthEvent(e){const{urlResponse:t,sessionId:n,postBody:r,tenantId:i,error:o,type:s}=e;if(o)return void this.reject(o);const a={auth:this.auth,requestUri:t,sessionId:n,tenantId:i||void 0,postBody:r||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(s)(a))}catch(IU){this.reject(IU)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return IL;case"linkViaPopup":case"linkViaRedirect":return jL;case"reauthViaPopup":case"reauthViaRedirect":return DL;default:vP(this.auth,"internal-error")}}resolve(e){SP(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){SP(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const RL=new NP(2e3,1e4);class LL extends PL{constructor(e,t,n,r,i){super(e,t,r,i),this.provider=n,this.authWindow=null,this.pollId=null,LL.currentPopupAction&&LL.currentPopupAction.cancel(),LL.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return _P(e,this.auth,"internal-error"),e}async onExecution(){SP(1===this.filter.length,"Popup operations only handle one event");const e=hL();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch((e=>{this.reject(e)})),this.resolver._isIframeWebStorageSupported(this.auth,(e=>{e||this.reject(yP(this.auth,"web-storage-unsupported"))})),this.pollUserCancellation()}get eventId(){var e;return(null===(e=this.authWindow)||void 0===e?void 0:e.associatedEvent)||null}cancel(){this.reject(yP(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,LL.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,n;(null===(n=null===(t=this.authWindow)||void 0===t?void 0:t.window)||void 0===n?void 0:n.closed)?this.pollId=window.setTimeout((()=>{this.pollId=null,this.reject(yP(this.auth,"popup-closed-by-user"))}),8e3):this.pollId=window.setTimeout(e,RL.get())};e()}}LL.currentPopupAction=null;const ML="pendingRedirect",BL=new Map;class UL extends PL{constructor(e,t){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,arguments.length>2&&void 0!==arguments[2]&&arguments[2]),this.eventId=null}async execute(){let e=BL.get(this.auth._key());if(!e){try{const t=await async function(e,t){const n=qL(t),r=VL(e);if(!await r._isAvailable())return!1;const i="true"===await r._get(n);return await r._remove(n),i}(this.resolver,this.auth),n=t?await super.execute():null;e=()=>Promise.resolve(n)}catch(IU){e=()=>Promise.reject(IU)}BL.set(this.auth._key(),e)}return this.bypassAuthState||BL.set(this.auth._key(),(()=>Promise.resolve(null))),e()}async onAuthEvent(e){if("signInViaRedirect"===e.type)return super.onAuthEvent(e);if("unknown"!==e.type){if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}else this.resolve(null)}async onExecution(){}cleanUp(){}}function FL(e,t){BL.set(e._key(),t)}function VL(e){return oR(e._redirectPersistence)}function qL(e){return lR(ML,e.config.apiKey,e.name)}async function HL(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(aA(e.app))return Promise.reject(wP(e));const r=kR(e),i=NL(r,t),o=new UL(r,i,n),s=await o.execute();return s&&!n&&(delete s.user._redirectEventId,await r._persistUserIfCurrent(s.user),await r._setRedirectUser(null,t)),s}class zL{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach((n=>{this.isEventForConsumer(e,n)&&(t=!0,this.sendToConsumer(e,n),this.saveEventToCache(e))})),this.hasHandledPotentialRedirect||!function(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return YL(e);default:return!1}}(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var n;if(e.error&&!YL(e)){const r=(null===(n=e.error.code)||void 0===n?void 0:n.split("auth/")[1])||"internal-error";t.onError(yP(this.auth,r))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const n=null===t.eventId||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&n}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(GL(e))}saveEventToCache(e){this.cachedEventUids.add(GL(e)),this.lastProcessedEventTime=Date.now()}}function GL(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter((e=>e)).join("-")}function YL(e){let{type:t,error:n}=e;return"unknown"===t&&(null===n||void 0===n?void 0:n.code)==="auth/".concat("no-auth-event")}const WL=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,KL=/^https?/;async function QL(e){if(e.config.emulator)return;const{authorizedDomains:t}=await async function(e){return RP(e,"GET","/v1/projects",arguments.length>1&&void 0!==arguments[1]?arguments[1]:{})}(e);for(const r of t)try{if(JL(r))return}catch(n){}vP(e,"unauthorized-domain")}function JL(e){const t=kP(),{protocol:n,hostname:r}=new URL(t);if(e.startsWith("chrome-extension://")){const i=new URL(e);return""===i.hostname&&""===r?"chrome-extension:"===n&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):"chrome-extension:"===n&&i.hostname===r}if(!KL.test(n))return!1;if(WL.test(e))return r===e;const i=e.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}const XL=new NP(3e4,6e4);function ZL(){const e=pL().___jsl;if(null===e||void 0===e?void 0:e.H)for(const t of Object.keys(e.H))if(e.H[t].r=e.H[t].r||[],e.H[t].L=e.H[t].L||[],e.H[t].r=[...e.H[t].L],e.CP)for(let n=0;n<e.CP.length;n++)e.CP[n]=null}function $L(e){return new Promise(((t,n)=>{var r,i,o;function s(){ZL(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{ZL(),n(yP(e,"network-request-failed"))},timeout:XL.get()})}if(null===(i=null===(r=pL().gapi)||void 0===r?void 0:r.iframes)||void 0===i?void 0:i.Iframe)t(gapi.iframes.getContext());else{if(!(null===(o=pL().gapi)||void 0===o?void 0:o.load)){const t=NR("iframefcb");return pL()[t]=()=>{gapi.load?s():n(yP(e,"network-request-failed"))},TR("".concat(CR.gapiScript,"?onload=").concat(t)).catch((e=>n(e)))}s()}})).catch((e=>{throw eM=null,e}))}let eM=null;const tM=new NP(5e3,15e3),nM="__/auth/iframe",rM="emulator/auth/iframe",iM={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},oM=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function sM(e){const t=e.config;_P(t.authDomain,e,"auth-domain-config-required");const n=t.emulator?OP(t,rM):"https://".concat(e.config.authDomain,"/").concat(nM),r={apiKey:t.apiKey,appName:e.name,v:uA},i=oM.get(e.config.apiHost);i&&(r.eid=i);const o=e._getFrameworks();return o.length&&(r.fw=o.join(",")),"".concat(n,"?").concat(Gb(r).slice(1))}async function aM(e){const t=await function(e){return eM=eM||$L(e),eM}(e),n=pL().gapi;return _P(n,e,"internal-error"),t.open({where:document.body,url:sM(e),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:iM,dontclear:!0},(t=>new Promise((async(n,r)=>{await t.restyle({setHideOnLeave:!1});const i=yP(e,"network-request-failed"),o=pL().setTimeout((()=>{r(i)}),tM.get());function s(){pL().clearTimeout(o),n(t)}t.ping(s).then(s,(()=>{r(i)}))}))))}const lM={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class cM{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch(IU){}}}function uM(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:500,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:600;const o=Math.max((window.screen.availHeight-i)/2,0).toString(),s=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const l=Object.assign(Object.assign({},lM),{width:r.toString(),height:i.toString(),top:o,left:s}),c=Mb().toLowerCase();n&&(a=fR(c)?"_blank":n),dR(c)&&(t=t||"http://localhost",l.scrollbars="yes");const u=Object.entries(l).reduce(((e,t)=>{let[n,r]=t;return"".concat(e).concat(n,"=").concat(r,",")}),"");if(function(){var e;return yR(arguments.length>0&&void 0!==arguments[0]?arguments[0]:Mb())&&!!(null===(e=window.navigator)||void 0===e?void 0:e.standalone)}(c)&&"_self"!==a)return function(e,t){const n=document.createElement("a");n.href=e,n.target=t;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}(t||"",a),new cM(null);const d=window.open(t||"",a,u);_P(d,e,"popup-blocked");try{d.focus()}catch(IU){}return new cM(d)}const dM="__/auth/handler",hM="emulator/auth/handler",fM=encodeURIComponent("fac");async function pM(e,t,n,r,i,o){_P(e.config.authDomain,e,"auth-domain-config-required"),_P(e.config.apiKey,e,"invalid-api-key");const s={apiKey:e.config.apiKey,appName:e.name,authType:n,redirectUrl:r,v:uA,eventId:i};if(t instanceof YR){t.setDefaultLanguage(e.languageCode),s.providerId=t.providerId||"",function(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}(t.getCustomParameters())||(s.customParameters=JSON.stringify(t.getCustomParameters()));for(const[e,t]of Object.entries(o||{}))s[e]=t}if(t instanceof WR){const e=t.getScopes().filter((e=>""!==e));e.length>0&&(s.scopes=e.join(","))}e.tenantId&&(s.tid=e.tenantId);const a=s;for(const u of Object.keys(a))void 0===a[u]&&delete a[u];const l=await e._getAppCheckToken(),c=l?"#".concat(fM,"=").concat(encodeURIComponent(l)):"";return"".concat(function(e){let{config:t}=e;if(!t.emulator)return"https://".concat(t.authDomain,"/").concat(dM);return OP(t,hM)}(e),"?").concat(Gb(a).slice(1)).concat(c)}const mM="webStorageSupport";const gM=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=uL,this._completeRedirectFn=HL,this._overrideRedirectResult=FL}async _openPopup(e,t,n,r){var i;SP(null===(i=this.eventManagers[e._key()])||void 0===i?void 0:i.manager,"_initialize() not called before _openPopup()");return uM(e,await pM(e,t,n,kP(),r),hL())}async _openRedirect(e,t,n,r){await this._originValidation(e);return function(e){pL().location.href=e}(await pM(e,t,n,kP(),r)),new Promise((()=>{}))}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:e,promise:n}=this.eventManagers[t];return e?Promise.resolve(e):(SP(n,"If manager is not set, promise should be"),n)}const n=this.initAndGetManager(e);return this.eventManagers[t]={promise:n},n.catch((()=>{delete this.eventManagers[t]})),n}async initAndGetManager(e){const t=await aM(e),n=new zL(e);return t.register("authEvent",(t=>{_P(null===t||void 0===t?void 0:t.authEvent,e,"invalid-auth-event");return{status:n.onEvent(t.authEvent)?"ACK":"ERROR"}}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:n},this.iframes[e._key()]=t,n}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(mM,{type:mM},(n=>{var r;const i=null===(r=null===n||void 0===n?void 0:n[0])||void 0===r?void 0:r[mM];void 0!==i&&t(!!i),vP(e,"internal-error")}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=QL(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return wR()||hR()||yR()}};var vM="@firebase/auth",yM="1.7.1";class bM{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}async getToken(e){if(this.assertAuthConfigured(),await this.auth._initializationPromise,!this.auth.currentUser)return null;return{accessToken:await this.auth.currentUser.getIdToken(e)}}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged((t=>{e((null===t||void 0===t?void 0:t.stsTokenManager.accessToken)||null)}));this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){_P(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}const wM=Pb("authIdTokenMaxAge")||300;let AM=null;var _M;!function(e){CR=e}({loadJS:e=>new Promise(((t,n)=>{const r=document.createElement("script");r.setAttribute("src",e),r.onload=t,r.onerror=e=>{const t=yP("internal-error");t.customData=e,n(t)},r.type="text/javascript",r.charset="UTF-8",function(){var e,t;return null!==(t=null===(e=document.getElementsByTagName("head"))||void 0===e?void 0:e[0])&&void 0!==t?t:document}().appendChild(r)})),gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="}),_M="Browser",oA(new Xb("auth",((e,t)=>{let{options:n}=t;const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:s,authDomain:a}=r.options;_P(s&&!s.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:s,authDomain:a,clientPlatform:_M,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:AR(_M)},c=new SR(r,i,o,l);return function(e,t){const n=(null===t||void 0===t?void 0:t.persistence)||[],r=(Array.isArray(n)?n:[n]).map(oR);(null===t||void 0===t?void 0:t.errorMap)&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(r,null===t||void 0===t?void 0:t.popupRedirectResolver)}(c,n),c}),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback(((e,t,n)=>{e.getProvider("auth-internal").initialize()}))),oA(new Xb("auth-internal",(e=>(e=>new bM(e))(kR(e.getProvider("auth").getImmediate()))),"PRIVATE").setInstantiationMode("EXPLICIT")),fA(vM,yM,function(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}(_M)),fA(vM,yM,"esm2017");const xM="firebasestorage.googleapis.com",SM="storageBucket";class kM extends Fb{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;super(TM(e),"Firebase Storage: ".concat(t," (").concat(TM(e),")")),this.status_=n,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,kM.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return TM(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message="".concat(this._baseMessage,"\n").concat(this.customData.serverResponse):this.message=this._baseMessage}}var EM,CM;function TM(e){return"storage/"+e}function NM(){return new kM(EM.UNKNOWN,"An unknown error occurred, please check the error payload for server response.")}function OM(){return new kM(EM.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function IM(){return new kM(EM.CANCELED,"User canceled the upload/download.")}function DM(e){return new kM(EM.INVALID_ARGUMENT,e)}function jM(){return new kM(EM.APP_DELETED,"The Firebase app was deleted.")}!function(e){e.UNKNOWN="unknown",e.OBJECT_NOT_FOUND="object-not-found",e.BUCKET_NOT_FOUND="bucket-not-found",e.PROJECT_NOT_FOUND="project-not-found",e.QUOTA_EXCEEDED="quota-exceeded",e.UNAUTHENTICATED="unauthenticated",e.UNAUTHORIZED="unauthorized",e.UNAUTHORIZED_APP="unauthorized-app",e.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",e.INVALID_CHECKSUM="invalid-checksum",e.CANCELED="canceled",e.INVALID_EVENT_NAME="invalid-event-name",e.INVALID_URL="invalid-url",e.INVALID_DEFAULT_BUCKET="invalid-default-bucket",e.NO_DEFAULT_BUCKET="no-default-bucket",e.CANNOT_SLICE_BLOB="cannot-slice-blob",e.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",e.NO_DOWNLOAD_URL="no-download-url",e.INVALID_ARGUMENT="invalid-argument",e.INVALID_ARGUMENT_COUNT="invalid-argument-count",e.APP_DELETED="app-deleted",e.INVALID_ROOT_OPERATION="invalid-root-operation",e.INVALID_FORMAT="invalid-format",e.INTERNAL_ERROR="internal-error",e.UNSUPPORTED_ENVIRONMENT="unsupported-environment"}(EM||(EM={}));class PM{constructor(e,t){this.bucket=e,this.path_=t}get path(){return this.path_}get isRoot(){return 0===this.path.length}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,t){let n;try{n=PM.makeFromUrl(e,t)}catch(IU){return new PM(e,"")}if(""===n.path)return n;throw r=e,new kM(EM.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+r+"'.");var r}static makeFromUrl(e,t){let n=null;const r="([A-Za-z0-9.\\-_]+)";const i=new RegExp("^gs://"+r+"(/(.*))?$","i");function o(e){e.path_=decodeURIComponent(e.path)}const s=t.replace(/[.]/g,"\\."),a=[{regex:i,indices:{bucket:1,path:3},postModify:function(e){"/"===e.path.charAt(e.path.length-1)&&(e.path_=e.path_.slice(0,-1))}},{regex:new RegExp("^https?://".concat(s,"/").concat("v[A-Za-z0-9_]+","/b/").concat(r,"/o").concat("(/([^?#]*).*)?$"),"i"),indices:{bucket:1,path:3},postModify:o},{regex:new RegExp("^https?://".concat(t===xM?"(?:storage.googleapis.com|storage.cloud.google.com)":t,"/").concat(r,"/").concat("([^?#]*)"),"i"),indices:{bucket:1,path:2},postModify:o}];for(let l=0;l<a.length;l++){const t=a[l],r=t.regex.exec(e);if(r){const e=r[t.indices.bucket];let i=r[t.indices.path];i||(i=""),n=new PM(e,i),t.postModify(n);break}}if(null==n)throw function(e){return new kM(EM.INVALID_URL,"Invalid URL '"+e+"'.")}(e);return n}}class RM{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(){}}function LM(e,t,n,r){if(r<t)throw DM("Invalid value for '".concat(e,"'. Expected ").concat(t," or greater."));if(r>n)throw DM("Invalid value for '".concat(e,"'. Expected ").concat(n," or less."))}function MM(e){const t=encodeURIComponent;let n="?";for(const r in e)if(e.hasOwnProperty(r)){n=n+(t(r)+"="+t(e[r]))+"&"}return n=n.slice(0,-1),n}function BM(e,t){const n=e>=500&&e<600,r=-1!==[408,429].indexOf(e),i=-1!==t.indexOf(e);return n||r||i}!function(e){e[e.NO_ERROR=0]="NO_ERROR",e[e.NETWORK_ERROR=1]="NETWORK_ERROR",e[e.ABORT=2]="ABORT"}(CM||(CM={}));class UM{constructor(e,t,n,r,i,o,s,a,l,c,u){let d=!(arguments.length>11&&void 0!==arguments[11])||arguments[11];this.url_=e,this.method_=t,this.headers_=n,this.body_=r,this.successCodes_=i,this.additionalRetryCodes_=o,this.callback_=s,this.errorCallback_=a,this.timeout_=l,this.progressCallback_=c,this.connectionFactory_=u,this.retry=d,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise(((e,t)=>{this.resolve_=e,this.reject_=t,this.start_()}))}start_(){const e=(e,t)=>{if(t)return void e(!1,new FM(!1,null,!0));const n=this.connectionFactory_();this.pendingConnection_=n;const r=e=>{const t=e.loaded,n=e.lengthComputable?e.total:-1;null!==this.progressCallback_&&this.progressCallback_(t,n)};null!==this.progressCallback_&&n.addUploadProgressListener(r),n.send(this.url_,this.method_,this.body_,this.headers_).then((()=>{null!==this.progressCallback_&&n.removeUploadProgressListener(r),this.pendingConnection_=null;const t=n.getErrorCode()===CM.NO_ERROR,i=n.getStatus();if(!t||BM(i,this.additionalRetryCodes_)&&this.retry){const t=n.getErrorCode()===CM.ABORT;return void e(!1,new FM(!1,null,t))}const o=-1!==this.successCodes_.indexOf(i);e(!0,new FM(o,n))}))},t=(e,t)=>{const n=this.resolve_,r=this.reject_,i=t.connection;if(t.wasSuccessCode)try{const e=this.callback_(i,i.getResponse());!function(e){return void 0!==e}(e)?n():n(e)}catch(IU){r(IU)}else if(null!==i){const e=NM();e.serverResponse=i.getErrorText(),this.errorCallback_?r(this.errorCallback_(i,e)):r(e)}else if(t.canceled){r(this.appDelete_?jM():IM())}else{r(OM())}};this.canceled_?t(0,new FM(!1,null,!0)):this.backoffId_=function(e,t,n){let r=1,i=null,o=null,s=!1,a=0;function l(){return 2===a}let c=!1;function u(){if(!c){c=!0;for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];t.apply(null,n)}}function d(t){i=setTimeout((()=>{i=null,e(f,l())}),t)}function h(){o&&clearTimeout(o)}function f(e){if(c)return void h();for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];if(e)return h(),void u.call(null,e,...n);if(l()||s)return h(),void u.call(null,e,...n);let o;r<64&&(r*=2),1===a?(a=2,o=0):o=1e3*(r+Math.random()),d(o)}let p=!1;function m(e){p||(p=!0,h(),c||(null!==i?(e||(a=2),clearTimeout(i),d(0)):e||(a=1)))}return d(0),o=setTimeout((()=>{s=!0,m(!0)}),n),m}(e,t,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,null!==this.backoffId_&&function(e){e(!1)}(this.backoffId_),null!==this.pendingConnection_&&this.pendingConnection_.abort()}}class FM{constructor(e,t,n){this.wasSuccessCode=e,this.connection=t,this.canceled=!!n}}function VM(e){const t=e.lastIndexOf("/",e.length-2);return-1===t?e:e.slice(t+1)}class qM{constructor(e,t){this._service=e,this._location=t instanceof PM?t:PM.makeFromUrl(t,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,t){return new qM(e,t)}get root(){const e=new PM(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return VM(this._location.path)}get storage(){return this._service}get parent(){const e=function(e){if(0===e.length)return null;const t=e.lastIndexOf("/");return-1===t?"":e.slice(0,t)}(this._location.path);if(null===e)return null;const t=new PM(this._location.bucket,e);return new qM(this._service,t)}_throwIfRoot(e){if(""===this._location.path)throw function(e){return new kM(EM.INVALID_ROOT_OPERATION,"The operation '"+e+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}(e)}}function HM(e,t){const n=null===t||void 0===t?void 0:t[SM];return null==n?null:PM.makeFromBucketSpec(n,e)}class zM{constructor(e,t,n,r,i){this.app=e,this._authProvider=t,this._appCheckProvider=n,this._url=r,this._firebaseVersion=i,this._bucket=null,this._host=xM,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=r?PM.makeFromBucketSpec(r,this._host):HM(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,null!=this._url?this._bucket=PM.makeFromBucketSpec(this._url,e):this._bucket=HM(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){LM("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){LM("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const t=await e.getToken();if(null!==t)return t.accessToken}return null}async _getAppCheckToken(){const e=this._appCheckProvider.getImmediate({optional:!0});if(e){return(await e.getToken()).token}return null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach((e=>e.cancel())),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new qM(this,e)}_makeRequest(e,t,n,r){let i=!(arguments.length>4&&void 0!==arguments[4])||arguments[4];if(this._deleted)return new RM(jM());{const o=function(e,t,n,r,i,o){let s=!(arguments.length>6&&void 0!==arguments[6])||arguments[6];const a=MM(e.urlParams),l=e.url+a,c=Object.assign({},e.headers);return function(e,t){t&&(e["X-Firebase-GMPID"]=t)}(c,t),function(e,t){null!==t&&t.length>0&&(e.Authorization="Firebase "+t)}(c,n),function(e,t){e["X-Firebase-Storage-Version"]="webjs/"+(null!==t&&void 0!==t?t:"AppManager")}(c,o),function(e,t){null!==t&&(e["X-Firebase-AppCheck"]=t)}(c,r),new UM(l,e.method,c,e.body,e.successCodes,e.additionalRetryCodes,e.handler,e.errorHandler,e.timeout,e.progressCallback,i,s)}(e,this._appId,n,r,t,this._firebaseVersion,i);return this._requests.add(o),o.getPromise().then((()=>this._requests.delete(o)),(()=>this._requests.delete(o))),o}}async makeRequestWithTokens(e,t){const[n,r]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,t,n,r).getPromise()}}const GM="@firebase/storage",YM="0.12.4",WM="storage";function KM(e,t){let{instanceIdentifier:n}=t;const r=e.getProvider("app").getImmediate(),i=e.getProvider("auth-internal"),o=e.getProvider("app-check-internal");return new zM(r,i,o,n,uA)}oA(new Xb(WM,KM,"PUBLIC").setMultipleInstances(!0)),fA(GM,YM,""),fA(GM,YM,"esm2017");const QM=dA({apiKey:"AIzaSyBjXPtl_zln7-TurobN_OYx1Ep5JtpDK-k",authDomain:"jagarepic-99cab.firebaseapp.com",projectId:"jagarepic-99cab",storageBucket:"jagarepic-99cab.appspot.com",messagingSenderId:"406524797766",appId:"1:406524797766:web:dca80800e0e2a1c0fdbb47",measurementId:"G-KWKE2MK5HD"}),JM=function(e,t){const n="string"==typeof e?e:t||"(default)",r=sA("object"==typeof e?e:hA(),"firestore").getImmediate({identifier:n});if(!r._initialized){const e=Db("firestore");e&&function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};var i;const o=(e=ej(e,nj))._getSettings(),s="".concat(t,":").concat(n);if("firestore.googleapis.com"!==o.host&&o.host!==s&&Zk("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),e._setSettings(Object.assign(Object.assign({},o),{host:s,ssl:!1})),r.mockUserToken){let t,n;if("string"==typeof r.mockUserToken)t=r.mockUserToken,n=Yk.MOCK_USER;else{t=Lb(r.mockUserToken,null===(i=e._app)||void 0===i?void 0:i.options.projectId);const o=r.mockUserToken.sub||r.mockUserToken.user_id;if(!o)throw new iE(rE.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");n=new Yk(o)}e._authCredentials=new lE(new sE(t,n))}}(r,...e)}return r}(QM);(function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:hA();const t=sA(e,"auth");if(t.isInitialized())return t.getImmediate();const n=function(e,t){const n=sA(e,"auth");if(n.isInitialized()){const e=n.getImmediate();if(Hb(n.getOptions(),null!==t&&void 0!==t?t:{}))return e;vP(e,"already-initialized")}return n.initialize({options:t})}(e,{popupRedirectResolver:gM,persistence:[kL,lL,uL]}),r=Pb("authTokenSyncURL");if(r&&"boolean"===typeof isSecureContext&&isSecureContext){const e=new URL(r,location.origin);if(location.origin===e.origin){const t=(i=e.toString(),async e=>{const t=e&&await e.getIdTokenResult(),n=t&&((new Date).getTime()-Date.parse(t.issuedAtTime))/1e3;if(n&&n>wM)return;const r=null===t||void 0===t?void 0:t.token;AM!==r&&(AM=r,await fetch(i,{method:r?"POST":"DELETE",headers:r?{Authorization:"Bearer ".concat(r)}:{}}))});!function(e,t,n){Jb(e).beforeAuthStateChanged(t,n)}(n,t,(()=>t(n.currentUser))),function(e,t,n,r){Jb(e).onIdTokenChanged(t,n,r)}(n,(e=>t(e)))}}var i;const o=Ib("auth");o&&jR(n,"http://".concat(o))})(QM),function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:hA(),t=arguments.length>1?arguments[1]:void 0;e=Jb(e);const n=sA(e,WM).getImmediate({identifier:t}),r=Db("storage");r&&function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};!function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};e.host="".concat(t,":").concat(n),e._protocol="http";const{mockUserToken:i}=r;i&&(e._overrideAuthToken="string"===typeof i?i:Lb(i,e.app.options.projectId))}(e,t,n,r)}(n,...r)}(QM);const XM=function(){var e;const{currentUser:t,logout:n}=(0,i.useContext)(Xr),[r,o]=wb(xb),s=t&&1===t.role,a=t&&2===t.role,l=t&&0===t.role;(0,i.useEffect)((()=>{if(t&&null!==t&&void 0!==t&&t.id){const e=sj(JM,"Chats"),n=function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i,o,s;e=Jb(e);let a={includeMetadataChanges:!1,source:"default"},l=0;"object"!=typeof n[l]||cj(n[l])||(a=n[l],l++);const c={includeMetadataChanges:a.includeMetadataChanges,source:a.source};if(cj(n[l])){const e=n[l];n[l]=null===(i=e.next)||void 0===i?void 0:i.bind(e),n[l+1]=null===(o=e.error)||void 0===o?void 0:o.bind(e),n[l+2]=null===(s=e.complete)||void 0===s?void 0:s.bind(e)}let u,d,h;if(e instanceof ij)d=ej(e.firestore,uj),h=uT(e._key.path),u={next:t=>{n[l]&&n[l](cP(d,e,t))},error:n[l+1],complete:n[l+2]};else{const t=ej(e,rj);d=ej(t.firestore,uj),h=t._query;const r=new sP(d);u={next:e=>{n[l]&&n[l](new iP(d,r,t,e))},error:n[l+1],complete:n[l+2]},Hj(e._query)}return function(e,t,n,r){const i=new UD(r),o=new aD(t,i,n);return e.asyncQueue.enqueueAndForget((async()=>eD(await WD(e),o))),()=>{i.Qa(),e.asyncQueue.enqueueAndForget((async()=>tD(await WD(e),o)))}}(dj(d),h,c,u)}(Yj(e,Kj(l?"receiverId":"senderId","==",t.id)),(e=>{e.docChanges().forEach(((e,t,n)=>{const{type:r,doc:i}=e;"added"===r&&o((e=>[...e,{...i.data(),id:i.id}].filter(((e,t,n)=>t===n.findIndex((t=>t.id===e.id)))))),"removed"===r&&o((e=>e.filter((e=>e.id!==i.id)))),"modified"===r&&o((e=>e.map((e=>e.id===i.id?{...e,...i.data()}:e))))}))}));return n}}),[t,l,o]);const c=t&&(null===(e=r.filter((e=>e.receiverId===t.id&&e.conversation.find((e=>!e.isSeen&&e.senderId!==t.id)))))||void 0===e?void 0:e.length);return(0,Nr.jsxs)(ul,{collapseOnSelect:!0,expand:"lg",className:"bg-dark navbar-dark",children:[(0,Nr.jsxs)(Fr,{children:[(0,Nr.jsx)(ul.Brand,{children:(0,Nr.jsx)(Dt,{to:"/",children:(0,Nr.jsx)("img",{src:ea,alt:"",className:"imgClass"})})}),(0,Nr.jsx)(ul.Toggle,{"aria-controls":"responsive-navbar-nav"}),(0,Nr.jsx)(ul.Collapse,{id:"responsive-navbar-nav",children:(0,Nr.jsxs)(Dl,{className:"ms-auto navClass",children:[(0,Nr.jsxs)(ud,{title:"NYHETER",id:"collapsible-nav-dropdown",children:[(0,Nr.jsx)(ud.Item,{className:"item",children:(0,Nr.jsx)(Dt,{to:"/",className:"nav-link itemClass",children:"alla nyheter"})}),(0,Nr.jsx)(ud.Item,{className:"item",children:(0,Nr.jsx)(Dt,{to:"/?cat=open",className:"nav-link itemClass",children:"\xd6ppen"})}),(0,Nr.jsx)(ud.Item,{className:"item",children:(0,Nr.jsx)(Dt,{to:"/?cat=riks",className:"nav-link itemClass",children:"RIKS"})}),(0,Nr.jsx)(ud.Item,{className:"item",children:(0,Nr.jsx)(Dt,{to:"/?cat=lans",className:"nav-link itemClass",children:"L\xc4NS"})}),(0,Nr.jsx)(ud,{title:"KRETSAR",id:"kretsar-dropdown",className:"item",children:["StockholmCentrala","Hallstavik","HaningeTyres\xf6","Liding\xf6","M\xe4lar\xf6","Norrort","Norrt\xe4ljeNorra","Norrt\xe4ljeS\xf6dra","Nyn\xe4shamn","Rimbo","SolnaSundbyberg","S\xf6derort","S\xf6dert\xe4lje","UpplandsBro","Wermd\xf6Nacka","V\xe4sbySollentunaJ\xe4rf\xe4lla","V\xe4sterort","\xd6ster\xe5kerVaxholm"].map(((e,t)=>(0,Nr.jsx)(ud.Item,{children:(0,Nr.jsx)(Dt,{to:"/?cat=".concat(e),className:"nav-link itemClass2",children:e})},t)))})]}),(0,Nr.jsx)(Dt,{to:"/?cat=aktiviteter",className:"nav-link",children:"AKTIVITETER"}),t?(0,Nr.jsxs)(Nr.Fragment,{children:[(0,Nr.jsxs)(Dt,{to:"/profile",className:"nav-link",children:[null===t||void 0===t?void 0:t.username," Profil"]}),!s&&(0,Nr.jsxs)(Dt,{to:"/messages",className:"nav-link",style:{position:"relative"},children:["meddelande",!!c&&(0,Nr.jsx)("span",{style:{minWidth:24,minHeight:24,backgroundColor:"#664d03",borderRadius:"50%",position:"absolute",top:5,right:5,color:"white",textAlign:"center"},children:c})]}),(0,Nr.jsx)(Dt,{className:"nav-link",onClick:n,to:"/",children:"LoggaUt"})]}):(0,Nr.jsx)(Dt,{className:"nav-link",to:"/login",children:"loggaIN"}),t&&(1===t.role||2===t.role)&&(0,Nr.jsx)(Dt,{to:"/write",className:"nav-link write",children:"Skriva"})]})})]}),s&&(0,Nr.jsxs)(Dt,{to:"/panel",className:"linkClass",children:[(0,Nr.jsx)("img",{src:ma,alt:"",className:"adClass"}),(0,Nr.jsx)("h6",{children:"Adminpanel"})]}),a&&(0,Nr.jsxs)(Dt,{to:"/moderatorPanel",className:"linkClass",children:[(0,Nr.jsx)("img",{src:ga,alt:"",className:"adClass"}),(0,Nr.jsx)("h6",{children:"Moderator"})]})]})},ZM=["active","eventKey","mountOnEnter","transition","unmountOnExit","role","onEnter","onEntering","onEntered","onExit","onExiting","onExited"],$M=["activeKey","getControlledId","getControllerId"],eB=["as"];function tB(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}function nB(e){let{active:t,eventKey:n,mountOnEnter:r,transition:o,unmountOnExit:s,role:a="tabpanel",onEnter:l,onEntering:c,onEntered:u,onExit:d,onExiting:h,onExited:f}=e,p=tB(e,ZM);const m=(0,i.useContext)(pl);if(!m)return[Object.assign({},p,{role:a}),{eventKey:n,isActive:t,mountOnEnter:r,transition:o,unmountOnExit:s,onEnter:l,onEntering:c,onEntered:u,onExit:d,onExiting:h,onExited:f}];const{activeKey:g,getControlledId:v,getControllerId:y}=m,b=tB(m,$M),w=va(n);return[Object.assign({},p,{role:a,id:v(n),"aria-labelledby":y(n)}),{eventKey:n,isActive:null==t&&null!=w?va(g)===w:t,transition:o||b.transition,mountOnEnter:null!=r?r:b.mountOnEnter,unmountOnExit:null!=s?s:b.unmountOnExit,onEnter:l,onEntering:c,onEntered:u,onExit:d,onExiting:h,onExited:f}]}const rB=i.forwardRef(((e,t)=>{let{as:n="div"}=e,r=tB(e,eB);const[i,{isActive:o,onEnter:s,onEntering:a,onEntered:l,onExit:c,onExiting:u,onExited:d,mountOnEnter:h,unmountOnExit:f,transition:p=us}]=nB(r);return(0,Nr.jsx)(pl.Provider,{value:null,children:(0,Nr.jsx)(ya.Provider,{value:null,children:(0,Nr.jsx)(p,{in:o,onEnter:s,onEntering:a,onEntered:l,onExit:c,onExiting:u,onExited:d,mountOnEnter:h,unmountOnExit:f,children:(0,Nr.jsx)(n,Object.assign({},i,{ref:t,hidden:!o,"aria-hidden":!o}))})})})}));rB.displayName="TabPanel";const iB=e=>{const{id:t,generateChildId:n,onSelect:r,activeKey:o,defaultActiveKey:s,transition:a,mountOnEnter:l,unmountOnExit:c,children:u}=e,[d,h]=jl(o,s,r),f=Cu(t),p=(0,i.useMemo)((()=>n||((e,t)=>f?"".concat(f,"-").concat(t,"-").concat(e):null)),[f,n]),m=(0,i.useMemo)((()=>({onSelect:h,activeKey:d,transition:a,mountOnEnter:l||!1,unmountOnExit:c||!1,getControlledId:e=>p(e,"tabpane"),getControllerId:e=>p(e,"tab")})),[h,d,a,l,c,p]);return(0,Nr.jsx)(pl.Provider,{value:m,children:(0,Nr.jsx)(ya.Provider,{value:h||null,children:u})})};iB.Panel=rB;const oB=iB;function sB(e){return"boolean"===typeof e?e?Io:us:e}const aB=e=>{let{transition:t,...n}=e;return(0,Nr.jsx)(oB,{...n,transition:sB(t)})};aB.displayName="TabContainer";const lB=aB,cB=i.forwardRef(((e,t)=>{let{className:n,bsPrefix:r,as:i="div",...o}=e;return r=Rr(r,"tab-content"),(0,Nr.jsx)(i,{ref:t,className:Tr()(n,r),...o})}));cB.displayName="TabContent";const uB=cB,dB=i.forwardRef(((e,t)=>{let{bsPrefix:n,transition:r,...i}=e;const[{className:o,as:s="div",...a},{isActive:l,onEnter:c,onEntering:u,onEntered:d,onExit:h,onExiting:f,onExited:p,mountOnEnter:m,unmountOnExit:g,transition:v=Io}]=nB({...i,transition:sB(r)}),y=Rr(n,"tab-pane");return(0,Nr.jsx)(pl.Provider,{value:null,children:(0,Nr.jsx)(ya.Provider,{value:null,children:(0,Nr.jsx)(v,{in:l,onEnter:c,onEntering:u,onEntered:d,onExit:h,onExiting:f,onExited:p,mountOnEnter:m,unmountOnExit:g,children:(0,Nr.jsx)(s,{...a,ref:t,className:Tr()(o,y,l&&"active")})})})})}));dB.displayName="TabPane";const hB=dB,fB={eventKey:Bo().oneOfType([Bo().string,Bo().number]),title:Bo().node.isRequired,disabled:Bo().bool,tabClassName:Bo().string,tabAttrs:Bo().object},pB=()=>{throw new Error("ReactBootstrap: The `Tab` component is not meant to be rendered! It's an abstract component that is only valid as a direct Child of the `Tabs` Component. For custom tabs components use TabPane and TabsContainer directly")};pB.propTypes=fB;const mB=Object.assign(pB,{Container:lB,Content:uB,Pane:hB}),gB=i.forwardRef(((e,t)=>{let{bsPrefix:n,active:r,disabled:i,eventKey:o,className:s,variant:a,action:l,as:c,...u}=e;n=Rr(n,"list-group-item");const[d,h]=gl({key:va(o,u.href),active:r,...u}),f=Lo((e=>{if(i)return e.preventDefault(),void e.stopPropagation();d.onClick(e)}));i&&void 0===u.tabIndex&&(u.tabIndex=-1,u["aria-disabled"]=!0);const p=c||(l?u.href?"a":"button":"div");return(0,Nr.jsx)(p,{ref:t,...u,...d,onClick:f,className:Tr()(s,n,h.isActive&&"active",i&&"disabled",a&&"".concat(n,"-").concat(a),l&&"".concat(n,"-action"))})}));gB.displayName="ListGroupItem";const vB=gB,yB=i.forwardRef(((e,t)=>{const{className:n,bsPrefix:r,variant:i,horizontal:o,numbered:s,as:a="div",...l}=_a(e,{activeKey:"onSelect"}),c=Rr(r,"list-group");let u;return o&&(u=!0===o?"horizontal":"horizontal-".concat(o)),(0,Nr.jsx)(xl,{ref:t,...l,as:a,className:Tr()(n,c,i&&"".concat(c,"-").concat(i),u&&"".concat(c,"-").concat(u),s&&"".concat(c,"-numbered"))})}));yB.displayName="ListGroup";const bB=Object.assign(yB,{Item:vB}),wB="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAgAAAAIACAYAAAD0eNT6AAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAAOxAAADsQBlSsOGwAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAACAASURBVHic7d19sGd1Yd/x9+5elodlFxANElBAEIpisFGjFiJqVBKjlpQxEWusdRKncayOabXTmHSmaZOJtp0kNTGJjo6T2vrUmAcbK/UBiQ/xoRpRC4KKiAZFHmR3WZZddvf2j3MvLvdpf/f+fud8vt/zfb9mziT/yPf7vXvP+b1/3/O75weSJEmSJEmSJEmSJEmSJEmSJEmSJEmSJEmSJEmSJEmSJEmSJEmSJEmSJEmSJEmSJEmSJEmSJEmSJEmSJEmSJEmSJEmSJEmSJEmSJEmSJEmSJEmSJEmSJEmSJEmSJEmSJEmSJEmSJEmSJEmSJEmSpNHalJ6ANCLbgEcB5wMnAw867P9uDs6rRoeAOxaOOxf+73XAtcA9wXlJo2EASBt3PnApcAnwGOAsfKHv2yHgRuAa4OPAB4HrozOSJI3eJroX+7cANwPzHkUc3wT+GHgKvqmRJM3QacCvA18n/2LnsfZxPfBvgIeu+C8pSdIEzgB+H9hL/oXNY33HfuBPgbOX/atKkrSK04G30r2IpF/IPKY79gFvotvFkSRpRXPAq4Bd5F+4PGZ77KG7NbAFSZIO83jgC+RfqDz6PT4DXIgkScDL6LaK0y9OHsMc99HtBkiSGrUDeA/5FySPzPHnwAlIkpryCOBr5F+EPLLHtXQPcJIkNeDRwHfIv/h4lHF8l+5JjpKkEbsY+AH5Fx2Pso7bgScgNcTHZqoljwOuAranJ6Ii7QaeBnw+PRFpCAaAWnEO8AnglPREVLTbgIvoPh8ijZoBoBacCnwKODM8D9XheroIuCM9EalPfnWpxm4OeBe++Gty5wF/hk8N1Mj5C66x+4/Ai9KTUHXOBA4CV4fnIfXGWwAas58G/hp3urQxB+k+FPjx9ESkPhgAGqsddA958VvgNI1v0z03Ynd6ItKseQtAY/UG4JnpSah6JwBHAR9KT0SaNXcANEaPo/vWNwNXs3AA+HHgy+mJSLPkvVGN0RvxxV+zMwf8bnoS0qwZABqbS4Enpyeh0fmphUMaDQNAY/O69AQ0Wv82PQFplvwMgMbk6cBH0pPQqD2J7vMlUvXcAdCYvDI9AY3ea9MTkGbFHQCNxY8A36H7ky2pLwfoni3x/fREpGm5A6CxeDG++Kt/c8Dz05OQZsEA0Fi8JD0BNcPvltAoeAtAY3AWcGN6EmrGPHA28M30RKRpuAOgMbg0PQE1ZRM+E0AjYABoDHzmv4b21PQEpGl5C0C12wzcAZyYnsgSPwCuBG4AbqX79LgmNwecApwHPAs4KTudZW7Bb5qUpKiz6e7JlnJ8HXgB3QuYZmMOuAL4Bvl/38OPc/pctCRpbZeRfyFYPN4JHNvvcpt2NPB28v/Oi8dze12t1DM/A6DaXZCewII30r1L3ZueyIjto/tzzz8Iz2PReekJSFLL3kn+neBH8euHhzQHfIz8v/ube16nJGkNHyP7InCAcnYhWvJjwEGy//ZX9b5KqUfeAlDtHhQe/6+Ar4Tn0KIvAe8Pz+Hk8PjSVAwA1e7B4fHfFx6/ZX8eHn97eHxpKgaAapf++/DPhsdv2afD4xsAqpoPAlLt5sPjbwfuDs+hVccDu4Pj76f700SpSgaAapcOAM+hLP/9pQ3yFoAkSQ0yACRJapABIElSgwwASZIaZABIktQgA0CSpAYZAJIkNcgAkCSpQQaAJEkNMgAkSWqQASBJUoMMAEmSGmQASJLUIANAkqQGGQCSJDXIAJAkqUEGgCRJDTIAJElqkAEgSVKDDABJkho0l57AwLYBFwEXAmcCJwJHJSe0hjngZLo5bgO2ApuiM9JK7klPQFHfTk+gUPuBfcBO4HZgb3Y6q7oPuAu4Cfgi8EkaOqdbeEHZBFwKvAz4WboXUkmSltoHfAD4E+DK8Fx6N/YAeDLwX4HHpyciSarK54B/CXwmPZG+bElPoCdzwG8DbwVOC89FklSf04CXAgeAT4Tn0osx7gAcB7wXeHZ6IpKkUXgP8M8Z2ecDxhYAW4G/orvnL0nSrHwQeA5wMD2RWRnbLYA3A89PT0KSNDrnAEcDH05PZFbGtAPw88C705OQJI3aP6bbaa7eWAJgO3A9cGp6IpKkUbsBuIDuGQJVG8uTAH8FX/wlSf07F/il9CRmYQw7AJvpnuL0sPA8JElt+BbwCOBQeiLTGMMOwFPwxV+SNJwz6B4rX7UxBMCz0hOQJDWn+teeMQTAE9MTkCQ150npCUxrDAHwyPQEJEnNOTc9gWmNIQBOTk9AktSc6l97xhAAR6cnIElqTvWvPWMIgD3pCUiSmnN3egLTGkMA3JKegCSpOX+fnsC0xhAA16YnIElqznXpCUxrDAHw8fQEJEnNuTo9gWmN4VHAZwNfYxxrkSSVb57uUcA3hecxlTHsAHwDdwEkScO5mspf/GEcAQDwhvQEJEnN+J30BGZhTNvmHwGenp6EJGnUPgw8Mz2JWRhTAJwDfA44MT0RSdIo3Qk8AbgxPZFZGMstAICvAz8PHEhPRJI0OgeBFzGSF3+ALekJzNiNwB3AsxnX7oYkKWceeAXwzvREZmmsL5I/C/wPYEd6IpKkqt0N/DPgfemJzNpYAwDgQuAdwAXpiUiSqnQd8ALgS+mJ9GFMnwFY6hrgscBLge+E5yJJqsd3gV+leyM5yhd/GPcOwOGOAZ4HPB94GiP4HmdJ0kzdAXwUeC/wfuDe7HT610oAHG4T8DDgLOAEhv1O5ycDrx5wvJV8me7vWNdyLNPtDs0x/c/1uB7nsHXhvz/H2h+EnXYNW4CjpvxvTDuHuYVjGsdM+b/fMoM5qA1/BFw14Hj7gJ3AN4GbBxy3CC0GQNKzgCvDc3gXcEV4DtJ6nTTl//5YpguZTUz/jJES5nAca0flvwLOnXKMaVzOCD9sVyqrfFg/SE+AbtdDqs20504J514N/kV4fP+dBjTmDwGWqIRfbgNA0mrST1K9Kzx+UwyAYRkAkkqWvj4YAAMyAIZ1F90TpZLShS+pTJvIB0AJb5KaYQAM6yCwOzyH9AkuqUzbyT4e/hCwKzh+cwyA4aULdxt++FPScundwV10EaCBGADDS9/j2kRX+pJ0uHQApK+NzTEAhpfeAQBvA0hazgBojAEwPANAUokMgMYYAMMzACSVyABojAEwPANAUokMgMYYAMMr4ZfcAJC0lAHQGANgeCXsAKRPdEnlSb8x2BkevzkGwPBKCID0iS6pPOk3Bu4ADMwAGJ4BIKlE6QAo4drYFANgeCX8khsAkpZKB4A7AAMzAIZnAEgqkQHQGANgeCX8khsAkpYyABpjAAzPHQBJJTIAGmMADG8/cE94DgaApMNtAnaE52AADMwAyEjvAhgAkg63nezXhB8CdgfHb5IBkGEASCpJ+pqwky4CNCADICMdAMeTrX1JZfH+f4MMgIwSftnT9/sklcMAaJABkJHeAYD8lp+kchgADTIAMgwASSUxABpkAGQYAJJKkg6AEq6JzTEAMkr4ZTcAJC1KB4A7AAEGQEYJv+wGgKRF6evBzvD4TTIAMtwBkFQSdwAaZABkGACSSmIANMgAyDAAJJXEAGiQAZBRQgCkT3hJ5UhfDwyAAAMgo4QAcAdA0iIDoEEGQMZeYF94DgaApEUGQIMMgJz0L7wBIGlR+nqQvh42yQDISd8GSJ/wksqwney3gx4EdgfHb5YBkGMASCpBCdv/8+E5NMkAyDEAJJWghABQgAGQkw6AbWS3/SSVwQBolAGQkw4AgB3pCUiKS+8GGgAhBkBOCb/06fKXlJe+DpRwLWySAZBTwg5Auvwl5RkAjTIAcgwASSUwABplAOQYAJJKkL4O7AyP3ywDIMcAkFQCdwAaZQDklPBLbwBIMgAaZQDkuAMgqQTpACjhWtgkAyCnhF96A0BSOgDcAQgxAHJ2A/eF52AASDIAGmUAZKU//WoASDIAGuWz4LN+ADw4OH6LAbAZeDhwJj9c/07gm8DNjP9byVx/2+tfSfo6YACoSZ+hu+Ckjk/3v8QiHANcAbwPuJPVfx53AH8GvGDhfzMWrr/t9a/leLLXoPuATb2vUirQlWRPvuv6X2LU0cBrgVtZ/8/me8BrFv4btXL9ba9/EqeTvQbd1v8SpTK9i+zJd0v/S4x5InA90/+Mvgo8duC5z4Lrb3v9k7qA7DXoa/0vUSrTH5E9+fb0v8SIXwb2M7uf093A5YOuYDquv+31r8fFZK9Bn+t/iVKZfpvsyTcPHNX7Kof1auAQs/85HQJePuA6Nsr1t73+9XoO2evPh/pfolSm15APgJN7X+VwrqCfi//icR/wzMFWs36uv+31b8SLyF5/3tv/EqUy/TLZk28eeETvqxzGeXQPV+r753UncPZAa1oP19/2+jfqFWSvP2/pf4lajQ8CyvJxwLPzJro/aerbScB/HmCc9XL9ba9/o9LnfwnXwGYZAFkl/PKnnwI2C88Bnj7geJcBFw043pG4/rbXP410AKSfhto0AyCrhABIXwBm4TWBMf9DYMzVuP7hlbT+aaTfAPgUwCADIMsAmN45wE8Gxn0qcFZg3KVcf9vrn5YB0DADIKuEX/7aA+C5ZB4luolu6znN9be9/mkZAA0zALJ20v3ZUlLtAXBxcOynBMde5PpzSlj/tAyAhhkAWYeAXeE51B4AjwqOfX5w7EWuP6eE9U/LAGiYAZCX/hxA7QHwo8GxTwuOvcj155Sw/mkZAA0zAPIMgOlsC469PTj2ItefU8L6p5U+/w2AIAMgzwCYzpZGx17k+tscexa2AVuD49/HeL+QrAoGQJ4BICnB7f/GGQB56ZPAAJDalA6A9Juf5hkAeemTIH0RkJSRPvfTb36aZwDkpQPAHQCpTQZA4wyAvHQAHEv2g0CSMgyAxhkAeekAANiRnoCkwRkAjTMA8ko4CbwNILXHAGicAZBXwg6AASC1J33e7wyP3zwDIM8AkJTgDkDjDIA8A0BSggHQOAMg7y5gPjyH9IVA0vDS4W8AhBkAeQeAu8NzSF8IJA0vHf4l7H42zQAoQ/pEMACk9qQDwB2AMAOgDOkTwQCQ2mMANM4AKIM7AJKGlj7vDYAwA6AMBoCkIR0HHB0cfz+wNzi+MABKYQBIGlJ6+z99zRMGQCnSJ4MBILUlHQBu/xfAAChD+mQwAKS2GAAyAArhDoCkIRkAMgAKYQBIGpIBIAOgEOkAOJbsJ4IlDcsAkAFQiHQAAOxIT0DSYAwAGQCFKCEAvA0gtSN9vhsABTAAylDCyZC+IEgajjsAMgAK4Q6ApCEZADIACrGP/GMxDQCpHQaADICCpHcBDACpHQaADICCGACShmIAyAAoiAEgaSgGgAyAghgAkoaSPt8NgAIYAOVInxDpdwSShpF+8uc+4N7g+FpgAJTDHQBJQ0jHfvpapwUGQDnSJ4UBILUhHQDp3U4tMADKYQBIGkI6ANLXOi0wAMqRPikMAKkN6QBwB6AQBkA50ieFASC1wQAQYACUxB0ASUMwAAQYACVJB8AxZP80SNIwDAABBkBJ0gEA7gJILUif5zvD42uBAVAOA0DSENwBEGAAlOQeuidkJRkA0vgZAAIMgNKkt8YMAGn8DAABBkBp0rcBDABp/AwAAQZAaQwASX1LB0D6OqcFBkBZ0ieGASCNXzoA3AEohAFQFgNAUt/SAZD+rJMWGABlMQAk9elYsg/8KuGvnbTAAChLemvMAJDGLX2Op69xOowBUBZ3ACT1Kb39bwAUxAAoSzoA0hcHSf1Kn+MGQEEMgLKkA8AdAGncDADdzwAoiwEgqU8GgO5nAJQlfXIYANK4GQC6nwFQFncAJPXJAND9DICypAPgaLJ/IyypX+nINwAKYgCUZTdwIDyH9AVCUn/cAdD9DICyzJN/TKYBII2XAaD7GQDlSd8GSF8gJPUnfX4bAAUxAMqTDgB3AKTxMgB0PwOgPOkTxACQxssA0P0MgPK4AyCpLwaA7mcAlMcAkNSXdACkP+SswxgA5TEAJPXhaOCY4Ph7gP3B8bWEAVAeA0BSH04Kj+/2f2EMgPKkTxIDQBqn9PZ/+tqmJQyA8rgDIKkPBoAewAAojwEgqQ/pczt9bdMSBkB50idJ+iIhqR/uAOgBDIDypAMgfZGQ1I/0uW0AFMYAKE86ANwBkMbJANADGADl2QkcCo5vAEjjlD63fQhQYQyA8hwCdgfH30r2YSGS+uEOgB7AACiTtwEkzZoBoAcwAMpkAEiaNQNAD2AAlMkAkDRrBoAewAAokwEgadYMAD2AAVAmA0DSrKUDIH1d0xIGQJnSpZy+UEiavfR57Z8BFsYAKFO6lN0BkMZlK3BscPzdwIHg+FqBAVAmA0DSLJ0UHj+9q6kVGABlMgAkzVJ6+98AKJABUKb0yWIASONiAGgZA6BM7gBImiUDQMsYAGUyACTNkgGgZQyAMhkAkmbJANAyBkCZ7gLmg+MbANK4GABaxgAo033AnuD4BoA0Lulz2ocAFcgAKFfyNkD63YKk2UoHQPq2plZgAJQruWV2FNmnhkmarXTUewugQAZAudLFnH7HIGl2DAAtYwCUywCQNCsGgJYxAMplAEiaFQNAyxgA5TIAJM2KAaBlDIBypU8YA0Aaj2QAzOOfARbJACiXOwCSZmErcFxw/N3AweD4WoUBUC4DQNIsuP2vFRkA5TIAJM2CAaAVGQDlSgdA+qIhaTbS57IBUCgDoFzpAHAHQBoHA0ArMgDKlT5pDABpHNIBkH4zo1UYAOVKnzQGgDQO6QBIv5nRKgyAct27cKQYANI4GABakQFQtuQugAEgjUP6XPYhQIUyAMpmAEialjsAWpEBUDYDQNK0DACtyAAoWzIAjiL7+FBJs2EAaEUGQNnSJ467AFL90udx+jqmVRgAZfNPASVNyx0ArcgAKJsBIGlaBoBWZACUzQCQNK1kABwCdgXH1xoMgLIZAJKmcRSwLTj+LuBgcHytwQAoW3rrzACQ6ub2v1ZlAJTNHQBJ0zAAtCoDoGwGgKRpGABalQFQNgNA0jQMAK3KACibASBpGgaAVmUAlG0PsD84fvriIWk66XPYACiYAVC+5AnkDoBUt3QA+FXABTMAymcASNqo9DnsDkDBDIDy+ZXAkjYqvQNgABTMACifASBpo9IBkP4gs9ZgAJTPAJC0UekAcAegYAZA+ZIBMAccFxxf0nQMAK3KAChfegvNXQCpXgaAVmUAlC99AhkAUr0MAK3KAChfegcgfQGRtHHJgD8E7A6OryMwAMqXDgB3AKQ6zQHbguPvpIsAFcoAKJ8BIGkjTgQ2Bcd3+79wBkD50ieRASDVKX37Ln3t0hEYAOVzB0DSRhgAWpMBUD4DQNJGGABakwFQvl3AweD4BoBUJwNAazIAyjdP9is1DQCpTukASO9e6ggMgDr4fQCS1isdAMk3LpqAAVAHA0DSeqXPXW8BFM4AqEPyREq/i5C0Melz1wAonAFQB3cAJK2XAaA1GQB1MAAkrZcBoDUZAHVIBsAOso8TlbQxBoDWZADUIRkAc8BxwfElbYwBoDUZAHVIn0jeBpDqYwBoTQZAHdIP1DAApPokA+AgsDs4viZgANTBAJC0HnPAtuD4O+meYqqCGQB1MAAkrceJZD+8m75maQIGQB3SJ1P6XqKk9UlHu/f/K2AA1CEdAOmLiaT1SUe7AVABA6AO6ftpBoBUFwNAR2QA1CH9iVoDQKqLAaAjMgDq4eOAJU3KANARGQD1MAAkTSodADvD42sCBkA9DABJk0qfs+4AVMAAqIcBIGlS6R0AA6ACBkA9DABJkzIAdEQGQD2SJ5QBINUlHQDpZ5doAgZAPdwBkDSpdAC4A1ABA6Ae6QBIPldc0voYADoiA6AeyQDYQvabxSStjwGgIzIA6pG+p+ZtAKkeyQA4AOwJjq8JGQD1SBe1ASDVYQtwfHD8u8h+d4kmZADUwx0ASZM4kexndtJvVjQhA6AeBoCkSXj/XxMxAOqRPqkMAKkOBoAmYgDUYz/ZD9YYAFIdDABNxACoS/I2QPqiImky6Vg3ACphANQl/TAgSeVLx7oBUAkDoC5+H4CkIzEANBEDoC7uAEg6kvS5agBUwgCoiwEg6UjcAdBEDIC6GADLHQyOfSA49iLXn1PC+ldiAGgiBkBd/AzAcruCY+8Mjr3I9eeUsP6VGACaiAFQF3cAlvt2cOxvBcde5PpzSlj/SgwATcQAqIsBsNyXg2N/JTj2ItefU8L6V2IAaCIGQF2SAbCD7BeMrObq4NgfDY69yPXnlLD+lRgA0ghdRPc1m6lje/9LXLeHAvcx/M9iP/CQAdZ3JK6/7fWvZCe5a8T+AdanGXEHoC5+I+By3wPeHxj3L4HbAuMu5frbXv9SW8iGuu/+pZ78KLmynwce3f8SN+R8hn0XeAB41CArm4zrb3v9h3sQ2WvEDf0vUbPiDkBd3AFY2XXA2wcc783AtQOOdySuv+31Hy59/z99jZJGbS+5uv+ZAda3UacAN9P/z+Am4MHDLGldXH/b61/04+SuD/PAlf0vUbPiDkB9fBjQym4Fngfs6XGMvcDlwO09jrFRrr/t9S9K7wD4GYCKGAD18VkAq/si8IvAvh7+2/uAK4DP9/DfnhXX3/b6wQCQRu2T5Lb3XjvA+mbhH9F9OnxW674NuGTQFUzH9be7/peSvQXw+v6XKLXrf5E7uX9rgPXNyhnAVUy/5o8ADxt47rPg+ttc/6+SDYBf63+JUrveQe7k/oMB1jdrzwCuYf1rvQ54fmC+s+b621r/vycbAC/vf4lSu95I7uR+xwDr68MW4FnA2+i+PGa19d0MvBV4JuP6fIzrb2f9v0c2AF7Y/xI1K3PpCWjd/BDg+h0E/s/CAd0jXM/jhx+Yugv4KmV/unsarr+d9fshQE3MAKiPATC92yjzMa5Dcf3jXb8BoInVus3VMgNA0mrSAeCTACtiANTHBwFJWk06ANwBqIgBUB93ACStxgDQxAyA+iQDYAewKTi+pLUlA2A/3eOSVQkDoD7JANgMHB8cX9LqNgPbg+N7/78yBkB90ieZtwGkMp1A9pru9n9lDID63A3cFxw/fY9R0srS56YBUBkDoE7+JYCkpQwArYsBUCcDQNJSBoDWxQCok38KKGkpA0DrYgDUyQCQtJQBoHUxAOpkAEhaygDQuhgAdTIAJC2VPjcNgMoYAHUyACQt5Q6A1sUAqJN/BSBpKQNA62IA1MkdAElLGQBaFwOgTgaApKXS56YBUBkDoE7JAEi/y5C0svS5aQBUxgCokzsAkpYyALQuBkCd/BCgpKWSAbAPuDc4vjbAAKhTcgdgO/7eSKXZDOwIju+7/wp5Ia/TLuBgaOzNwCmhsSWt7FSy1/PkmxJtkAFQp0PAzuD4pwfHlrTcw8PjuwNQIQOgXrcHx35YcGxJy50RHv+28PjaAAOgXt8Pjv3o4NiSlntMePzvhcfXBhgA9UoW908Ex5a03BPD4yffkGiDDIB63RwcO32xkfRDm4EnhOfwrfD42gADoF7fCI79EOCC4PiSfuiJZP8EEODG8PjaAAOgXskAAPi58PiSOv8kPQEMAGlQDwPmg8fn+1+ipAl8ney14G58MykN7hZyJ/0h/GsAKe1isi/+88Df9r5K9cJqq9vngmNvAl4RHF8SvDI9AeDv0hPQxhgAdftsePwXkf8GMqlVpwOXpSeBtwOrZQDULbkDAHA88OrwHKRWvQ44Kj0J4OPpCUgtOpHuXnz6A0AP7Xuhkh7gXGA/+fv/36e7HSgp4PPkLwJ/3PsqJR3uL8if9/PAu/teqKTV/TvyF4GDwCV9L1QSAL9A/pxfPF7S71IlreVC8heBeboHgRzf81ql1j0YuJX8+T5Pd/vx1H6XK+lIbiR/MZgH3tb3QqWGbQH+N/nzfPH4VL/LlTSJ3yV/MVg8fDaA1I//RP78Pvx4Vb/LlTSJp5K/GCwe+4Fn9LpaqT0vIX9uH34cBE7rc8GSJrMJuIH8RWHx2EMXJZKmdzlwH/nz+vDjA72uWNK6/GvyF4XDj13ARb2uWBq/yynj7/2XHs/pc9GS1uckunfe6QvD4ce9wAv7XLQ0Yq8CDpA/j5ceN9F9IFFSQd5G/uKw9DgE/Do+LUya1NHAn5A/d1c7XtPf0iVt1D8kf3FY7fgw3ZeXSFrdo4AvkD9fVzvuAU7ubfWSpvJx8heJ1Y47gBfjboC01FbgtcBe8ufpWsdb+voBSJreU8hfJI50fBp4Ul8/AKkyz6Wsv+JZ7bgXOKOnn4GkGflr8heLSY5P0F38pNZspvvd/xT583DS47/08pOQNFOPpXtQR/qCMenxeeCV+LXCGr9zgN8Avkb+vFvPcRfd9xBIqsB/J3/RWO9xAPgo8Gt0zxDYOvOfijSsbcCzgN8CPkf+HNvo8bpZ/2CU54exxuts4FrqfhHdR3dv9GvA14E7gR/QPe9gf3Be0lLHANsXjlOBRwLnAmcCc7lpzcR36dazJz0RzZYBMG6/AfxmehKSqvYLwHvSk9DsGQDjNkf3ifvHpSciqUp/CVyWnoT6YQCM34V09x6PSk9EUlXuAB4N3JqeiPrh85zH71a6R4s+JT0RSVX5JbodRI2UOwBtOJruT+0enZ6IpCr8BfBz6UmoXwZAO84FPguckJ6IpKJ9C3gCcFt6IurX5vQENJgb6J7Dfyg9EUnF2gtcji/+TfAzAG25nu4vAy5JT0RScebp3iR8KD0RDcMAaM/VdH8WeG56IpKK8nrg99OT0HD8DECbTqT72uAL0hORVIQPAM+j+w4RNcIAaNePAB8Dzg/PQ1LWJ4FL8VG/zTEA2nY68DfAWemJSIr4NN2XFe1OT0TDMwD0cLoIOCM9EUmD+iLwdLov2FKD/DNA3Qz8NPC99EQkDeYa4Kfwxb9pBoAAvgo8nu6iIGncPgk8g+7rtdUwA0CL/h74SeCD6YlI6s3b6bb9bw/PQwXwOQA63H7gvcCZdN8iKGkc5oHfBF6Nf+qnBQaAWaNgugAAAidJREFUljpI90Ug83TfIOgHRaW67QV+EfjD9ERUFi/uWsvTgD+l+3NBSfX5f8A/xc/3aAV+BkBruQp4DPDu9EQkrcs88GbgJ/DFX6twB0CTejHwJmBbeiKS1nQr8FK6x/tKq/IzAJrUNcD/BB4JnBOei6Tl5oH/BlyG7/o1AXcAtBHPBX4PeER6IpIA+L/Aq4BPpSciafy20l1wdtG98/Dw8Bj+uAV4GX6eSxvgLQBt1EHgM3R/JbCJ7sOCW6MzktpxO/B64IXA39LFgLQu3gLQrOwAfgV4DXByeC7SWN1Ed/vtLcA92amodgaAZu14ui3JlwNnh+cijcUXgDfQfRDXJ/lpJgwA9elxdH8+eAXwkPBcpNp8B3gf3eO5PxGei0bIANAQtgLPBl4EPJPudoGk5W6je8F/J9239nlvX70xADS0LcBj6b6O9GLgEmB7dEZSzm66D9N+eOH4O+BQdEZqhgGgtGOAJwI/BpwP/APgUcApyUlJPdhJ92z+rwBfAv5m4f/3Xb4iDACV6iTgPLovIjqF7jMEJwDH0e0YzOWmJq1oN3AA2APcsXB8D7iZ7tP7d8ZmJkmSJEmSJEmSJEmSJEmSJEmSJEmSJEmSJEmSJEmSJEmSJEmSJEmSJEmSJEmSJEmSJEmSJEmSJEmSJEmSJEmSJEmSJEmSJEmSJEmSJEmSJEmSJEmSJEmSJEmSJEmSJEmSJEmSJEmSJEmSJEmSJEmS2vL/Ac4FfyxOc1y7AAAAAElFTkSuQmCC",AB=r.p+"static/media/edit.e0fe9baf973ee2a23e8f.png",_B=()=>{const[e,t]=(0,i.useState)([]),n=We(),{currentUser:r}=(0,i.useContext)(Xr);(0,i.useEffect)((()=>{(async()=>{try{const e="".concat("https://jaktharry-app-130a026cb2e4.herokuapp.com","/api/posts?cat=riks"),n=(await Er.get(e)).data.sort(((e,t)=>new Date(t.date)-new Date(e.date)));t(n)}catch(e){console.error("Error fetching data:",e)}})()}),[]);return(0,Nr.jsx)("div",{className:"PostClass",children:(0,Nr.jsx)("div",{className:"table-responsive",children:(0,Nr.jsxs)("table",{className:"table table-bordered",children:[(0,Nr.jsx)("thead",{children:(0,Nr.jsxs)("tr",{children:[(0,Nr.jsx)("th",{width:"10%",children:"Post-id"}),(0,Nr.jsx)("th",{width:"20%",children:"Datum"}),(0,Nr.jsx)("th",{width:"45%",children:"Titel"}),(0,Nr.jsx)("th",{children:"skriven av"}),(0,Nr.jsx)("th",{width:"10%",children:"Redigera"}),(0,Nr.jsx)("th",{width:"10%",children:"Ta bort"})]})}),(0,Nr.jsx)("tbody",{children:e.map((i=>(0,Nr.jsxs)("tr",{children:[(0,Nr.jsx)("td",{width:"10%",children:i.postId}),(0,Nr.jsx)("td",{width:"20%",className:"text-start",children:ri()(i.date).format("LL")}),(0,Nr.jsx)("td",{width:"45%",className:"text-start",children:(0,Nr.jsx)(Dt,{className:"titleClass",onClick:()=>(e=>{const t="".concat(window.location.origin,"/post/").concat(e);window.open(t,"_blank")})(i.postId),children:i.title})}),(0,Nr.jsx)("td",{children:i.username}),(0,Nr.jsx)("td",{width:"10%",children:(0,Nr.jsx)(Dt,{to:"/write?edit=2",state:i,onClick:()=>(e=>{n("/write",{state:{currentUser:r,...e}})})(i),children:(0,Nr.jsx)("img",{src:AB,alt:"",className:"iconClass1"})})}),(0,Nr.jsx)("td",{width:"10%",children:(0,Nr.jsx)(Dt,{to:"",onClick:()=>(async n=>{try{if(!window.confirm("Are you sure you want to delete this post?"))return;const r=localStorage.getItem("accessToken"),i={Authorization:"Bearer ".concat(r)},o="".concat("https://jaktharry-app-130a026cb2e4.herokuapp.com","/api/posts/").concat(n.postId);await Er.delete(o,{headers:i}),t(e.filter((e=>e.id!==n.postId)))}catch(r){console.error("Error deleting post:",r)}})(i),children:(0,Nr.jsx)("img",{src:wB,alt:"",className:"iconClass2"})})})]},i.postId)))})]})})})},xB=()=>{const[e,t]=(0,i.useState)([]),n=We(),{currentUser:r}=(0,i.useContext)(Xr);(0,i.useEffect)((()=>{(async()=>{try{const e="".concat("https://jaktharry-app-130a026cb2e4.herokuapp.com","/api/posts?cat=lans"),n=(await Er.get(e)).data.sort(((e,t)=>new Date(t.date)-new Date(e.date)));t(n)}catch(e){console.error("Error fetching data:",e)}})()}),[]);return(0,Nr.jsx)("div",{className:"PostClass",children:(0,Nr.jsx)("div",{className:"table-responsive",children:(0,Nr.jsxs)("table",{className:"table table-bordered",children:[(0,Nr.jsx)("thead",{children:(0,Nr.jsxs)("tr",{children:[(0,Nr.jsx)("th",{width:"10%",children:"Post-id"}),(0,Nr.jsx)("th",{width:"20%",children:"Datum"}),(0,Nr.jsx)("th",{width:"40%",children:"Titel"}),(0,Nr.jsx)("th",{children:"Skriven av"}),(0,Nr.jsx)("th",{width:"10%",children:"Redigera"}),(0,Nr.jsx)("th",{width:"10%",children:"Ta bort"})]})}),(0,Nr.jsx)("tbody",{children:e.map((i=>(0,Nr.jsxs)("tr",{children:[(0,Nr.jsx)("td",{width:"10%",children:i.postId}),(0,Nr.jsx)("td",{width:"20%",className:"text-start",children:ri()(i.date).format("LL")}),(0,Nr.jsx)("td",{width:"40%",className:"text-start",children:(0,Nr.jsx)(Dt,{className:"titleClass",onClick:()=>(e=>{const t="".concat(window.location.origin,"/post/").concat(e);window.open(t,"_blank")})(i.postId),children:i.title})}),(0,Nr.jsx)("td",{children:i.username}),(0,Nr.jsx)("td",{width:"10%",children:(0,Nr.jsx)(Dt,{to:"/write?edit=2",state:i,onClick:()=>(e=>{n("/write",{state:{currentUser:r,...e}})})(i),children:(0,Nr.jsx)("img",{src:AB,alt:"",className:"iconClass1"})})}),(0,Nr.jsx)("td",{width:"10%",children:(0,Nr.jsx)(Dt,{to:"",onClick:()=>(async n=>{try{if(!window.confirm("Are you sure you want to delete this post?"))return;const r=localStorage.getItem("accessToken"),i={Authorization:"Bearer ".concat(r)},o="".concat("https://jaktharry-app-130a026cb2e4.herokuapp.com","/api/posts/").concat(n.postId);await Er.delete(o,{headers:i}),t(e.filter((e=>e.id!==n.postId)))}catch(r){console.error("Error deleting post:",r)}})(i),children:(0,Nr.jsx)("img",{src:wB,alt:"",className:"iconClass2"})})})]},i.postId)))})]})})})},SB=()=>{const[e,t]=(0,i.useState)([]),n=We(),{currentUser:r}=(0,i.useContext)(Xr),o=(0,i.useMemo)((()=>["StockholmCentrala","Hallstavik","HaningeTyres\xf6","Liding\xf6","M\xe4lar\xf6","Norrort","Norrt\xe4ljeNorra","Norrt\xe4ljeS\xf6dra","Nyn\xe4shamn","Rimbo","SolnaSundbyberg","S\xf6derort","S\xf6dert\xe4lje","UpplandsBro","Wermd\xf6Nacka","V\xe4sbySollentunaJ\xe4rf\xe4lla","V\xe4sterort","\xd6ster\xe5kerVaxholm"]),[]);(0,i.useEffect)((()=>{(async()=>{try{const e=o.map((async e=>{const t="".concat("https://jaktharry-app-130a026cb2e4.herokuapp.com","/api/posts?cat=").concat(e);return(await Er.get(t)).data})),n=(await Promise.all(e)).reduce(((e,t)=>e.concat(t)),[]);t(n);const r=n.sort(((e,t)=>new Date(t.date)-new Date(e.date)));t(r)}catch(e){console.error("Error fetching data:",e)}})()}),[o]);return(0,Nr.jsx)("div",{className:"PostClass",children:(0,Nr.jsx)("div",{className:"table-responsive",children:(0,Nr.jsxs)("table",{className:"table table-bordered",children:[(0,Nr.jsx)("thead",{children:(0,Nr.jsxs)("tr",{children:[(0,Nr.jsx)("th",{width:"10%",children:"Post-id"}),(0,Nr.jsx)("th",{width:"20%",children:"Datum"}),(0,Nr.jsx)("th",{width:"40%",children:"Titel"}),(0,Nr.jsx)("th",{children:"Kategori"}),(0,Nr.jsx)("th",{children:"Skriven av"}),(0,Nr.jsx)("th",{width:"7%",children:"Redigera"}),(0,Nr.jsx)("th",{width:"7%",children:"Ta bort"})]})}),(0,Nr.jsx)("tbody",{children:e.map((i=>(0,Nr.jsxs)("tr",{children:[(0,Nr.jsx)("td",{width:"10%",children:i.postId}),(0,Nr.jsx)("td",{width:"20%",className:"text-start",children:ri()(i.date).format("LL")}),(0,Nr.jsx)("td",{width:"40%",className:"text-start",children:(0,Nr.jsx)(Dt,{className:"titleClass",onClick:()=>(e=>{const t="".concat(window.location.origin,"/post/").concat(e);window.open(t,"_blank")})(i.postId),children:i.title})}),(0,Nr.jsx)("td",{children:i.cat}),(0,Nr.jsx)("td",{children:i.username}),(0,Nr.jsx)("td",{width:"7%",children:(0,Nr.jsx)(Dt,{to:"/write?edit=2",state:i,onClick:()=>(e=>{n("/write",{state:{currentUser:r,...e}})})(i),children:(0,Nr.jsx)("img",{src:AB,alt:"",className:"iconClass1"})})}),(0,Nr.jsx)("td",{width:"7%",children:(0,Nr.jsx)(Dt,{to:"",onClick:()=>(async n=>{try{if(!window.confirm("Are you sure you want to delete this post?"))return;const r=localStorage.getItem("accessToken"),i={Authorization:"Bearer ".concat(r)},o="".concat("https://jaktharry-app-130a026cb2e4.herokuapp.com","/api/posts/").concat(n.postId);await Er.delete(o,{headers:i}),t(e.filter((e=>e.id!==n.postId)))}catch(r){console.error("Error deleting post:",r)}})(i),children:(0,Nr.jsx)("img",{src:wB,alt:"",className:"iconClass2"})})})]},i.postId)))})]})})})},kB=r.p+"static/media/plus.0b53afba1cac7766d631.png",EB="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAACXBIWXMAAAsTAAALEwEAmpwYAAABHElEQVR4nN1UQU4CQRDcYOBDPGCaF2iE6fIFfIOriL/QQMIjmPbukcRVhD+Q9b6mA+hhBmbdHQ7YSSebyaRqqrq3suxfl13aDr0AJJgaQW6Ev3aNXM96Ylnv1AKnBfeN4zUJylNthD97gtvqr57bK+PwGAMmr3mSlaNWlKAeOHZqHMZRW+qC0w8J34StWdqO+tmUgBw2wcHvt6UZuBwGD+sTCGbJCByefQLHHwkV5CEFRSoCEhRnJTCOt4H95/d0CvgtpGCa0KInj0CDK51FdwOPoPs6bJNglcD/9dGE1VRsrGCB6yD47yx40uD191m0ylGLhB/+Do5xpbg+lKZixZmsorYcKx28Bpdmi+72/mcs9FvPdFv0Ti3wi6lvkGMFO0IYRaQAAAAASUVORK5CYII=",CB=()=>{const[e,t]=(0,i.useState)([]),n=We(),{currentUser:r}=(0,i.useContext)(Xr);(0,i.useEffect)((()=>{(async()=>{try{const e="".concat("https://jaktharry-app-130a026cb2e4.herokuapp.com","/api/posts?cat=aktiviteter"),n=(await Er.get(e)).data.sort(((e,t)=>new Date(t.date)-new Date(e.date)));t(n)}catch(e){console.error("Error fetching data:",e)}})()}),[]);return(0,Nr.jsx)("div",{className:"PostClass",children:(0,Nr.jsx)("div",{className:"table-responsive",children:(0,Nr.jsxs)("table",{className:"table table-bordered",children:[(0,Nr.jsx)("thead",{children:(0,Nr.jsxs)("tr",{children:[(0,Nr.jsx)("th",{width:"10%",children:"Akt-id"}),(0,Nr.jsx)("th",{width:"20%",children:"Publicera datum"}),(0,Nr.jsx)("th",{width:"40%",children:"Aktivitetstitel"}),(0,Nr.jsx)("th",{width:"10%",children:"Redigera"}),(0,Nr.jsx)("th",{width:"10%",children:"Ta bort"})]})}),(0,Nr.jsx)("tbody",{children:e.map(((o,s)=>(0,Nr.jsx)(i.Fragment,{children:(0,Nr.jsxs)("tr",{children:[(0,Nr.jsx)("td",{width:"10%",children:o.postId}),(0,Nr.jsx)("td",{width:"20%",className:"text-start",children:ri()(o.date).format("LL")}),(0,Nr.jsx)("td",{width:"50%",className:"text-start",children:(0,Nr.jsxs)("div",{children:[(0,Nr.jsx)("div",{children:(0,Nr.jsx)(Dt,{className:"titleClass",onClick:()=>(e=>{const t="".concat(window.location.origin,"/post/").concat(e);window.open(t,"_blank")})(o.postId),children:(0,Nr.jsx)("b",{children:o.title})})}),"open"===o.status&&(0,Nr.jsx)("div",{className:"tdbg",children:(0,Nr.jsxs)("ul",{className:"list-group text-start",children:[(0,Nr.jsx)("li",{className:"list-group-item userClass",children:(0,Nr.jsx)("b",{children:o.status})}),(0,Nr.jsxs)("li",{className:"list-group-item userClass",children:[(0,Nr.jsx)("span",{children:(0,Nr.jsx)("b",{children:"Aktiviteten \xe4ger rum i: "})}),ri()(o.adminDate).format("LL")]}),(0,Nr.jsxs)("li",{className:"list-group-item userClass",children:[(0,Nr.jsx)("span",{children:(0,Nr.jsx)("b",{children:"Sista dag f\xf6r anm\xe4lan: "})}),ri()(o.deadline).format("LL")]}),(0,Nr.jsxs)("li",{className:"list-group-item userClass",children:[(0,Nr.jsx)("span",{children:(0,Nr.jsx)("b",{children:"Total: "})}),o.total]}),(0,Nr.jsxs)("li",{className:"list-group-item userClass",children:[(0,Nr.jsx)("span",{children:(0,Nr.jsx)("b",{children:"Pris: "})}),o.price]}),(0,Nr.jsxs)("li",{className:"list-group-item userClass",children:[(0,Nr.jsx)("span",{children:(0,Nr.jsx)("b",{children:"Spots: "})}),o.spots]})]})})]})}),(0,Nr.jsx)("td",{width:"10%",children:(0,Nr.jsx)(Dt,{to:"/write?edit=2",state:o,onClick:()=>(e=>{const t={...e,id:e.ActivityId};n("/write",{state:{currentUser:r,...t}})})(o),children:(0,Nr.jsx)("img",{src:AB,alt:"",className:"iconClass1"})})}),(0,Nr.jsx)("td",{width:"10%",children:(0,Nr.jsx)(Dt,{to:"",onClick:()=>(async n=>{try{if(!window.confirm("Are you sure you want to delete this post?"))return;const r=localStorage.getItem("accessToken"),i={Authorization:"Bearer ".concat(r)},o="".concat("https://jaktharry-app-130a026cb2e4.herokuapp.com","/api/posts/").concat(n.postId);await Er.delete(o,{headers:i}),t(e.filter((e=>e.id!==n.postId)))}catch(r){console.error("Error deleting post:",r)}})(o),children:(0,Nr.jsx)("img",{src:wB,alt:"",className:"iconClass2"})})})]},o.postId)},o.postId)))})]})})})},TB=()=>{const[e,t]=(0,i.useState)([]),[n,r]=(0,i.useState)(""),[o,s]=(0,i.useState)(null),[a,l]=(0,i.useState)(null),[c,u]=(0,i.useState)(!1),[d,h]=(0,i.useState)(null),[f,p]=(0,i.useState)([]),[m,g]=(0,i.useState)(!1),v=async e=>{if(g(!0),e)try{const n="".concat("https://jaktharry-app-130a026cb2e4.herokuapp.com","/api/users/user-activity?userId=").concat(e),r=await Er.get(n);if("Sign up list fetch successful"===r.data.message){const e=r.data.data.sort(((e,t)=>new Date(t.date)-new Date(e.date)));t(e)}else console.log("No data found")}catch(n){console.error("Error fetching data:",n.response?n.response.data:n.message),window.alert("An error occurred while fetching data. Please try again later.")}finally{g(!1)}else g(!1)};(0,i.useEffect)((()=>{o&&v(o)}),[o]);const y=async()=>{try{const e="".concat("https://jaktharry-app-130a026cb2e4.herokuapp.com","/api/users/check?membershipNo=").concat(n),t=await Er.get(e);if(t.data.userExists){const e=t.data.result[0];s(e.id),l(e)}else window.confirm("Medlemsnumret hittades inte .. Verifiera medlemsnumret")}catch(e){console.error("Error searching for user:",e)}};return(0,i.useEffect)((()=>{(async()=>{try{const e="".concat("https://jaktharry-app-130a026cb2e4.herokuapp.com","/api/posts?cat=aktiviteter"),t=(await Er.get(e)).data.filter((e=>"open"===e.status));p(t)}catch(e){console.error("Error fetching options:",e)}})()}),[]),(0,Nr.jsxs)("div",{className:"PostClass PostClass8",children:[(0,Nr.jsx)("label",{className:"form-label labelClass",htmlFor:"form1",children:"Ange medlemsnr"}),(0,Nr.jsx)("input",{className:"inputClass",type:"search",value:n,onChange:e=>{r(e.target.value)},onKeyDown:e=>{"Enter"===e.key&&y()}}),(0,Nr.jsx)("button",{className:"btnClass",onClick:y,children:"S\xf6k"}),m&&(0,Nr.jsx)("p",{children:"Loading..."}),a&&(0,Nr.jsxs)("div",{className:"userInfo",children:[(0,Nr.jsxs)("p",{className:"text-start ps-5 mt-3",style:{fontSize:"13px"},children:[(0,Nr.jsx)("strong",{children:"Anv\xe4ndarnamn: "}),(0,Nr.jsxs)("span",{children:[" ... ",a.firstName," ",a.lastName]})]}),(0,Nr.jsxs)("p",{className:"text-start ps-5",style:{fontSize:"13px"},children:[(0,Nr.jsx)("strong",{children:"E-post: "}),a.email]}),(0,Nr.jsxs)("p",{className:"text-start ps-5",style:{fontSize:"13px"},children:[(0,Nr.jsx)("strong",{children:"Telefon: "}),"0",a.phone]}),(0,Nr.jsxs)("p",{className:"text-start ps-5",style:{fontSize:"13px"},children:[(0,Nr.jsx)("strong",{children:"Medlemsnr: "}),"#",a.membershipNo]}),(0,Nr.jsxs)("h5",{children:[a.username,"  \xe4r registrerad i dessa aktiviteter"]})]}),!a&&(0,Nr.jsx)("div",{children:(0,Nr.jsx)("h5",{className:"my-3",children:"Anv\xe4ndare \xe4r registrerad i dessa aktiviteter"})}),o&&(0,Nr.jsxs)("div",{className:"btnDiv",children:[(0,Nr.jsxs)("button",{className:"btnClass2",onClick:()=>{u(!c)},children:[(0,Nr.jsx)("img",{src:kB,alt:"",className:"iconClass1"}),(0,Nr.jsx)("span",{children:"L\xe4gg till aktivitet"})]}),c&&(0,Nr.jsx)("div",{children:(0,Nr.jsx)("ul",{className:"ulclass",children:f.map((e=>(0,Nr.jsx)("li",{className:"liOptions",onClick:()=>(async e=>{h(f.find((t=>t.postId===e)).title),u(!1);try{(await Er.get("".concat("https://jaktharry-app-130a026cb2e4.herokuapp.com","/api/posts/signup/status2?postId=").concat(e,"&userId=").concat(o))).data.exists?window.alert("Du \xe4r redan registrerad f\xf6r denna aktivitet"):(await Er.post("".concat("https://jaktharry-app-130a026cb2e4.herokuapp.com","/api/posts/adminsignup"),{optionId:e,userId:o}),v(o),window.alert("Perfect ... Du \xe4r registrerad f\xf6r denna aktivitet"))}catch(t){console.error("Error handling option selection:",t)}})(e.postId),children:(0,Nr.jsx)(Dt,{className:"link",children:e.title})},e.postId)))})}),d&&(0,Nr.jsxs)("p",{children:["Selected option: ",d]})]}),(0,Nr.jsx)("div",{className:"table-responsive",children:(0,Nr.jsxs)("table",{className:"table table-bordered",children:[(0,Nr.jsx)("thead",{children:(0,Nr.jsxs)("tr",{children:[(0,Nr.jsx)("th",{width:"10%",children:"#"}),(0,Nr.jsx)("th",{width:"20%",children:"Datum"}),(0,Nr.jsx)("th",{width:"40%",children:"Aktivitet (id-titel)"}),(0,Nr.jsx)("th",{width:"10%",children:"Ta bort"})]})}),(0,Nr.jsx)("tbody",{children:e.map(((n,r)=>(0,Nr.jsxs)("tr",{children:[(0,Nr.jsx)("td",{width:"10%",children:r+1}),(0,Nr.jsx)("td",{width:"20%",children:ri()(n.date).format("LL")}),(0,Nr.jsx)("td",{width:"40%",children:(0,Nr.jsxs)(Dt,{className:"titleClass",onClick:()=>(e=>{const t="".concat(window.location.origin,"/post/").concat(e);window.open(t,"_blank")})(n.postId),children:["#",n.postId,"-",n.title]})}),(0,Nr.jsx)("td",{width:"10%",children:(0,Nr.jsx)(Dt,{to:"",onClick:()=>(async n=>{try{if(!window.confirm("\xc4r du s\xe4ker p\xe5 att du vill radera denna aktivitet?"))return;const r=localStorage.getItem("accessToken"),i={Authorization:"Bearer ".concat(r)},s="".concat("https://jaktharry-app-130a026cb2e4.herokuapp.com","/api/users/delete/").concat(n.postId,"/").concat(o);await Er.delete(s,{headers:i}),g((e=>!e)),t(e.filter((e=>e.postId!==n.postId)))}catch(r){console.error("Error deleting post:",r)}})(n),children:(0,Nr.jsx)("img",{src:wB,alt:"delete",className:"iconClass2"})})})]},n.postId)))})]})})]})},NB=()=>{const[e,t]=(0,i.useState)([]),[n,r]=(0,i.useState)(""),[o,s]=(0,i.useState)([]),[a,l]=(0,i.useState)(null),[c,u]=(0,i.useState)(!1),[d,h]=(0,i.useState)(""),[f,p]=(0,i.useState)(null),[m,g]=(0,i.useState)(!1),[v,y]=(0,i.useState)([]);(0,i.useEffect)((()=>{(async()=>{try{const e="".concat("https://jaktharry-app-130a026cb2e4.herokuapp.com","/api/posts?cat=aktiviteter"),n=(await Er.get(e)).data.sort(((e,t)=>new Date(t.date)-new Date(e.date)));return t(n),void y(n)}catch(e){console.error("Error fetching data:",e),l("Error fetching activities. Please try again later.")}})()}),[]);const b=async()=>{try{g(!0);const e="".concat("https://jaktharry-app-130a026cb2e4.herokuapp.com","/api/users/activityUsers?activity=").concat(n),t=await Er.get(e);if(s(t.data.data),u(!0),v.length>0){const e=v.find((e=>e.postId.toString()===n));e&&p(e)}g(!1)}catch(e){console.error("Error fetching users:",e),l("Error fetching users. Please try again later."),g(!1)}},w=async()=>{try{const e=n,t=await A();null!==t?(await Er.post("".concat("https://jaktharry-app-130a026cb2e4.herokuapp.com","/api/posts/adminsignup"),{optionId:e,userId:t}),b(),window.alert("Perfekt ... Anv\xe4ndaren har lagt till aktivitet")):(console.log("User does not exist"),window.alert("Anv\xe4ndaren hittades inte. V\xe4nligen verifiera anv\xe4ndarnamnet.")),h("")}catch(a){console.error("Error adding user to activity:",a)}},A=async()=>{try{const e="".concat("https://jaktharry-app-130a026cb2e4.herokuapp.com","/api/users/check?membershipNo=").concat(d),t=(await Er.get(e)).data;return t.userExists?t.result[0].id:(console.log("Anv\xe4ndaren hittades inte"),window.confirm("Anv\xe4ndaren hittades inte .. Verifiera anv\xe4ndarnamnet"),null)}catch(a){throw console.error("Error searching for user:",a),a}};return(0,Nr.jsxs)("div",{className:"PostClass PostClass9",children:[(0,Nr.jsx)("h3",{className:"labelClass",htmlFor:"form1",children:"V\xe4lj aktivitetens namn"}),(0,Nr.jsxs)("select",{className:"inputClass",onChange:e=>{r(e.target.value)},children:[(0,Nr.jsx)("option",{children:"V\xe4lj en aktivitet"}),e.map(((e,t)=>(0,Nr.jsx)("option",{value:e.postId,children:e.title},t)))]}),(0,Nr.jsx)("button",{className:"btnClass",onClick:b,children:"S\xf6k"}),(0,Nr.jsxs)("div",{children:[a&&(0,Nr.jsxs)("p",{children:["Error: ",a]})," ",m&&(0,Nr.jsx)("p",{children:"Loading..."}),f&&(0,Nr.jsxs)("div",{className:"userInfo",children:[(0,Nr.jsxs)("p",{className:"text-start ps-3 mt-3",children:[(0,Nr.jsx)("strong",{children:"Aktivitetstitel: "}),(0,Nr.jsx)("p",{className:"text-success ms-5",children:f.title})]}),(0,Nr.jsxs)("ul",{className:"list-group text-start mb-3 ms-5 w-75",children:[(0,Nr.jsxs)("li",{className:"list-group-item userClass text-danger",children:[(0,Nr.jsx)("span",{children:(0,Nr.jsx)("b",{children:"Aktivitetsstatus: "})}),f.status]}),(0,Nr.jsxs)("li",{className:"list-group-item userClass",children:[(0,Nr.jsx)("span",{children:(0,Nr.jsx)("b",{children:"Aktiviteten \xe4ger rum i: "})}),ri()(f.adminDate).format("LL")]}),(0,Nr.jsxs)("li",{className:"list-group-item userClass",children:[(0,Nr.jsx)("span",{children:(0,Nr.jsx)("b",{children:"Sista dag f\xf6r anm\xe4lan: "})}),ri()(f.deadline).format("LL")]}),(0,Nr.jsxs)("li",{className:"list-group-item userClass",children:[(0,Nr.jsx)("span",{children:(0,Nr.jsx)("b",{children:"Antal registrerade anv\xe4ndare: "})}),f.total]}),(0,Nr.jsxs)("li",{className:"list-group-item userClass",children:[(0,Nr.jsx)("span",{children:(0,Nr.jsx)("b",{children:"Pris: "})}),f.price]}),(0,Nr.jsxs)("li",{className:"list-group-item userClass",children:[(0,Nr.jsx)("span",{children:(0,Nr.jsx)("b",{children:"Totalt till\xe5tet antal att registrera: "})}),f.spots]})]}),(0,Nr.jsx)("h4",{className:"text-success",children:"Anv\xe4ndare registrerade i denna aktivitet"})]}),!f&&(0,Nr.jsx)("div",{children:(0,Nr.jsx)("h5",{className:"my-3",children:"Anv\xe4ndare registrerade i denna aktivitet"})}),(0,Nr.jsx)("div",{className:"table-responsive",children:(0,Nr.jsxs)("table",{className:"table table-bordered",children:[(0,Nr.jsx)("thead",{children:(0,Nr.jsxs)("tr",{children:[(0,Nr.jsx)("th",{width:"10%",children:"Medlemsnr"}),(0,Nr.jsx)("th",{width:"20%",children:"Anv\xe4ndarnamn"}),(0,Nr.jsx)("th",{width:"30%",children:"F\xf6rnamn/Efternamn"}),(0,Nr.jsx)("th",{width:"30%",children:"e-post"}),(0,Nr.jsx)("th",{width:"10%",children:"Ta bort"})]})}),(0,Nr.jsx)("tbody",{children:o.map((e=>(0,Nr.jsxs)("tr",{children:[(0,Nr.jsxs)("td",{width:"10%",children:["# ",e.membershipNo]}),(0,Nr.jsx)("td",{width:"20%",children:e.username}),(0,Nr.jsx)("td",{width:"30%",className:"text-start",children:(0,Nr.jsxs)("small",{children:[e.firstName," ",e.lastName]})}),(0,Nr.jsx)("td",{width:"30%",children:e.email}),(0,Nr.jsx)("td",{width:"10%",children:(0,Nr.jsx)(Dt,{to:"",onClick:()=>(async e=>{try{if(g(!0),!window.confirm("\xc4r du s\xe4ker p\xe5 att du vill avregistrera anv\xe4ndaren fr\xe5n denna aktivitet?"))return;const t=localStorage.getItem("accessToken"),r={Authorization:"Bearer ".concat(t)},i=n,o="".concat("https://jaktharry-app-130a026cb2e4.herokuapp.com","/api/users/delete/").concat(i,"/").concat(e);await Er.delete(o,{headers:r}),b()}catch(a){console.error("Error deleting user from activity:",a),g(!1)}})(e.id),children:(0,Nr.jsx)("img",{src:wB,alt:"delete",className:"iconClass2"})})})]},e.id)))})]})}),c&&(0,Nr.jsxs)("div",{className:"btnDiv",children:[(0,Nr.jsx)("label",{className:"form-label",htmlFor:"form1",children:(0,Nr.jsx)("strong",{children:"F\xf6r att registrera en ny anv\xe4ndare .. Ange medlemsnr"})}),"closed"===f.status&&(0,Nr.jsxs)("button",{className:"btnClass2",onClick:w,disabled:!0,children:[(0,Nr.jsx)("img",{src:kB,alt:"",className:"iconClass1"}),(0,Nr.jsx)("span",{children:"L\xe4gg till"})]}),"open"===f.status&&(0,Nr.jsxs)("div",{children:[(0,Nr.jsx)("input",{type:"text",value:d,onChange:e=>h(e.target.value),placeholder:"anv\xe4ndarmedlemsnr"}),(0,Nr.jsxs)("button",{className:"btn btn-dark btn-sm",onClick:w,children:[(0,Nr.jsx)("img",{src:kB,alt:"",className:"iconClass1"}),(0,Nr.jsx)("span",{children:"L\xe4gg till"})]})]})]})]})]})},OB=()=>{const[e,t]=(0,i.useState)([]);(0,i.useEffect)((()=>{(async()=>{try{const e="".concat("https://jaktharry-app-130a026cb2e4.herokuapp.com","/api/users"),n=await Er.get(e);t(n.data)}catch(e){console.error("Error fetching data:",e)}})()}),[]);const n=e=>{const t=ri()(),n=ri()(e);return t.diff(n,"minutes")<5?"Online":n.format("LLL")},r=[...e].sort(((e,t)=>{const r="Online"===n(e.lastActivity);return("Online"===n(t.lastActivity))-r}));return(0,Nr.jsxs)("div",{className:"PostClass",children:[(0,Nr.jsx)("h6",{children:'"Notera att: .. anv\xe4ndarroll = 1 (admin).. & .. roll = 2 (Moderatorer)"'}),(0,Nr.jsx)("div",{className:"table-responsive",children:(0,Nr.jsxs)("table",{className:"table table-bordered",children:[(0,Nr.jsx)("thead",{children:(0,Nr.jsxs)("tr",{children:[(0,Nr.jsx)("th",{width:"5%",children:"Medlemsnr"}),(0,Nr.jsx)("th",{width:"20%",children:"Senaste aktivitet"}),(0,Nr.jsx)("th",{width:"20%",children:"Anv\xe4ndarnamn"}),(0,Nr.jsx)("th",{width:"30%",children:"e-post"}),(0,Nr.jsx)("th",{width:"5%",children:"roll"}),(0,Nr.jsx)("th",{width:"10%",children:"Byta roll"}),(0,Nr.jsx)("th",{width:"10%",children:"Ta bort"})]})}),(0,Nr.jsx)("tbody",{children:r.map(((r,i)=>(0,Nr.jsxs)("tr",{width:"5%",children:[(0,Nr.jsxs)("td",{children:["# ",r.membershipNo]}),(0,Nr.jsxs)("td",{width:"20%",children:["Online"===n(r.lastActivity)&&(0,Nr.jsx)("img",{src:EB,alt:"Online",style:{width:"12px",marginRight:"5px"}}),n(r.lastActivity)]}),(0,Nr.jsx)("td",{width:"20%",children:r.username}),(0,Nr.jsxs)("td",{width:"30%",children:[r.email," "]}),(0,Nr.jsx)("td",{width:"5%",children:r.role}),(0,Nr.jsx)("td",{width:"10%",children:(0,Nr.jsxs)("select",{onChange:e=>(async(e,n)=>{try{const r=localStorage.getItem("accessToken"),i={Authorization:"Bearer ".concat(r)},o="".concat("https://jaktharry-app-130a026cb2e4.herokuapp.com","/api/users/role/").concat(e);await Er.put(o,{role:n},{headers:i}),t((t=>t.map((t=>t.id===e?{...t,role:n}:t))))}catch(r){console.error("Error changing user role:",r)}})(r.id,e.target.value),children:[(0,Nr.jsx)("option",{value:"0",children:"0"}),(0,Nr.jsx)("option",{value:"1",children:"1"}),(0,Nr.jsx)("option",{value:"2",children:"2"})]})}),(0,Nr.jsx)("td",{width:"10%",children:(0,Nr.jsx)(Dt,{to:"",onClick:()=>(async n=>{try{if(!window.confirm("Are you sure you want to delete this post?"))return;const r=localStorage.getItem("accessToken"),i={Authorization:"Bearer ".concat(r)},o="".concat("https://jaktharry-app-130a026cb2e4.herokuapp.com","/api/users/").concat(n.id);await Er.delete(o,{headers:i}),t(e.filter((e=>e.id!==n.id)))}catch(r){console.error("Error deleting post:",r)}})(r),children:(0,Nr.jsx)("img",{src:wB,alt:"",className:"iconClass2"})})})]},r.id)))})]})})]})},IB=()=>{const[e,t]=(0,i.useState)([]),[n,r]=(0,i.useState)({}),[o,s]=(0,i.useState)({}),[a,l]=(0,i.useState)({}),[c,u]=(0,i.useState)({}),d=["StockholmCentrala","Hallstavik","HaningeTyres\xf6","Liding\xf6","M\xe4lar\xf6","Norrort","Norrt\xe4ljeNorra","Norrt\xe4ljeS\xf6dra","Nyn\xe4shamn","Rimbo","SolnaSundbyberg","S\xf6derort","S\xf6dert\xe4lje","UpplandsBro","Wermd\xf6Nacka","V\xe4sbySollentunaJ\xe4rf\xe4lla","V\xe4sterort","\xd6ster\xe5kerVaxholm"];(0,i.useEffect)((()=>{(async()=>{try{const e="".concat("https://jaktharry-app-130a026cb2e4.herokuapp.com","/api/users"),n=(await Er.get(e)).data.filter((e=>2===e.role));t(n)}catch(e){console.error("Error fetching data:",e)}})()}),[]);(0,i.useEffect)((()=>{e.forEach((e=>{(async e=>{try{const t="".concat("https://jaktharry-app-130a026cb2e4.herokuapp.com","/api/moderators/krestar/").concat(e),n=await Er.get(t),{Krets1:r,Krets2:i}=n.data,o=r||i;o&&s((t=>({...t,[e]:{Krets1:r,Krets2:i,hasKrets:o}})))}catch(t){console.error("Error fetching moderator krestars:",t)}})(e.id)}))}),[e]);const h=(e,t)=>{u((n=>({...n,[e]:t})))},f=async(e,t)=>{try{const n="".concat("https://jaktharry-app-130a026cb2e4.herokuapp.com","/api/moderators");if("Krets1"===t){const t={ModId:e,Krets1:c[e],Krets2:null},r=await Er.post(n,t);console.log("Response:",r.data)}else if("Krets2"===t){const t={ModId:e,Krets2:c[e]},r=await Er.put(n,t);console.log("Response:",r.data)}const r="".concat("https://jaktharry-app-130a026cb2e4.herokuapp.com","/api/moderators/krestar/").concat(e),i=await Er.get(r);s((t=>({...t,[e]:{Krets1:i.data.Krets1,Krets2:i.data.Krets2,hasKrets:!0}})))}catch(n){console.error("Error adding krets:",n)}},p=async(e,t)=>{console.log(t),console.log(e);try{if("Krets1"===t){const t={ModId:e,Krets1:o[e].Krets2,Krets2:null},n="".concat("https://jaktharry-app-130a026cb2e4.herokuapp.com","/api/moderators/add"),r=await Er.put(n,t);console.log("Response1:",r.data)}else if("Krets2"===t){const t={ModId:e,Krets2:null},n="".concat("https://jaktharry-app-130a026cb2e4.herokuapp.com","/api/moderators"),r=await Er.put(n,t);console.log("Response2:",r.data)}const n="".concat("https://jaktharry-app-130a026cb2e4.herokuapp.com","/api/moderators/krestar/").concat(e),r=await Er.get(n);s((t=>({...t,[e]:{Krets1:r.data.Krets1,Krets2:r.data.Krets2,hasKrets:!0}})))}catch(n){console.error("Error adding krets:",n)}};return(0,Nr.jsx)("div",{className:"PostClass PostClass12",children:(0,Nr.jsx)("div",{className:"table-responsive",children:(0,Nr.jsxs)("table",{className:"table table-bordered",children:[(0,Nr.jsx)("thead",{children:(0,Nr.jsxs)("tr",{children:[(0,Nr.jsx)("th",{width:"10%",children:"#"}),(0,Nr.jsx)("th",{width:"25%",children:"Anv\xe4ndarnamn"}),(0,Nr.jsx)("th",{width:"45%",children:"Kretsar"})]})}),(0,Nr.jsx)("tbody",{children:e.map(((e,t)=>(0,Nr.jsxs)(i.Fragment,{children:[(0,Nr.jsxs)("tr",{children:[(0,Nr.jsxs)("td",{width:"10%",children:["# ",e.membershipNo]}),(0,Nr.jsx)("td",{className:"userClass",width:"25%",children:(0,Nr.jsxs)("small",{children:[e.username,(0,Nr.jsxs)("p",{className:"my-1",children:[e.firstName," ",e.lastName]}),(0,Nr.jsx)("p",{className:"my-1",children:e.email}),(0,Nr.jsxs)("p",{className:"my-1",children:["0",e.phone]})]})}),(0,Nr.jsx)("td",{className:"userClass",width:"45%",children:o[e.id]?(0,Nr.jsxs)(Nr.Fragment,{children:[o[e.id].Krets1&&(0,Nr.jsxs)("p",{children:[o[e.id].Krets1,(0,Nr.jsx)(Dt,{className:"mx-5",to:"",onClick:()=>p(e.id,"Krets1"),children:(0,Nr.jsx)("img",{src:wB,alt:"",className:"iconClass4"})})]}),o[e.id].Krets2&&(0,Nr.jsxs)("p",{children:[o[e.id].Krets2,(0,Nr.jsx)(Dt,{className:"mx-5",to:"",onClick:()=>p(e.id,"Krets2"),children:(0,Nr.jsx)("img",{src:wB,alt:"",className:"iconClass4"})})]}),!o[e.id].Krets2&&o[e.id].Krets1&&(0,Nr.jsxs)("div",{children:[(0,Nr.jsxs)("select",{className:"form-select form-select-sm",value:c[e.id]||"",onChange:t=>h(e.id,t.target.value),children:[(0,Nr.jsx)("option",{value:"",children:"Select Krets1"}),d.map(((e,t)=>(0,Nr.jsx)("option",{value:e,children:e},t)))]}),c[e.id]&&(0,Nr.jsx)("button",{type:"button",className:"btn btn-outline-success btn-sm mt-2",onClick:()=>f(e.id,"Krets2"),children:"Confirm"})]}),!o[e.id].Krets2&&!o[e.id].Krets1&&(0,Nr.jsxs)("div",{children:[(0,Nr.jsxs)("select",{className:"form-select form-select-sm",value:c[e.id]||"",onChange:t=>h(e.id,t.target.value),children:[(0,Nr.jsx)("option",{value:"",children:"Select Krets1"}),d.map(((e,t)=>(0,Nr.jsx)("option",{value:e,children:e},t)))]}),c[e.id]&&(0,Nr.jsx)("button",{type:"button",className:"btn btn-outline-success btn-sm mt-2",onClick:()=>f(e.id,"Krets1"),children:"Confirm"})]})]}):(0,Nr.jsxs)("div",{children:[(0,Nr.jsxs)("select",{className:"form-select form-select-sm",value:c[e.id]||"",onChange:t=>h(e.id,t.target.value),children:[(0,Nr.jsx)("option",{value:"",children:"Select Krets1"}),d.map(((e,t)=>(0,Nr.jsx)("option",{value:e,children:e},t)))]}),c[e.id]&&(0,Nr.jsx)("button",{type:"button",className:"btn btn-outline-success btn-sm mt-2",onClick:()=>f(e.id,"Krets1"),children:"Confirm"})]})})]}),(0,Nr.jsx)("tr",{children:(0,Nr.jsxs)("td",{colSpan:"3",className:"PostsClass",children:[(0,Nr.jsx)("button",{type:"button",className:"PostBtn btn-sm",onClick:()=>(async e=>{try{const t="".concat("https://jaktharry-app-130a026cb2e4.herokuapp.com","/api/posts?uid=").concat(e),i=await Er.get(t);r({...n,[e]:i.data}),l({...a,[e]:!a[e]})}catch(t){return console.error("Error fetching user items:",t),[]}})(e.id),children:a[e.id]?"st\xe4ng listan":"Inl\xe4gg skrivet av moderator"}),a[e.id]&&n[e.id]&&n[e.id].length>0&&(0,Nr.jsx)("ul",{className:"list-group",children:n[e.id].map(((e,t)=>(0,Nr.jsx)("li",{className:"list-group-item userClass",children:(0,Nr.jsxs)(Dt,{className:"titleClass",onClick:()=>(e=>{const t="".concat(window.location.origin,"/post/").concat(e);window.open(t,"_blank")})(e.postId),children:[(0,Nr.jsx)("small",{children:ri()(e.date).format("ll")}),"\xa0",(0,Nr.jsx)("i",{class:"fa fa-angle-double-right pt-1 text-warning"}),"\xa0 ",e.title]})},t)))}),a[e.id]&&n[e.id]&&0===n[e.id].length&&(0,Nr.jsx)("ul",{className:"list-group",children:(0,Nr.jsx)("li",{className:"list-group-item",children:"Ingenting publicerades"})})]})})]},e.id)))})]})})})},DB=()=>{const[e,t]=(0,i.useState)([]),[n,r]=(0,i.useState)({}),[o,s]=(0,i.useState)([]),[a,l]=(0,i.useState)({}),[c,u]=(0,i.useState)(!1),d=async()=>{try{const e=(await Er.get("".concat("https://jaktharry-app-130a026cb2e4.herokuapp.com","/api/users"))).data.filter((e=>2===e.role));t(e);const n=await Er.get("".concat("https://jaktharry-app-130a026cb2e4.herokuapp.com","/api/posts?cat=aktiviteter"));s(n.data),u(!1)}catch(e){console.error("Error fetching data:",e)}};(0,i.useEffect)((()=>{c&&d()}),[c]);(0,i.useEffect)((()=>{e.forEach((e=>{(async e=>{try{const t="".concat("https://jaktharry-app-130a026cb2e4.herokuapp.com","/api/moderators/activities/").concat(e),n=await Er.get(t);if(n.data){const{Activityid1:t,Activityid2:i,Activityid3:s}=n.data,a={userId:e,Activityid1:t,Activityid2:i,Activityid3:s},l=e=>o.find((t=>t.postId===e))||null,c=l(t),u=l(i),d=l(s);r((n=>({...n,[e]:{Activityid1:{...t,post:c},Activityid2:{...i,post:u},Activityid3:{...s,post:d},hasActivity:a}})))}else{console.log("No activities found for the user. Creating a new user..."),await h(e);const{Activityid1:t=null,Activityid2:n=null,Activityid3:i=null}={},o=t||n||i;r((r=>({...r,[e]:{Activityid1:t,Activityid2:n,Activityid3:i,hasActivity:o}})))}}catch(t){console.error("Error fetching moderator activities:",t)}})(e.id)}))}),[o]);const h=async e=>{try{const t="".concat("https://jaktharry-app-130a026cb2e4.herokuapp.com","/api/moderators/activities/").concat(e);await Er.post(t),console.log("Activities created successfully")}catch(t){console.error("Error creating activities in the database:",t)}},f=(e,t)=>{const i=a[e],s=o.find((e=>e.postId===i)),c=s?s.title:"V\xe4lj en aktivitet";return(0,Nr.jsxs)("div",{className:"mt-2",style:{maxHeight:"200px",overflowY:"auto"},children:[(0,Nr.jsxs)("select",{className:"form-select form-select-sm",value:i||"",onChange:t=>((e,t)=>{l((n=>({...n,[e]:t})))})(e,t.target.value),children:[(0,Nr.jsxs)("option",{value:"",children:["...",c]}),o.map((e=>(0,Nr.jsx)("option",{value:e.postId,children:e.title},e.postId)))]}),i&&(0,Nr.jsx)("button",{type:"button",className:"btn btn-outline-success btn-sm mt-2",onClick:()=>(async(e,t)=>{try{var i,o,s,l,c,h;const f=a[e],p=n[e]||{};if(!f)return void console.error("No activity selected");const m="".concat("https://jaktharry-app-130a026cb2e4.herokuapp.com","/api/moderators/activities/").concat(e),g={Activityid1:"Activityid1"===t?f:(null===(i=p.Activityid1)||void 0===i||null===(o=i.post)||void 0===o?void 0:o.postId)||null,Activityid2:"Activityid2"===t?f:(null===(s=p.Activityid2)||void 0===s||null===(l=s.post)||void 0===l?void 0:l.postId)||null,Activityid3:"Activityid3"===t?f:(null===(c=p.Activityid3)||void 0===c||null===(h=c.post)||void 0===h?void 0:h.postId)||null},v=await Er.put(m,g);console.log("Response:",v.data);const y="".concat("https://jaktharry-app-130a026cb2e4.herokuapp.com","/api/moderators/activities/").concat(e),b=await Er.get(y);r((t=>({...t,[e]:{Activityid1:b.data.Activityid1,Activityid2:b.data.Activityid2,Activityid3:b.data.Activityid3,hasActivity:!0}}))),u(!0),await d()}catch(f){console.error("Error updating activities:",f)}})(e,t),children:"Confirm"})]})},p=async(e,t)=>{try{const x="".concat("https://jaktharry-app-130a026cb2e4.herokuapp.com","/api/moderators/activities/").concat(e),S=n[e]||{};let k={};var i,o,s,a;if("Activityid1"===t)k={Activityid1:(null===(i=S.Activityid2)||void 0===i||null===(o=i.post)||void 0===o?void 0:o.postId)||null,Activityid2:(null===(s=S.Activityid3)||void 0===s||null===(a=s.post)||void 0===a?void 0:a.postId)||null,Activityid3:null};else if("Activityid2"===t){var l,c,d,h;k={Activityid1:(null===(l=S.Activityid1)||void 0===l||null===(c=l.post)||void 0===c?void 0:c.postId)||null,Activityid2:(null===(d=S.Activityid3)||void 0===d||null===(h=d.post)||void 0===h?void 0:h.postId)||null,Activityid3:null}}else if("Activityid3"===t){var f,p,m,g;k={Activityid1:(null===(f=S.Activityid1)||void 0===f||null===(p=f.post)||void 0===p?void 0:p.postId)||null,Activityid2:(null===(m=S.Activityid2)||void 0===m||null===(g=m.post)||void 0===g?void 0:g.postId)||null,Activityid3:null}}else{var v,y,b,w,A,_;k={Activityid1:(null===(v=S.Activityid1)||void 0===v||null===(y=v.post)||void 0===y?void 0:y.postId)||null,Activityid2:(null===(b=S.Activityid2)||void 0===b||null===(w=b.post)||void 0===w?void 0:w.postId)||null,Activityid3:(null===(A=S.Activityid3)||void 0===A||null===(_=A.post)||void 0===_?void 0:_.postId)||null}}const E=await Er.put(x,k);r((t=>({...t,[e]:{...t[e],Activityid1:E.data.Activityid1,Activityid2:E.data.Activityid2,Activityid3:E.data.Activityid3,hasActivity:E.data.Activityid1||E.data.Activityid2||E.data.Activityid3}}))),u(!0)}catch(x){console.error("Error deleting activity ".concat(t," for user ").concat(e,":"),x)}};return(0,Nr.jsxs)("div",{className:"PostClass PostClass12",children:[(0,Nr.jsx)("div",{className:"d-flex justify-content-end m-3",children:(0,Nr.jsx)("button",{className:"btn btn-dark",onClick:()=>{u(!0)},children:"Get Data"})}),(0,Nr.jsx)("div",{className:"table-responsive",children:(0,Nr.jsxs)("table",{className:"table table-bordered",children:[(0,Nr.jsx)("thead",{children:(0,Nr.jsxs)("tr",{children:[(0,Nr.jsx)("th",{width:"10%",children:"#"}),(0,Nr.jsx)("th",{width:"25%",children:"Moderator"}),(0,Nr.jsx)("th",{width:"45%",children:"Aktiviteter som han ansvarar f\xf6r"})]})}),(0,Nr.jsx)("tbody",{children:e.map(((e,t)=>{var r,o,s,a,l,c,u,d,h,m,g,v;return(0,Nr.jsx)(i.Fragment,{children:(0,Nr.jsxs)("tr",{children:[(0,Nr.jsxs)("td",{width:"10%",children:["# ",e.membershipNo]}),(0,Nr.jsx)("td",{className:"userClass",width:"25%",children:(0,Nr.jsxs)("small",{children:[e.username,(0,Nr.jsxs)("p",{className:"my-1",children:[e.firstName," ",e.lastName]}),(0,Nr.jsx)("p",{className:"my-1",children:e.email}),(0,Nr.jsxs)("p",{className:"my-1",children:["0",e.phone]})]})}),(0,Nr.jsx)("td",{className:"userClass",width:"45%",children:(0,Nr.jsx)("div",{children:n[e.id]&&null!==(r=n[e.id].Activityid1)&&void 0!==r&&null!==(o=r.post)&&void 0!==o&&o.title?(0,Nr.jsxs)("div",{children:[(0,Nr.jsxs)("span",{children:[(0,Nr.jsx)("strong",{children:"Aktivitet 1: "}),null===(s=n[e.id].Activityid1)||void 0===s||null===(a=s.post)||void 0===a?void 0:a.title,(0,Nr.jsx)(Dt,{className:"ms-5",to:"",onClick:()=>p(e.id,"Activityid1"),children:(0,Nr.jsx)("img",{src:wB,alt:"",className:"iconClass4"})})]}),null!==(l=n[e.id].Activityid2)&&void 0!==l&&null!==(c=l.post)&&void 0!==c&&c.title?(0,Nr.jsxs)("div",{children:[(0,Nr.jsxs)("span",{children:[(0,Nr.jsx)("strong",{children:"Aktivitet 2: "}),null===(u=n[e.id].Activityid2)||void 0===u||null===(d=u.post)||void 0===d?void 0:d.title,(0,Nr.jsx)(Dt,{className:"ms-5",to:"",onClick:()=>p(e.id,"Activityid2"),children:(0,Nr.jsx)("img",{src:wB,alt:"",className:"iconClass4"})})]}),null!==(h=n[e.id].Activityid3)&&void 0!==h&&null!==(m=h.post)&&void 0!==m&&m.title?(0,Nr.jsx)("div",{children:(0,Nr.jsxs)("span",{children:[(0,Nr.jsx)("strong",{children:"Aktivitet 3: "}),null===(g=n[e.id].Activityid3)||void 0===g||null===(v=g.post)||void 0===v?void 0:v.title,(0,Nr.jsx)(Dt,{className:"ms-5",to:"",onClick:()=>p(e.id,"Activityid3"),children:(0,Nr.jsx)("img",{src:wB,alt:"",className:"iconClass4"})})]})}):f(e.id,"Activityid3")]}):f(e.id,"Activityid2")]}):f(e.id,"Activityid1")})})]})},e.id)}))})]})})]})},jB=()=>(0,Nr.jsx)("div",{children:(0,Nr.jsx)("h3",{children:"Admin meddelanden"})}),PB=()=>(0,Nr.jsx)("div",{children:(0,Nr.jsx)("h3",{children:"Mod meddelanden"})}),RB=()=>{const[e,t]=(0,i.useState)([]),[n,r]=(0,i.useState)(""),[o,s]=(0,i.useState)(null),[a,l]=(0,i.useState)(null),[c,u]=(0,i.useState)(!1),d=async e=>{if(u(!0),e)try{const n="".concat("https://jaktharry-app-130a026cb2e4.herokuapp.com","/api/comments/userComment/").concat(e),r=await Er.get(n);if(r.data){const e=r.data.sort(((e,t)=>new Date(t.date)-new Date(e.date)));t(e)}else console.log("No data found")}catch(n){console.error("Error fetching data:",n.response?n.response.data:n.message),window.alert("Ett fel uppstod vid h\xe4mtning av data. V\xe4nligen f\xf6rs\xf6k igen senare.")}finally{u(!1)}else u(!1)};(0,i.useEffect)((()=>{o&&d(o)}),[o]);const h=async()=>{try{const e="".concat("https://jaktharry-app-130a026cb2e4.herokuapp.com","/api/users/check?membershipNo=").concat(n),t=await Er.get(e);if(t.data.userExists){const e=t.data.result[0];s(e.id),l(e)}else window.confirm("Medlemsnumret hittades inte .. Verifiera medlemsnumret")}catch(e){console.error("Error searching for user:",e)}};return(0,Nr.jsxs)("div",{className:"PostClass PostClass8",children:[(0,Nr.jsx)("label",{className:"form-label labelClass",htmlFor:"form1",children:"Ange medlemsnr"}),(0,Nr.jsx)("input",{className:"inputClass",type:"search",value:n,onChange:e=>{r(e.target.value)},onKeyDown:e=>{"Enter"===e.key&&h()}}),(0,Nr.jsx)("button",{className:"btnClass",onClick:h,children:"S\xf6k"}),c&&(0,Nr.jsx)("p",{children:"Loading..."}),a&&(0,Nr.jsxs)("div",{className:"userInfo",children:[(0,Nr.jsxs)("p",{className:"text-start ps-5 mt-3",style:{fontSize:"13px"},children:[(0,Nr.jsx)("strong",{children:"Anv\xe4ndarnamn: "}),(0,Nr.jsxs)("span",{children:[" ","... ",a.firstName," ",a.lastName]})]}),(0,Nr.jsxs)("p",{className:"text-start ps-5",style:{fontSize:"13px"},children:[(0,Nr.jsx)("strong",{children:"E-post: "}),a.email]}),(0,Nr.jsxs)("p",{className:"text-start ps-5",style:{fontSize:"13px"},children:[(0,Nr.jsx)("strong",{children:"Telefon: "}),"0",a.phone]}),(0,Nr.jsxs)("p",{className:"text-start ps-5",style:{fontSize:"13px"},children:[(0,Nr.jsx)("strong",{children:"Medlemsnr: "}),"#",a.membershipNo]}),(0,Nr.jsxs)("h5",{children:[a.username," kommentarer"]})]}),!a&&(0,Nr.jsx)("div",{children:(0,Nr.jsx)("h5",{className:"my-3",children:"Anv\xe4ndarkommentarer"})}),(0,Nr.jsx)("div",{className:"table-responsive",children:(0,Nr.jsxs)("table",{className:"table table-bordered",children:[(0,Nr.jsx)("thead",{children:(0,Nr.jsxs)("tr",{children:[(0,Nr.jsx)("th",{width:"10%",children:"Post-id"}),(0,Nr.jsx)("th",{width:"20%",children:"Datum"}),(0,Nr.jsx)("th",{width:"40%",children:"Kommentarer"}),(0,Nr.jsx)("th",{width:"15%",children:"d\xf6lj/visa"}),(0,Nr.jsx)("th",{width:"10%",children:"Ta bort"})]})}),(0,Nr.jsx)("tbody",{children:e.map((e=>(0,Nr.jsxs)("tr",{children:[(0,Nr.jsx)("td",{width:"10%",children:e.postId}),(0,Nr.jsx)("td",{width:"20%",children:ri()(e.date).format("LL")}),(0,Nr.jsx)("td",{width:"40%",children:(0,Nr.jsx)("p",{className:"titleClass",children:e.comments})}),(0,Nr.jsxs)("td",{width:"15%",children:["show"===e.Visibility?(0,Nr.jsx)("span",{children:"syns "}):(0,Nr.jsx)("span",{children:"dold "}),(0,Nr.jsx)("span",{children:(0,Nr.jsxs)("select",{onChange:t=>(async(e,t)=>{"D\xf6lj"===t?t="hide":"Visa"===t&&(t="show");try{const n="".concat("https://jaktharry-app-130a026cb2e4.herokuapp.com","/api/comments/updateVisibility");await Er.put(n,{commentId:e,value:t}),o&&d(o)}catch(n){console.error("Error updating visibility status:",n.response?n.response.data:n.message),window.alert("Ett fel uppstod vid uppdatering av synlighet. V\xe4nligen f\xf6rs\xf6k igen senare.")}})(e.id,t.target.value),children:[(0,Nr.jsx)("option",{value:"D\xf6lj",children:"D\xf6lj"}),(0,Nr.jsx)("option",{value:"Visa",children:"Visa"})]})})]}),(0,Nr.jsx)("td",{width:"10%",children:(0,Nr.jsx)(Dt,{to:"",onClick:()=>(async e=>{try{if(!window.confirm("\xc4r du s\xe4ker p\xe5 att du vill radera denna kommentaren?"))return;const t=localStorage.getItem("accessToken"),n={Authorization:"Bearer ".concat(t)},r="".concat("https://jaktharry-app-130a026cb2e4.herokuapp.com","/api/comments/delete/").concat(e);await Er.delete(r,{headers:n}),d(o)}catch(t){console.error("Error deleting comment:",t)}})(e.id),children:(0,Nr.jsx)("img",{src:wB,alt:"delete",className:"iconClass2"})})})]},e.id)))})]})})]})},LB=()=>{const[e,t]=(0,i.useState)([]),[n,r]=(0,i.useState)(""),[o,s]=(0,i.useState)(null),[a,l]=(0,i.useState)(null),[c,u]=(0,i.useState)([]),[d,h]=(0,i.useState)("");(0,i.useEffect)((()=>{(async()=>{try{const e="".concat("https://jaktharry-app-130a026cb2e4.herokuapp.com","/api/posts?cat=aktiviteter"),n=(await Er.get(e)).data.sort(((e,t)=>new Date(t.date)-new Date(e.date)));return t(n),void u(n)}catch(e){console.error("Error fetching data:",e),s("Error fetching activities. Please try again later.")}})()}),[n]);const f=async()=>{try{const e=await Er.get("".concat("https://jaktharry-app-130a026cb2e4.herokuapp.com","/api/comments/get/").concat(n));if(h(e.data),c.length>0){const e=c.find((e=>e.postId.toString()===n));e&&l(e)}}catch(e){console.error("Error fetching users:",e),s("Error fetching users. Please try again later.")}};return(0,Nr.jsxs)("div",{className:"PostClass PostClass9",children:[(0,Nr.jsx)("h3",{className:"labelClass",htmlFor:"form1",children:"V\xe4lj aktivitetens namn"}),(0,Nr.jsxs)("select",{className:"inputClass",onChange:e=>{r(e.target.value)},children:[(0,Nr.jsx)("option",{children:"V\xe4lj en aktivitet"}),e.map(((e,t)=>(0,Nr.jsx)("option",{value:e.postId,children:e.title},t)))]}),(0,Nr.jsx)("button",{className:"btnClass",onClick:f,children:"S\xf6k"}),(0,Nr.jsxs)("div",{children:[o&&(0,Nr.jsxs)("p",{children:["Error: ",o]})," ",a&&(0,Nr.jsxs)("div",{className:"userInfo",children:[(0,Nr.jsxs)("p",{className:"text-start ps-3 mt-3",children:[(0,Nr.jsx)("strong",{children:"Aktivitetstitel: "}),(0,Nr.jsx)("br",{}),(0,Nr.jsx)("span",{className:"text-success ms-5",children:a.title})]}),(0,Nr.jsxs)("ul",{className:"list-group text-start mb-3 ms-5 w-75",children:[(0,Nr.jsxs)("li",{className:"list-group-item userClass text-danger",children:[(0,Nr.jsx)("span",{children:(0,Nr.jsx)("b",{children:"Aktivitetsstatus: "})}),a.status]}),(0,Nr.jsxs)("li",{className:"list-group-item userClass",children:[(0,Nr.jsx)("span",{children:(0,Nr.jsx)("b",{children:"Aktiviteten \xe4ger rum i: "})}),ri()(a.adminDate).format("LL")]}),(0,Nr.jsxs)("li",{className:"list-group-item userClass",children:[(0,Nr.jsx)("span",{children:(0,Nr.jsx)("b",{children:"Sista dag f\xf6r anm\xe4lan: "})}),ri()(a.deadline).format("LL")]}),(0,Nr.jsxs)("li",{className:"list-group-item userClass",children:[(0,Nr.jsx)("span",{children:(0,Nr.jsx)("b",{children:"Antal registrerade anv\xe4ndare: "})}),a.total]}),(0,Nr.jsxs)("li",{className:"list-group-item userClass",children:[(0,Nr.jsx)("span",{children:(0,Nr.jsx)("b",{children:"Pris: "})}),a.price]}),(0,Nr.jsxs)("li",{className:"list-group-item userClass",children:[(0,Nr.jsx)("span",{children:(0,Nr.jsx)("b",{children:"Totalt till\xe5tet antal att registrera: "})}),a.spots]})]}),(0,Nr.jsx)("h4",{className:"text-success",children:"Kommentarer till detta inl\xe4gg"})]}),!a&&(0,Nr.jsx)("div",{children:(0,Nr.jsx)("h5",{className:"my-3",children:"Kommentarer till detta inl\xe4gg"})})]}),(0,Nr.jsx)("div",{className:"table-responsive",children:(0,Nr.jsxs)("table",{className:"table table-bordered",children:[(0,Nr.jsx)("thead",{children:(0,Nr.jsxs)("tr",{children:[(0,Nr.jsx)("th",{width:"10%",children:"Medlemsnr"}),(0,Nr.jsx)("th",{width:"15%",children:"Datum"}),(0,Nr.jsx)("th",{width:"20%",children:"Anv\xe4ndarnamn"}),(0,Nr.jsx)("th",{width:"30%",children:"Kommentarer"}),(0,Nr.jsx)("th",{width:"15%",children:"d\xf6lj/visa"})]})}),d&&d.map(((e,t)=>(0,Nr.jsx)("tbody",{children:(0,Nr.jsxs)("tr",{children:[(0,Nr.jsxs)("td",{width:"10%",children:["#",e.membershipNo," "]}),(0,Nr.jsx)("td",{width:"15%",children:ri()(e.commentDate).calendar()}),(0,Nr.jsx)("td",{width:"20%",children:e.userName}),(0,Nr.jsx)("td",{width:"30%",className:"text-start",children:e.comments}),(0,Nr.jsxs)("td",{width:"15%",children:["show"===e.Visibility?(0,Nr.jsx)("span",{children:"syns "}):(0,Nr.jsx)("span",{children:"dold "}),(0,Nr.jsx)("span",{children:(0,Nr.jsxs)("select",{onChange:t=>(async(e,t)=>{"D\xf6lj"===t?t="hide":"Visa"===t&&(t="show");try{const n="".concat("https://jaktharry-app-130a026cb2e4.herokuapp.com","/api/comments/updateVisibility");await Er.put(n,{commentId:e,value:t}),f()}catch(o){console.error("Error updating visibility status:",o.response?o.response.data:o.message),window.alert("Ett fel uppstod vid uppdatering av synlighet. V\xe4nligen f\xf6rs\xf6k igen senare.")}})(e.id,t.target.value),children:[(0,Nr.jsx)("option",{value:"D\xf6lj",children:"D\xf6lj"}),(0,Nr.jsx)("option",{value:"Visa",children:"Visa"})]})})]})]})},e.id)))]})})]})},MB=(Bo().string,Bo().bool,Bo().bool,Bo().bool,Bo().bool,i.forwardRef(((e,t)=>{let{bsPrefix:n,className:r,fluid:i=!1,rounded:o=!1,roundedCircle:s=!1,thumbnail:a=!1,...l}=e;return n=Rr(n,"img"),(0,Nr.jsx)("img",{ref:t,...l,className:Tr()(r,i&&"".concat(n,"-fluid"),o&&"rounded",s&&"rounded-circle",a&&"".concat(n,"-thumbnail"))})})));MB.displayName="Image";const BB=MB,UB={type:Bo().string,tooltip:Bo().bool,as:Bo().elementType},FB=i.forwardRef(((e,t)=>{let{as:n="div",className:r,type:i="valid",tooltip:o=!1,...s}=e;return(0,Nr.jsx)(n,{...s,ref:t,className:Tr()(r,"".concat(i,"-").concat(o?"tooltip":"feedback"))})}));FB.displayName="Feedback",FB.propTypes=UB;const VB=FB,qB=i.createContext({}),HB=i.forwardRef(((e,t)=>{let{id:n,bsPrefix:r,className:o,type:s="checkbox",isValid:a=!1,isInvalid:l=!1,as:c="input",...u}=e;const{controlId:d}=(0,i.useContext)(qB);return r=Rr(r,"form-check-input"),(0,Nr.jsx)(c,{...u,ref:t,type:s,id:n||d,className:Tr()(o,r,a&&"is-valid",l&&"is-invalid")})}));HB.displayName="FormCheckInput";const zB=HB,GB=i.forwardRef(((e,t)=>{let{bsPrefix:n,className:r,htmlFor:o,...s}=e;const{controlId:a}=(0,i.useContext)(qB);return n=Rr(n,"form-check-label"),(0,Nr.jsx)("label",{...s,ref:t,htmlFor:o||a,className:Tr()(r,n)})}));GB.displayName="FormCheckLabel";const YB=GB;const WB=i.forwardRef(((e,t)=>{let{id:n,bsPrefix:r,bsSwitchPrefix:o,inline:s=!1,reverse:a=!1,disabled:l=!1,isValid:c=!1,isInvalid:u=!1,feedbackTooltip:d=!1,feedback:h,feedbackType:f,className:p,style:m,title:g="",type:v="checkbox",label:y,children:b,as:w="input",...A}=e;r=Rr(r,"form-check"),o=Rr(o,"form-switch");const{controlId:_}=(0,i.useContext)(qB),x=(0,i.useMemo)((()=>({controlId:n||_})),[_,n]),S=!b&&null!=y&&!1!==y||function(e,t){return i.Children.toArray(e).some((e=>i.isValidElement(e)&&e.type===t))}(b,YB),k=(0,Nr.jsx)(zB,{...A,type:"switch"===v?"checkbox":v,ref:t,isValid:c,isInvalid:u,disabled:l,as:w});return(0,Nr.jsx)(qB.Provider,{value:x,children:(0,Nr.jsx)("div",{style:m,className:Tr()(p,S&&r,s&&"".concat(r,"-inline"),a&&"".concat(r,"-reverse"),"switch"===v&&o),children:b||(0,Nr.jsxs)(Nr.Fragment,{children:[k,S&&(0,Nr.jsx)(YB,{title:g,children:y}),h&&(0,Nr.jsx)(VB,{type:f,tooltip:d,children:h})]})})})}));WB.displayName="FormCheck";const KB=Object.assign(WB,{Input:zB,Label:YB}),QB=i.forwardRef(((e,t)=>{let{bsPrefix:n,type:r,size:o,htmlSize:s,id:a,className:l,isValid:c=!1,isInvalid:u=!1,plaintext:d,readOnly:h,as:f="input",...p}=e;const{controlId:m}=(0,i.useContext)(qB);return n=Rr(n,"form-control"),(0,Nr.jsx)(f,{...p,type:r,size:s,ref:t,readOnly:h,id:a||m,className:Tr()(l,d?"".concat(n,"-plaintext"):n,o&&"".concat(n,"-").concat(o),"color"===r&&"".concat(n,"-color"),c&&"is-valid",u&&"is-invalid")})}));QB.displayName="FormControl";const JB=Object.assign(QB,{Feedback:VB}),XB=i.forwardRef(((e,t)=>{let{className:n,bsPrefix:r,as:i="div",...o}=e;return r=Rr(r,"form-floating"),(0,Nr.jsx)(i,{ref:t,className:Tr()(n,r),...o})}));XB.displayName="FormFloating";const ZB=XB,$B=i.forwardRef(((e,t)=>{let{controlId:n,as:r="div",...o}=e;const s=(0,i.useMemo)((()=>({controlId:n})),[n]);return(0,Nr.jsx)(qB.Provider,{value:s,children:(0,Nr.jsx)(r,{...o,ref:t})})}));$B.displayName="FormGroup";const eU=$B,tU=i.forwardRef(((e,t)=>{let{as:n="label",bsPrefix:r,column:o=!1,visuallyHidden:s=!1,className:a,htmlFor:l,...c}=e;const{controlId:u}=(0,i.useContext)(qB);r=Rr(r,"form-label");let d="col-form-label";"string"===typeof o&&(d="".concat(d," ").concat(d,"-").concat(o));const h=Tr()(a,r,s&&"visually-hidden",o&&d);return l=l||u,o?(0,Nr.jsx)(da,{ref:t,as:"label",className:h,htmlFor:l,...c}):(0,Nr.jsx)(n,{ref:t,className:h,htmlFor:l,...c})}));tU.displayName="FormLabel";const nU=tU,rU=i.forwardRef(((e,t)=>{let{bsPrefix:n,className:r,id:o,...s}=e;const{controlId:a}=(0,i.useContext)(qB);return n=Rr(n,"form-range"),(0,Nr.jsx)("input",{...s,type:"range",ref:t,className:Tr()(r,n),id:o||a})}));rU.displayName="FormRange";const iU=rU,oU=i.forwardRef(((e,t)=>{let{bsPrefix:n,size:r,htmlSize:o,className:s,isValid:a=!1,isInvalid:l=!1,id:c,...u}=e;const{controlId:d}=(0,i.useContext)(qB);return n=Rr(n,"form-select"),(0,Nr.jsx)("select",{...u,size:o,ref:t,className:Tr()(s,n,r&&"".concat(n,"-").concat(r),a&&"is-valid",l&&"is-invalid"),id:c||d})}));oU.displayName="FormSelect";const sU=oU,aU=i.forwardRef(((e,t)=>{let{bsPrefix:n,className:r,as:i="small",muted:o,...s}=e;return n=Rr(n,"form-text"),(0,Nr.jsx)(i,{...s,ref:t,className:Tr()(r,n,o&&"text-muted")})}));aU.displayName="FormText";const lU=aU,cU=i.forwardRef(((e,t)=>(0,Nr.jsx)(KB,{...e,ref:t,type:"switch"})));cU.displayName="Switch";const uU=Object.assign(cU,{Input:KB.Input,Label:KB.Label}),dU=i.forwardRef(((e,t)=>{let{bsPrefix:n,className:r,children:i,controlId:o,label:s,...a}=e;return n=Rr(n,"form-floating"),(0,Nr.jsxs)(eU,{ref:t,className:Tr()(r,n),controlId:o,...a,children:[i,(0,Nr.jsx)("label",{htmlFor:o,children:s})]})}));dU.displayName="FloatingLabel";const hU=dU,fU={_ref:Bo().any,validated:Bo().bool,as:Bo().elementType},pU=i.forwardRef(((e,t)=>{let{className:n,validated:r,as:i="form",...o}=e;return(0,Nr.jsx)(i,{...o,ref:t,className:Tr()(n,r&&"was-validated")})}));pU.displayName="Form",pU.propTypes=fU;const mU=Object.assign(pU,{Group:eU,Control:JB,Floating:ZB,Check:KB,Switch:uU,Label:nU,Text:lU,Range:iU,Select:sU,FloatingLabel:hU});const gU=function(){var e,t,n,r,o;const{currentUser:s}=(0,i.useContext)(Xr),[a,l]=(0,i.useState)({}),[c,u]=(0,i.useState)(""),[d,h]=(0,i.useState)(""),[f,p]=(0,i.useState)([]),[m]=wb(xb),[g,v]=(0,i.useState)(!1),y=s&&1===s.role,b=s&&0===s.role;(0,i.useEffect)((()=>{(async()=>{try{var e;const t="".concat("https://jaktharry-app-130a026cb2e4.herokuapp.com","/api/users"),n=await Er.get(t);p(null===n||void 0===n||null===(e=n.data)||void 0===e?void 0:e.filter((e=>(null===e||void 0===e?void 0:e.id)!==(null===s||void 0===s?void 0:s.id))))}catch(t){console.error("Error fetching data:",t)}})()}),[s.id]);const w=e=>{l(e)},A=m.find((e=>b?e.senderId===a.id:e.receiverId===a.id)),_=(e,t)=>{let n,r;if(null!==e&&void 0!==e&&e.seconds){const t=1e3*e.seconds+e.nanoseconds/1e6,r={hour:"2-digit",minute:"2-digit",hour12:!1};n=new Date(t).toLocaleTimeString("sv-SE",r)}else{const t={hour:"2-digit",minute:"2-digit",hour12:!1};n=new Date(e).toLocaleTimeString("sv-SE",t)}if(null!==t&&void 0!==t&&t.seconds){const e=1e3*t.seconds+t.nanoseconds/1e6,n={hour:"2-digit",minute:"2-digit",hour12:!1};r=new Date(e).toLocaleTimeString("sv-SE",n)}else{const e={hour:"2-digit",minute:"2-digit",hour12:!1};r=new Date(t).toLocaleTimeString("sv-SE",e)}return{time1:n,time2:r,isOneHourApart:(null!==t&&void 0!==t&&t.seconds?Math.abs(1e3*e.seconds+e.nanoseconds/1e6-1e3*t.seconds-t.nanoseconds/1e6):36e5)>=36e5}};return(0,i.useEffect)((()=>{null!==A&&void 0!==A&&A.id&&(async e=>{await aP(aj(JM,"Chats",A.id),{conversation:null===(e=A.conversation)||void 0===e?void 0:e.map((e=>e.senderId!==s.id?{...e,isSeen:!0}:e))})})()}),[A,s.id]),(0,Nr.jsx)(Fr,{fluid:!0,style:{paddingTop:10},children:(0,Nr.jsxs)(ca,{children:[b&&(0,Nr.jsx)(da,{sm:3,md:3,lg:3,s:!0,children:(0,Nr.jsx)(bB,{children:null===(e=m.filter((e=>e.receiverId===s.id)))||void 0===e?void 0:e.map((e=>{var t,n,r;return(0,Nr.jsxs)(bB.Item,{variant:"warning",active:a.id===e.senderId,onClick:()=>w(null===f||void 0===f?void 0:f.find((t=>t.id===e.senderId))),style:{display:"flex",gap:"10px",position:"relative"},children:[(0,Nr.jsx)(BB,{src:null===f||void 0===f||null===(t=f.find((t=>t.id===e.senderId)))||void 0===t?void 0:t.img,style:{width:24,height:24},roundedCircle:!0})," ",null===f||void 0===f||null===(n=f.find((t=>t.id===e.senderId)))||void 0===n?void 0:n.username,!(null===(r=m.filter((e=>e.receiverId===s.id&&e.conversation.find((e=>!e.isSeen&&e.senderId!==s.id)))))||void 0===r||!r.length)&&(0,Nr.jsx)("span",{style:{width:10,height:10,backgroundColor:"#664d03",borderRadius:"50%",position:"absolute",top:5,right:5}})]},e.id)}))})}),b&&!(null!==(t=m.filter((e=>e.receiverId===s.id)))&&void 0!==t&&t.length)&&(0,Nr.jsx)("p",{style:{textAlign:"center"},children:"Inget meddelande fr\xe5n admin"}),y&&(0,Nr.jsxs)(da,{sm:3,md:3,lg:3,s:!0,children:[(0,Nr.jsx)("h6",{style:{paddingTop:10},children:"V\xe4lj en anv\xe4ndare"}),(0,Nr.jsxs)(bB,{children:[(0,Nr.jsx)(bB.Item,{children:(0,Nr.jsx)(mU.Control,{type:"text",placeholder:"S\xf6k",value:d,onChange:e=>{var t,n;h((null===e||void 0===e||null===(t=e.target)||void 0===t||null===(n=t.value)||void 0===n?void 0:n.toLowerCase())||"")}})}),null===f||void 0===f||null===(n=f.filter((e=>{var t,n;return 0===e.role&&(null===e||void 0===e||null===(t=e.username)||void 0===t||null===(n=t.toLowerCase())||void 0===n?void 0:n.includes(d))})))||void 0===n?void 0:n.map((e=>{var t;return(0,Nr.jsxs)(bB.Item,{variant:"warning",active:a.id===e.id,onClick:()=>w(e),style:{display:"flex",gap:"10px",position:"relative"},children:[(0,Nr.jsx)(BB,{src:null===e||void 0===e?void 0:e.img,style:{width:24,height:24},roundedCircle:!0})," ",e.username,!(null===(t=m.filter((e=>e.receiverId===s.id&&e.conversation.find((e=>!e.isSeen&&e.senderId!==s.id)))))||void 0===t||!t.length)&&(0,Nr.jsx)("span",{style:{width:10,height:10,backgroundColor:"#664d03",borderRadius:"50%",position:"absolute",top:5,right:5}})]},e.id)})),!(null!==f&&void 0!==f&&null!==(r=f.filter((e=>{var t,n;return null===e||void 0===e||null===(t=e.username)||void 0===t||null===(n=t.toLowerCase())||void 0===n?void 0:n.includes(d)})))&&void 0!==r&&r.length)&&(0,Nr.jsx)(bB.Item,{children:(0,Nr.jsx)("p",{children:"Anv\xe4ndaren hittades inte!"})})]})]}),(0,Nr.jsxs)(da,{sm:9,md:9,lg:9,children:[y&&(0,Nr.jsx)("h1",{style:{fontSize:24},children:null!==a&&void 0!==a&&a.id?"Chatta med ".concat(a.username):"V\xe4lj en anv\xe4ndare"}),(0,Nr.jsx)("div",{style:{height:"60vh",overflowY:"auto",display:"flex",flexDirection:"column"},children:null===A||void 0===A||null===(o=A.conversation)||void 0===o?void 0:o.map(((e,t)=>{var n,r,i;return(0,Nr.jsxs)(Nr.Fragment,{children:[(_(e.time,null===A||void 0===A||null===(n=A.conversation)||void 0===n||null===(r=n[t+1])||void 0===r?void 0:r.time).isOneHourApart||0===t)&&(0,Nr.jsx)("small",{style:{textAlign:"center",color:"#999",fontSize:"0.75rem"},children:_(e.time).time1}),(0,Nr.jsx)("div",{style:{backgroundColor:e.senderId===s.id?"#664d03":"#f0f0f0",color:e.senderId===s.id?"#ffffff":"#000000",borderRadius:"10px",padding:"8px 12px",marginBottom:"5px",alignSelf:e.senderId===s.id?"flex-end":"flex-start",maxWidth:"70%"},children:(0,Nr.jsx)("p",{style:{margin:0},children:e.text})},t),(null===A||void 0===A||null===(i=A.conversation)||void 0===i?void 0:i.length)-1===t&&e.senderId===s.id&&e.isSeen&&(0,Nr.jsx)("small",{style:{textAlign:"right",color:"#999",fontSize:"0.75rem"},children:"Sett"})]})}))}),!(null===a||void 0===a||!a.id)&&(0,Nr.jsxs)(mU,{onSubmit:async e=>{if(e.preventDefault(),""!==c.trim()&&null!==s&&void 0!==s&&s.id&&null!==a&&void 0!==a&&a.id)try{if(null!==A&&void 0!==A&&A.id)await aP(aj(JM,"Chats",A.id),{conversation:uP({text:c,senderId:null===s||void 0===s?void 0:s.id,time:new Date,isSeen:!1})});else{v(!0);const e=aj(sj(JM,"Chats")).id,t={id:e,time:new Date,senderId:null===s||void 0===s?void 0:s.id,receiverId:null===a||void 0===a?void 0:a.id,conversation:[{text:c,senderId:null===s||void 0===s?void 0:s.id,time:new Date,isSeen:!1}]};await function(e,t,n){e=ej(e,ij);const r=ej(e.firestore,uj),i=eP(e.converter,t,n);return lP(r,[Sj(xj(r),"setDoc",e._key,i,null!==e.converter,n).toMutation(e._key,nN.none())])}(aj(JM,"Chats",e),t)}u("")}catch(t){}finally{v(!1)}},style:{display:"flex",gap:5},children:[(0,Nr.jsx)(mU.Group,{controlId:"formBasicMessage",style:{flex:1},children:(0,Nr.jsx)(mU.Control,{type:"text",placeholder:"Skriv ditt meddelande h\xe4r...",value:c,onChange:e=>{u(e.target.value)}})}),(0,Nr.jsx)(Yr,{variant:"warning",type:"submit",style:{backgroundColor:"#664d03",color:"#fff"},disabled:g||!(null!==a&&void 0!==a&&a.id),children:"Skicka"})]})]})]})})},vU=()=>{const{currentUser:e}=(0,i.useContext)(Xr);if(!(e&&1===e.role))return window.location.href="/",null;const t=[{id:"#link1",title:"INL\xc4GG"},{id:"#link3",title:"Riks",content:(0,Nr.jsx)(_B,{})},{id:"#link4",title:"Lans",content:(0,Nr.jsx)(xB,{})},{id:"#link5",title:"Kretsar",content:(0,Nr.jsx)(SB,{})}],n=[{id:"#link6",title:"AKTIVITETER"},{id:"#link7",title:"Alla",content:(0,Nr.jsx)(CB,{})},{id:"#link8",title:"Anv\xe4ndaraktiviteter",content:(0,Nr.jsx)(TB,{})},{id:"#link9",title:"\u0650Aktivitetsdeltagare",content:(0,Nr.jsx)(NB,{})}],r=[{id:"#link11",title:"Anv\xe4ndarna"},{id:"#link12",title:"Set Anv\xe4ndarnas roller",content:(0,Nr.jsx)(OB,{})},{id:"#link13",title:"Set Moderator Kretsar",content:(0,Nr.jsx)(IB,{})},{id:"#link14",title:"Set moderator Aktiviteter",content:(0,Nr.jsx)(DB,{})}],o=[{id:"#link15",title:"Interaktion"},{id:"#link16",title:"Admin meddelanden",content:(0,Nr.jsx)(jB,{})},{id:"#link17",title:"Mod meddelanden",content:(0,Nr.jsx)(PB,{})},{id:"#link18",title:"Anv\xe4ndarkommentarer",content:(0,Nr.jsx)(RB,{})},{id:"#link19",title:"Inl\xe4ggets kommentarer",content:(0,Nr.jsx)(LB,{})},{id:"#link20",title:"skicka meddelande",content:(0,Nr.jsx)(gU,{})}],s=["#link1","#link6","#link11","#link15"];return(0,Nr.jsxs)(Fr,{className:"conLayout",children:[(0,Nr.jsx)("h1",{children:"Admin Dashboard"}),(0,Nr.jsx)(mB.Container,{id:"list-group-tabs",defaultActiveKey:"#link1",children:(0,Nr.jsxs)(ca,{className:"rowClass",children:[(0,Nr.jsx)(da,{className:"col1Class",sm:3,children:(0,Nr.jsxs)(bB,{className:"groupClass",children:[t.map((e=>(0,Nr.jsx)(bB.Item,{className:"list-group-item list-group-item-success ".concat(s.includes(e.id)?"non-clickable":""),...s.includes(e.id)?{}:{action:!0,href:e.id},children:e.title},e.id))),n.map((e=>(0,Nr.jsx)(bB.Item,{className:"list-group-item list-group-item-secondary ".concat(s.includes(e.id)?"non-clickable":""),...s.includes(e.id)?{}:{action:!0,href:e.id},children:e.title},e.id))),r.map((e=>(0,Nr.jsx)(bB.Item,{className:"list-group-item list-group-item-warning ".concat(s.includes(e.id)?"non-clickable":""),...s.includes(e.id)?{}:{action:!0,href:e.id},children:e.title},e.id))),o.map((e=>(0,Nr.jsx)(bB.Item,{className:"list-group-item list-group-item-success ".concat(s.includes(e.id)?"non-clickable":""),...s.includes(e.id)?{}:{action:!0,href:e.id},children:e.title},e.id)))]})}),(0,Nr.jsx)(da,{className:"col2Class",sm:9,children:(0,Nr.jsxs)(mB.Content,{children:[t.map((e=>(0,Nr.jsx)(mB.Pane,{eventKey:e.id,children:e.content},e.id))),n.map((e=>(0,Nr.jsx)(mB.Pane,{eventKey:e.id,children:e.content},e.id))),r.map((e=>(0,Nr.jsx)(mB.Pane,{eventKey:e.id,children:e.content},e.id))),o.map((e=>(0,Nr.jsx)(mB.Pane,{eventKey:e.id,children:e.content},e.id)))]})})]})})]})},yU=e=>{let{kretsar:t}=e;const[n,r]=(0,i.useState)([]),[o,s]=(0,i.useState)(""),a=We(),{currentUser:l}=(0,i.useContext)(Xr);(0,i.useEffect)((()=>{if(!t)return void s("Det finns ingen till\xe5telse att g\xe5 in i ett annat krets");(async()=>{try{const e="".concat("https://jaktharry-app-130a026cb2e4.herokuapp.com","/api/posts?cat=").concat(t),n=(await Er.get(e)).data.sort(((e,t)=>new Date(t.date)-new Date(e.date)));r(n),s("")}catch(e){console.error("Error fetching data:",e),s("Error fetching posts.")}})()}),[t]);return o?(0,Nr.jsx)("h5",{className:"text-danger m-5",children:o}):(0,Nr.jsx)("div",{className:"PostClass",children:(0,Nr.jsx)("div",{className:"table-responsive",children:(0,Nr.jsxs)("table",{className:"table table-bordered",children:[(0,Nr.jsx)("thead",{children:(0,Nr.jsxs)("tr",{children:[(0,Nr.jsx)("th",{children:"#"}),(0,Nr.jsx)("th",{width:"20%",children:"Datum"}),(0,Nr.jsx)("th",{width:"40%",children:"Titel"}),(0,Nr.jsx)("th",{children:"Skriven av"}),(0,Nr.jsx)("th",{width:"10%",children:"Redigera"}),(0,Nr.jsx)("th",{width:"10%",children:"Ta bort"})]})}),(0,Nr.jsx)("tbody",{children:n.map(((e,t)=>(0,Nr.jsxs)("tr",{children:[(0,Nr.jsx)("td",{children:t+1}),(0,Nr.jsx)("td",{width:"20%",className:"text-start",children:ri()(e.date).format("LL")}),(0,Nr.jsx)("td",{width:"40%",className:"text-start",children:(0,Nr.jsx)(Dt,{className:"titleClass",onClick:()=>(e=>{const t="".concat(window.location.origin,"/post/").concat(e);window.open(t,"_blank")})(e.postId),children:e.title})}),(0,Nr.jsx)("td",{children:e.username}),(0,Nr.jsx)("td",{width:"10%",children:(0,Nr.jsx)(Dt,{to:"/write?edit=2",state:e,onClick:()=>(e=>{a("/write",{state:{currentUser:l,...e}})})(e),children:(0,Nr.jsx)("img",{src:AB,alt:"",className:"iconClass1"})})}),(0,Nr.jsx)("td",{width:"10%",children:(0,Nr.jsx)(Dt,{to:"",onClick:()=>(async e=>{try{if(!window.confirm("Are you sure you want to delete this post?"))return;const t=localStorage.getItem("accessToken"),i={Authorization:"Bearer ".concat(t)},o="".concat("https://jaktharry-app-130a026cb2e4.herokuapp.com","/api/posts/").concat(e.postId);await Er.delete(o,{headers:i}),r(n.filter((t=>t.id!==e.postId)))}catch(t){console.error("Error deleting post:",t)}})(e),children:(0,Nr.jsx)("img",{src:wB,alt:"",className:"iconClass2"})})})]},e.postId)))})]})})})},bU=e=>{let{activity:t}=e;const[n,r]=(0,i.useState)([]),[o,s]=(0,i.useState)([]),[a,l]=(0,i.useState)(""),[c,u]=(0,i.useState)(!1),[d,h]=(0,i.useState)(""),[f,p]=(0,i.useState)(!1),m=We(),{currentUser:g}=(0,i.useContext)(Xr),v=(0,i.useCallback)((async()=>{try{u(!0);const e="".concat("https://jaktharry-app-130a026cb2e4.herokuapp.com","/api/users/activityUsers?activity=").concat(t),n=await Er.get(e);s(n.data.data),l(""),u(!1),p(!0)}catch(e){console.error("Error fetching data:",e),l("Error fetching posts."),u(!1)}}),[t]);(0,i.useEffect)((()=>{if(!t)return void l("Det finns inget tillst\xe5nd till annan aktivitet");(async()=>{try{const e=await Er.get("".concat("https://jaktharry-app-130a026cb2e4.herokuapp.com","/api/posts/").concat(t));r(e.data),l("")}catch(e){console.error("Error fetching data:",e),l("Error fetching posts.")}})(),v()}),[t,v]);const y=async()=>{try{const e=t,n=await b();null!==n?(await Er.post("".concat("https://jaktharry-app-130a026cb2e4.herokuapp.com","/api/posts/adminsignup"),{optionId:e,userId:n}),v(),window.alert("Perfekt ... Anv\xe4ndaren har lagt till aktivitet")):(console.log("User does not exist"),window.alert("Anv\xe4ndaren hittades inte. V\xe4nligen verifiera anv\xe4ndarnamnet.")),h("")}catch(e){console.error("Error adding user to activity:",e)}},b=async()=>{try{const e="".concat("https://jaktharry-app-130a026cb2e4.herokuapp.com","/api/users/check?membershipNo=").concat(d),t=(await Er.get(e)).data;return t.userExists?t.result[0].id:(console.log("Anv\xe4ndaren hittades inte"),window.confirm("Anv\xe4ndaren hittades inte .. Verifiera anv\xe4ndarnamnet"),null)}catch(e){throw console.error("Error searching for user:",e),e}};return a?(0,Nr.jsx)("h5",{className:"text-danger m-5",children:a}):(0,Nr.jsxs)("div",{className:"PostClass PostClass9",children:[c&&(0,Nr.jsx)("p",{children:"Loading..."}),n&&(0,Nr.jsxs)("div",{className:"userInfo",children:[(0,Nr.jsxs)("p",{className:"text-start ps-3 mt-3",children:[(0,Nr.jsx)("strong",{children:"Aktivitetstitel: "}),(0,Nr.jsx)("br",{}),(0,Nr.jsx)("span",{className:"text-success ms-5 ",children:n.title}),(0,Nr.jsx)(Dt,{className:"mx-5",to:"/write?edit=2",state:n,onClick:()=>(e=>{m("/write",{state:{currentUser:g,...e}})})(n),children:(0,Nr.jsx)("img",{src:AB,alt:"",className:"iconClass1"})})]}),(0,Nr.jsxs)("ul",{className:"list-group text-start mb-3 ms-5 w-75",children:[(0,Nr.jsxs)("li",{className:"list-group-item userClass text-danger",children:[(0,Nr.jsx)("span",{children:(0,Nr.jsx)("b",{children:"Aktivitetsstatus: "})}),n.status]}),(0,Nr.jsxs)("li",{className:"list-group-item userClass",children:[(0,Nr.jsx)("span",{children:(0,Nr.jsx)("b",{children:"Aktiviteten \xe4ger rum i: "})}),ri()(n.adminDate).format("LL")]}),(0,Nr.jsxs)("li",{className:"list-group-item userClass",children:[(0,Nr.jsx)("span",{children:(0,Nr.jsx)("b",{children:"Sista dag f\xf6r anm\xe4lan: "})}),ri()(n.deadline).format("LL")]}),(0,Nr.jsxs)("li",{className:"list-group-item userClass",children:[(0,Nr.jsx)("span",{children:(0,Nr.jsx)("b",{children:"Antal registrerade anv\xe4ndare: "})}),n.total]}),(0,Nr.jsxs)("li",{className:"list-group-item userClass",children:[(0,Nr.jsx)("span",{children:(0,Nr.jsx)("b",{children:"Pris: "})}),n.price]}),(0,Nr.jsxs)("li",{className:"list-group-item userClass",children:[(0,Nr.jsx)("span",{children:(0,Nr.jsx)("b",{children:"Totalt till\xe5tet antal att registrera: "})}),n.spots]})]}),(0,Nr.jsx)("h4",{className:"text-success",children:"Anv\xe4ndare registrerade i denna aktivitet"})]}),(0,Nr.jsx)("div",{className:"table-responsive",children:(0,Nr.jsxs)("table",{className:"table table-bordered mt-5",children:[(0,Nr.jsx)("thead",{children:(0,Nr.jsxs)("tr",{children:[(0,Nr.jsx)("th",{width:"10%",children:"Medlemsnr"}),(0,Nr.jsx)("th",{width:"20%",children:"Anv\xe4ndarnamn"}),(0,Nr.jsx)("th",{width:"30%",children:"F\xf6rnamn/Efternamn"}),(0,Nr.jsx)("th",{width:"30%",children:"e-post"}),(0,Nr.jsx)("th",{width:"10%",children:"Ta bort"})]})}),(0,Nr.jsx)("tbody",{children:0===o.length?(0,Nr.jsx)("tr",{children:(0,Nr.jsx)("td",{colSpan:"5",className:"text-center bg-dark",children:(0,Nr.jsx)("h5",{className:"text-warning mt-2",children:"Inga anv\xe4ndare registrerade"})})}):o.map((e=>(0,Nr.jsxs)("tr",{children:[(0,Nr.jsxs)("td",{width:"10%",children:["# ",e.membershipNo]}),(0,Nr.jsx)("td",{width:"20%",children:e.username}),(0,Nr.jsx)("td",{width:"30%",className:"text-start",children:(0,Nr.jsxs)("small",{children:[e.firstName," ",e.lastName]})}),(0,Nr.jsx)("td",{width:"30%",children:e.email}),(0,Nr.jsx)("td",{width:"10%",children:(0,Nr.jsx)(Dt,{to:"",onClick:()=>(async e=>{try{if(u(!0),!window.confirm("\xc4r du s\xe4ker p\xe5 att du vill avregistrera anv\xe4ndaren fr\xe5n denna aktivitet?"))return;const n=localStorage.getItem("accessToken"),r={Authorization:"Bearer ".concat(n)},i=t,o="".concat("https://jaktharry-app-130a026cb2e4.herokuapp.com","/api/users/delete/").concat(i,"/").concat(e);await Er.delete(o,{headers:r}),v()}catch(n){console.error("Error deleting user from activity:",n),u(!1)}})(e.id),children:(0,Nr.jsx)("img",{src:wB,alt:"delete",className:"iconClass2"})})})]},e.id)))})]})}),f&&(0,Nr.jsxs)("div",{className:"btnDiv",children:[(0,Nr.jsx)("label",{className:"form-label",htmlFor:"form1",children:(0,Nr.jsx)("strong",{children:"F\xf6r att registrera en ny anv\xe4ndare .. Ange medlemsnr"})}),"closed"===n.status&&(0,Nr.jsxs)("button",{className:"btnClass2",onClick:y,disabled:!0,children:[(0,Nr.jsx)("img",{src:kB,alt:"",className:"iconClass1"}),(0,Nr.jsx)("span",{children:"L\xe4gg till"})]}),"open"===n.status&&(0,Nr.jsxs)("div",{children:[(0,Nr.jsx)("input",{type:"text",value:d,onChange:e=>h(e.target.value),placeholder:"anv\xe4ndarmedlemsnr"}),(0,Nr.jsxs)("button",{className:"btn btn-dark btn-sm",onClick:y,children:[(0,Nr.jsx)("img",{src:kB,alt:"",className:"iconClass1"}),(0,Nr.jsx)("span",{children:"L\xe4gg till"})]})]})]})]})},wU=()=>{const[e,t]=(0,i.useState)([]);(0,i.useEffect)((()=>{(async()=>{try{const e="".concat("https://jaktharry-app-130a026cb2e4.herokuapp.com","/api/users"),n=await Er.get(e);t(n.data)}catch(e){console.error("Error fetching data:",e)}})()}),[]);const n=e=>{const t=ri()(),n=ri()(e);return t.diff(n,"minutes")<5?"Online":n.format("LLL")},r=[...e].sort(((e,t)=>{const r="Online"===n(e.lastActivity);return("Online"===n(t.lastActivity))-r}));return(0,Nr.jsx)("div",{className:"PostClass",children:(0,Nr.jsx)("div",{className:"table-responsive",children:(0,Nr.jsxs)("table",{className:"table table-bordered",children:[(0,Nr.jsx)("thead",{children:(0,Nr.jsxs)("tr",{children:[(0,Nr.jsx)("th",{width:"10%",children:"medlemsnr"}),(0,Nr.jsx)("th",{width:"20%",children:"Senaste aktivitet"}),(0,Nr.jsx)("th",{width:"20%",children:"Anv\xe4ndarnamn"}),(0,Nr.jsx)("th",{width:"30%",children:"F\xf6rnamn/Efternamn"}),(0,Nr.jsx)("th",{width:"20%",children:"e-post/Telefon"})]})}),(0,Nr.jsx)("tbody",{children:r.map(((e,t)=>(0,Nr.jsxs)("tr",{width:"5%",children:[(0,Nr.jsxs)("td",{width:"10%",children:["# ",e.membershipNo]}),(0,Nr.jsxs)("td",{width:"20%",children:["Online"===n(e.lastActivity)&&(0,Nr.jsx)("img",{src:EB,alt:"Online",style:{width:"12px",marginRight:"5px"}}),n(e.lastActivity)]}),(0,Nr.jsx)("td",{width:"20%",children:e.username}),(0,Nr.jsxs)("td",{width:"30%",children:[e.firstName," ",e.lastName]}),(0,Nr.jsxs)("td",{width:"20%",children:[(0,Nr.jsxs)("p",{className:"m-0",children:[e.email," "]}),(0,Nr.jsxs)("p",{className:"m-0 text-dark",children:["0",e.phone," "]})]})]},e.id)))})]})})})},AU=e=>{let{kretsar:t}=e;return(0,Nr.jsx)("div",{children:(0,Nr.jsx)("h5",{children:"sssssssssssss"})})},_U=()=>{const[e,t]=(0,i.useState)([]),[n,r]=(0,i.useState)(""),[o,s]=(0,i.useState)(null),[a,l]=(0,i.useState)(null),[c,u]=(0,i.useState)(!1),d=async e=>{if(u(!0),e)try{const n="".concat("https://jaktharry-app-130a026cb2e4.herokuapp.com","/api/comments/userComment/").concat(e),r=await Er.get(n);if(r.data){const e=r.data.sort(((e,t)=>new Date(t.date)-new Date(e.date)));t(e)}else console.log("No data found")}catch(n){console.error("Error fetching data:",n.response?n.response.data:n.message),window.alert("Ett fel uppstod vid h\xe4mtning av data. V\xe4nligen f\xf6rs\xf6k igen senare.")}finally{u(!1)}else u(!1)};(0,i.useEffect)((()=>{o&&d(o)}),[o]);const h=async()=>{try{const e="".concat("https://jaktharry-app-130a026cb2e4.herokuapp.com","/api/users/check?membershipNo=").concat(n),t=await Er.get(e);if(t.data.userExists){const e=t.data.result[0];s(e.id),l(e)}else window.confirm("Medlemsnumret hittades inte .. Verifiera medlemsnumret")}catch(e){console.error("Error searching for user:",e)}};return(0,Nr.jsxs)("div",{className:"PostClass PostClass8",children:[(0,Nr.jsx)("label",{className:"form-label labelClass",htmlFor:"form1",children:"Ange medlemsnr"}),(0,Nr.jsx)("input",{className:"inputClass",type:"search",value:n,onChange:e=>{r(e.target.value)},onKeyDown:e=>{"Enter"===e.key&&h()}}),(0,Nr.jsx)("button",{className:"btnClass",onClick:h,children:"S\xf6k"}),c&&(0,Nr.jsx)("p",{children:"Loading..."}),a&&(0,Nr.jsxs)("div",{className:"userInfo",children:[(0,Nr.jsxs)("p",{className:"text-start ps-5 mt-3",style:{fontSize:"13px"},children:[(0,Nr.jsx)("strong",{children:"Anv\xe4ndarnamn: "}),(0,Nr.jsxs)("span",{children:[" ","... ",a.firstName," ",a.lastName]})]}),(0,Nr.jsxs)("p",{className:"text-start ps-5",style:{fontSize:"13px"},children:[(0,Nr.jsx)("strong",{children:"E-post: "}),a.email]}),(0,Nr.jsxs)("p",{className:"text-start ps-5",style:{fontSize:"13px"},children:[(0,Nr.jsx)("strong",{children:"Telefon: "}),"0",a.phone]}),(0,Nr.jsxs)("p",{className:"text-start ps-5",style:{fontSize:"13px"},children:[(0,Nr.jsx)("strong",{children:"Medlemsnr: "}),"#",a.membershipNo]}),(0,Nr.jsxs)("h5",{children:[a.username," kommentarer"]})]}),!a&&(0,Nr.jsx)("div",{children:(0,Nr.jsx)("h5",{className:"my-3",children:"Anv\xe4ndarkommentarer"})}),(0,Nr.jsx)("div",{className:"table-responsive",children:(0,Nr.jsxs)("table",{className:"table table-bordered",children:[(0,Nr.jsx)("thead",{children:(0,Nr.jsxs)("tr",{children:[(0,Nr.jsx)("th",{width:"10%",children:"Post-id"}),(0,Nr.jsx)("th",{width:"20%",children:"Datum"}),(0,Nr.jsx)("th",{width:"40%",children:"Kommentarer"}),(0,Nr.jsx)("th",{width:"15%",children:"d\xf6lj/visa"}),(0,Nr.jsx)("th",{width:"10%",children:"Ta bort"})]})}),(0,Nr.jsx)("tbody",{children:e.map((e=>(0,Nr.jsxs)("tr",{children:[(0,Nr.jsx)("td",{width:"10%",children:e.postId}),(0,Nr.jsx)("td",{width:"20%",children:ri()(e.date).format("LL")}),(0,Nr.jsx)("td",{width:"40%",children:(0,Nr.jsx)("p",{className:"titleClass",children:e.comments})}),(0,Nr.jsxs)("td",{width:"15%",children:["show"===e.Visibility?(0,Nr.jsx)("span",{children:"syns "}):(0,Nr.jsx)("span",{children:"dold "}),(0,Nr.jsx)("span",{children:(0,Nr.jsxs)("select",{onChange:t=>(async(e,t)=>{"D\xf6lj"===t?t="hide":"Visa"===t&&(t="show");try{const n="".concat("https://jaktharry-app-130a026cb2e4.herokuapp.com","/api/comments/updateVisibility");await Er.put(n,{commentId:e,value:t}),o&&d(o)}catch(n){console.error("Error updating visibility status:",n.response?n.response.data:n.message),window.alert("Ett fel uppstod vid uppdatering av synlighet. V\xe4nligen f\xf6rs\xf6k igen senare.")}})(e.id,t.target.value),children:[(0,Nr.jsx)("option",{value:"D\xf6lj",children:"D\xf6lj"}),(0,Nr.jsx)("option",{value:"Visa",children:"Visa"})]})})]}),(0,Nr.jsx)("td",{width:"10%",children:(0,Nr.jsx)(Dt,{to:"",onClick:()=>(async e=>{try{if(!window.confirm("\xc4r du s\xe4ker p\xe5 att du vill radera denna kommentaren?"))return;const t=localStorage.getItem("accessToken"),n={Authorization:"Bearer ".concat(t)},r="".concat("https://jaktharry-app-130a026cb2e4.herokuapp.com","/api/comments/delete/").concat(e);await Er.delete(r,{headers:n}),d(o)}catch(t){console.error("Error deleting comment:",t)}})(e.id),children:(0,Nr.jsx)("img",{src:wB,alt:"delete",className:"iconClass2"})})})]},e.id)))})]})})]})},xU=()=>{const[e,t]=(0,i.useState)([]),[n,r]=(0,i.useState)(""),[o,s]=(0,i.useState)(null),[a,l]=(0,i.useState)(null),[c,u]=(0,i.useState)([]),[d,h]=(0,i.useState)("");(0,i.useEffect)((()=>{(async()=>{try{const e="".concat("https://jaktharry-app-130a026cb2e4.herokuapp.com","/api/posts?cat=aktiviteter"),n=(await Er.get(e)).data.sort(((e,t)=>new Date(t.date)-new Date(e.date)));return t(n),void u(n)}catch(e){console.error("Error fetching data:",e),s("Error fetching activities. Please try again later.")}})()}),[n]);const f=async()=>{try{const e=await Er.get("".concat("https://jaktharry-app-130a026cb2e4.herokuapp.com","/api/comments/get/").concat(n));if(h(e.data),c.length>0){const e=c.find((e=>e.postId.toString()===n));e&&l(e)}}catch(e){console.error("Error fetching users:",e),s("Error fetching users. Please try again later.")}};return(0,Nr.jsxs)("div",{className:"PostClass PostClass9",children:[(0,Nr.jsx)("h3",{className:"labelClass",htmlFor:"form1",children:"V\xe4lj aktivitetens namn"}),(0,Nr.jsxs)("select",{className:"inputClass",onChange:e=>{r(e.target.value)},children:[(0,Nr.jsx)("option",{children:"V\xe4lj en aktivitet"}),e.map(((e,t)=>(0,Nr.jsx)("option",{value:e.postId,children:e.title},t)))]}),(0,Nr.jsx)("button",{className:"btnClass",onClick:f,children:"S\xf6k"}),(0,Nr.jsxs)("div",{children:[o&&(0,Nr.jsxs)("p",{children:["Error: ",o]})," ",a&&(0,Nr.jsxs)("div",{className:"userInfo",children:[(0,Nr.jsxs)("p",{className:"text-start ps-3 mt-3",children:[(0,Nr.jsx)("strong",{children:"Aktivitetstitel: "}),(0,Nr.jsx)("br",{}),(0,Nr.jsx)("span",{className:"text-success ms-5",children:a.title})]}),(0,Nr.jsxs)("ul",{className:"list-group text-start mb-3 ms-5 w-75",children:[(0,Nr.jsxs)("li",{className:"list-group-item userClass text-danger",children:[(0,Nr.jsx)("span",{children:(0,Nr.jsx)("b",{children:"Aktivitetsstatus: "})}),a.status]}),(0,Nr.jsxs)("li",{className:"list-group-item userClass",children:[(0,Nr.jsx)("span",{children:(0,Nr.jsx)("b",{children:"Aktiviteten \xe4ger rum i: "})}),ri()(a.adminDate).format("LL")]}),(0,Nr.jsxs)("li",{className:"list-group-item userClass",children:[(0,Nr.jsx)("span",{children:(0,Nr.jsx)("b",{children:"Sista dag f\xf6r anm\xe4lan: "})}),ri()(a.deadline).format("LL")]}),(0,Nr.jsxs)("li",{className:"list-group-item userClass",children:[(0,Nr.jsx)("span",{children:(0,Nr.jsx)("b",{children:"Antal registrerade anv\xe4ndare: "})}),a.total]}),(0,Nr.jsxs)("li",{className:"list-group-item userClass",children:[(0,Nr.jsx)("span",{children:(0,Nr.jsx)("b",{children:"Pris: "})}),a.price]}),(0,Nr.jsxs)("li",{className:"list-group-item userClass",children:[(0,Nr.jsx)("span",{children:(0,Nr.jsx)("b",{children:"Totalt till\xe5tet antal att registrera: "})}),a.spots]})]}),(0,Nr.jsx)("h4",{className:"text-success",children:"Kommentarer till detta inl\xe4gg"})]}),!a&&(0,Nr.jsx)("div",{children:(0,Nr.jsx)("h5",{className:"my-3",children:"Kommentarer till detta inl\xe4gg"})})]}),(0,Nr.jsx)("div",{className:"table-responsive",children:(0,Nr.jsxs)("table",{className:"table table-bordered",children:[(0,Nr.jsx)("thead",{children:(0,Nr.jsxs)("tr",{children:[(0,Nr.jsx)("th",{width:"10%",children:"Medlemsnr"}),(0,Nr.jsx)("th",{width:"15%",children:"Datum"}),(0,Nr.jsx)("th",{width:"20%",children:"Anv\xe4ndarnamn"}),(0,Nr.jsx)("th",{width:"30%",children:"Kommentarer"}),(0,Nr.jsx)("th",{width:"15%",children:"d\xf6lj/visa"})]})}),d&&d.map(((e,t)=>(0,Nr.jsx)("tbody",{children:(0,Nr.jsxs)("tr",{children:[(0,Nr.jsxs)("td",{width:"10%",children:["#",e.membershipNo," "]}),(0,Nr.jsx)("td",{width:"15%",children:ri()(e.commentDate).calendar()}),(0,Nr.jsx)("td",{width:"20%",children:e.userName}),(0,Nr.jsx)("td",{width:"30%",className:"text-start",children:e.comments}),(0,Nr.jsxs)("td",{width:"15%",children:["show"===e.Visibility?(0,Nr.jsx)("span",{children:"syns "}):(0,Nr.jsx)("span",{children:"dold "}),(0,Nr.jsx)("span",{children:(0,Nr.jsxs)("select",{onChange:t=>(async(e,t)=>{"D\xf6lj"===t?t="hide":"Visa"===t&&(t="show");try{const n="".concat("https://jaktharry-app-130a026cb2e4.herokuapp.com","/api/comments/updateVisibility");await Er.put(n,{commentId:e,value:t}),f()}catch(o){console.error("Error updating visibility status:",o.response?o.response.data:o.message),window.alert("Ett fel uppstod vid uppdatering av synlighet. V\xe4nligen f\xf6rs\xf6k igen senare.")}})(e.id,t.target.value),children:[(0,Nr.jsx)("option",{value:"D\xf6lj",children:"D\xf6lj"}),(0,Nr.jsx)("option",{value:"Visa",children:"Visa"})]})})]})]})},e.id)))]})})]})},SU=()=>{const{currentUser:e}=(0,i.useContext)(Xr),[t,n]=(0,i.useState)({Krets1:"",Krets2:""}),[r,o]=(0,i.useState)({Activityid1:null,Activityid2:null,Activityid3:null}),s=e&&2===e.role;(0,i.useEffect)((()=>{s?a(e.id):window.location.href="/"}),[e,s]);const a=async e=>{try{const t="".concat("https://jaktharry-app-130a026cb2e4.herokuapp.com","/api/moderators/krestar/").concat(e),r=await Er.get(t);n(r.data);const i="".concat("https://jaktharry-app-130a026cb2e4.herokuapp.com","/api/moderators/activities/").concat(e),s=await Er.get(i);o(s.data)}catch(t){console.error("Error fetching moderator krestars:",t)}},l=[{id:"#link1",title:"INL\xc4GG"},{id:"#link2",title:t.Krets1||"Kretsar1",content:(0,Nr.jsx)(yU,{kretsar:t.Krets1})},{id:"#link3",title:t.Krets2||"Krets2 Ej specificerad",content:(0,Nr.jsx)(yU,{kretsar:t.Krets2})}],c=[{id:"#link4",title:"Aktiviteter"},{id:"#link5",title:"Aktivitet1 # ".concat(null!==r.Activityid1?r.Activityid1:"Ej specificerad"),content:(0,Nr.jsx)(bU,{activity:r.Activityid1})},{id:"#link6",title:"Aktivitet2 # ".concat(null!==r.Activityid2?r.Activityid2:"Ej specificerad"),content:(0,Nr.jsx)(bU,{activity:r.Activityid2})},{id:"#link7",title:"Aktivitet3 # ".concat(null!==r.Activityid3?r.Activityid3:"Ej specificerad"),content:(0,Nr.jsx)(bU,{activity:r.Activityid3})}],u=[{id:"#link8",title:"Anv\xe4ndarna"},{id:"#link9",title:"Alla anv\xe4ndare",content:(0,Nr.jsx)(wU,{})}],d=[{id:"#link10",title:"Interaktion"},{id:"#link11",title:"Mod meddelanden",content:(0,Nr.jsx)(AU,{})},{id:"#link12",title:"Anv\xe4ndarkommentarer",content:(0,Nr.jsx)(_U,{})},{id:"#link13",title:"Inl\xe4ggets kommentarer",content:(0,Nr.jsx)(xU,{})}],h=["#link1","#link4","#link8","#link10"];return(0,Nr.jsxs)(Fr,{className:"conLayout",children:[(0,Nr.jsx)("h1",{children:"Moderator Dashboard"}),(0,Nr.jsx)(mB.Container,{id:"list-group-tabs",defaultActiveKey:"#link1",children:(0,Nr.jsxs)(ca,{className:"rowClass",children:[(0,Nr.jsx)(da,{className:"col1Class",sm:3,children:(0,Nr.jsxs)(bB,{className:"groupClass",children:[l.map((e=>(0,Nr.jsx)(bB.Item,{className:"list-group-item list-group-item-success ".concat(h.includes(e.id)?"non-clickable":""),...h.includes(e.id)?{}:{action:!0,href:e.id},children:e.title},e.id))),c.map((e=>(0,Nr.jsx)(bB.Item,{className:"list-group-item list-group-item-secondary ".concat(h.includes(e.id)?"non-clickable":""),...h.includes(e.id)?{}:{action:!0,href:e.id},children:e.title},e.id))),u.map((e=>(0,Nr.jsx)(bB.Item,{className:"list-group-item list-group-item-warning ".concat(h.includes(e.id)?"non-clickable":""),...h.includes(e.id)?{}:{action:!0,href:e.id},children:e.title},e.id))),d.map((e=>(0,Nr.jsx)(bB.Item,{className:"list-group-item list-group-item-success ".concat(h.includes(e.id)?"non-clickable":""),...h.includes(e.id)?{}:{action:!0,href:e.id},children:e.title},e.id)))]})}),(0,Nr.jsx)(da,{className:"col2Class",sm:9,children:(0,Nr.jsxs)(mB.Content,{children:[l.map((e=>(0,Nr.jsx)(mB.Pane,{eventKey:e.id,children:e.content},e.id))),c.map((e=>(0,Nr.jsx)(mB.Pane,{eventKey:e.id,children:e.content},e.id))),u.map((e=>(0,Nr.jsx)(mB.Pane,{eventKey:e.id,children:e.content},e.id))),d.map((e=>(0,Nr.jsx)(mB.Pane,{eventKey:e.id,children:e.content},e.id)))]})})]})})]})},kU=()=>(0,Nr.jsx)(Nr.Fragment,{children:(0,Nr.jsxs)(yb,{children:[(0,Nr.jsx)(XM,{}),(0,Nr.jsx)(ct,{}),(0,Nr.jsx)(ta,{})]})}),EU=e=>{let{element:t,path:n}=e;const{currentUser:r}=(0,i.useContext)(Xr);return r?(0,Nr.jsx)(ht,{children:(0,Nr.jsx)(ut,{path:n,element:t})}):(0,Nr.jsx)(lt,{to:"/login"})},CU=(TU=[{path:"/",element:(0,Nr.jsx)(kU,{}),children:[{path:"/",element:(0,Nr.jsx)(mi,{})},{path:"/write",element:(0,Nr.jsx)(oi,{})},{path:"/post/:id/*",element:(0,Nr.jsx)($s,{})},{path:"/panel",element:(0,Nr.jsx)(vU,{})},{path:"/moderatorPanel",element:(0,Nr.jsx)(SU,{})},{path:"/profile",element:(0,Nr.jsx)(EU,{path:"/",element:(0,Nr.jsx)(fa,{})})},{path:"/messages",element:(0,Nr.jsx)(EU,{path:"/",element:(0,Nr.jsx)(gU,{})})},{path:"/update-password",element:(0,Nr.jsx)(EU,{path:"/",element:(0,Nr.jsx)(pa,{})})}]},{path:"/register",element:(0,Nr.jsx)(Jr,{})},{path:"/login",element:(0,Nr.jsx)($r,{})}],re({basename:null==NU?void 0:NU.basename,future:vt({},null==NU?void 0:NU.future,{v7_prependBasename:!0}),history:c({window:null==NU?void 0:NU.window}),hydrationData:(null==NU?void 0:NU.hydrationData)||wt(),routes:TU,mapRouteProperties:pt,window:null==NU?void 0:NU.window}).initialize());var TU,NU;const OU=function(){return(0,Nr.jsx)("div",{className:"app",children:(0,Nr.jsx)("div",{className:"container",children:(0,Nr.jsx)(Tt,{router:CU})})})};s.createRoot(document.getElementById("root")).render((0,Nr.jsx)(i.StrictMode,{children:(0,Nr.jsx)(Zr,{children:(0,Nr.jsx)(OU,{})})}))})()})();
//# sourceMappingURL=main.7b62ad69.js.map